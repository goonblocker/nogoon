var Bse=Object.defineProperty;var Lse=(t,e,r)=>e in t?Bse(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var qO=(t,e,r)=>Lse(t,typeof e!="symbol"?e+"":e,r);function Fse(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();var Zo=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ra(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function pq(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var o9={exports:{}},t1={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var HO;function zse(){if(HO)return t1;HO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var o in i)o!=="key"&&(s[o]=i[o])}else s=i;return i=s.ref,{$$typeof:t,type:n,key:a,ref:i!==void 0?i:null,props:s}}return t1.Fragment=e,t1.jsx=r,t1.jsxs=r,t1}var VO;function Wse(){return VO||(VO=1,o9.exports=zse()),o9.exports}var p=Wse(),l9={exports:{}},r1={},c9={exports:{}},u9={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var GO;function qse(){return GO||(GO=1,function(t){function e(N,D){var P=N.length;N.push(D);e:for(;0<P;){var R=P-1>>>1,j=N[R];if(0<i(j,D))N[R]=D,N[P]=j,P=R;else break e}}function r(N){return N.length===0?null:N[0]}function n(N){if(N.length===0)return null;var D=N[0],P=N.pop();if(P!==D){N[0]=P;e:for(var R=0,j=N.length,W=j>>>1;R<W;){var M=2*(R+1)-1,G=N[M],re=M+1,q=N[re];if(0>i(G,P))re<j&&0>i(q,G)?(N[R]=q,N[re]=P,R=re):(N[R]=G,N[M]=P,R=M);else if(re<j&&0>i(q,P))N[R]=q,N[re]=P,R=re;else break e}}return D}function i(N,D){var P=N.sortIndex-D.sortIndex;return P!==0?P:N.id-D.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],h=1,f=null,g=3,y=!1,b=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,E=typeof clearTimeout=="function"?clearTimeout:null,S=typeof setImmediate<"u"?setImmediate:null;function _(N){for(var D=r(u);D!==null;){if(D.callback===null)n(u);else if(D.startTime<=N)n(u),D.sortIndex=D.expirationTime,e(l,D);else break;D=r(u)}}function I(N){if(w=!1,_(N),!b)if(r(l)!==null)b=!0,C();else{var D=r(u);D!==null&&k(I,D.startTime-N)}}var A=!1,O=-1,F=5,H=-1;function L(){return!(t.unstable_now()-H<F)}function z(){if(A){var N=t.unstable_now();H=N;var D=!0;try{e:{b=!1,w&&(w=!1,E(O),O=-1),y=!0;var P=g;try{t:{for(_(N),f=r(l);f!==null&&!(f.expirationTime>N&&L());){var R=f.callback;if(typeof R=="function"){f.callback=null,g=f.priorityLevel;var j=R(f.expirationTime<=N);if(N=t.unstable_now(),typeof j=="function"){f.callback=j,_(N),D=!0;break t}f===r(l)&&n(l),_(N)}else n(l);f=r(l)}if(f!==null)D=!0;else{var W=r(u);W!==null&&k(I,W.startTime-N),D=!1}}break e}finally{f=null,g=P,y=!1}D=void 0}}finally{D?V():A=!1}}}var V;if(typeof S=="function")V=function(){S(z)};else if(typeof MessageChannel<"u"){var K=new MessageChannel,B=K.port2;K.port1.onmessage=z,V=function(){B.postMessage(null)}}else V=function(){x(z,0)};function C(){A||(A=!0,V())}function k(N,D){O=x(function(){N(t.unstable_now())},D)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(N){N.callback=null},t.unstable_continueExecution=function(){b||y||(b=!0,C())},t.unstable_forceFrameRate=function(N){0>N||125<N?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):F=0<N?Math.floor(1e3/N):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(N){switch(g){case 1:case 2:case 3:var D=3;break;default:D=g}var P=g;g=D;try{return N()}finally{g=P}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(N,D){switch(N){case 1:case 2:case 3:case 4:case 5:break;default:N=3}var P=g;g=N;try{return D()}finally{g=P}},t.unstable_scheduleCallback=function(N,D,P){var R=t.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?R+P:R):P=R,N){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=P+j,N={id:h++,callback:D,priorityLevel:N,startTime:P,expirationTime:j,sortIndex:-1},P>R?(N.sortIndex=P,e(u,N),r(l)===null&&N===r(u)&&(w?(E(O),O=-1):w=!0,k(I,P-R))):(N.sortIndex=j,e(l,N),b||y||(b=!0,C())),N},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(N){var D=g;return function(){var P=g;g=D;try{return N.apply(this,arguments)}finally{g=P}}}}(u9)),u9}var KO;function Hse(){return KO||(KO=1,c9.exports=qse()),c9.exports}var d9={exports:{}},tr={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var YO;function Vse(){if(YO)return tr;YO=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),f=Symbol.iterator;function g(j){return j===null||typeof j!="object"?null:(j=f&&j[f]||j["@@iterator"],typeof j=="function"?j:null)}var y={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function x(j,W,M){this.props=j,this.context=W,this.refs=w,this.updater=M||y}x.prototype.isReactComponent={},x.prototype.setState=function(j,W){if(typeof j!="object"&&typeof j!="function"&&j!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,j,W,"setState")},x.prototype.forceUpdate=function(j){this.updater.enqueueForceUpdate(this,j,"forceUpdate")};function E(){}E.prototype=x.prototype;function S(j,W,M){this.props=j,this.context=W,this.refs=w,this.updater=M||y}var _=S.prototype=new E;_.constructor=S,b(_,x.prototype),_.isPureReactComponent=!0;var I=Array.isArray,A={H:null,A:null,T:null,S:null},O=Object.prototype.hasOwnProperty;function F(j,W,M,G,re,q){return M=q.ref,{$$typeof:t,type:j,key:W,ref:M!==void 0?M:null,props:q}}function H(j,W){return F(j.type,W,void 0,void 0,void 0,j.props)}function L(j){return typeof j=="object"&&j!==null&&j.$$typeof===t}function z(j){var W={"=":"=0",":":"=2"};return"$"+j.replace(/[=:]/g,function(M){return W[M]})}var V=/\/+/g;function K(j,W){return typeof j=="object"&&j!==null&&j.key!=null?z(""+j.key):W.toString(36)}function B(){}function C(j){switch(j.status){case"fulfilled":return j.value;case"rejected":throw j.reason;default:switch(typeof j.status=="string"?j.then(B,B):(j.status="pending",j.then(function(W){j.status==="pending"&&(j.status="fulfilled",j.value=W)},function(W){j.status==="pending"&&(j.status="rejected",j.reason=W)})),j.status){case"fulfilled":return j.value;case"rejected":throw j.reason}}throw j}function k(j,W,M,G,re){var q=typeof j;(q==="undefined"||q==="boolean")&&(j=null);var X=!1;if(j===null)X=!0;else switch(q){case"bigint":case"string":case"number":X=!0;break;case"object":switch(j.$$typeof){case t:case e:X=!0;break;case h:return X=j._init,k(X(j._payload),W,M,G,re)}}if(X)return re=re(j),X=G===""?"."+K(j,0):G,I(re)?(M="",X!=null&&(M=X.replace(V,"$&/")+"/"),k(re,W,M,"",function(ce){return ce})):re!=null&&(L(re)&&(re=H(re,M+(re.key==null||j&&j.key===re.key?"":(""+re.key).replace(V,"$&/")+"/")+X)),W.push(re)),1;X=0;var ne=G===""?".":G+":";if(I(j))for(var ee=0;ee<j.length;ee++)G=j[ee],q=ne+K(G,ee),X+=k(G,W,M,q,re);else if(ee=g(j),typeof ee=="function")for(j=ee.call(j),ee=0;!(G=j.next()).done;)G=G.value,q=ne+K(G,ee++),X+=k(G,W,M,q,re);else if(q==="object"){if(typeof j.then=="function")return k(C(j),W,M,G,re);throw W=String(j),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(j).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.")}return X}function N(j,W,M){if(j==null)return j;var G=[],re=0;return k(j,G,"","",function(q){return W.call(M,q,re++)}),G}function D(j){if(j._status===-1){var W=j._result;W=W(),W.then(function(M){(j._status===0||j._status===-1)&&(j._status=1,j._result=M)},function(M){(j._status===0||j._status===-1)&&(j._status=2,j._result=M)}),j._status===-1&&(j._status=0,j._result=W)}if(j._status===1)return j._result.default;throw j._result}var P=typeof reportError=="function"?reportError:function(j){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var W=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof j=="object"&&j!==null&&typeof j.message=="string"?String(j.message):String(j),error:j});if(!window.dispatchEvent(W))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",j);return}console.error(j)};function R(){}return tr.Children={map:N,forEach:function(j,W,M){N(j,function(){W.apply(this,arguments)},M)},count:function(j){var W=0;return N(j,function(){W++}),W},toArray:function(j){return N(j,function(W){return W})||[]},only:function(j){if(!L(j))throw Error("React.Children.only expected to receive a single React element child.");return j}},tr.Component=x,tr.Fragment=r,tr.Profiler=i,tr.PureComponent=S,tr.StrictMode=n,tr.Suspense=l,tr.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=A,tr.act=function(){throw Error("act(...) is not supported in production builds of React.")},tr.cache=function(j){return function(){return j.apply(null,arguments)}},tr.cloneElement=function(j,W,M){if(j==null)throw Error("The argument must be a React element, but you passed "+j+".");var G=b({},j.props),re=j.key,q=void 0;if(W!=null)for(X in W.ref!==void 0&&(q=void 0),W.key!==void 0&&(re=""+W.key),W)!O.call(W,X)||X==="key"||X==="__self"||X==="__source"||X==="ref"&&W.ref===void 0||(G[X]=W[X]);var X=arguments.length-2;if(X===1)G.children=M;else if(1<X){for(var ne=Array(X),ee=0;ee<X;ee++)ne[ee]=arguments[ee+2];G.children=ne}return F(j.type,re,void 0,void 0,q,G)},tr.createContext=function(j){return j={$$typeof:a,_currentValue:j,_currentValue2:j,_threadCount:0,Provider:null,Consumer:null},j.Provider=j,j.Consumer={$$typeof:s,_context:j},j},tr.createElement=function(j,W,M){var G,re={},q=null;if(W!=null)for(G in W.key!==void 0&&(q=""+W.key),W)O.call(W,G)&&G!=="key"&&G!=="__self"&&G!=="__source"&&(re[G]=W[G]);var X=arguments.length-2;if(X===1)re.children=M;else if(1<X){for(var ne=Array(X),ee=0;ee<X;ee++)ne[ee]=arguments[ee+2];re.children=ne}if(j&&j.defaultProps)for(G in X=j.defaultProps,X)re[G]===void 0&&(re[G]=X[G]);return F(j,q,void 0,void 0,null,re)},tr.createRef=function(){return{current:null}},tr.forwardRef=function(j){return{$$typeof:o,render:j}},tr.isValidElement=L,tr.lazy=function(j){return{$$typeof:h,_payload:{_status:-1,_result:j},_init:D}},tr.memo=function(j,W){return{$$typeof:u,type:j,compare:W===void 0?null:W}},tr.startTransition=function(j){var W=A.T,M={};A.T=M;try{var G=j(),re=A.S;re!==null&&re(M,G),typeof G=="object"&&G!==null&&typeof G.then=="function"&&G.then(R,P)}catch(q){P(q)}finally{A.T=W}},tr.unstable_useCacheRefresh=function(){return A.H.useCacheRefresh()},tr.use=function(j){return A.H.use(j)},tr.useActionState=function(j,W,M){return A.H.useActionState(j,W,M)},tr.useCallback=function(j,W){return A.H.useCallback(j,W)},tr.useContext=function(j){return A.H.useContext(j)},tr.useDebugValue=function(){},tr.useDeferredValue=function(j,W){return A.H.useDeferredValue(j,W)},tr.useEffect=function(j,W){return A.H.useEffect(j,W)},tr.useId=function(){return A.H.useId()},tr.useImperativeHandle=function(j,W,M){return A.H.useImperativeHandle(j,W,M)},tr.useInsertionEffect=function(j,W){return A.H.useInsertionEffect(j,W)},tr.useLayoutEffect=function(j,W){return A.H.useLayoutEffect(j,W)},tr.useMemo=function(j,W){return A.H.useMemo(j,W)},tr.useOptimistic=function(j,W){return A.H.useOptimistic(j,W)},tr.useReducer=function(j,W,M){return A.H.useReducer(j,W,M)},tr.useRef=function(j){return A.H.useRef(j)},tr.useState=function(j){return A.H.useState(j)},tr.useSyncExternalStore=function(j,W,M){return A.H.useSyncExternalStore(j,W,M)},tr.useTransition=function(){return A.H.useTransition()},tr.version="19.0.0",tr}var ZO;function tb(){return ZO||(ZO=1,d9.exports=Vse()),d9.exports}var h9={exports:{}},Qi={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var QO;function Gse(){if(QO)return Qi;QO=1;var t=tb();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var h=2;h<arguments.length;h++)u+="&args[]="+encodeURIComponent(arguments[h])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(l,u,h){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:f==null?null:""+f,children:l,containerInfo:u,implementation:h}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return Qi.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,Qi.createPortal=function(l,u){var h=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(l,u,null,h)},Qi.flushSync=function(l){var u=a.T,h=n.p;try{if(a.T=null,n.p=2,l)return l()}finally{a.T=u,n.p=h,n.d.f()}},Qi.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(l,u))},Qi.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},Qi.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var h=u.as,f=o(h,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,y=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;h==="style"?n.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:g,fetchPriority:y}):h==="script"&&n.d.X(l,{crossOrigin:f,integrity:g,fetchPriority:y,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},Qi.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var h=o(u.as,u.crossOrigin);n.d.M(l,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(l)},Qi.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var h=u.as,f=o(h,u.crossOrigin);n.d.L(l,h,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},Qi.preloadModule=function(l,u){if(typeof l=="string")if(u){var h=o(u.as,u.crossOrigin);n.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(l)},Qi.requestFormReset=function(l){n.d.r(l)},Qi.unstable_batchedUpdates=function(l,u){return l(u)},Qi.useFormState=function(l,u,h){return a.H.useFormState(l,u,h)},Qi.useFormStatus=function(){return a.H.useHostTransitionStatus()},Qi.version="19.0.0",Qi}var XO;function gq(){if(XO)return h9.exports;XO=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),h9.exports=Gse(),h9.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JO;function Kse(){if(JO)return r1;JO=1;var t=Hse(),e=tb(),r=gq();function n(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var m=2;m<arguments.length;m++)d+="&args[]="+encodeURIComponent(arguments[m])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}var s=Symbol.for("react.element"),a=Symbol.for("react.transitional.element"),o=Symbol.for("react.portal"),l=Symbol.for("react.fragment"),u=Symbol.for("react.strict_mode"),h=Symbol.for("react.profiler"),f=Symbol.for("react.provider"),g=Symbol.for("react.consumer"),y=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),w=Symbol.for("react.suspense"),x=Symbol.for("react.suspense_list"),E=Symbol.for("react.memo"),S=Symbol.for("react.lazy"),_=Symbol.for("react.offscreen"),I=Symbol.for("react.memo_cache_sentinel"),A=Symbol.iterator;function O(c){return c===null||typeof c!="object"?null:(c=A&&c[A]||c["@@iterator"],typeof c=="function"?c:null)}var F=Symbol.for("react.client.reference");function H(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===F?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case l:return"Fragment";case o:return"Portal";case h:return"Profiler";case u:return"StrictMode";case w:return"Suspense";case x:return"SuspenseList"}if(typeof c=="object")switch(c.$$typeof){case y:return(c.displayName||"Context")+".Provider";case g:return(c._context.displayName||"Context")+".Consumer";case b:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case E:return d=c.displayName||null,d!==null?d:H(c.type)||"Memo";case S:d=c._payload,c=c._init;try{return H(c(d))}catch{}}return null}var L=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,z=Object.assign,V,K;function B(c){if(V===void 0)try{throw Error()}catch(m){var d=m.stack.trim().match(/\n( *(at )?)/);V=d&&d[1]||"",K=-1<m.stack.indexOf(`
    at`)?" (<anonymous>)":-1<m.stack.indexOf("@")?"@unknown:0:0":""}return`
`+V+c+K}var C=!1;function k(c,d){if(!c||C)return"";C=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var v={DetermineComponentFrameRoot:function(){try{if(d){var He=function(){throw Error()};if(Object.defineProperty(He.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(He,[])}catch(Re){var Se=Re}Reflect.construct(c,[],He)}else{try{He.call()}catch(Re){Se=Re}c.call(He.prototype)}}else{try{throw Error()}catch(Re){Se=Re}(He=c())&&typeof He.catch=="function"&&He.catch(function(){})}}catch(Re){if(Re&&Se&&typeof Re.stack=="string")return[Re.stack,Se.stack]}return[null,null]}};v.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(v.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(v.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var U=v.DetermineComponentFrameRoot(),Z=U[0],J=U[1];if(Z&&J){var ae=Z.split(`
`),me=J.split(`
`);for(T=v=0;v<ae.length&&!ae[v].includes("DetermineComponentFrameRoot");)v++;for(;T<me.length&&!me[T].includes("DetermineComponentFrameRoot");)T++;if(v===ae.length||T===me.length)for(v=ae.length-1,T=me.length-1;1<=v&&0<=T&&ae[v]!==me[T];)T--;for(;1<=v&&0<=T;v--,T--)if(ae[v]!==me[T]){if(v!==1||T!==1)do if(v--,T--,0>T||ae[v]!==me[T]){var De=`
`+ae[v].replace(" at new "," at ");return c.displayName&&De.includes("<anonymous>")&&(De=De.replace("<anonymous>",c.displayName)),De}while(1<=v&&0<=T);break}}}finally{C=!1,Error.prepareStackTrace=m}return(m=c?c.displayName||c.name:"")?B(m):""}function N(c){switch(c.tag){case 26:case 27:case 5:return B(c.type);case 16:return B("Lazy");case 13:return B("Suspense");case 19:return B("SuspenseList");case 0:case 15:return c=k(c.type,!1),c;case 11:return c=k(c.type.render,!1),c;case 1:return c=k(c.type,!0),c;default:return""}}function D(c){try{var d="";do d+=N(c),c=c.return;while(c);return d}catch(m){return`
Error generating stack: `+m.message+`
`+m.stack}}function P(c){var d=c,m=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,d.flags&4098&&(m=d.return),c=d.return;while(c)}return d.tag===3?m:null}function R(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function j(c){if(P(c)!==c)throw Error(n(188))}function W(c){var d=c.alternate;if(!d){if(d=P(c),d===null)throw Error(n(188));return d!==c?null:c}for(var m=c,v=d;;){var T=m.return;if(T===null)break;var U=T.alternate;if(U===null){if(v=T.return,v!==null){m=v;continue}break}if(T.child===U.child){for(U=T.child;U;){if(U===m)return j(T),c;if(U===v)return j(T),d;U=U.sibling}throw Error(n(188))}if(m.return!==v.return)m=T,v=U;else{for(var Z=!1,J=T.child;J;){if(J===m){Z=!0,m=T,v=U;break}if(J===v){Z=!0,v=T,m=U;break}J=J.sibling}if(!Z){for(J=U.child;J;){if(J===m){Z=!0,m=U,v=T;break}if(J===v){Z=!0,v=U,m=T;break}J=J.sibling}if(!Z)throw Error(n(189))}}if(m.alternate!==v)throw Error(n(190))}if(m.tag!==3)throw Error(n(188));return m.stateNode.current===m?c:d}function M(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c;for(c=c.child;c!==null;){if(d=M(c),d!==null)return d;c=c.sibling}return null}var G=Array.isArray,re=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,q={pending:!1,data:null,method:null,action:null},X=[],ne=-1;function ee(c){return{current:c}}function ce(c){0>ne||(c.current=X[ne],X[ne]=null,ne--)}function be(c,d){ne++,X[ne]=c.current,c.current=d}var ve=ee(null),ge=ee(null),Ee=ee(null),ye=ee(null);function $e(c,d){switch(be(Ee,d),be(ge,c),be(ve,null),c=d.nodeType,c){case 9:case 11:d=(d=d.documentElement)&&(d=d.namespaceURI)?wO(d):0;break;default:if(c=c===8?d.parentNode:d,d=c.tagName,c=c.namespaceURI)c=wO(c),d=vO(c,d);else switch(d){case"svg":d=1;break;case"math":d=2;break;default:d=0}}ce(ve),be(ve,d)}function we(){ce(ve),ce(ge),ce(Ee)}function qe(c){c.memoizedState!==null&&be(ye,c);var d=ve.current,m=vO(d,c.type);d!==m&&(be(ge,c),be(ve,m))}function Ge(c){ge.current===c&&(ce(ve),ce(ge)),ye.current===c&&(ce(ye),Zm._currentValue=q)}var Ae=Object.prototype.hasOwnProperty,je=t.unstable_scheduleCallback,gt=t.unstable_cancelCallback,Qt=t.unstable_shouldYield,Ie=t.unstable_requestPaint,pt=t.unstable_now,Ze=t.unstable_getCurrentPriorityLevel,ht=t.unstable_ImmediatePriority,bt=t.unstable_UserBlockingPriority,jt=t.unstable_NormalPriority,yt=t.unstable_LowPriority,Dt=t.unstable_IdlePriority,Qe=t.log,Be=t.unstable_setDisableYieldValue,Me=null,Xe=null;function vt(c){if(Xe&&typeof Xe.onCommitFiberRoot=="function")try{Xe.onCommitFiberRoot(Me,c,void 0,(c.current.flags&128)===128)}catch{}}function st(c){if(typeof Qe=="function"&&Be(c),Xe&&typeof Xe.setStrictMode=="function")try{Xe.setStrictMode(Me,c)}catch{}}var ct=Math.clz32?Math.clz32:Jt,We=Math.log,St=Math.LN2;function Jt(c){return c>>>=0,c===0?32:31-(We(c)/St|0)|0}var Nt=128,Le=4194304;function gr(c){var d=c&42;if(d!==0)return d;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return c&4194176;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Kt(c,d){var m=c.pendingLanes;if(m===0)return 0;var v=0,T=c.suspendedLanes,U=c.pingedLanes,Z=c.warmLanes;c=c.finishedLanes!==0;var J=m&134217727;return J!==0?(m=J&~T,m!==0?v=gr(m):(U&=J,U!==0?v=gr(U):c||(Z=J&~Z,Z!==0&&(v=gr(Z))))):(J=m&~T,J!==0?v=gr(J):U!==0?v=gr(U):c||(Z=m&~Z,Z!==0&&(v=gr(Z)))),v===0?0:d!==0&&d!==v&&!(d&T)&&(T=v&-v,Z=d&-d,T>=Z||T===32&&(Z&4194176)!==0)?d:v}function Vt(c,d){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&d)===0}function Un(c,d){switch(c){case 1:case 2:case 4:case 8:return d+250;case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Y(){var c=Nt;return Nt<<=1,!(Nt&4194176)&&(Nt=128),c}function Q(){var c=Le;return Le<<=1,!(Le&62914560)&&(Le=4194304),c}function oe(c){for(var d=[],m=0;31>m;m++)d.push(c);return d}function ie(c,d){c.pendingLanes|=d,d!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function le(c,d,m,v,T,U){var Z=c.pendingLanes;c.pendingLanes=m,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=m,c.entangledLanes&=m,c.errorRecoveryDisabledLanes&=m,c.shellSuspendCounter=0;var J=c.entanglements,ae=c.expirationTimes,me=c.hiddenUpdates;for(m=Z&~m;0<m;){var De=31-ct(m),He=1<<De;J[De]=0,ae[De]=-1;var Se=me[De];if(Se!==null)for(me[De]=null,De=0;De<Se.length;De++){var Re=Se[De];Re!==null&&(Re.lane&=-536870913)}m&=~He}v!==0&&pe(c,v,0),U!==0&&T===0&&c.tag!==0&&(c.suspendedLanes|=U&~(Z&~d))}function pe(c,d,m){c.pendingLanes|=d,c.suspendedLanes&=~d;var v=31-ct(d);c.entangledLanes|=d,c.entanglements[v]=c.entanglements[v]|1073741824|m&4194218}function Te(c,d){var m=c.entangledLanes|=d;for(c=c.entanglements;m;){var v=31-ct(m),T=1<<v;T&d|c[v]&d&&(c[v]|=d),m&=~T}}function Ne(c){return c&=-c,2<c?8<c?c&134217727?32:268435456:8:2}function Tt(){var c=re.p;return c!==0?c:(c=window.event,c===void 0?32:UO(c.type))}function mt(c,d){var m=re.p;try{return re.p=c,d()}finally{re.p=m}}var ut=Math.random().toString(36).slice(2),At="__reactFiber$"+ut,Ue="__reactProps$"+ut,tt="__reactContainer$"+ut,Je="__reactEvents$"+ut,at="__reactListeners$"+ut,ot="__reactHandles$"+ut,qt="__reactResources$"+ut,er="__reactMarker$"+ut;function Rt(c){delete c[At],delete c[Ue],delete c[Je],delete c[at],delete c[ot]}function kt(c){var d=c[At];if(d)return d;for(var m=c.parentNode;m;){if(d=m[tt]||m[At]){if(m=d.alternate,d.child!==null||m!==null&&m.child!==null)for(c=_O(c);c!==null;){if(m=c[At])return m;c=_O(c)}return d}c=m,m=c.parentNode}return null}function zt(c){if(c=c[At]||c[tt]){var d=c.tag;if(d===5||d===6||d===13||d===26||d===27||d===3)return c}return null}function jr(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c.stateNode;throw Error(n(33))}function $n(c){var d=c[qt];return d||(d=c[qt]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function Et(c){c[er]=!0}var Dr=new Set,Wt={};function vr(c,d){tn(c,d),tn(c+"Capture",d)}function tn(c,d){for(Wt[c]=d,c=0;c<d.length;c++)Dr.add(d[c])}var wn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ni=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),_l={},Cl={};function hh(c){return Ae.call(Cl,c)?!0:Ae.call(_l,c)?!1:Ni.test(c)?Cl[c]=!0:(_l[c]=!0,!1)}function Al(c,d,m){if(hh(d))if(m===null)c.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":c.removeAttribute(d);return;case"boolean":var v=d.toLowerCase().slice(0,5);if(v!=="data-"&&v!=="aria-"){c.removeAttribute(d);return}}c.setAttribute(d,""+m)}}function Sl(c,d,m){if(m===null)c.removeAttribute(d);else{switch(typeof m){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(d);return}c.setAttribute(d,""+m)}}function Oo(c,d,m,v){if(v===null)c.removeAttribute(m);else{switch(typeof v){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(m);return}c.setAttributeNS(d,m,""+v)}}function Ps(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Kb(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function cx(c){var d=Kb(c)?"checked":"value",m=Object.getOwnPropertyDescriptor(c.constructor.prototype,d),v=""+c[d];if(!c.hasOwnProperty(d)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var T=m.get,U=m.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return T.call(this)},set:function(Z){v=""+Z,U.call(this,Z)}}),Object.defineProperty(c,d,{enumerable:m.enumerable}),{getValue:function(){return v},setValue:function(Z){v=""+Z},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function hp(c){c._valueTracker||(c._valueTracker=cx(c))}function Yb(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var m=d.getValue(),v="";return c&&(v=Kb(c)?c.checked?"true":"false":c.value),c=v,c!==m?(d.setValue(c),!0):!1}function fp(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var ux=/[\n"\\]/g;function Os(c){return c.replace(ux,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function om(c,d,m,v,T,U,Z,J){c.name="",Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"?c.type=Z:c.removeAttribute("type"),d!=null?Z==="number"?(d===0&&c.value===""||c.value!=d)&&(c.value=""+Ps(d)):c.value!==""+Ps(d)&&(c.value=""+Ps(d)):Z!=="submit"&&Z!=="reset"||c.removeAttribute("value"),d!=null?lm(c,Z,Ps(d)):m!=null?lm(c,Z,Ps(m)):v!=null&&c.removeAttribute("value"),T==null&&U!=null&&(c.defaultChecked=!!U),T!=null&&(c.checked=T&&typeof T!="function"&&typeof T!="symbol"),J!=null&&typeof J!="function"&&typeof J!="symbol"&&typeof J!="boolean"?c.name=""+Ps(J):c.removeAttribute("name")}function Zb(c,d,m,v,T,U,Z,J){if(U!=null&&typeof U!="function"&&typeof U!="symbol"&&typeof U!="boolean"&&(c.type=U),d!=null||m!=null){if(!(U!=="submit"&&U!=="reset"||d!=null))return;m=m!=null?""+Ps(m):"",d=d!=null?""+Ps(d):m,J||d===c.value||(c.value=d),c.defaultValue=d}v=v??T,v=typeof v!="function"&&typeof v!="symbol"&&!!v,c.checked=J?c.checked:!!v,c.defaultChecked=!!v,Z!=null&&typeof Z!="function"&&typeof Z!="symbol"&&typeof Z!="boolean"&&(c.name=Z)}function lm(c,d,m){d==="number"&&fp(c.ownerDocument)===c||c.defaultValue===""+m||(c.defaultValue=""+m)}function ju(c,d,m,v){if(c=c.options,d){d={};for(var T=0;T<m.length;T++)d["$"+m[T]]=!0;for(m=0;m<c.length;m++)T=d.hasOwnProperty("$"+c[m].value),c[m].selected!==T&&(c[m].selected=T),T&&v&&(c[m].defaultSelected=!0)}else{for(m=""+Ps(m),d=null,T=0;T<c.length;T++){if(c[T].value===m){c[T].selected=!0,v&&(c[T].defaultSelected=!0);return}d!==null||c[T].disabled||(d=c[T])}d!==null&&(d.selected=!0)}}function Qb(c,d,m){if(d!=null&&(d=""+Ps(d),d!==c.value&&(c.value=d),m==null)){c.defaultValue!==d&&(c.defaultValue=d);return}c.defaultValue=m!=null?""+Ps(m):""}function Xb(c,d,m,v){if(d==null){if(v!=null){if(m!=null)throw Error(n(92));if(G(v)){if(1<v.length)throw Error(n(93));v=v[0]}m=v}m==null&&(m=""),d=m}m=Ps(d),c.defaultValue=m,v=c.textContent,v===m&&v!==""&&v!==null&&(c.value=v)}function Du(c,d){if(d){var m=c.firstChild;if(m&&m===c.lastChild&&m.nodeType===3){m.nodeValue=d;return}}c.textContent=d}var dx=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Jb(c,d,m){var v=d.indexOf("--")===0;m==null||typeof m=="boolean"||m===""?v?c.setProperty(d,""):d==="float"?c.cssFloat="":c[d]="":v?c.setProperty(d,m):typeof m!="number"||m===0||dx.has(d)?d==="float"?c.cssFloat=m:c[d]=(""+m).trim():c[d]=m+"px"}function ew(c,d,m){if(d!=null&&typeof d!="object")throw Error(n(62));if(c=c.style,m!=null){for(var v in m)!m.hasOwnProperty(v)||d!=null&&d.hasOwnProperty(v)||(v.indexOf("--")===0?c.setProperty(v,""):v==="float"?c.cssFloat="":c[v]="");for(var T in d)v=d[T],d.hasOwnProperty(T)&&m[T]!==v&&Jb(c,T,v)}else for(var U in d)d.hasOwnProperty(U)&&Jb(c,U,d[U])}function cm(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hx=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),fx=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function pp(c){return fx.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}var um=null;function dm(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Uu=null,Bu=null;function tw(c){var d=zt(c);if(d&&(c=d.stateNode)){var m=c[Ue]||null;e:switch(c=d.stateNode,d.type){case"input":if(om(c,m.value,m.defaultValue,m.defaultValue,m.checked,m.defaultChecked,m.type,m.name),d=m.name,m.type==="radio"&&d!=null){for(m=c;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll('input[name="'+Os(""+d)+'"][type="radio"]'),d=0;d<m.length;d++){var v=m[d];if(v!==c&&v.form===c.form){var T=v[Ue]||null;if(!T)throw Error(n(90));om(v,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(d=0;d<m.length;d++)v=m[d],v.form===c.form&&Yb(v)}break e;case"textarea":Qb(c,m.value,m.defaultValue);break e;case"select":d=m.value,d!=null&&ju(c,!!m.multiple,d,!1)}}}var hm=!1;function rw(c,d,m){if(hm)return c(d,m);hm=!0;try{var v=c(d);return v}finally{if(hm=!1,(Uu!==null||Bu!==null)&&(Mw(),Uu&&(d=Uu,c=Bu,Bu=Uu=null,tw(d),c)))for(d=0;d<c.length;d++)tw(c[d])}}function fh(c,d){var m=c.stateNode;if(m===null)return null;var v=m[Ue]||null;if(v===null)return null;m=v[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(c=c.type,v=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!v;break e;default:c=!1}if(c)return null;if(m&&typeof m!="function")throw Error(n(231,d,typeof m));return m}var fm=!1;if(wn)try{var Lu={};Object.defineProperty(Lu,"passive",{get:function(){fm=!0}}),window.addEventListener("test",Lu,Lu),window.removeEventListener("test",Lu,Lu)}catch{fm=!1}var kl=null,_e=null,se=null;function de(){if(se)return se;var c,d=_e,m=d.length,v,T="value"in kl?kl.value:kl.textContent,U=T.length;for(c=0;c<m&&d[c]===T[c];c++);var Z=m-c;for(v=1;v<=Z&&d[m-v]===T[U-v];v++);return se=T.slice(c,1<v?1-v:void 0)}function Pe(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function Ve(){return!0}function sr(){return!1}function xr(c){function d(m,v,T,U,Z){this._reactName=m,this._targetInst=T,this.type=v,this.nativeEvent=U,this.target=Z,this.currentTarget=null;for(var J in c)c.hasOwnProperty(J)&&(m=c[J],this[J]=m?m(U):U[J]);return this.isDefaultPrevented=(U.defaultPrevented!=null?U.defaultPrevented:U.returnValue===!1)?Ve:sr,this.isPropagationStopped=sr,this}return z(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=Ve)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=Ve)},persist:function(){},isPersistent:Ve}),d}var Tn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ec=xr(Tn),ph=z({},Tn,{view:0,detail:0}),px=xr(ph),gp,mp,Fu,gh=z({},ph,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:mx,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Fu&&(Fu&&c.type==="mousemove"?(gp=c.screenX-Fu.screenX,mp=c.screenY-Fu.screenY):mp=gp=0,Fu=c),gp)},movementY:function(c){return"movementY"in c?c.movementY:mp}}),OI=xr(gh),Lne=z({},gh,{dataTransfer:0}),Fne=xr(Lne),zne=z({},ph,{relatedTarget:0}),gx=xr(zne),Wne=z({},Tn,{animationName:0,elapsedTime:0,pseudoElement:0}),qne=xr(Wne),Hne=z({},Tn,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Vne=xr(Hne),Gne=z({},Tn,{data:0}),MI=xr(Gne),Kne={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Yne={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Zne={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Qne(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=Zne[c])?!!d[c]:!1}function mx(){return Qne}var Xne=z({},ph,{key:function(c){if(c.key){var d=Kne[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=Pe(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Yne[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:mx,charCode:function(c){return c.type==="keypress"?Pe(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Pe(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Jne=xr(Xne),eie=z({},gh,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),RI=xr(eie),tie=z({},ph,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:mx}),rie=xr(tie),nie=z({},Tn,{propertyName:0,elapsedTime:0,pseudoElement:0}),iie=xr(nie),sie=z({},gh,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),aie=xr(sie),oie=z({},Tn,{newState:0,oldState:0}),lie=xr(oie),cie=[9,13,27,32],yx=wn&&"CompositionEvent"in window,pm=null;wn&&"documentMode"in document&&(pm=document.documentMode);var uie=wn&&"TextEvent"in window&&!pm,jI=wn&&(!yx||pm&&8<pm&&11>=pm),DI=" ",UI=!1;function BI(c,d){switch(c){case"keyup":return cie.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function LI(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var yp=!1;function die(c,d){switch(c){case"compositionend":return LI(d);case"keypress":return d.which!==32?null:(UI=!0,DI);case"textInput":return c=d.data,c===DI&&UI?null:c;default:return null}}function hie(c,d){if(yp)return c==="compositionend"||!yx&&BI(c,d)?(c=de(),se=_e=kl=null,yp=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return jI&&d.locale!=="ko"?null:d.data;default:return null}}var fie={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function FI(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!fie[c.type]:d==="textarea"}function zI(c,d,m,v){Uu?Bu?Bu.push(v):Bu=[v]:Uu=v,d=Bw(d,"onChange"),0<d.length&&(m=new Ec("onChange","change",null,m,v),c.push({event:m,listeners:d}))}var gm=null,mm=null;function pie(c){pO(c,0)}function nw(c){var d=jr(c);if(Yb(d))return c}function WI(c,d){if(c==="change")return d}var qI=!1;if(wn){var bx;if(wn){var wx="oninput"in document;if(!wx){var HI=document.createElement("div");HI.setAttribute("oninput","return;"),wx=typeof HI.oninput=="function"}bx=wx}else bx=!1;qI=bx&&(!document.documentMode||9<document.documentMode)}function VI(){gm&&(gm.detachEvent("onpropertychange",GI),mm=gm=null)}function GI(c){if(c.propertyName==="value"&&nw(mm)){var d=[];zI(d,mm,c,dm(c)),rw(pie,d)}}function gie(c,d,m){c==="focusin"?(VI(),gm=d,mm=m,gm.attachEvent("onpropertychange",GI)):c==="focusout"&&VI()}function mie(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return nw(mm)}function yie(c,d){if(c==="click")return nw(d)}function bie(c,d){if(c==="input"||c==="change")return nw(d)}function wie(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var ua=typeof Object.is=="function"?Object.is:wie;function ym(c,d){if(ua(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var m=Object.keys(c),v=Object.keys(d);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var T=m[v];if(!Ae.call(d,T)||!ua(c[T],d[T]))return!1}return!0}function KI(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function YI(c,d){var m=KI(c);c=0;for(var v;m;){if(m.nodeType===3){if(v=c+m.textContent.length,c<=d&&v>=d)return{node:m,offset:d-c};c=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=KI(m)}}function ZI(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?ZI(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function QI(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var d=fp(c.document);d instanceof c.HTMLIFrameElement;){try{var m=typeof d.contentWindow.location.href=="string"}catch{m=!1}if(m)c=d.contentWindow;else break;d=fp(c.document)}return d}function vx(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}function vie(c,d){var m=QI(d);d=c.focusedElem;var v=c.selectionRange;if(m!==d&&d&&d.ownerDocument&&ZI(d.ownerDocument.documentElement,d)){if(v!==null&&vx(d)){if(c=v.start,m=v.end,m===void 0&&(m=c),"selectionStart"in d)d.selectionStart=c,d.selectionEnd=Math.min(m,d.value.length);else if(m=(c=d.ownerDocument||document)&&c.defaultView||window,m.getSelection){m=m.getSelection();var T=d.textContent.length,U=Math.min(v.start,T);v=v.end===void 0?U:Math.min(v.end,T),!m.extend&&U>v&&(T=v,v=U,U=T),T=YI(d,U);var Z=YI(d,v);T&&Z&&(m.rangeCount!==1||m.anchorNode!==T.node||m.anchorOffset!==T.offset||m.focusNode!==Z.node||m.focusOffset!==Z.offset)&&(c=c.createRange(),c.setStart(T.node,T.offset),m.removeAllRanges(),U>v?(m.addRange(c),m.extend(Z.node,Z.offset)):(c.setEnd(Z.node,Z.offset),m.addRange(c)))}}for(c=[],m=d;m=m.parentNode;)m.nodeType===1&&c.push({element:m,left:m.scrollLeft,top:m.scrollTop});for(typeof d.focus=="function"&&d.focus(),d=0;d<c.length;d++)m=c[d],m.element.scrollLeft=m.left,m.element.scrollTop=m.top}}var xie=wn&&"documentMode"in document&&11>=document.documentMode,bp=null,xx=null,bm=null,Ex=!1;function XI(c,d,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;Ex||bp==null||bp!==fp(v)||(v=bp,"selectionStart"in v&&vx(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),bm&&ym(bm,v)||(bm=v,v=Bw(xx,"onSelect"),0<v.length&&(d=new Ec("onSelect","select",null,d,m),c.push({event:d,listeners:v}),d.target=bp)))}function mh(c,d){var m={};return m[c.toLowerCase()]=d.toLowerCase(),m["Webkit"+c]="webkit"+d,m["Moz"+c]="moz"+d,m}var wp={animationend:mh("Animation","AnimationEnd"),animationiteration:mh("Animation","AnimationIteration"),animationstart:mh("Animation","AnimationStart"),transitionrun:mh("Transition","TransitionRun"),transitionstart:mh("Transition","TransitionStart"),transitioncancel:mh("Transition","TransitionCancel"),transitionend:mh("Transition","TransitionEnd")},_x={},JI={};wn&&(JI=document.createElement("div").style,"AnimationEvent"in window||(delete wp.animationend.animation,delete wp.animationiteration.animation,delete wp.animationstart.animation),"TransitionEvent"in window||delete wp.transitionend.transition);function yh(c){if(_x[c])return _x[c];if(!wp[c])return c;var d=wp[c],m;for(m in d)if(d.hasOwnProperty(m)&&m in JI)return _x[c]=d[m];return c}var eN=yh("animationend"),tN=yh("animationiteration"),rN=yh("animationstart"),Eie=yh("transitionrun"),_ie=yh("transitionstart"),Cie=yh("transitioncancel"),nN=yh("transitionend"),iN=new Map,sN="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll scrollEnd toggle touchMove waiting wheel".split(" ");function Mo(c,d){iN.set(c,d),vr(d,[c])}var La=[],vp=0,Cx=0;function iw(){for(var c=vp,d=Cx=vp=0;d<c;){var m=La[d];La[d++]=null;var v=La[d];La[d++]=null;var T=La[d];La[d++]=null;var U=La[d];if(La[d++]=null,v!==null&&T!==null){var Z=v.pending;Z===null?T.next=T:(T.next=Z.next,Z.next=T),v.pending=T}U!==0&&aN(m,T,U)}}function sw(c,d,m,v){La[vp++]=c,La[vp++]=d,La[vp++]=m,La[vp++]=v,Cx|=v,c.lanes|=v,c=c.alternate,c!==null&&(c.lanes|=v)}function Ax(c,d,m,v){return sw(c,d,m,v),aw(c)}function zu(c,d){return sw(c,null,null,d),aw(c)}function aN(c,d,m){c.lanes|=m;var v=c.alternate;v!==null&&(v.lanes|=m);for(var T=!1,U=c.return;U!==null;)U.childLanes|=m,v=U.alternate,v!==null&&(v.childLanes|=m),U.tag===22&&(c=U.stateNode,c===null||c._visibility&1||(T=!0)),c=U,U=U.return;T&&d!==null&&c.tag===3&&(U=c.stateNode,T=31-ct(m),U=U.hiddenUpdates,c=U[T],c===null?U[T]=[d]:c.push(d),d.lane=m|536870912)}function aw(c){if(50<Wm)throw Wm=0,N8=null,Error(n(185));for(var d=c.return;d!==null;)c=d,d=c.return;return c.tag===3?c.stateNode:null}var xp={},oN=new WeakMap;function Fa(c,d){if(typeof c=="object"&&c!==null){var m=oN.get(c);return m!==void 0?m:(d={value:c,source:d,stack:D(d)},oN.set(c,d),d)}return{value:c,source:d,stack:D(d)}}var Ep=[],_p=0,ow=null,lw=0,za=[],Wa=0,bh=null,_c=1,Cc="";function wh(c,d){Ep[_p++]=lw,Ep[_p++]=ow,ow=c,lw=d}function lN(c,d,m){za[Wa++]=_c,za[Wa++]=Cc,za[Wa++]=bh,bh=c;var v=_c;c=Cc;var T=32-ct(v)-1;v&=~(1<<T),m+=1;var U=32-ct(d)+T;if(30<U){var Z=T-T%5;U=(v&(1<<Z)-1).toString(32),v>>=Z,T-=Z,_c=1<<32-ct(d)+T|m<<T|v,Cc=U+c}else _c=1<<U|m<<T|v,Cc=c}function Sx(c){c.return!==null&&(wh(c,1),lN(c,1,0))}function kx(c){for(;c===ow;)ow=Ep[--_p],Ep[_p]=null,lw=Ep[--_p],Ep[_p]=null;for(;c===bh;)bh=za[--Wa],za[Wa]=null,Cc=za[--Wa],za[Wa]=null,_c=za[--Wa],za[Wa]=null}var ms=null,Pi=null,Ir=!1,Ro=null,$l=!1,$x=Error(n(519));function vh(c){var d=Error(n(418,""));throw xm(Fa(d,c)),$x}function cN(c){var d=c.stateNode,m=c.type,v=c.memoizedProps;switch(d[At]=c,d[Ue]=v,m){case"dialog":Er("cancel",d),Er("close",d);break;case"iframe":case"object":case"embed":Er("load",d);break;case"video":case"audio":for(m=0;m<Hm.length;m++)Er(Hm[m],d);break;case"source":Er("error",d);break;case"img":case"image":case"link":Er("error",d),Er("load",d);break;case"details":Er("toggle",d);break;case"input":Er("invalid",d),Zb(d,v.value,v.defaultValue,v.checked,v.defaultChecked,v.type,v.name,!0),hp(d);break;case"select":Er("invalid",d);break;case"textarea":Er("invalid",d),Xb(d,v.value,v.defaultValue,v.children),hp(d)}m=v.children,typeof m!="string"&&typeof m!="number"&&typeof m!="bigint"||d.textContent===""+m||v.suppressHydrationWarning===!0||bO(d.textContent,m)?(v.popover!=null&&(Er("beforetoggle",d),Er("toggle",d)),v.onScroll!=null&&Er("scroll",d),v.onScrollEnd!=null&&Er("scrollend",d),v.onClick!=null&&(d.onclick=Lw),d=!0):d=!1,d||vh(c)}function uN(c){for(ms=c.return;ms;)switch(ms.tag){case 3:case 27:$l=!0;return;case 5:case 13:$l=!1;return;default:ms=ms.return}}function wm(c){if(c!==ms)return!1;if(!Ir)return uN(c),Ir=!0,!1;var d=!1,m;if((m=c.tag!==3&&c.tag!==27)&&((m=c.tag===5)&&(m=c.type,m=!(m!=="form"&&m!=="button")||K8(c.type,c.memoizedProps)),m=!m),m&&(d=!0),d&&Pi&&vh(c),uN(c),c.tag===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));e:{for(c=c.nextSibling,d=0;c;){if(c.nodeType===8)if(m=c.data,m==="/$"){if(d===0){Pi=Do(c.nextSibling);break e}d--}else m!=="$"&&m!=="$!"&&m!=="$?"||d++;c=c.nextSibling}Pi=null}}else Pi=ms?Do(c.stateNode.nextSibling):null;return!0}function vm(){Pi=ms=null,Ir=!1}function xm(c){Ro===null?Ro=[c]:Ro.push(c)}var Em=Error(n(460)),dN=Error(n(474)),Tx={then:function(){}};function hN(c){return c=c.status,c==="fulfilled"||c==="rejected"}function cw(){}function fN(c,d,m){switch(m=c[m],m===void 0?c.push(d):m!==d&&(d.then(cw,cw),d=m),d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,c===Em?Error(n(483)):c;default:if(typeof d.status=="string")d.then(cw,cw);else{if(c=rn,c!==null&&100<c.shellSuspendCounter)throw Error(n(482));c=d,c.status="pending",c.then(function(v){if(d.status==="pending"){var T=d;T.status="fulfilled",T.value=v}},function(v){if(d.status==="pending"){var T=d;T.status="rejected",T.reason=v}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,c===Em?Error(n(483)):c}throw _m=d,Em}}var _m=null;function pN(){if(_m===null)throw Error(n(459));var c=_m;return _m=null,c}var Cp=null,Cm=0;function uw(c){var d=Cm;return Cm+=1,Cp===null&&(Cp=[]),fN(Cp,c,d)}function Am(c,d){d=d.props.ref,c.ref=d!==void 0?d:null}function dw(c,d){throw d.$$typeof===s?Error(n(525)):(c=Object.prototype.toString.call(d),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c)))}function gN(c){var d=c._init;return d(c._payload)}function mN(c){function d(xe,he){if(c){var Ce=xe.deletions;Ce===null?(xe.deletions=[he],xe.flags|=16):Ce.push(he)}}function m(xe,he){if(!c)return null;for(;he!==null;)d(xe,he),he=he.sibling;return null}function v(xe){for(var he=new Map;xe!==null;)xe.key!==null?he.set(xe.key,xe):he.set(xe.index,xe),xe=xe.sibling;return he}function T(xe,he){return xe=ed(xe,he),xe.index=0,xe.sibling=null,xe}function U(xe,he,Ce){return xe.index=Ce,c?(Ce=xe.alternate,Ce!==null?(Ce=Ce.index,Ce<he?(xe.flags|=33554434,he):Ce):(xe.flags|=33554434,he)):(xe.flags|=1048576,he)}function Z(xe){return c&&xe.alternate===null&&(xe.flags|=33554434),xe}function J(xe,he,Ce,Fe){return he===null||he.tag!==6?(he=_8(Ce,xe.mode,Fe),he.return=xe,he):(he=T(he,Ce),he.return=xe,he)}function ae(xe,he,Ce,Fe){var _t=Ce.type;return _t===l?De(xe,he,Ce.props.children,Fe,Ce.key):he!==null&&(he.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===S&&gN(_t)===he.type)?(he=T(he,Ce.props),Am(he,Ce),he.return=xe,he):(he=Tw(Ce.type,Ce.key,Ce.props,null,xe.mode,Fe),Am(he,Ce),he.return=xe,he)}function me(xe,he,Ce,Fe){return he===null||he.tag!==4||he.stateNode.containerInfo!==Ce.containerInfo||he.stateNode.implementation!==Ce.implementation?(he=C8(Ce,xe.mode,Fe),he.return=xe,he):(he=T(he,Ce.children||[]),he.return=xe,he)}function De(xe,he,Ce,Fe,_t){return he===null||he.tag!==7?(he=Ih(Ce,xe.mode,Fe,_t),he.return=xe,he):(he=T(he,Ce),he.return=xe,he)}function He(xe,he,Ce){if(typeof he=="string"&&he!==""||typeof he=="number"||typeof he=="bigint")return he=_8(""+he,xe.mode,Ce),he.return=xe,he;if(typeof he=="object"&&he!==null){switch(he.$$typeof){case a:return Ce=Tw(he.type,he.key,he.props,null,xe.mode,Ce),Am(Ce,he),Ce.return=xe,Ce;case o:return he=C8(he,xe.mode,Ce),he.return=xe,he;case S:var Fe=he._init;return he=Fe(he._payload),He(xe,he,Ce)}if(G(he)||O(he))return he=Ih(he,xe.mode,Ce,null),he.return=xe,he;if(typeof he.then=="function")return He(xe,uw(he),Ce);if(he.$$typeof===y)return He(xe,Sw(xe,he),Ce);dw(xe,he)}return null}function Se(xe,he,Ce,Fe){var _t=he!==null?he.key:null;if(typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint")return _t!==null?null:J(xe,he,""+Ce,Fe);if(typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case a:return Ce.key===_t?ae(xe,he,Ce,Fe):null;case o:return Ce.key===_t?me(xe,he,Ce,Fe):null;case S:return _t=Ce._init,Ce=_t(Ce._payload),Se(xe,he,Ce,Fe)}if(G(Ce)||O(Ce))return _t!==null?null:De(xe,he,Ce,Fe,null);if(typeof Ce.then=="function")return Se(xe,he,uw(Ce),Fe);if(Ce.$$typeof===y)return Se(xe,he,Sw(xe,Ce),Fe);dw(xe,Ce)}return null}function Re(xe,he,Ce,Fe,_t){if(typeof Fe=="string"&&Fe!==""||typeof Fe=="number"||typeof Fe=="bigint")return xe=xe.get(Ce)||null,J(he,xe,""+Fe,_t);if(typeof Fe=="object"&&Fe!==null){switch(Fe.$$typeof){case a:return xe=xe.get(Fe.key===null?Ce:Fe.key)||null,ae(he,xe,Fe,_t);case o:return xe=xe.get(Fe.key===null?Ce:Fe.key)||null,me(he,xe,Fe,_t);case S:var dr=Fe._init;return Fe=dr(Fe._payload),Re(xe,he,Ce,Fe,_t)}if(G(Fe)||O(Fe))return xe=xe.get(Ce)||null,De(he,xe,Fe,_t,null);if(typeof Fe.then=="function")return Re(xe,he,Ce,uw(Fe),_t);if(Fe.$$typeof===y)return Re(xe,he,Ce,Sw(he,Fe),_t);dw(he,Fe)}return null}function $t(xe,he,Ce,Fe){for(var _t=null,dr=null,Mt=he,Lt=he=0,Ei=null;Mt!==null&&Lt<Ce.length;Lt++){Mt.index>Lt?(Ei=Mt,Mt=null):Ei=Mt.sibling;var Nr=Se(xe,Mt,Ce[Lt],Fe);if(Nr===null){Mt===null&&(Mt=Ei);break}c&&Mt&&Nr.alternate===null&&d(xe,Mt),he=U(Nr,he,Lt),dr===null?_t=Nr:dr.sibling=Nr,dr=Nr,Mt=Ei}if(Lt===Ce.length)return m(xe,Mt),Ir&&wh(xe,Lt),_t;if(Mt===null){for(;Lt<Ce.length;Lt++)Mt=He(xe,Ce[Lt],Fe),Mt!==null&&(he=U(Mt,he,Lt),dr===null?_t=Mt:dr.sibling=Mt,dr=Mt);return Ir&&wh(xe,Lt),_t}for(Mt=v(Mt);Lt<Ce.length;Lt++)Ei=Re(Mt,xe,Lt,Ce[Lt],Fe),Ei!==null&&(c&&Ei.alternate!==null&&Mt.delete(Ei.key===null?Lt:Ei.key),he=U(Ei,he,Lt),dr===null?_t=Ei:dr.sibling=Ei,dr=Ei);return c&&Mt.forEach(function(od){return d(xe,od)}),Ir&&wh(xe,Lt),_t}function Yt(xe,he,Ce,Fe){if(Ce==null)throw Error(n(151));for(var _t=null,dr=null,Mt=he,Lt=he=0,Ei=null,Nr=Ce.next();Mt!==null&&!Nr.done;Lt++,Nr=Ce.next()){Mt.index>Lt?(Ei=Mt,Mt=null):Ei=Mt.sibling;var od=Se(xe,Mt,Nr.value,Fe);if(od===null){Mt===null&&(Mt=Ei);break}c&&Mt&&od.alternate===null&&d(xe,Mt),he=U(od,he,Lt),dr===null?_t=od:dr.sibling=od,dr=od,Mt=Ei}if(Nr.done)return m(xe,Mt),Ir&&wh(xe,Lt),_t;if(Mt===null){for(;!Nr.done;Lt++,Nr=Ce.next())Nr=He(xe,Nr.value,Fe),Nr!==null&&(he=U(Nr,he,Lt),dr===null?_t=Nr:dr.sibling=Nr,dr=Nr);return Ir&&wh(xe,Lt),_t}for(Mt=v(Mt);!Nr.done;Lt++,Nr=Ce.next())Nr=Re(Mt,xe,Lt,Nr.value,Fe),Nr!==null&&(c&&Nr.alternate!==null&&Mt.delete(Nr.key===null?Lt:Nr.key),he=U(Nr,he,Lt),dr===null?_t=Nr:dr.sibling=Nr,dr=Nr);return c&&Mt.forEach(function(Use){return d(xe,Use)}),Ir&&wh(xe,Lt),_t}function Pn(xe,he,Ce,Fe){if(typeof Ce=="object"&&Ce!==null&&Ce.type===l&&Ce.key===null&&(Ce=Ce.props.children),typeof Ce=="object"&&Ce!==null){switch(Ce.$$typeof){case a:e:{for(var _t=Ce.key;he!==null;){if(he.key===_t){if(_t=Ce.type,_t===l){if(he.tag===7){m(xe,he.sibling),Fe=T(he,Ce.props.children),Fe.return=xe,xe=Fe;break e}}else if(he.elementType===_t||typeof _t=="object"&&_t!==null&&_t.$$typeof===S&&gN(_t)===he.type){m(xe,he.sibling),Fe=T(he,Ce.props),Am(Fe,Ce),Fe.return=xe,xe=Fe;break e}m(xe,he);break}else d(xe,he);he=he.sibling}Ce.type===l?(Fe=Ih(Ce.props.children,xe.mode,Fe,Ce.key),Fe.return=xe,xe=Fe):(Fe=Tw(Ce.type,Ce.key,Ce.props,null,xe.mode,Fe),Am(Fe,Ce),Fe.return=xe,xe=Fe)}return Z(xe);case o:e:{for(_t=Ce.key;he!==null;){if(he.key===_t)if(he.tag===4&&he.stateNode.containerInfo===Ce.containerInfo&&he.stateNode.implementation===Ce.implementation){m(xe,he.sibling),Fe=T(he,Ce.children||[]),Fe.return=xe,xe=Fe;break e}else{m(xe,he);break}else d(xe,he);he=he.sibling}Fe=C8(Ce,xe.mode,Fe),Fe.return=xe,xe=Fe}return Z(xe);case S:return _t=Ce._init,Ce=_t(Ce._payload),Pn(xe,he,Ce,Fe)}if(G(Ce))return $t(xe,he,Ce,Fe);if(O(Ce)){if(_t=O(Ce),typeof _t!="function")throw Error(n(150));return Ce=_t.call(Ce),Yt(xe,he,Ce,Fe)}if(typeof Ce.then=="function")return Pn(xe,he,uw(Ce),Fe);if(Ce.$$typeof===y)return Pn(xe,he,Sw(xe,Ce),Fe);dw(xe,Ce)}return typeof Ce=="string"&&Ce!==""||typeof Ce=="number"||typeof Ce=="bigint"?(Ce=""+Ce,he!==null&&he.tag===6?(m(xe,he.sibling),Fe=T(he,Ce),Fe.return=xe,xe=Fe):(m(xe,he),Fe=_8(Ce,xe.mode,Fe),Fe.return=xe,xe=Fe),Z(xe)):m(xe,he)}return function(xe,he,Ce,Fe){try{Cm=0;var _t=Pn(xe,he,Ce,Fe);return Cp=null,_t}catch(Mt){if(Mt===Em)throw Mt;var dr=Ga(29,Mt,null,xe.mode);return dr.lanes=Fe,dr.return=xe,dr}finally{}}}var xh=mN(!0),yN=mN(!1),Ap=ee(null),hw=ee(0);function bN(c,d){c=Rc,be(hw,c),be(Ap,d),Rc=c|d.baseLanes}function Ix(){be(hw,Rc),be(Ap,Ap.current)}function Nx(){Rc=hw.current,ce(Ap),ce(hw)}var qa=ee(null),Tl=null;function Wu(c){var d=c.alternate;be(li,li.current&1),be(qa,c),Tl===null&&(d===null||Ap.current!==null||d.memoizedState!==null)&&(Tl=c)}function wN(c){if(c.tag===22){if(be(li,li.current),be(qa,c),Tl===null){var d=c.alternate;d!==null&&d.memoizedState!==null&&(Tl=c)}}else qu()}function qu(){be(li,li.current),be(qa,qa.current)}function Ac(c){ce(qa),Tl===c&&(Tl=null),ce(li)}var li=ee(0);function fw(c){for(var d=c;d!==null;){if(d.tag===13){var m=d.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return d}else if(d.tag===19&&d.memoizedProps.revealOrder!==void 0){if(d.flags&128)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Aie=typeof AbortController<"u"?AbortController:function(){var c=[],d=this.signal={aborted:!1,addEventListener:function(m,v){c.push(v)}};this.abort=function(){d.aborted=!0,c.forEach(function(m){return m()})}},Sie=t.unstable_scheduleCallback,kie=t.unstable_NormalPriority,ci={$$typeof:y,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Px(){return{controller:new Aie,data:new Map,refCount:0}}function Sm(c){c.refCount--,c.refCount===0&&Sie(kie,function(){c.controller.abort()})}var km=null,Ox=0,Sp=0,kp=null;function $ie(c,d){if(km===null){var m=km=[];Ox=0,Sp=B8(),kp={status:"pending",value:void 0,then:function(v){m.push(v)}}}return Ox++,d.then(vN,vN),d}function vN(){if(--Ox===0&&km!==null){kp!==null&&(kp.status="fulfilled");var c=km;km=null,Sp=0,kp=null;for(var d=0;d<c.length;d++)(0,c[d])()}}function Tie(c,d){var m=[],v={status:"pending",value:null,reason:null,then:function(T){m.push(T)}};return c.then(function(){v.status="fulfilled",v.value=d;for(var T=0;T<m.length;T++)(0,m[T])(d)},function(T){for(v.status="rejected",v.reason=T,T=0;T<m.length;T++)(0,m[T])(void 0)}),v}var xN=L.S;L.S=function(c,d){typeof d=="object"&&d!==null&&typeof d.then=="function"&&$ie(c,d),xN!==null&&xN(c,d)};var Eh=ee(null);function Mx(){var c=Eh.current;return c!==null?c:rn.pooledCache}function pw(c,d){d===null?be(Eh,Eh.current):be(Eh,d.pool)}function EN(){var c=Mx();return c===null?null:{parent:ci._currentValue,pool:c}}var Hu=0,cr=null,qr=null,Yn=null,gw=!1,$p=!1,_h=!1,mw=0,$m=0,Tp=null,Iie=0;function Bn(){throw Error(n(321))}function Rx(c,d){if(d===null)return!1;for(var m=0;m<d.length&&m<c.length;m++)if(!ua(c[m],d[m]))return!1;return!0}function jx(c,d,m,v,T,U){return Hu=U,cr=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,L.H=c===null||c.memoizedState===null?Ch:Vu,_h=!1,U=m(v,T),_h=!1,$p&&(U=CN(d,m,v,T)),_N(c),U}function _N(c){L.H=Il;var d=qr!==null&&qr.next!==null;if(Hu=0,Yn=qr=cr=null,gw=!1,$m=0,Tp=null,d)throw Error(n(300));c===null||vi||(c=c.dependencies,c!==null&&Aw(c)&&(vi=!0))}function CN(c,d,m,v){cr=c;var T=0;do{if($p&&(Tp=null),$m=0,$p=!1,25<=T)throw Error(n(301));if(T+=1,Yn=qr=null,c.updateQueue!=null){var U=c.updateQueue;U.lastEffect=null,U.events=null,U.stores=null,U.memoCache!=null&&(U.memoCache.index=0)}L.H=Ah,U=d(m,v)}while($p);return U}function Nie(){var c=L.H,d=c.useState()[0];return d=typeof d.then=="function"?Tm(d):d,c=c.useState()[0],(qr!==null?qr.memoizedState:null)!==c&&(cr.flags|=1024),d}function Dx(){var c=mw!==0;return mw=0,c}function Ux(c,d,m){d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~m}function Bx(c){if(gw){for(c=c.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}gw=!1}Hu=0,Yn=qr=cr=null,$p=!1,$m=mw=0,Tp=null}function Ms(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yn===null?cr.memoizedState=Yn=c:Yn=Yn.next=c,Yn}function Zn(){if(qr===null){var c=cr.alternate;c=c!==null?c.memoizedState:null}else c=qr.next;var d=Yn===null?cr.memoizedState:Yn.next;if(d!==null)Yn=d,qr=c;else{if(c===null)throw cr.alternate===null?Error(n(467)):Error(n(310));qr=c,c={memoizedState:qr.memoizedState,baseState:qr.baseState,baseQueue:qr.baseQueue,queue:qr.queue,next:null},Yn===null?cr.memoizedState=Yn=c:Yn=Yn.next=c}return Yn}var yw;yw=function(){return{lastEffect:null,events:null,stores:null,memoCache:null}};function Tm(c){var d=$m;return $m+=1,Tp===null&&(Tp=[]),c=fN(Tp,c,d),d=cr,(Yn===null?d.memoizedState:Yn.next)===null&&(d=d.alternate,L.H=d===null||d.memoizedState===null?Ch:Vu),c}function bw(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return Tm(c);if(c.$$typeof===y)return Zi(c)}throw Error(n(438,String(c)))}function Lx(c){var d=null,m=cr.updateQueue;if(m!==null&&(d=m.memoCache),d==null){var v=cr.alternate;v!==null&&(v=v.updateQueue,v!==null&&(v=v.memoCache,v!=null&&(d={data:v.data.map(function(T){return T.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),m===null&&(m=yw(),cr.updateQueue=m),m.memoCache=d,m=d.data[d.index],m===void 0)for(m=d.data[d.index]=Array(c),v=0;v<c;v++)m[v]=I;return d.index++,m}function Sc(c,d){return typeof d=="function"?d(c):d}function ww(c){var d=Zn();return Fx(d,qr,c)}function Fx(c,d,m){var v=c.queue;if(v===null)throw Error(n(311));v.lastRenderedReducer=m;var T=c.baseQueue,U=v.pending;if(U!==null){if(T!==null){var Z=T.next;T.next=U.next,U.next=Z}d.baseQueue=T=U,v.pending=null}if(U=c.baseState,T===null)c.memoizedState=U;else{d=T.next;var J=Z=null,ae=null,me=d,De=!1;do{var He=me.lane&-536870913;if(He!==me.lane?(kr&He)===He:(Hu&He)===He){var Se=me.revertLane;if(Se===0)ae!==null&&(ae=ae.next={lane:0,revertLane:0,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null}),He===Sp&&(De=!0);else if((Hu&Se)===Se){me=me.next,Se===Sp&&(De=!0);continue}else He={lane:0,revertLane:me.revertLane,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},ae===null?(J=ae=He,Z=U):ae=ae.next=He,cr.lanes|=Se,td|=Se;He=me.action,_h&&m(U,He),U=me.hasEagerState?me.eagerState:m(U,He)}else Se={lane:He,revertLane:me.revertLane,action:me.action,hasEagerState:me.hasEagerState,eagerState:me.eagerState,next:null},ae===null?(J=ae=Se,Z=U):ae=ae.next=Se,cr.lanes|=He,td|=He;me=me.next}while(me!==null&&me!==d);if(ae===null?Z=U:ae.next=J,!ua(U,c.memoizedState)&&(vi=!0,De&&(m=kp,m!==null)))throw m;c.memoizedState=U,c.baseState=Z,c.baseQueue=ae,v.lastRenderedState=U}return T===null&&(v.lanes=0),[c.memoizedState,v.dispatch]}function zx(c){var d=Zn(),m=d.queue;if(m===null)throw Error(n(311));m.lastRenderedReducer=c;var v=m.dispatch,T=m.pending,U=d.memoizedState;if(T!==null){m.pending=null;var Z=T=T.next;do U=c(U,Z.action),Z=Z.next;while(Z!==T);ua(U,d.memoizedState)||(vi=!0),d.memoizedState=U,d.baseQueue===null&&(d.baseState=U),m.lastRenderedState=U}return[U,v]}function AN(c,d,m){var v=cr,T=Zn(),U=Ir;if(U){if(m===void 0)throw Error(n(407));m=m()}else m=d();var Z=!ua((qr||T).memoizedState,m);if(Z&&(T.memoizedState=m,vi=!0),T=T.queue,Hx($N.bind(null,v,T,c),[c]),T.getSnapshot!==d||Z||Yn!==null&&Yn.memoizedState.tag&1){if(v.flags|=2048,Ip(9,kN.bind(null,v,T,m,d),{destroy:void 0},null),rn===null)throw Error(n(349));U||Hu&60||SN(v,d,m)}return m}function SN(c,d,m){c.flags|=16384,c={getSnapshot:d,value:m},d=cr.updateQueue,d===null?(d=yw(),cr.updateQueue=d,d.stores=[c]):(m=d.stores,m===null?d.stores=[c]:m.push(c))}function kN(c,d,m,v){d.value=m,d.getSnapshot=v,TN(d)&&IN(c)}function $N(c,d,m){return m(function(){TN(d)&&IN(c)})}function TN(c){var d=c.getSnapshot;c=c.value;try{var m=d();return!ua(c,m)}catch{return!0}}function IN(c){var d=zu(c,2);d!==null&&ys(d,c,2)}function Wx(c){var d=Ms();if(typeof c=="function"){var m=c;if(c=m(),_h){st(!0);try{m()}finally{st(!1)}}}return d.memoizedState=d.baseState=c,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:c},d}function NN(c,d,m,v){return c.baseState=m,Fx(c,qr,typeof v=="function"?v:Sc)}function Pie(c,d,m,v,T){if(Ew(c))throw Error(n(485));if(c=d.action,c!==null){var U={payload:T,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(Z){U.listeners.push(Z)}};L.T!==null?m(!0):U.isTransition=!1,v(U),m=d.pending,m===null?(U.next=d.pending=U,PN(d,U)):(U.next=m.next,d.pending=m.next=U)}}function PN(c,d){var m=d.action,v=d.payload,T=c.state;if(d.isTransition){var U=L.T,Z={};L.T=Z;try{var J=m(T,v),ae=L.S;ae!==null&&ae(Z,J),ON(c,d,J)}catch(me){qx(c,d,me)}finally{L.T=U}}else try{U=m(T,v),ON(c,d,U)}catch(me){qx(c,d,me)}}function ON(c,d,m){m!==null&&typeof m=="object"&&typeof m.then=="function"?m.then(function(v){MN(c,d,v)},function(v){return qx(c,d,v)}):MN(c,d,m)}function MN(c,d,m){d.status="fulfilled",d.value=m,RN(d),c.state=m,d=c.pending,d!==null&&(m=d.next,m===d?c.pending=null:(m=m.next,d.next=m,PN(c,m)))}function qx(c,d,m){var v=c.pending;if(c.pending=null,v!==null){v=v.next;do d.status="rejected",d.reason=m,RN(d),d=d.next;while(d!==v)}c.action=null}function RN(c){c=c.listeners;for(var d=0;d<c.length;d++)(0,c[d])()}function jN(c,d){return d}function DN(c,d){if(Ir){var m=rn.formState;if(m!==null){e:{var v=cr;if(Ir){if(Pi){t:{for(var T=Pi,U=$l;T.nodeType!==8;){if(!U){T=null;break t}if(T=Do(T.nextSibling),T===null){T=null;break t}}U=T.data,T=U==="F!"||U==="F"?T:null}if(T){Pi=Do(T.nextSibling),v=T.data==="F!";break e}}vh(v)}v=!1}v&&(d=m[0])}}return m=Ms(),m.memoizedState=m.baseState=d,v={pending:null,lanes:0,dispatch:null,lastRenderedReducer:jN,lastRenderedState:d},m.queue=v,m=tP.bind(null,cr,v),v.dispatch=m,v=Wx(!1),U=Zx.bind(null,cr,!1,v.queue),v=Ms(),T={state:d,dispatch:null,action:c,pending:null},v.queue=T,m=Pie.bind(null,cr,T,U,m),T.dispatch=m,v.memoizedState=c,[d,m,!1]}function UN(c){var d=Zn();return BN(d,qr,c)}function BN(c,d,m){d=Fx(c,d,jN)[0],c=ww(Sc)[0],d=typeof d=="object"&&d!==null&&typeof d.then=="function"?Tm(d):d;var v=Zn(),T=v.queue,U=T.dispatch;return m!==v.memoizedState&&(cr.flags|=2048,Ip(9,Oie.bind(null,T,m),{destroy:void 0},null)),[d,U,c]}function Oie(c,d){c.action=d}function LN(c){var d=Zn(),m=qr;if(m!==null)return BN(d,m,c);Zn(),d=d.memoizedState,m=Zn();var v=m.queue.dispatch;return m.memoizedState=c,[d,v,!1]}function Ip(c,d,m,v){return c={tag:c,create:d,inst:m,deps:v,next:null},d=cr.updateQueue,d===null&&(d=yw(),cr.updateQueue=d),m=d.lastEffect,m===null?d.lastEffect=c.next=c:(v=m.next,m.next=c,c.next=v,d.lastEffect=c),c}function FN(){return Zn().memoizedState}function vw(c,d,m,v){var T=Ms();cr.flags|=c,T.memoizedState=Ip(1|d,m,{destroy:void 0},v===void 0?null:v)}function xw(c,d,m,v){var T=Zn();v=v===void 0?null:v;var U=T.memoizedState.inst;qr!==null&&v!==null&&Rx(v,qr.memoizedState.deps)?T.memoizedState=Ip(d,m,U,v):(cr.flags|=c,T.memoizedState=Ip(1|d,m,U,v))}function zN(c,d){vw(8390656,8,c,d)}function Hx(c,d){xw(2048,8,c,d)}function WN(c,d){return xw(4,2,c,d)}function qN(c,d){return xw(4,4,c,d)}function HN(c,d){if(typeof d=="function"){c=c();var m=d(c);return function(){typeof m=="function"?m():d(null)}}if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function VN(c,d,m){m=m!=null?m.concat([c]):null,xw(4,4,HN.bind(null,d,c),m)}function Vx(){}function GN(c,d){var m=Zn();d=d===void 0?null:d;var v=m.memoizedState;return d!==null&&Rx(d,v[1])?v[0]:(m.memoizedState=[c,d],c)}function KN(c,d){var m=Zn();d=d===void 0?null:d;var v=m.memoizedState;if(d!==null&&Rx(d,v[1]))return v[0];if(v=c(),_h){st(!0);try{c()}finally{st(!1)}}return m.memoizedState=[v,d],v}function Gx(c,d,m){return m===void 0||Hu&1073741824?c.memoizedState=d:(c.memoizedState=m,c=ZP(),cr.lanes|=c,td|=c,m)}function YN(c,d,m,v){return ua(m,d)?m:Ap.current!==null?(c=Gx(c,m,v),ua(c,d)||(vi=!0),c):Hu&42?(c=ZP(),cr.lanes|=c,td|=c,d):(vi=!0,c.memoizedState=m)}function ZN(c,d,m,v,T){var U=re.p;re.p=U!==0&&8>U?U:8;var Z=L.T,J={};L.T=J,Zx(c,!1,d,m);try{var ae=T(),me=L.S;if(me!==null&&me(J,ae),ae!==null&&typeof ae=="object"&&typeof ae.then=="function"){var De=Tie(ae,v);Im(c,d,De,pa(c))}else Im(c,d,v,pa(c))}catch(He){Im(c,d,{then:function(){},status:"rejected",reason:He},pa())}finally{re.p=U,L.T=Z}}function Mie(){}function Kx(c,d,m,v){if(c.tag!==5)throw Error(n(476));var T=QN(c).queue;ZN(c,T,d,q,m===null?Mie:function(){return XN(c),m(v)})}function QN(c){var d=c.memoizedState;if(d!==null)return d;d={memoizedState:q,baseState:q,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:q},next:null};var m={};return d.next={memoizedState:m,baseState:m,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Sc,lastRenderedState:m},next:null},c.memoizedState=d,c=c.alternate,c!==null&&(c.memoizedState=d),d}function XN(c){var d=QN(c).next.queue;Im(c,d,{},pa())}function Yx(){return Zi(Zm)}function JN(){return Zn().memoizedState}function eP(){return Zn().memoizedState}function Rie(c){for(var d=c.return;d!==null;){switch(d.tag){case 24:case 3:var m=pa();c=Yu(m);var v=Zu(d,c,m);v!==null&&(ys(v,d,m),Om(v,d,m)),d={cache:Px()},c.payload=d;return}d=d.return}}function jie(c,d,m){var v=pa();m={lane:v,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null},Ew(c)?rP(d,m):(m=Ax(c,d,m,v),m!==null&&(ys(m,c,v),nP(m,d,v)))}function tP(c,d,m){var v=pa();Im(c,d,m,v)}function Im(c,d,m,v){var T={lane:v,revertLane:0,action:m,hasEagerState:!1,eagerState:null,next:null};if(Ew(c))rP(d,T);else{var U=c.alternate;if(c.lanes===0&&(U===null||U.lanes===0)&&(U=d.lastRenderedReducer,U!==null))try{var Z=d.lastRenderedState,J=U(Z,m);if(T.hasEagerState=!0,T.eagerState=J,ua(J,Z))return sw(c,d,T,0),rn===null&&iw(),!1}catch{}finally{}if(m=Ax(c,d,T,v),m!==null)return ys(m,c,v),nP(m,d,v),!0}return!1}function Zx(c,d,m,v){if(v={lane:2,revertLane:B8(),action:v,hasEagerState:!1,eagerState:null,next:null},Ew(c)){if(d)throw Error(n(479))}else d=Ax(c,m,v,2),d!==null&&ys(d,c,2)}function Ew(c){var d=c.alternate;return c===cr||d!==null&&d===cr}function rP(c,d){$p=gw=!0;var m=c.pending;m===null?d.next=d:(d.next=m.next,m.next=d),c.pending=d}function nP(c,d,m){if(m&4194176){var v=d.lanes;v&=c.pendingLanes,m|=v,d.lanes=m,Te(c,m)}}var Il={readContext:Zi,use:bw,useCallback:Bn,useContext:Bn,useEffect:Bn,useImperativeHandle:Bn,useLayoutEffect:Bn,useInsertionEffect:Bn,useMemo:Bn,useReducer:Bn,useRef:Bn,useState:Bn,useDebugValue:Bn,useDeferredValue:Bn,useTransition:Bn,useSyncExternalStore:Bn,useId:Bn};Il.useCacheRefresh=Bn,Il.useMemoCache=Bn,Il.useHostTransitionStatus=Bn,Il.useFormState=Bn,Il.useActionState=Bn,Il.useOptimistic=Bn;var Ch={readContext:Zi,use:bw,useCallback:function(c,d){return Ms().memoizedState=[c,d===void 0?null:d],c},useContext:Zi,useEffect:zN,useImperativeHandle:function(c,d,m){m=m!=null?m.concat([c]):null,vw(4194308,4,HN.bind(null,d,c),m)},useLayoutEffect:function(c,d){return vw(4194308,4,c,d)},useInsertionEffect:function(c,d){vw(4,2,c,d)},useMemo:function(c,d){var m=Ms();d=d===void 0?null:d;var v=c();if(_h){st(!0);try{c()}finally{st(!1)}}return m.memoizedState=[v,d],v},useReducer:function(c,d,m){var v=Ms();if(m!==void 0){var T=m(d);if(_h){st(!0);try{m(d)}finally{st(!1)}}}else T=d;return v.memoizedState=v.baseState=T,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:T},v.queue=c,c=c.dispatch=jie.bind(null,cr,c),[v.memoizedState,c]},useRef:function(c){var d=Ms();return c={current:c},d.memoizedState=c},useState:function(c){c=Wx(c);var d=c.queue,m=tP.bind(null,cr,d);return d.dispatch=m,[c.memoizedState,m]},useDebugValue:Vx,useDeferredValue:function(c,d){var m=Ms();return Gx(m,c,d)},useTransition:function(){var c=Wx(!1);return c=ZN.bind(null,cr,c.queue,!0,!1),Ms().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,d,m){var v=cr,T=Ms();if(Ir){if(m===void 0)throw Error(n(407));m=m()}else{if(m=d(),rn===null)throw Error(n(349));kr&60||SN(v,d,m)}T.memoizedState=m;var U={value:m,getSnapshot:d};return T.queue=U,zN($N.bind(null,v,U,c),[c]),v.flags|=2048,Ip(9,kN.bind(null,v,U,m,d),{destroy:void 0},null),m},useId:function(){var c=Ms(),d=rn.identifierPrefix;if(Ir){var m=Cc,v=_c;m=(v&~(1<<32-ct(v)-1)).toString(32)+m,d=":"+d+"R"+m,m=mw++,0<m&&(d+="H"+m.toString(32)),d+=":"}else m=Iie++,d=":"+d+"r"+m.toString(32)+":";return c.memoizedState=d},useCacheRefresh:function(){return Ms().memoizedState=Rie.bind(null,cr)}};Ch.useMemoCache=Lx,Ch.useHostTransitionStatus=Yx,Ch.useFormState=DN,Ch.useActionState=DN,Ch.useOptimistic=function(c){var d=Ms();d.memoizedState=d.baseState=c;var m={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=m,d=Zx.bind(null,cr,!0,m),m.dispatch=d,[c,d]};var Vu={readContext:Zi,use:bw,useCallback:GN,useContext:Zi,useEffect:Hx,useImperativeHandle:VN,useInsertionEffect:WN,useLayoutEffect:qN,useMemo:KN,useReducer:ww,useRef:FN,useState:function(){return ww(Sc)},useDebugValue:Vx,useDeferredValue:function(c,d){var m=Zn();return YN(m,qr.memoizedState,c,d)},useTransition:function(){var c=ww(Sc)[0],d=Zn().memoizedState;return[typeof c=="boolean"?c:Tm(c),d]},useSyncExternalStore:AN,useId:JN};Vu.useCacheRefresh=eP,Vu.useMemoCache=Lx,Vu.useHostTransitionStatus=Yx,Vu.useFormState=UN,Vu.useActionState=UN,Vu.useOptimistic=function(c,d){var m=Zn();return NN(m,qr,c,d)};var Ah={readContext:Zi,use:bw,useCallback:GN,useContext:Zi,useEffect:Hx,useImperativeHandle:VN,useInsertionEffect:WN,useLayoutEffect:qN,useMemo:KN,useReducer:zx,useRef:FN,useState:function(){return zx(Sc)},useDebugValue:Vx,useDeferredValue:function(c,d){var m=Zn();return qr===null?Gx(m,c,d):YN(m,qr.memoizedState,c,d)},useTransition:function(){var c=zx(Sc)[0],d=Zn().memoizedState;return[typeof c=="boolean"?c:Tm(c),d]},useSyncExternalStore:AN,useId:JN};Ah.useCacheRefresh=eP,Ah.useMemoCache=Lx,Ah.useHostTransitionStatus=Yx,Ah.useFormState=LN,Ah.useActionState=LN,Ah.useOptimistic=function(c,d){var m=Zn();return qr!==null?NN(m,qr,c,d):(m.baseState=c,[c,m.queue.dispatch])};function Qx(c,d,m,v){d=c.memoizedState,m=m(v,d),m=m==null?d:z({},d,m),c.memoizedState=m,c.lanes===0&&(c.updateQueue.baseState=m)}var Xx={isMounted:function(c){return(c=c._reactInternals)?P(c)===c:!1},enqueueSetState:function(c,d,m){c=c._reactInternals;var v=pa(),T=Yu(v);T.payload=d,m!=null&&(T.callback=m),d=Zu(c,T,v),d!==null&&(ys(d,c,v),Om(d,c,v))},enqueueReplaceState:function(c,d,m){c=c._reactInternals;var v=pa(),T=Yu(v);T.tag=1,T.payload=d,m!=null&&(T.callback=m),d=Zu(c,T,v),d!==null&&(ys(d,c,v),Om(d,c,v))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var m=pa(),v=Yu(m);v.tag=2,d!=null&&(v.callback=d),d=Zu(c,v,m),d!==null&&(ys(d,c,m),Om(d,c,m))}};function iP(c,d,m,v,T,U,Z){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(v,U,Z):d.prototype&&d.prototype.isPureReactComponent?!ym(m,v)||!ym(T,U):!0}function sP(c,d,m,v){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(m,v),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(m,v),d.state!==c&&Xx.enqueueReplaceState(d,d.state,null)}function Sh(c,d){var m=d;if("ref"in d){m={};for(var v in d)v!=="ref"&&(m[v]=d[v])}if(c=c.defaultProps){m===d&&(m=z({},m));for(var T in c)m[T]===void 0&&(m[T]=c[T])}return m}var _w=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)};function aP(c){_w(c)}function oP(c){console.error(c)}function lP(c){_w(c)}function Cw(c,d){try{var m=c.onUncaughtError;m(d.value,{componentStack:d.stack})}catch(v){setTimeout(function(){throw v})}}function cP(c,d,m){try{var v=c.onCaughtError;v(m.value,{componentStack:m.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function Jx(c,d,m){return m=Yu(m),m.tag=3,m.payload={element:null},m.callback=function(){Cw(c,d)},m}function uP(c){return c=Yu(c),c.tag=3,c}function dP(c,d,m,v){var T=m.type.getDerivedStateFromError;if(typeof T=="function"){var U=v.value;c.payload=function(){return T(U)},c.callback=function(){cP(d,m,v)}}var Z=m.stateNode;Z!==null&&typeof Z.componentDidCatch=="function"&&(c.callback=function(){cP(d,m,v),typeof T!="function"&&(rd===null?rd=new Set([this]):rd.add(this));var J=v.stack;this.componentDidCatch(v.value,{componentStack:J!==null?J:""})})}function Die(c,d,m,v,T){if(m.flags|=32768,v!==null&&typeof v=="object"&&typeof v.then=="function"){if(d=m.alternate,d!==null&&Pm(d,m,T,!0),m=qa.current,m!==null){switch(m.tag){case 13:return Tl===null?M8():m.alternate===null&&Nn===0&&(Nn=3),m.flags&=-257,m.flags|=65536,m.lanes=T,v===Tx?m.flags|=16384:(d=m.updateQueue,d===null?m.updateQueue=new Set([v]):d.add(v),j8(c,v,T)),!1;case 22:return m.flags|=65536,v===Tx?m.flags|=16384:(d=m.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([v])},m.updateQueue=d):(m=d.retryQueue,m===null?d.retryQueue=new Set([v]):m.add(v)),j8(c,v,T)),!1}throw Error(n(435,m.tag))}return j8(c,v,T),M8(),!1}if(Ir)return d=qa.current,d!==null?(!(d.flags&65536)&&(d.flags|=256),d.flags|=65536,d.lanes=T,v!==$x&&(c=Error(n(422),{cause:v}),xm(Fa(c,m)))):(v!==$x&&(d=Error(n(423),{cause:v}),xm(Fa(d,m))),c=c.current.alternate,c.flags|=65536,T&=-T,c.lanes|=T,v=Fa(v,m),T=Jx(c.stateNode,v,T),p8(c,T),Nn!==4&&(Nn=2)),!1;var U=Error(n(520),{cause:v});if(U=Fa(U,m),Fm===null?Fm=[U]:Fm.push(U),Nn!==4&&(Nn=2),d===null)return!0;v=Fa(v,m),m=d;do{switch(m.tag){case 3:return m.flags|=65536,c=T&-T,m.lanes|=c,c=Jx(m.stateNode,v,c),p8(m,c),!1;case 1:if(d=m.type,U=m.stateNode,(m.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(rd===null||!rd.has(U))))return m.flags|=65536,T&=-T,m.lanes|=T,T=uP(T),dP(T,c,m,v),p8(m,T),!1}m=m.return}while(m!==null);return!1}var hP=Error(n(461)),vi=!1;function Oi(c,d,m,v){d.child=c===null?yN(d,null,m,v):xh(d,c.child,m,v)}function fP(c,d,m,v,T){m=m.render;var U=d.ref;if("ref"in v){var Z={};for(var J in v)J!=="ref"&&(Z[J]=v[J])}else Z=v;return $h(d),v=jx(c,d,m,Z,U,T),J=Dx(),c!==null&&!vi?(Ux(c,d,T),kc(c,d,T)):(Ir&&J&&Sx(d),d.flags|=1,Oi(c,d,v,T),d.child)}function pP(c,d,m,v,T){if(c===null){var U=m.type;return typeof U=="function"&&!E8(U)&&U.defaultProps===void 0&&m.compare===null?(d.tag=15,d.type=U,gP(c,d,U,v,T)):(c=Tw(m.type,null,v,d,d.mode,T),c.ref=d.ref,c.return=d,d.child=c)}if(U=c.child,!l8(c,T)){var Z=U.memoizedProps;if(m=m.compare,m=m!==null?m:ym,m(Z,v)&&c.ref===d.ref)return kc(c,d,T)}return d.flags|=1,c=ed(U,v),c.ref=d.ref,c.return=d,d.child=c}function gP(c,d,m,v,T){if(c!==null){var U=c.memoizedProps;if(ym(U,v)&&c.ref===d.ref)if(vi=!1,d.pendingProps=v=U,l8(c,T))c.flags&131072&&(vi=!0);else return d.lanes=c.lanes,kc(c,d,T)}return e8(c,d,m,v,T)}function mP(c,d,m){var v=d.pendingProps,T=v.children,U=(d.stateNode._pendingVisibility&2)!==0,Z=c!==null?c.memoizedState:null;if(Nm(c,d),v.mode==="hidden"||U){if(d.flags&128){if(v=Z!==null?Z.baseLanes|m:m,c!==null){for(T=d.child=c.child,U=0;T!==null;)U=U|T.lanes|T.childLanes,T=T.sibling;d.childLanes=U&~v}else d.childLanes=0,d.child=null;return yP(c,d,v,m)}if(m&536870912)d.memoizedState={baseLanes:0,cachePool:null},c!==null&&pw(d,Z!==null?Z.cachePool:null),Z!==null?bN(d,Z):Ix(),wN(d);else return d.lanes=d.childLanes=536870912,yP(c,d,Z!==null?Z.baseLanes|m:m,m)}else Z!==null?(pw(d,Z.cachePool),bN(d,Z),qu(),d.memoizedState=null):(c!==null&&pw(d,null),Ix(),qu());return Oi(c,d,T,m),d.child}function yP(c,d,m,v){var T=Mx();return T=T===null?null:{parent:ci._currentValue,pool:T},d.memoizedState={baseLanes:m,cachePool:T},c!==null&&pw(d,null),Ix(),wN(d),c!==null&&Pm(c,d,v,!0),null}function Nm(c,d){var m=d.ref;if(m===null)c!==null&&c.ref!==null&&(d.flags|=2097664);else{if(typeof m!="function"&&typeof m!="object")throw Error(n(284));(c===null||c.ref!==m)&&(d.flags|=2097664)}}function e8(c,d,m,v,T){return $h(d),m=jx(c,d,m,v,void 0,T),v=Dx(),c!==null&&!vi?(Ux(c,d,T),kc(c,d,T)):(Ir&&v&&Sx(d),d.flags|=1,Oi(c,d,m,T),d.child)}function bP(c,d,m,v,T,U){return $h(d),d.updateQueue=null,m=CN(d,v,m,T),_N(c),v=Dx(),c!==null&&!vi?(Ux(c,d,U),kc(c,d,U)):(Ir&&v&&Sx(d),d.flags|=1,Oi(c,d,m,U),d.child)}function wP(c,d,m,v,T){if($h(d),d.stateNode===null){var U=xp,Z=m.contextType;typeof Z=="object"&&Z!==null&&(U=Zi(Z)),U=new m(v,U),d.memoizedState=U.state!==null&&U.state!==void 0?U.state:null,U.updater=Xx,d.stateNode=U,U._reactInternals=d,U=d.stateNode,U.props=v,U.state=d.memoizedState,U.refs={},h8(d),Z=m.contextType,U.context=typeof Z=="object"&&Z!==null?Zi(Z):xp,U.state=d.memoizedState,Z=m.getDerivedStateFromProps,typeof Z=="function"&&(Qx(d,m,Z,v),U.state=d.memoizedState),typeof m.getDerivedStateFromProps=="function"||typeof U.getSnapshotBeforeUpdate=="function"||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(Z=U.state,typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount(),Z!==U.state&&Xx.enqueueReplaceState(U,U.state,null),Rm(d,v,U,T),Mm(),U.state=d.memoizedState),typeof U.componentDidMount=="function"&&(d.flags|=4194308),v=!0}else if(c===null){U=d.stateNode;var J=d.memoizedProps,ae=Sh(m,J);U.props=ae;var me=U.context,De=m.contextType;Z=xp,typeof De=="object"&&De!==null&&(Z=Zi(De));var He=m.getDerivedStateFromProps;De=typeof He=="function"||typeof U.getSnapshotBeforeUpdate=="function",J=d.pendingProps!==J,De||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(J||me!==Z)&&sP(d,U,v,Z),Ku=!1;var Se=d.memoizedState;U.state=Se,Rm(d,v,U,T),Mm(),me=d.memoizedState,J||Se!==me||Ku?(typeof He=="function"&&(Qx(d,m,He,v),me=d.memoizedState),(ae=Ku||iP(d,m,ae,v,Se,me,Z))?(De||typeof U.UNSAFE_componentWillMount!="function"&&typeof U.componentWillMount!="function"||(typeof U.componentWillMount=="function"&&U.componentWillMount(),typeof U.UNSAFE_componentWillMount=="function"&&U.UNSAFE_componentWillMount()),typeof U.componentDidMount=="function"&&(d.flags|=4194308)):(typeof U.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=v,d.memoizedState=me),U.props=v,U.state=me,U.context=Z,v=ae):(typeof U.componentDidMount=="function"&&(d.flags|=4194308),v=!1)}else{U=d.stateNode,f8(c,d),Z=d.memoizedProps,De=Sh(m,Z),U.props=De,He=d.pendingProps,Se=U.context,me=m.contextType,ae=xp,typeof me=="object"&&me!==null&&(ae=Zi(me)),J=m.getDerivedStateFromProps,(me=typeof J=="function"||typeof U.getSnapshotBeforeUpdate=="function")||typeof U.UNSAFE_componentWillReceiveProps!="function"&&typeof U.componentWillReceiveProps!="function"||(Z!==He||Se!==ae)&&sP(d,U,v,ae),Ku=!1,Se=d.memoizedState,U.state=Se,Rm(d,v,U,T),Mm();var Re=d.memoizedState;Z!==He||Se!==Re||Ku||c!==null&&c.dependencies!==null&&Aw(c.dependencies)?(typeof J=="function"&&(Qx(d,m,J,v),Re=d.memoizedState),(De=Ku||iP(d,m,De,v,Se,Re,ae)||c!==null&&c.dependencies!==null&&Aw(c.dependencies))?(me||typeof U.UNSAFE_componentWillUpdate!="function"&&typeof U.componentWillUpdate!="function"||(typeof U.componentWillUpdate=="function"&&U.componentWillUpdate(v,Re,ae),typeof U.UNSAFE_componentWillUpdate=="function"&&U.UNSAFE_componentWillUpdate(v,Re,ae)),typeof U.componentDidUpdate=="function"&&(d.flags|=4),typeof U.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof U.componentDidUpdate!="function"||Z===c.memoizedProps&&Se===c.memoizedState||(d.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Z===c.memoizedProps&&Se===c.memoizedState||(d.flags|=1024),d.memoizedProps=v,d.memoizedState=Re),U.props=v,U.state=Re,U.context=ae,v=De):(typeof U.componentDidUpdate!="function"||Z===c.memoizedProps&&Se===c.memoizedState||(d.flags|=4),typeof U.getSnapshotBeforeUpdate!="function"||Z===c.memoizedProps&&Se===c.memoizedState||(d.flags|=1024),v=!1)}return U=v,Nm(c,d),v=(d.flags&128)!==0,U||v?(U=d.stateNode,m=v&&typeof m.getDerivedStateFromError!="function"?null:U.render(),d.flags|=1,c!==null&&v?(d.child=xh(d,c.child,null,T),d.child=xh(d,null,m,T)):Oi(c,d,m,T),d.memoizedState=U.state,c=d.child):c=kc(c,d,T),c}function vP(c,d,m,v){return vm(),d.flags|=256,Oi(c,d,m,v),d.child}var t8={dehydrated:null,treeContext:null,retryLane:0};function r8(c){return{baseLanes:c,cachePool:EN()}}function n8(c,d,m){return c=c!==null?c.childLanes&~m:0,d&&(c|=Ka),c}function xP(c,d,m){var v=d.pendingProps,T=!1,U=(d.flags&128)!==0,Z;if((Z=U)||(Z=c!==null&&c.memoizedState===null?!1:(li.current&2)!==0),Z&&(T=!0,d.flags&=-129),Z=(d.flags&32)!==0,d.flags&=-33,c===null){if(Ir){if(T?Wu(d):qu(),Ir){var J=Pi,ae;if(ae=J){e:{for(ae=J,J=$l;ae.nodeType!==8;){if(!J){J=null;break e}if(ae=Do(ae.nextSibling),ae===null){J=null;break e}}J=ae}J!==null?(d.memoizedState={dehydrated:J,treeContext:bh!==null?{id:_c,overflow:Cc}:null,retryLane:536870912},ae=Ga(18,null,null,0),ae.stateNode=J,ae.return=d,d.child=ae,ms=d,Pi=null,ae=!0):ae=!1}ae||vh(d)}if(J=d.memoizedState,J!==null&&(J=J.dehydrated,J!==null))return J.data==="$!"?d.lanes=16:d.lanes=536870912,null;Ac(d)}return J=v.children,v=v.fallback,T?(qu(),T=d.mode,J=s8({mode:"hidden",children:J},T),v=Ih(v,T,m,null),J.return=d,v.return=d,J.sibling=v,d.child=J,T=d.child,T.memoizedState=r8(m),T.childLanes=n8(c,Z,m),d.memoizedState=t8,v):(Wu(d),i8(d,J))}if(ae=c.memoizedState,ae!==null&&(J=ae.dehydrated,J!==null)){if(U)d.flags&256?(Wu(d),d.flags&=-257,d=a8(c,d,m)):d.memoizedState!==null?(qu(),d.child=c.child,d.flags|=128,d=null):(qu(),T=v.fallback,J=d.mode,v=s8({mode:"visible",children:v.children},J),T=Ih(T,J,m,null),T.flags|=2,v.return=d,T.return=d,v.sibling=T,d.child=v,xh(d,c.child,null,m),v=d.child,v.memoizedState=r8(m),v.childLanes=n8(c,Z,m),d.memoizedState=t8,d=T);else if(Wu(d),J.data==="$!"){if(Z=J.nextSibling&&J.nextSibling.dataset,Z)var me=Z.dgst;Z=me,v=Error(n(419)),v.stack="",v.digest=Z,xm({value:v,source:null,stack:null}),d=a8(c,d,m)}else if(vi||Pm(c,d,m,!1),Z=(m&c.childLanes)!==0,vi||Z){if(Z=rn,Z!==null){if(v=m&-m,v&42)v=1;else switch(v){case 2:v=1;break;case 8:v=4;break;case 32:v=16;break;case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:v=64;break;case 268435456:v=134217728;break;default:v=0}if(v=v&(Z.suspendedLanes|m)?0:v,v!==0&&v!==ae.retryLane)throw ae.retryLane=v,zu(c,v),ys(Z,c,v),hP}J.data==="$?"||M8(),d=a8(c,d,m)}else J.data==="$?"?(d.flags|=128,d.child=c.child,d=Xie.bind(null,c),J._reactRetry=d,d=null):(c=ae.treeContext,Pi=Do(J.nextSibling),ms=d,Ir=!0,Ro=null,$l=!1,c!==null&&(za[Wa++]=_c,za[Wa++]=Cc,za[Wa++]=bh,_c=c.id,Cc=c.overflow,bh=d),d=i8(d,v.children),d.flags|=4096);return d}return T?(qu(),T=v.fallback,J=d.mode,ae=c.child,me=ae.sibling,v=ed(ae,{mode:"hidden",children:v.children}),v.subtreeFlags=ae.subtreeFlags&31457280,me!==null?T=ed(me,T):(T=Ih(T,J,m,null),T.flags|=2),T.return=d,v.return=d,v.sibling=T,d.child=v,v=T,T=d.child,J=c.child.memoizedState,J===null?J=r8(m):(ae=J.cachePool,ae!==null?(me=ci._currentValue,ae=ae.parent!==me?{parent:me,pool:me}:ae):ae=EN(),J={baseLanes:J.baseLanes|m,cachePool:ae}),T.memoizedState=J,T.childLanes=n8(c,Z,m),d.memoizedState=t8,v):(Wu(d),m=c.child,c=m.sibling,m=ed(m,{mode:"visible",children:v.children}),m.return=d,m.sibling=null,c!==null&&(Z=d.deletions,Z===null?(d.deletions=[c],d.flags|=16):Z.push(c)),d.child=m,d.memoizedState=null,m)}function i8(c,d){return d=s8({mode:"visible",children:d},c.mode),d.return=c,c.child=d}function s8(c,d){return GP(c,d,0,null)}function a8(c,d,m){return xh(d,c.child,null,m),c=i8(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function EP(c,d,m){c.lanes|=d;var v=c.alternate;v!==null&&(v.lanes|=d),u8(c.return,d,m)}function o8(c,d,m,v,T){var U=c.memoizedState;U===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:T}:(U.isBackwards=d,U.rendering=null,U.renderingStartTime=0,U.last=v,U.tail=m,U.tailMode=T)}function _P(c,d,m){var v=d.pendingProps,T=v.revealOrder,U=v.tail;if(Oi(c,d,v.children,m),v=li.current,v&2)v=v&1|2,d.flags|=128;else{if(c!==null&&c.flags&128)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&EP(c,m,d);else if(c.tag===19)EP(c,m,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}v&=1}switch(be(li,v),T){case"forwards":for(m=d.child,T=null;m!==null;)c=m.alternate,c!==null&&fw(c)===null&&(T=m),m=m.sibling;m=T,m===null?(T=d.child,d.child=null):(T=m.sibling,m.sibling=null),o8(d,!1,T,m,U);break;case"backwards":for(m=null,T=d.child,d.child=null;T!==null;){if(c=T.alternate,c!==null&&fw(c)===null){d.child=T;break}c=T.sibling,T.sibling=m,m=T,T=c}o8(d,!0,m,null,U);break;case"together":o8(d,!1,null,null,void 0);break;default:d.memoizedState=null}return d.child}function kc(c,d,m){if(c!==null&&(d.dependencies=c.dependencies),td|=d.lanes,!(m&d.childLanes))if(c!==null){if(Pm(c,d,m,!1),(m&d.childLanes)===0)return null}else return null;if(c!==null&&d.child!==c.child)throw Error(n(153));if(d.child!==null){for(c=d.child,m=ed(c,c.pendingProps),d.child=m,m.return=d;c.sibling!==null;)c=c.sibling,m=m.sibling=ed(c,c.pendingProps),m.return=d;m.sibling=null}return d.child}function l8(c,d){return c.lanes&d?!0:(c=c.dependencies,!!(c!==null&&Aw(c)))}function Uie(c,d,m){switch(d.tag){case 3:$e(d,d.stateNode.containerInfo),Gu(d,ci,c.memoizedState.cache),vm();break;case 27:case 5:qe(d);break;case 4:$e(d,d.stateNode.containerInfo);break;case 10:Gu(d,d.type,d.memoizedProps.value);break;case 13:var v=d.memoizedState;if(v!==null)return v.dehydrated!==null?(Wu(d),d.flags|=128,null):m&d.child.childLanes?xP(c,d,m):(Wu(d),c=kc(c,d,m),c!==null?c.sibling:null);Wu(d);break;case 19:var T=(c.flags&128)!==0;if(v=(m&d.childLanes)!==0,v||(Pm(c,d,m,!1),v=(m&d.childLanes)!==0),T){if(v)return _P(c,d,m);d.flags|=128}if(T=d.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),be(li,li.current),v)break;return null;case 22:case 23:return d.lanes=0,mP(c,d,m);case 24:Gu(d,ci,c.memoizedState.cache)}return kc(c,d,m)}function CP(c,d,m){if(c!==null)if(c.memoizedProps!==d.pendingProps)vi=!0;else{if(!l8(c,m)&&!(d.flags&128))return vi=!1,Uie(c,d,m);vi=!!(c.flags&131072)}else vi=!1,Ir&&d.flags&1048576&&lN(d,lw,d.index);switch(d.lanes=0,d.tag){case 16:e:{c=d.pendingProps;var v=d.elementType,T=v._init;if(v=T(v._payload),d.type=v,typeof v=="function")E8(v)?(c=Sh(v,c),d.tag=1,d=wP(null,d,v,c,m)):(d.tag=0,d=e8(null,d,v,c,m));else{if(v!=null){if(T=v.$$typeof,T===b){d.tag=11,d=fP(null,d,v,c,m);break e}else if(T===E){d.tag=14,d=pP(null,d,v,c,m);break e}}throw d=H(v)||v,Error(n(306,d,""))}}return d;case 0:return e8(c,d,d.type,d.pendingProps,m);case 1:return v=d.type,T=Sh(v,d.pendingProps),wP(c,d,v,T,m);case 3:e:{if($e(d,d.stateNode.containerInfo),c===null)throw Error(n(387));var U=d.pendingProps;T=d.memoizedState,v=T.element,f8(c,d),Rm(d,U,null,m);var Z=d.memoizedState;if(U=Z.cache,Gu(d,ci,U),U!==T.cache&&d8(d,[ci],m,!0),Mm(),U=Z.element,T.isDehydrated)if(T={element:U,isDehydrated:!1,cache:Z.cache},d.updateQueue.baseState=T,d.memoizedState=T,d.flags&256){d=vP(c,d,U,m);break e}else if(U!==v){v=Fa(Error(n(424)),d),xm(v),d=vP(c,d,U,m);break e}else for(Pi=Do(d.stateNode.containerInfo.firstChild),ms=d,Ir=!0,Ro=null,$l=!0,m=yN(d,null,U,m),d.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(vm(),U===v){d=kc(c,d,m);break e}Oi(c,d,U,m)}d=d.child}return d;case 26:return Nm(c,d),c===null?(m=kO(d.type,null,d.pendingProps,null))?d.memoizedState=m:Ir||(m=d.type,c=d.pendingProps,v=Fw(Ee.current).createElement(m),v[At]=d,v[Ue]=c,Mi(v,m,c),Et(v),d.stateNode=v):d.memoizedState=kO(d.type,c.memoizedProps,d.pendingProps,c.memoizedState),null;case 27:return qe(d),c===null&&Ir&&(v=d.stateNode=CO(d.type,d.pendingProps,Ee.current),ms=d,$l=!0,Pi=Do(v.firstChild)),v=d.pendingProps.children,c!==null||Ir?Oi(c,d,v,m):d.child=xh(d,null,v,m),Nm(c,d),d.child;case 5:return c===null&&Ir&&((T=v=Pi)&&(v=pse(v,d.type,d.pendingProps,$l),v!==null?(d.stateNode=v,ms=d,Pi=Do(v.firstChild),$l=!1,T=!0):T=!1),T||vh(d)),qe(d),T=d.type,U=d.pendingProps,Z=c!==null?c.memoizedProps:null,v=U.children,K8(T,U)?v=null:Z!==null&&K8(T,Z)&&(d.flags|=32),d.memoizedState!==null&&(T=jx(c,d,Nie,null,null,m),Zm._currentValue=T),Nm(c,d),Oi(c,d,v,m),d.child;case 6:return c===null&&Ir&&((c=m=Pi)&&(m=gse(m,d.pendingProps,$l),m!==null?(d.stateNode=m,ms=d,Pi=null,c=!0):c=!1),c||vh(d)),null;case 13:return xP(c,d,m);case 4:return $e(d,d.stateNode.containerInfo),v=d.pendingProps,c===null?d.child=xh(d,null,v,m):Oi(c,d,v,m),d.child;case 11:return fP(c,d,d.type,d.pendingProps,m);case 7:return Oi(c,d,d.pendingProps,m),d.child;case 8:return Oi(c,d,d.pendingProps.children,m),d.child;case 12:return Oi(c,d,d.pendingProps.children,m),d.child;case 10:return v=d.pendingProps,Gu(d,d.type,v.value),Oi(c,d,v.children,m),d.child;case 9:return T=d.type._context,v=d.pendingProps.children,$h(d),T=Zi(T),v=v(T),d.flags|=1,Oi(c,d,v,m),d.child;case 14:return pP(c,d,d.type,d.pendingProps,m);case 15:return gP(c,d,d.type,d.pendingProps,m);case 19:return _P(c,d,m);case 22:return mP(c,d,m);case 24:return $h(d),v=Zi(ci),c===null?(T=Mx(),T===null&&(T=rn,U=Px(),T.pooledCache=U,U.refCount++,U!==null&&(T.pooledCacheLanes|=m),T=U),d.memoizedState={parent:v,cache:T},h8(d),Gu(d,ci,T)):(c.lanes&m&&(f8(c,d),Rm(d,null,null,m),Mm()),T=c.memoizedState,U=d.memoizedState,T.parent!==v?(T={parent:v,cache:v},d.memoizedState=T,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=T),Gu(d,ci,v)):(v=U.cache,Gu(d,ci,v),v!==T.cache&&d8(d,[ci],m,!0))),Oi(c,d,d.pendingProps.children,m),d.child;case 29:throw d.pendingProps}throw Error(n(156,d.tag))}var c8=ee(null),kh=null,$c=null;function Gu(c,d,m){be(c8,d._currentValue),d._currentValue=m}function Tc(c){c._currentValue=c8.current,ce(c8)}function u8(c,d,m){for(;c!==null;){var v=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,v!==null&&(v.childLanes|=d)):v!==null&&(v.childLanes&d)!==d&&(v.childLanes|=d),c===m)break;c=c.return}}function d8(c,d,m,v){var T=c.child;for(T!==null&&(T.return=c);T!==null;){var U=T.dependencies;if(U!==null){var Z=T.child;U=U.firstContext;e:for(;U!==null;){var J=U;U=T;for(var ae=0;ae<d.length;ae++)if(J.context===d[ae]){U.lanes|=m,J=U.alternate,J!==null&&(J.lanes|=m),u8(U.return,m,c),v||(Z=null);break e}U=J.next}}else if(T.tag===18){if(Z=T.return,Z===null)throw Error(n(341));Z.lanes|=m,U=Z.alternate,U!==null&&(U.lanes|=m),u8(Z,m,c),Z=null}else Z=T.child;if(Z!==null)Z.return=T;else for(Z=T;Z!==null;){if(Z===c){Z=null;break}if(T=Z.sibling,T!==null){T.return=Z.return,Z=T;break}Z=Z.return}T=Z}}function Pm(c,d,m,v){c=null;for(var T=d,U=!1;T!==null;){if(!U){if(T.flags&524288)U=!0;else if(T.flags&262144)break}if(T.tag===10){var Z=T.alternate;if(Z===null)throw Error(n(387));if(Z=Z.memoizedProps,Z!==null){var J=T.type;ua(T.pendingProps.value,Z.value)||(c!==null?c.push(J):c=[J])}}else if(T===ye.current){if(Z=T.alternate,Z===null)throw Error(n(387));Z.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(c!==null?c.push(Zm):c=[Zm])}T=T.return}c!==null&&d8(d,c,m,v),d.flags|=262144}function Aw(c){for(c=c.firstContext;c!==null;){if(!ua(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function $h(c){kh=c,$c=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Zi(c){return AP(kh,c)}function Sw(c,d){return kh===null&&$h(c),AP(c,d)}function AP(c,d){var m=d._currentValue;if(d={context:d,memoizedValue:m,next:null},$c===null){if(c===null)throw Error(n(308));$c=d,c.dependencies={lanes:0,firstContext:d},c.flags|=524288}else $c=$c.next=d;return m}var Ku=!1;function h8(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function f8(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function Yu(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Zu(c,d,m){var v=c.updateQueue;if(v===null)return null;if(v=v.shared,An&2){var T=v.pending;return T===null?d.next=d:(d.next=T.next,T.next=d),v.pending=d,d=aw(c),aN(c,null,m),d}return sw(c,v,d,m),aw(c)}function Om(c,d,m){if(d=d.updateQueue,d!==null&&(d=d.shared,(m&4194176)!==0)){var v=d.lanes;v&=c.pendingLanes,m|=v,d.lanes=m,Te(c,m)}}function p8(c,d){var m=c.updateQueue,v=c.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var T=null,U=null;if(m=m.firstBaseUpdate,m!==null){do{var Z={lane:m.lane,tag:m.tag,payload:m.payload,callback:null,next:null};U===null?T=U=Z:U=U.next=Z,m=m.next}while(m!==null);U===null?T=U=d:U=U.next=d}else T=U=d;m={baseState:v.baseState,firstBaseUpdate:T,lastBaseUpdate:U,shared:v.shared,callbacks:v.callbacks},c.updateQueue=m;return}c=m.lastBaseUpdate,c===null?m.firstBaseUpdate=d:c.next=d,m.lastBaseUpdate=d}var g8=!1;function Mm(){if(g8){var c=kp;if(c!==null)throw c}}function Rm(c,d,m,v){g8=!1;var T=c.updateQueue;Ku=!1;var U=T.firstBaseUpdate,Z=T.lastBaseUpdate,J=T.shared.pending;if(J!==null){T.shared.pending=null;var ae=J,me=ae.next;ae.next=null,Z===null?U=me:Z.next=me,Z=ae;var De=c.alternate;De!==null&&(De=De.updateQueue,J=De.lastBaseUpdate,J!==Z&&(J===null?De.firstBaseUpdate=me:J.next=me,De.lastBaseUpdate=ae))}if(U!==null){var He=T.baseState;Z=0,De=me=ae=null,J=U;do{var Se=J.lane&-536870913,Re=Se!==J.lane;if(Re?(kr&Se)===Se:(v&Se)===Se){Se!==0&&Se===Sp&&(g8=!0),De!==null&&(De=De.next={lane:0,tag:J.tag,payload:J.payload,callback:null,next:null});e:{var $t=c,Yt=J;Se=d;var Pn=m;switch(Yt.tag){case 1:if($t=Yt.payload,typeof $t=="function"){He=$t.call(Pn,He,Se);break e}He=$t;break e;case 3:$t.flags=$t.flags&-65537|128;case 0:if($t=Yt.payload,Se=typeof $t=="function"?$t.call(Pn,He,Se):$t,Se==null)break e;He=z({},He,Se);break e;case 2:Ku=!0}}Se=J.callback,Se!==null&&(c.flags|=64,Re&&(c.flags|=8192),Re=T.callbacks,Re===null?T.callbacks=[Se]:Re.push(Se))}else Re={lane:Se,tag:J.tag,payload:J.payload,callback:J.callback,next:null},De===null?(me=De=Re,ae=He):De=De.next=Re,Z|=Se;if(J=J.next,J===null){if(J=T.shared.pending,J===null)break;Re=J,J=Re.next,Re.next=null,T.lastBaseUpdate=Re,T.shared.pending=null}}while(!0);De===null&&(ae=He),T.baseState=ae,T.firstBaseUpdate=me,T.lastBaseUpdate=De,U===null&&(T.shared.lanes=0),td|=Z,c.lanes=Z,c.memoizedState=He}}function SP(c,d){if(typeof c!="function")throw Error(n(191,c));c.call(d)}function kP(c,d){var m=c.callbacks;if(m!==null)for(c.callbacks=null,c=0;c<m.length;c++)SP(m[c],d)}function jm(c,d){try{var m=d.updateQueue,v=m!==null?m.lastEffect:null;if(v!==null){var T=v.next;m=T;do{if((m.tag&c)===c){v=void 0;var U=m.create,Z=m.inst;v=U(),Z.destroy=v}m=m.next}while(m!==T)}}catch(J){Yr(d,d.return,J)}}function Qu(c,d,m){try{var v=d.updateQueue,T=v!==null?v.lastEffect:null;if(T!==null){var U=T.next;v=U;do{if((v.tag&c)===c){var Z=v.inst,J=Z.destroy;if(J!==void 0){Z.destroy=void 0,T=d;var ae=m;try{J()}catch(me){Yr(T,ae,me)}}}v=v.next}while(v!==U)}}catch(me){Yr(d,d.return,me)}}function $P(c){var d=c.updateQueue;if(d!==null){var m=c.stateNode;try{kP(d,m)}catch(v){Yr(c,c.return,v)}}}function TP(c,d,m){m.props=Sh(c.type,c.memoizedProps),m.state=c.memoizedState;try{m.componentWillUnmount()}catch(v){Yr(c,d,v)}}function Th(c,d){try{var m=c.ref;if(m!==null){var v=c.stateNode;switch(c.tag){case 26:case 27:case 5:var T=v;break;default:T=v}typeof m=="function"?c.refCleanup=m(T):m.current=T}}catch(U){Yr(c,d,U)}}function da(c,d){var m=c.ref,v=c.refCleanup;if(m!==null)if(typeof v=="function")try{v()}catch(T){Yr(c,d,T)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof m=="function")try{m(null)}catch(T){Yr(c,d,T)}else m.current=null}function IP(c){var d=c.type,m=c.memoizedProps,v=c.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":m.autoFocus&&v.focus();break e;case"img":m.src?v.src=m.src:m.srcSet&&(v.srcset=m.srcSet)}}catch(T){Yr(c,c.return,T)}}function NP(c,d,m){try{var v=c.stateNode;cse(v,c.type,m,d),v[Ue]=d}catch(T){Yr(c,c.return,T)}}function PP(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27||c.tag===4}function m8(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||PP(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==27&&c.tag!==18;){if(c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function y8(c,d,m){var v=c.tag;if(v===5||v===6)c=c.stateNode,d?m.nodeType===8?m.parentNode.insertBefore(c,d):m.insertBefore(c,d):(m.nodeType===8?(d=m.parentNode,d.insertBefore(c,m)):(d=m,d.appendChild(c)),m=m._reactRootContainer,m!=null||d.onclick!==null||(d.onclick=Lw));else if(v!==4&&v!==27&&(c=c.child,c!==null))for(y8(c,d,m),c=c.sibling;c!==null;)y8(c,d,m),c=c.sibling}function kw(c,d,m){var v=c.tag;if(v===5||v===6)c=c.stateNode,d?m.insertBefore(c,d):m.appendChild(c);else if(v!==4&&v!==27&&(c=c.child,c!==null))for(kw(c,d,m),c=c.sibling;c!==null;)kw(c,d,m),c=c.sibling}var Ic=!1,In=!1,b8=!1,OP=typeof WeakSet=="function"?WeakSet:Set,xi=null,MP=!1;function Bie(c,d){if(c=c.containerInfo,V8=Gw,c=QI(c),vx(c)){if("selectionStart"in c)var m={start:c.selectionStart,end:c.selectionEnd};else e:{m=(m=c.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var T=v.anchorOffset,U=v.focusNode;v=v.focusOffset;try{m.nodeType,U.nodeType}catch{m=null;break e}var Z=0,J=-1,ae=-1,me=0,De=0,He=c,Se=null;t:for(;;){for(var Re;He!==m||T!==0&&He.nodeType!==3||(J=Z+T),He!==U||v!==0&&He.nodeType!==3||(ae=Z+v),He.nodeType===3&&(Z+=He.nodeValue.length),(Re=He.firstChild)!==null;)Se=He,He=Re;for(;;){if(He===c)break t;if(Se===m&&++me===T&&(J=Z),Se===U&&++De===v&&(ae=Z),(Re=He.nextSibling)!==null)break;He=Se,Se=He.parentNode}He=Re}m=J===-1||ae===-1?null:{start:J,end:ae}}else m=null}m=m||{start:0,end:0}}else m=null;for(G8={focusedElem:c,selectionRange:m},Gw=!1,xi=d;xi!==null;)if(d=xi,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,xi=c;else for(;xi!==null;){switch(d=xi,U=d.alternate,c=d.flags,d.tag){case 0:break;case 11:case 15:break;case 1:if(c&1024&&U!==null){c=void 0,m=d,T=U.memoizedProps,U=U.memoizedState,v=m.stateNode;try{var $t=Sh(m.type,T,m.elementType===m.type);c=v.getSnapshotBeforeUpdate($t,U),v.__reactInternalSnapshotBeforeUpdate=c}catch(Yt){Yr(m,m.return,Yt)}}break;case 3:if(c&1024){if(c=d.stateNode.containerInfo,m=c.nodeType,m===9)Q8(c);else if(m===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":Q8(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if(c&1024)throw Error(n(163))}if(c=d.sibling,c!==null){c.return=d.return,xi=c;break}xi=d.return}return $t=MP,MP=!1,$t}function RP(c,d,m){var v=m.flags;switch(m.tag){case 0:case 11:case 15:Pc(c,m),v&4&&jm(5,m);break;case 1:if(Pc(c,m),v&4)if(c=m.stateNode,d===null)try{c.componentDidMount()}catch(J){Yr(m,m.return,J)}else{var T=Sh(m.type,d.memoizedProps);d=d.memoizedState;try{c.componentDidUpdate(T,d,c.__reactInternalSnapshotBeforeUpdate)}catch(J){Yr(m,m.return,J)}}v&64&&$P(m),v&512&&Th(m,m.return);break;case 3:if(Pc(c,m),v&64&&(v=m.updateQueue,v!==null)){if(c=null,m.child!==null)switch(m.child.tag){case 27:case 5:c=m.child.stateNode;break;case 1:c=m.child.stateNode}try{kP(v,c)}catch(J){Yr(m,m.return,J)}}break;case 26:Pc(c,m),v&512&&Th(m,m.return);break;case 27:case 5:Pc(c,m),d===null&&v&4&&IP(m),v&512&&Th(m,m.return);break;case 12:Pc(c,m);break;case 13:Pc(c,m),v&4&&UP(c,m);break;case 22:if(T=m.memoizedState!==null||Ic,!T){d=d!==null&&d.memoizedState!==null||In;var U=Ic,Z=In;Ic=T,(In=d)&&!Z?Xu(c,m,(m.subtreeFlags&8772)!==0):Pc(c,m),Ic=U,In=Z}v&512&&(m.memoizedProps.mode==="manual"?Th(m,m.return):da(m,m.return));break;default:Pc(c,m)}}function jP(c){var d=c.alternate;d!==null&&(c.alternate=null,jP(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&Rt(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var Qn=null,ha=!1;function Nc(c,d,m){for(m=m.child;m!==null;)DP(c,d,m),m=m.sibling}function DP(c,d,m){if(Xe&&typeof Xe.onCommitFiberUnmount=="function")try{Xe.onCommitFiberUnmount(Me,m)}catch{}switch(m.tag){case 26:In||da(m,d),Nc(c,d,m),m.memoizedState?m.memoizedState.count--:m.stateNode&&(m=m.stateNode,m.parentNode.removeChild(m));break;case 27:In||da(m,d);var v=Qn,T=ha;for(Qn=m.stateNode,Nc(c,d,m),m=m.stateNode,d=m.attributes;d.length;)m.removeAttributeNode(d[0]);Rt(m),Qn=v,ha=T;break;case 5:In||da(m,d);case 6:T=Qn;var U=ha;if(Qn=null,Nc(c,d,m),Qn=T,ha=U,Qn!==null)if(ha)try{c=Qn,v=m.stateNode,c.nodeType===8?c.parentNode.removeChild(v):c.removeChild(v)}catch(Z){Yr(m,d,Z)}else try{Qn.removeChild(m.stateNode)}catch(Z){Yr(m,d,Z)}break;case 18:Qn!==null&&(ha?(d=Qn,m=m.stateNode,d.nodeType===8?Z8(d.parentNode,m):d.nodeType===1&&Z8(d,m),e1(d)):Z8(Qn,m.stateNode));break;case 4:v=Qn,T=ha,Qn=m.stateNode.containerInfo,ha=!0,Nc(c,d,m),Qn=v,ha=T;break;case 0:case 11:case 14:case 15:In||Qu(2,m,d),In||Qu(4,m,d),Nc(c,d,m);break;case 1:In||(da(m,d),v=m.stateNode,typeof v.componentWillUnmount=="function"&&TP(m,d,v)),Nc(c,d,m);break;case 21:Nc(c,d,m);break;case 22:In||da(m,d),In=(v=In)||m.memoizedState!==null,Nc(c,d,m),In=v;break;default:Nc(c,d,m)}}function UP(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{e1(c)}catch(m){Yr(d,d.return,m)}}function Lie(c){switch(c.tag){case 13:case 19:var d=c.stateNode;return d===null&&(d=c.stateNode=new OP),d;case 22:return c=c.stateNode,d=c._retryCache,d===null&&(d=c._retryCache=new OP),d;default:throw Error(n(435,c.tag))}}function w8(c,d){var m=Lie(c);d.forEach(function(v){var T=Jie.bind(null,c,v);m.has(v)||(m.add(v),v.then(T,T))})}function Ha(c,d){var m=d.deletions;if(m!==null)for(var v=0;v<m.length;v++){var T=m[v],U=c,Z=d,J=Z;e:for(;J!==null;){switch(J.tag){case 27:case 5:Qn=J.stateNode,ha=!1;break e;case 3:Qn=J.stateNode.containerInfo,ha=!0;break e;case 4:Qn=J.stateNode.containerInfo,ha=!0;break e}J=J.return}if(Qn===null)throw Error(n(160));DP(U,Z,T),Qn=null,ha=!1,U=T.alternate,U!==null&&(U.return=null),T.return=null}if(d.subtreeFlags&13878)for(d=d.child;d!==null;)BP(d,c),d=d.sibling}var jo=null;function BP(c,d){var m=c.alternate,v=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Ha(d,c),Va(c),v&4&&(Qu(3,c,c.return),jm(3,c),Qu(5,c,c.return));break;case 1:Ha(d,c),Va(c),v&512&&(In||m===null||da(m,m.return)),v&64&&Ic&&(c=c.updateQueue,c!==null&&(v=c.callbacks,v!==null&&(m=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=m===null?v:m.concat(v))));break;case 26:var T=jo;if(Ha(d,c),Va(c),v&512&&(In||m===null||da(m,m.return)),v&4){var U=m!==null?m.memoizedState:null;if(v=c.memoizedState,m===null)if(v===null)if(c.stateNode===null){e:{v=c.type,m=c.memoizedProps,T=T.ownerDocument||T;t:switch(v){case"title":U=T.getElementsByTagName("title")[0],(!U||U[er]||U[At]||U.namespaceURI==="http://www.w3.org/2000/svg"||U.hasAttribute("itemprop"))&&(U=T.createElement(v),T.head.insertBefore(U,T.querySelector("head > title"))),Mi(U,v,m),U[At]=c,Et(U),v=U;break e;case"link":var Z=IO("link","href",T).get(v+(m.href||""));if(Z){for(var J=0;J<Z.length;J++)if(U=Z[J],U.getAttribute("href")===(m.href==null?null:m.href)&&U.getAttribute("rel")===(m.rel==null?null:m.rel)&&U.getAttribute("title")===(m.title==null?null:m.title)&&U.getAttribute("crossorigin")===(m.crossOrigin==null?null:m.crossOrigin)){Z.splice(J,1);break t}}U=T.createElement(v),Mi(U,v,m),T.head.appendChild(U);break;case"meta":if(Z=IO("meta","content",T).get(v+(m.content||""))){for(J=0;J<Z.length;J++)if(U=Z[J],U.getAttribute("content")===(m.content==null?null:""+m.content)&&U.getAttribute("name")===(m.name==null?null:m.name)&&U.getAttribute("property")===(m.property==null?null:m.property)&&U.getAttribute("http-equiv")===(m.httpEquiv==null?null:m.httpEquiv)&&U.getAttribute("charset")===(m.charSet==null?null:m.charSet)){Z.splice(J,1);break t}}U=T.createElement(v),Mi(U,v,m),T.head.appendChild(U);break;default:throw Error(n(468,v))}U[At]=c,Et(U),v=U}c.stateNode=v}else NO(T,c.type,c.stateNode);else c.stateNode=TO(T,v,c.memoizedProps);else U!==v?(U===null?m.stateNode!==null&&(m=m.stateNode,m.parentNode.removeChild(m)):U.count--,v===null?NO(T,c.type,c.stateNode):TO(T,v,c.memoizedProps)):v===null&&c.stateNode!==null&&NP(c,c.memoizedProps,m.memoizedProps)}break;case 27:if(v&4&&c.alternate===null){T=c.stateNode,U=c.memoizedProps;try{for(var ae=T.firstChild;ae;){var me=ae.nextSibling,De=ae.nodeName;ae[er]||De==="HEAD"||De==="BODY"||De==="SCRIPT"||De==="STYLE"||De==="LINK"&&ae.rel.toLowerCase()==="stylesheet"||T.removeChild(ae),ae=me}for(var He=c.type,Se=T.attributes;Se.length;)T.removeAttributeNode(Se[0]);Mi(T,He,U),T[At]=c,T[Ue]=U}catch($t){Yr(c,c.return,$t)}}case 5:if(Ha(d,c),Va(c),v&512&&(In||m===null||da(m,m.return)),c.flags&32){T=c.stateNode;try{Du(T,"")}catch($t){Yr(c,c.return,$t)}}v&4&&c.stateNode!=null&&(T=c.memoizedProps,NP(c,T,m!==null?m.memoizedProps:T)),v&1024&&(b8=!0);break;case 6:if(Ha(d,c),Va(c),v&4){if(c.stateNode===null)throw Error(n(162));v=c.memoizedProps,m=c.stateNode;try{m.nodeValue=v}catch($t){Yr(c,c.return,$t)}}break;case 3:if(qw=null,T=jo,jo=zw(d.containerInfo),Ha(d,c),jo=T,Va(c),v&4&&m!==null&&m.memoizedState.isDehydrated)try{e1(d.containerInfo)}catch($t){Yr(c,c.return,$t)}b8&&(b8=!1,LP(c));break;case 4:v=jo,jo=zw(c.stateNode.containerInfo),Ha(d,c),Va(c),jo=v;break;case 12:Ha(d,c),Va(c);break;case 13:Ha(d,c),Va(c),c.child.flags&8192&&c.memoizedState!==null!=(m!==null&&m.memoizedState!==null)&&($8=pt()),v&4&&(v=c.updateQueue,v!==null&&(c.updateQueue=null,w8(c,v)));break;case 22:if(v&512&&(In||m===null||da(m,m.return)),ae=c.memoizedState!==null,me=m!==null&&m.memoizedState!==null,De=Ic,He=In,Ic=De||ae,In=He||me,Ha(d,c),In=He,Ic=De,Va(c),d=c.stateNode,d._current=c,d._visibility&=-3,d._visibility|=d._pendingVisibility&2,v&8192&&(d._visibility=ae?d._visibility&-2:d._visibility|1,ae&&(d=Ic||In,m===null||me||d||Np(c)),c.memoizedProps===null||c.memoizedProps.mode!=="manual"))e:for(m=null,d=c;;){if(d.tag===5||d.tag===26||d.tag===27){if(m===null){me=m=d;try{if(T=me.stateNode,ae)U=T.style,typeof U.setProperty=="function"?U.setProperty("display","none","important"):U.display="none";else{Z=me.stateNode,J=me.memoizedProps.style;var Re=J!=null&&J.hasOwnProperty("display")?J.display:null;Z.style.display=Re==null||typeof Re=="boolean"?"":(""+Re).trim()}}catch($t){Yr(me,me.return,$t)}}}else if(d.tag===6){if(m===null){me=d;try{me.stateNode.nodeValue=ae?"":me.memoizedProps}catch($t){Yr(me,me.return,$t)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===c)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break e;for(;d.sibling===null;){if(d.return===null||d.return===c)break e;m===d&&(m=null),d=d.return}m===d&&(m=null),d.sibling.return=d.return,d=d.sibling}v&4&&(v=c.updateQueue,v!==null&&(m=v.retryQueue,m!==null&&(v.retryQueue=null,w8(c,m))));break;case 19:Ha(d,c),Va(c),v&4&&(v=c.updateQueue,v!==null&&(c.updateQueue=null,w8(c,v)));break;case 21:break;default:Ha(d,c),Va(c)}}function Va(c){var d=c.flags;if(d&2){try{if(c.tag!==27){e:{for(var m=c.return;m!==null;){if(PP(m)){var v=m;break e}m=m.return}throw Error(n(160))}switch(v.tag){case 27:var T=v.stateNode,U=m8(c);kw(c,U,T);break;case 5:var Z=v.stateNode;v.flags&32&&(Du(Z,""),v.flags&=-33);var J=m8(c);kw(c,J,Z);break;case 3:case 4:var ae=v.stateNode.containerInfo,me=m8(c);y8(c,me,ae);break;default:throw Error(n(161))}}}catch(De){Yr(c,c.return,De)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function LP(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var d=c;LP(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),c=c.sibling}}function Pc(c,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)RP(c,d.alternate,d),d=d.sibling}function Np(c){for(c=c.child;c!==null;){var d=c;switch(d.tag){case 0:case 11:case 14:case 15:Qu(4,d,d.return),Np(d);break;case 1:da(d,d.return);var m=d.stateNode;typeof m.componentWillUnmount=="function"&&TP(d,d.return,m),Np(d);break;case 26:case 27:case 5:da(d,d.return),Np(d);break;case 22:da(d,d.return),d.memoizedState===null&&Np(d);break;default:Np(d)}c=c.sibling}}function Xu(c,d,m){for(m=m&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var v=d.alternate,T=c,U=d,Z=U.flags;switch(U.tag){case 0:case 11:case 15:Xu(T,U,m),jm(4,U);break;case 1:if(Xu(T,U,m),v=U,T=v.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(me){Yr(v,v.return,me)}if(v=U,T=v.updateQueue,T!==null){var J=v.stateNode;try{var ae=T.shared.hiddenCallbacks;if(ae!==null)for(T.shared.hiddenCallbacks=null,T=0;T<ae.length;T++)SP(ae[T],J)}catch(me){Yr(v,v.return,me)}}m&&Z&64&&$P(U),Th(U,U.return);break;case 26:case 27:case 5:Xu(T,U,m),m&&v===null&&Z&4&&IP(U),Th(U,U.return);break;case 12:Xu(T,U,m);break;case 13:Xu(T,U,m),m&&Z&4&&UP(T,U);break;case 22:U.memoizedState===null&&Xu(T,U,m),Th(U,U.return);break;default:Xu(T,U,m)}d=d.sibling}}function v8(c,d){var m=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),c=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(c=d.memoizedState.cachePool.pool),c!==m&&(c!=null&&c.refCount++,m!=null&&Sm(m))}function x8(c,d){c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Sm(c))}function Ju(c,d,m,v){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)FP(c,d,m,v),d=d.sibling}function FP(c,d,m,v){var T=d.flags;switch(d.tag){case 0:case 11:case 15:Ju(c,d,m,v),T&2048&&jm(9,d);break;case 3:Ju(c,d,m,v),T&2048&&(c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Sm(c)));break;case 12:if(T&2048){Ju(c,d,m,v),c=d.stateNode;try{var U=d.memoizedProps,Z=U.id,J=U.onPostCommit;typeof J=="function"&&J(Z,d.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(ae){Yr(d,d.return,ae)}}else Ju(c,d,m,v);break;case 23:break;case 22:U=d.stateNode,d.memoizedState!==null?U._visibility&4?Ju(c,d,m,v):Dm(c,d):U._visibility&4?Ju(c,d,m,v):(U._visibility|=4,Pp(c,d,m,v,(d.subtreeFlags&10256)!==0)),T&2048&&v8(d.alternate,d);break;case 24:Ju(c,d,m,v),T&2048&&x8(d.alternate,d);break;default:Ju(c,d,m,v)}}function Pp(c,d,m,v,T){for(T=T&&(d.subtreeFlags&10256)!==0,d=d.child;d!==null;){var U=c,Z=d,J=m,ae=v,me=Z.flags;switch(Z.tag){case 0:case 11:case 15:Pp(U,Z,J,ae,T),jm(8,Z);break;case 23:break;case 22:var De=Z.stateNode;Z.memoizedState!==null?De._visibility&4?Pp(U,Z,J,ae,T):Dm(U,Z):(De._visibility|=4,Pp(U,Z,J,ae,T)),T&&me&2048&&v8(Z.alternate,Z);break;case 24:Pp(U,Z,J,ae,T),T&&me&2048&&x8(Z.alternate,Z);break;default:Pp(U,Z,J,ae,T)}d=d.sibling}}function Dm(c,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var m=c,v=d,T=v.flags;switch(v.tag){case 22:Dm(m,v),T&2048&&v8(v.alternate,v);break;case 24:Dm(m,v),T&2048&&x8(v.alternate,v);break;default:Dm(m,v)}d=d.sibling}}var Um=8192;function Op(c){if(c.subtreeFlags&Um)for(c=c.child;c!==null;)zP(c),c=c.sibling}function zP(c){switch(c.tag){case 26:Op(c),c.flags&Um&&c.memoizedState!==null&&$se(jo,c.memoizedState,c.memoizedProps);break;case 5:Op(c);break;case 3:case 4:var d=jo;jo=zw(c.stateNode.containerInfo),Op(c),jo=d;break;case 22:c.memoizedState===null&&(d=c.alternate,d!==null&&d.memoizedState!==null?(d=Um,Um=16777216,Op(c),Um=d):Op(c));break;default:Op(c)}}function WP(c){var d=c.alternate;if(d!==null&&(c=d.child,c!==null)){d.child=null;do d=c.sibling,c.sibling=null,c=d;while(c!==null)}}function Bm(c){var d=c.deletions;if(c.flags&16){if(d!==null)for(var m=0;m<d.length;m++){var v=d[m];xi=v,HP(v,c)}WP(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)qP(c),c=c.sibling}function qP(c){switch(c.tag){case 0:case 11:case 15:Bm(c),c.flags&2048&&Qu(9,c,c.return);break;case 3:Bm(c);break;case 12:Bm(c);break;case 22:var d=c.stateNode;c.memoizedState!==null&&d._visibility&4&&(c.return===null||c.return.tag!==13)?(d._visibility&=-5,$w(c)):Bm(c);break;default:Bm(c)}}function $w(c){var d=c.deletions;if(c.flags&16){if(d!==null)for(var m=0;m<d.length;m++){var v=d[m];xi=v,HP(v,c)}WP(c)}for(c=c.child;c!==null;){switch(d=c,d.tag){case 0:case 11:case 15:Qu(8,d,d.return),$w(d);break;case 22:m=d.stateNode,m._visibility&4&&(m._visibility&=-5,$w(d));break;default:$w(d)}c=c.sibling}}function HP(c,d){for(;xi!==null;){var m=xi;switch(m.tag){case 0:case 11:case 15:Qu(8,m,d);break;case 23:case 22:if(m.memoizedState!==null&&m.memoizedState.cachePool!==null){var v=m.memoizedState.cachePool.pool;v!=null&&v.refCount++}break;case 24:Sm(m.memoizedState.cache)}if(v=m.child,v!==null)v.return=m,xi=v;else e:for(m=c;xi!==null;){v=xi;var T=v.sibling,U=v.return;if(jP(v),v===m){xi=null;break e}if(T!==null){T.return=U,xi=T;break e}xi=U}}}function Fie(c,d,m,v){this.tag=c,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Ga(c,d,m,v){return new Fie(c,d,m,v)}function E8(c){return c=c.prototype,!(!c||!c.isReactComponent)}function ed(c,d){var m=c.alternate;return m===null?(m=Ga(c.tag,d,c.key,c.mode),m.elementType=c.elementType,m.type=c.type,m.stateNode=c.stateNode,m.alternate=c,c.alternate=m):(m.pendingProps=d,m.type=c.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=c.flags&31457280,m.childLanes=c.childLanes,m.lanes=c.lanes,m.child=c.child,m.memoizedProps=c.memoizedProps,m.memoizedState=c.memoizedState,m.updateQueue=c.updateQueue,d=c.dependencies,m.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},m.sibling=c.sibling,m.index=c.index,m.ref=c.ref,m.refCleanup=c.refCleanup,m}function VP(c,d){c.flags&=31457282;var m=c.alternate;return m===null?(c.childLanes=0,c.lanes=d,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=m.childLanes,c.lanes=m.lanes,c.child=m.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=m.memoizedProps,c.memoizedState=m.memoizedState,c.updateQueue=m.updateQueue,c.type=m.type,d=m.dependencies,c.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),c}function Tw(c,d,m,v,T,U){var Z=0;if(v=c,typeof c=="function")E8(c)&&(Z=1);else if(typeof c=="string")Z=Sse(c,m,ve.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case l:return Ih(m.children,T,U,d);case u:Z=8,T|=24;break;case h:return c=Ga(12,m,d,T|2),c.elementType=h,c.lanes=U,c;case w:return c=Ga(13,m,d,T),c.elementType=w,c.lanes=U,c;case x:return c=Ga(19,m,d,T),c.elementType=x,c.lanes=U,c;case _:return GP(m,T,U,d);default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case f:case y:Z=10;break e;case g:Z=9;break e;case b:Z=11;break e;case E:Z=14;break e;case S:Z=16,v=null;break e}Z=29,m=Error(n(130,c===null?"null":typeof c,"")),v=null}return d=Ga(Z,m,d,T),d.elementType=c,d.type=v,d.lanes=U,d}function Ih(c,d,m,v){return c=Ga(7,c,v,d),c.lanes=m,c}function GP(c,d,m,v){c=Ga(22,c,v,d),c.elementType=_,c.lanes=m;var T={_visibility:1,_pendingVisibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null,_current:null,detach:function(){var U=T._current;if(U===null)throw Error(n(456));if(!(T._pendingVisibility&2)){var Z=zu(U,2);Z!==null&&(T._pendingVisibility|=2,ys(Z,U,2))}},attach:function(){var U=T._current;if(U===null)throw Error(n(456));if(T._pendingVisibility&2){var Z=zu(U,2);Z!==null&&(T._pendingVisibility&=-3,ys(Z,U,2))}}};return c.stateNode=T,c}function _8(c,d,m){return c=Ga(6,c,null,d),c.lanes=m,c}function C8(c,d,m){return d=Ga(4,c.children!==null?c.children:[],c.key,d),d.lanes=m,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}function Oc(c){c.flags|=4}function KP(c,d){if(d.type!=="stylesheet"||d.state.loading&4)c.flags&=-16777217;else if(c.flags|=16777216,!PO(d)){if(d=qa.current,d!==null&&((kr&4194176)===kr?Tl!==null:(kr&62914560)!==kr&&!(kr&536870912)||d!==Tl))throw _m=Tx,dN;c.flags|=8192}}function Iw(c,d){d!==null&&(c.flags|=4),c.flags&16384&&(d=c.tag!==22?Q():536870912,c.lanes|=d,Rp|=d)}function Lm(c,d){if(!Ir)switch(c.tailMode){case"hidden":d=c.tail;for(var m=null;d!==null;)d.alternate!==null&&(m=d),d=d.sibling;m===null?c.tail=null:m.sibling=null;break;case"collapsed":m=c.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:v.sibling=null}}function Cn(c){var d=c.alternate!==null&&c.alternate.child===c.child,m=0,v=0;if(d)for(var T=c.child;T!==null;)m|=T.lanes|T.childLanes,v|=T.subtreeFlags&31457280,v|=T.flags&31457280,T.return=c,T=T.sibling;else for(T=c.child;T!==null;)m|=T.lanes|T.childLanes,v|=T.subtreeFlags,v|=T.flags,T.return=c,T=T.sibling;return c.subtreeFlags|=v,c.childLanes=m,d}function zie(c,d,m){var v=d.pendingProps;switch(kx(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Cn(d),null;case 1:return Cn(d),null;case 3:return m=d.stateNode,v=null,c!==null&&(v=c.memoizedState.cache),d.memoizedState.cache!==v&&(d.flags|=2048),Tc(ci),we(),m.pendingContext&&(m.context=m.pendingContext,m.pendingContext=null),(c===null||c.child===null)&&(wm(d)?Oc(d):c===null||c.memoizedState.isDehydrated&&!(d.flags&256)||(d.flags|=1024,Ro!==null&&(P8(Ro),Ro=null))),Cn(d),null;case 26:return m=d.memoizedState,c===null?(Oc(d),m!==null?(Cn(d),KP(d,m)):(Cn(d),d.flags&=-16777217)):m?m!==c.memoizedState?(Oc(d),Cn(d),KP(d,m)):(Cn(d),d.flags&=-16777217):(c.memoizedProps!==v&&Oc(d),Cn(d),d.flags&=-16777217),null;case 27:Ge(d),m=Ee.current;var T=d.type;if(c!==null&&d.stateNode!=null)c.memoizedProps!==v&&Oc(d);else{if(!v){if(d.stateNode===null)throw Error(n(166));return Cn(d),null}c=ve.current,wm(d)?cN(d):(c=CO(T,v,m),d.stateNode=c,Oc(d))}return Cn(d),null;case 5:if(Ge(d),m=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==v&&Oc(d);else{if(!v){if(d.stateNode===null)throw Error(n(166));return Cn(d),null}if(c=ve.current,wm(d))cN(d);else{switch(T=Fw(Ee.current),c){case 1:c=T.createElementNS("http://www.w3.org/2000/svg",m);break;case 2:c=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;default:switch(m){case"svg":c=T.createElementNS("http://www.w3.org/2000/svg",m);break;case"math":c=T.createElementNS("http://www.w3.org/1998/Math/MathML",m);break;case"script":c=T.createElement("div"),c.innerHTML="<script><\/script>",c=c.removeChild(c.firstChild);break;case"select":c=typeof v.is=="string"?T.createElement("select",{is:v.is}):T.createElement("select"),v.multiple?c.multiple=!0:v.size&&(c.size=v.size);break;default:c=typeof v.is=="string"?T.createElement(m,{is:v.is}):T.createElement(m)}}c[At]=d,c[Ue]=v;e:for(T=d.child;T!==null;){if(T.tag===5||T.tag===6)c.appendChild(T.stateNode);else if(T.tag!==4&&T.tag!==27&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===d)break e;for(;T.sibling===null;){if(T.return===null||T.return===d)break e;T=T.return}T.sibling.return=T.return,T=T.sibling}d.stateNode=c;e:switch(Mi(c,m,v),m){case"button":case"input":case"select":case"textarea":c=!!v.autoFocus;break e;case"img":c=!0;break e;default:c=!1}c&&Oc(d)}}return Cn(d),d.flags&=-16777217,null;case 6:if(c&&d.stateNode!=null)c.memoizedProps!==v&&Oc(d);else{if(typeof v!="string"&&d.stateNode===null)throw Error(n(166));if(c=Ee.current,wm(d)){if(c=d.stateNode,m=d.memoizedProps,v=null,T=ms,T!==null)switch(T.tag){case 27:case 5:v=T.memoizedProps}c[At]=d,c=!!(c.nodeValue===m||v!==null&&v.suppressHydrationWarning===!0||bO(c.nodeValue,m)),c||vh(d)}else c=Fw(c).createTextNode(v),c[At]=d,d.stateNode=c}return Cn(d),null;case 13:if(v=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(T=wm(d),v!==null&&v.dehydrated!==null){if(c===null){if(!T)throw Error(n(318));if(T=d.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[At]=d}else vm(),!(d.flags&128)&&(d.memoizedState=null),d.flags|=4;Cn(d),T=!1}else Ro!==null&&(P8(Ro),Ro=null),T=!0;if(!T)return d.flags&256?(Ac(d),d):(Ac(d),null)}if(Ac(d),d.flags&128)return d.lanes=m,d;if(m=v!==null,c=c!==null&&c.memoizedState!==null,m){v=d.child,T=null,v.alternate!==null&&v.alternate.memoizedState!==null&&v.alternate.memoizedState.cachePool!==null&&(T=v.alternate.memoizedState.cachePool.pool);var U=null;v.memoizedState!==null&&v.memoizedState.cachePool!==null&&(U=v.memoizedState.cachePool.pool),U!==T&&(v.flags|=2048)}return m!==c&&m&&(d.child.flags|=8192),Iw(d,d.updateQueue),Cn(d),null;case 4:return we(),c===null&&W8(d.stateNode.containerInfo),Cn(d),null;case 10:return Tc(d.type),Cn(d),null;case 19:if(ce(li),T=d.memoizedState,T===null)return Cn(d),null;if(v=(d.flags&128)!==0,U=T.rendering,U===null)if(v)Lm(T,!1);else{if(Nn!==0||c!==null&&c.flags&128)for(c=d.child;c!==null;){if(U=fw(c),U!==null){for(d.flags|=128,Lm(T,!1),c=U.updateQueue,d.updateQueue=c,Iw(d,c),d.subtreeFlags=0,c=m,m=d.child;m!==null;)VP(m,c),m=m.sibling;return be(li,li.current&1|2),d.child}c=c.sibling}T.tail!==null&&pt()>Nw&&(d.flags|=128,v=!0,Lm(T,!1),d.lanes=4194304)}else{if(!v)if(c=fw(U),c!==null){if(d.flags|=128,v=!0,c=c.updateQueue,d.updateQueue=c,Iw(d,c),Lm(T,!0),T.tail===null&&T.tailMode==="hidden"&&!U.alternate&&!Ir)return Cn(d),null}else 2*pt()-T.renderingStartTime>Nw&&m!==536870912&&(d.flags|=128,v=!0,Lm(T,!1),d.lanes=4194304);T.isBackwards?(U.sibling=d.child,d.child=U):(c=T.last,c!==null?c.sibling=U:d.child=U,T.last=U)}return T.tail!==null?(d=T.tail,T.rendering=d,T.tail=d.sibling,T.renderingStartTime=pt(),d.sibling=null,c=li.current,be(li,v?c&1|2:c&1),d):(Cn(d),null);case 22:case 23:return Ac(d),Nx(),v=d.memoizedState!==null,c!==null?c.memoizedState!==null!==v&&(d.flags|=8192):v&&(d.flags|=8192),v?m&536870912&&!(d.flags&128)&&(Cn(d),d.subtreeFlags&6&&(d.flags|=8192)):Cn(d),m=d.updateQueue,m!==null&&Iw(d,m.retryQueue),m=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(m=c.memoizedState.cachePool.pool),v=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(v=d.memoizedState.cachePool.pool),v!==m&&(d.flags|=2048),c!==null&&ce(Eh),null;case 24:return m=null,c!==null&&(m=c.memoizedState.cache),d.memoizedState.cache!==m&&(d.flags|=2048),Tc(ci),Cn(d),null;case 25:return null}throw Error(n(156,d.tag))}function Wie(c,d){switch(kx(d),d.tag){case 1:return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return Tc(ci),we(),c=d.flags,c&65536&&!(c&128)?(d.flags=c&-65537|128,d):null;case 26:case 27:case 5:return Ge(d),null;case 13:if(Ac(d),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(n(340));vm()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return ce(li),null;case 4:return we(),null;case 10:return Tc(d.type),null;case 22:case 23:return Ac(d),Nx(),c!==null&&ce(Eh),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 24:return Tc(ci),null;case 25:return null;default:return null}}function YP(c,d){switch(kx(d),d.tag){case 3:Tc(ci),we();break;case 26:case 27:case 5:Ge(d);break;case 4:we();break;case 13:Ac(d);break;case 19:ce(li);break;case 10:Tc(d.type);break;case 22:case 23:Ac(d),Nx(),c!==null&&ce(Eh);break;case 24:Tc(ci)}}var qie={getCacheForType:function(c){var d=Zi(ci),m=d.data.get(c);return m===void 0&&(m=c(),d.data.set(c,m)),m}},Hie=typeof WeakMap=="function"?WeakMap:Map,An=0,rn=null,pr=null,kr=0,nn=0,fa=null,Mc=!1,Mp=!1,A8=!1,Rc=0,Nn=0,td=0,Nh=0,S8=0,Ka=0,Rp=0,Fm=null,Nl=null,k8=!1,$8=0,Nw=1/0,Pw=null,rd=null,Ow=!1,Ph=null,zm=0,T8=0,I8=null,Wm=0,N8=null;function pa(){if(An&2&&kr!==0)return kr&-kr;if(L.T!==null){var c=Sp;return c!==0?c:B8()}return Tt()}function ZP(){Ka===0&&(Ka=!(kr&536870912)||Ir?Y():536870912);var c=qa.current;return c!==null&&(c.flags|=32),Ka}function ys(c,d,m){(c===rn&&nn===2||c.cancelPendingCommit!==null)&&(jp(c,0),jc(c,kr,Ka,!1)),ie(c,m),(!(An&2)||c!==rn)&&(c===rn&&(!(An&2)&&(Nh|=m),Nn===4&&jc(c,kr,Ka,!1)),Pl(c))}function QP(c,d,m){if(An&6)throw Error(n(327));var v=!m&&(d&60)===0&&(d&c.expiredLanes)===0||Vt(c,d),T=v?Kie(c,d):R8(c,d,!0),U=v;do{if(T===0){Mp&&!v&&jc(c,d,0,!1);break}else if(T===6)jc(c,d,0,!Mc);else{if(m=c.current.alternate,U&&!Vie(m)){T=R8(c,d,!1),U=!1;continue}if(T===2){if(U=d,c.errorRecoveryDisabledLanes&U)var Z=0;else Z=c.pendingLanes&-536870913,Z=Z!==0?Z:Z&536870912?536870912:0;if(Z!==0){d=Z;e:{var J=c;T=Fm;var ae=J.current.memoizedState.isDehydrated;if(ae&&(jp(J,Z).flags|=256),Z=R8(J,Z,!1),Z!==2){if(A8&&!ae){J.errorRecoveryDisabledLanes|=U,Nh|=U,T=4;break e}U=Nl,Nl=T,U!==null&&P8(U)}T=Z}if(U=!1,T!==2)continue}}if(T===1){jp(c,0),jc(c,d,0,!0);break}e:{switch(v=c,T){case 0:case 1:throw Error(n(345));case 4:if((d&4194176)===d){jc(v,d,Ka,!Mc);break e}break;case 2:Nl=null;break;case 3:case 5:break;default:throw Error(n(329))}if(v.finishedWork=m,v.finishedLanes=d,(d&62914560)===d&&(U=$8+300-pt(),10<U)){if(jc(v,d,Ka,!Mc),Kt(v,0)!==0)break e;v.timeoutHandle=xO(XP.bind(null,v,m,Nl,Pw,k8,d,Ka,Nh,Rp,Mc,2,-0,0),U);break e}XP(v,m,Nl,Pw,k8,d,Ka,Nh,Rp,Mc,0,-0,0)}}break}while(!0);Pl(c)}function P8(c){Nl===null?Nl=c:Nl.push.apply(Nl,c)}function XP(c,d,m,v,T,U,Z,J,ae,me,De,He,Se){var Re=d.subtreeFlags;if((Re&8192||(Re&16785408)===16785408)&&(Ym={stylesheets:null,count:0,unsuspend:kse},zP(d),d=Tse(),d!==null)){c.cancelPendingCommit=d(sO.bind(null,c,m,v,T,Z,J,ae,1,He,Se)),jc(c,U,Z,!me);return}sO(c,m,v,T,Z,J,ae,De,He,Se)}function Vie(c){for(var d=c;;){var m=d.tag;if((m===0||m===11||m===15)&&d.flags&16384&&(m=d.updateQueue,m!==null&&(m=m.stores,m!==null)))for(var v=0;v<m.length;v++){var T=m[v],U=T.getSnapshot;T=T.value;try{if(!ua(U(),T))return!1}catch{return!1}}if(m=d.child,d.subtreeFlags&16384&&m!==null)m.return=d,d=m;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function jc(c,d,m,v){d&=~S8,d&=~Nh,c.suspendedLanes|=d,c.pingedLanes&=~d,v&&(c.warmLanes|=d),v=c.expirationTimes;for(var T=d;0<T;){var U=31-ct(T),Z=1<<U;v[U]=-1,T&=~Z}m!==0&&pe(c,m,d)}function Mw(){return An&6?!0:(qm(0),!1)}function O8(){if(pr!==null){if(nn===0)var c=pr.return;else c=pr,$c=kh=null,Bx(c),Cp=null,Cm=0,c=pr;for(;c!==null;)YP(c.alternate,c),c=c.return;pr=null}}function jp(c,d){c.finishedWork=null,c.finishedLanes=0;var m=c.timeoutHandle;m!==-1&&(c.timeoutHandle=-1,dse(m)),m=c.cancelPendingCommit,m!==null&&(c.cancelPendingCommit=null,m()),O8(),rn=c,pr=m=ed(c.current,null),kr=d,nn=0,fa=null,Mc=!1,Mp=Vt(c,d),A8=!1,Rp=Ka=S8=Nh=td=Nn=0,Nl=Fm=null,k8=!1,d&8&&(d|=d&32);var v=c.entangledLanes;if(v!==0)for(c=c.entanglements,v&=d;0<v;){var T=31-ct(v),U=1<<T;d|=c[T],v&=~U}return Rc=d,iw(),m}function JP(c,d){cr=null,L.H=Il,d===Em?(d=pN(),nn=3):d===dN?(d=pN(),nn=4):nn=d===hP?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,fa=d,pr===null&&(Nn=1,Cw(c,Fa(d,c.current)))}function eO(){var c=L.H;return L.H=Il,c===null?Il:c}function tO(){var c=L.A;return L.A=qie,c}function M8(){Nn=4,Mc||(kr&4194176)!==kr&&qa.current!==null||(Mp=!0),!(td&134217727)&&!(Nh&134217727)||rn===null||jc(rn,kr,Ka,!1)}function R8(c,d,m){var v=An;An|=2;var T=eO(),U=tO();(rn!==c||kr!==d)&&(Pw=null,jp(c,d)),d=!1;var Z=Nn;e:do try{if(nn!==0&&pr!==null){var J=pr,ae=fa;switch(nn){case 8:O8(),Z=6;break e;case 3:case 2:case 6:qa.current===null&&(d=!0);var me=nn;if(nn=0,fa=null,Dp(c,J,ae,me),m&&Mp){Z=0;break e}break;default:me=nn,nn=0,fa=null,Dp(c,J,ae,me)}}Gie(),Z=Nn;break}catch(De){JP(c,De)}while(!0);return d&&c.shellSuspendCounter++,$c=kh=null,An=v,L.H=T,L.A=U,pr===null&&(rn=null,kr=0,iw()),Z}function Gie(){for(;pr!==null;)rO(pr)}function Kie(c,d){var m=An;An|=2;var v=eO(),T=tO();rn!==c||kr!==d?(Pw=null,Nw=pt()+500,jp(c,d)):Mp=Vt(c,d);e:do try{if(nn!==0&&pr!==null){d=pr;var U=fa;t:switch(nn){case 1:nn=0,fa=null,Dp(c,d,U,1);break;case 2:if(hN(U)){nn=0,fa=null,nO(d);break}d=function(){nn===2&&rn===c&&(nn=7),Pl(c)},U.then(d,d);break e;case 3:nn=7;break e;case 4:nn=5;break e;case 7:hN(U)?(nn=0,fa=null,nO(d)):(nn=0,fa=null,Dp(c,d,U,7));break;case 5:var Z=null;switch(pr.tag){case 26:Z=pr.memoizedState;case 5:case 27:var J=pr;if(!Z||PO(Z)){nn=0,fa=null;var ae=J.sibling;if(ae!==null)pr=ae;else{var me=J.return;me!==null?(pr=me,Rw(me)):pr=null}break t}}nn=0,fa=null,Dp(c,d,U,5);break;case 6:nn=0,fa=null,Dp(c,d,U,6);break;case 8:O8(),Nn=6;break e;default:throw Error(n(462))}}Yie();break}catch(De){JP(c,De)}while(!0);return $c=kh=null,L.H=v,L.A=T,An=m,pr!==null?0:(rn=null,kr=0,iw(),Nn)}function Yie(){for(;pr!==null&&!Qt();)rO(pr)}function rO(c){var d=CP(c.alternate,c,Rc);c.memoizedProps=c.pendingProps,d===null?Rw(c):pr=d}function nO(c){var d=c,m=d.alternate;switch(d.tag){case 15:case 0:d=bP(m,d,d.pendingProps,d.type,void 0,kr);break;case 11:d=bP(m,d,d.pendingProps,d.type.render,d.ref,kr);break;case 5:Bx(d);default:YP(m,d),d=pr=VP(d,Rc),d=CP(m,d,Rc)}c.memoizedProps=c.pendingProps,d===null?Rw(c):pr=d}function Dp(c,d,m,v){$c=kh=null,Bx(d),Cp=null,Cm=0;var T=d.return;try{if(Die(c,T,d,m,kr)){Nn=1,Cw(c,Fa(m,c.current)),pr=null;return}}catch(U){if(T!==null)throw pr=T,U;Nn=1,Cw(c,Fa(m,c.current)),pr=null;return}d.flags&32768?(Ir||v===1?c=!0:Mp||kr&536870912?c=!1:(Mc=c=!0,(v===2||v===3||v===6)&&(v=qa.current,v!==null&&v.tag===13&&(v.flags|=16384))),iO(d,c)):Rw(d)}function Rw(c){var d=c;do{if(d.flags&32768){iO(d,Mc);return}c=d.return;var m=zie(d.alternate,d,Rc);if(m!==null){pr=m;return}if(d=d.sibling,d!==null){pr=d;return}pr=d=c}while(d!==null);Nn===0&&(Nn=5)}function iO(c,d){do{var m=Wie(c.alternate,c);if(m!==null){m.flags&=32767,pr=m;return}if(m=c.return,m!==null&&(m.flags|=32768,m.subtreeFlags=0,m.deletions=null),!d&&(c=c.sibling,c!==null)){pr=c;return}pr=c=m}while(c!==null);Nn=6,pr=null}function sO(c,d,m,v,T,U,Z,J,ae,me){var De=L.T,He=re.p;try{re.p=2,L.T=null,Zie(c,d,m,v,He,T,U,Z,J,ae,me)}finally{L.T=De,re.p=He}}function Zie(c,d,m,v,T,U,Z,J){do Up();while(Ph!==null);if(An&6)throw Error(n(327));var ae=c.finishedWork;if(v=c.finishedLanes,ae===null)return null;if(c.finishedWork=null,c.finishedLanes=0,ae===c.current)throw Error(n(177));c.callbackNode=null,c.callbackPriority=0,c.cancelPendingCommit=null;var me=ae.lanes|ae.childLanes;if(me|=Cx,le(c,v,me,U,Z,J),c===rn&&(pr=rn=null,kr=0),!(ae.subtreeFlags&10256)&&!(ae.flags&10256)||Ow||(Ow=!0,T8=me,I8=m,ese(jt,function(){return Up(),null})),m=(ae.flags&15990)!==0,ae.subtreeFlags&15990||m?(m=L.T,L.T=null,U=re.p,re.p=2,Z=An,An|=4,Bie(c,ae),BP(ae,c),vie(G8,c.containerInfo),Gw=!!V8,G8=V8=null,c.current=ae,RP(c,ae.alternate,ae),Ie(),An=Z,re.p=U,L.T=m):c.current=ae,Ow?(Ow=!1,Ph=c,zm=v):aO(c,me),me=c.pendingLanes,me===0&&(rd=null),vt(ae.stateNode),Pl(c),d!==null)for(T=c.onRecoverableError,ae=0;ae<d.length;ae++)me=d[ae],T(me.value,{componentStack:me.stack});return zm&3&&Up(),me=c.pendingLanes,v&4194218&&me&42?c===N8?Wm++:(Wm=0,N8=c):Wm=0,qm(0),null}function aO(c,d){(c.pooledCacheLanes&=d)===0&&(d=c.pooledCache,d!=null&&(c.pooledCache=null,Sm(d)))}function Up(){if(Ph!==null){var c=Ph,d=T8;T8=0;var m=Ne(zm),v=L.T,T=re.p;try{if(re.p=32>m?32:m,L.T=null,Ph===null)var U=!1;else{m=I8,I8=null;var Z=Ph,J=zm;if(Ph=null,zm=0,An&6)throw Error(n(331));var ae=An;if(An|=4,qP(Z.current),FP(Z,Z.current,J,m),An=ae,qm(0,!1),Xe&&typeof Xe.onPostCommitFiberRoot=="function")try{Xe.onPostCommitFiberRoot(Me,Z)}catch{}U=!0}return U}finally{re.p=T,L.T=v,aO(c,d)}}return!1}function oO(c,d,m){d=Fa(m,d),d=Jx(c.stateNode,d,2),c=Zu(c,d,2),c!==null&&(ie(c,2),Pl(c))}function Yr(c,d,m){if(c.tag===3)oO(c,c,m);else for(;d!==null;){if(d.tag===3){oO(d,c,m);break}else if(d.tag===1){var v=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(rd===null||!rd.has(v))){c=Fa(m,c),m=uP(2),v=Zu(d,m,2),v!==null&&(dP(m,v,d,c),ie(v,2),Pl(v));break}}d=d.return}}function j8(c,d,m){var v=c.pingCache;if(v===null){v=c.pingCache=new Hie;var T=new Set;v.set(d,T)}else T=v.get(d),T===void 0&&(T=new Set,v.set(d,T));T.has(m)||(A8=!0,T.add(m),c=Qie.bind(null,c,d,m),d.then(c,c))}function Qie(c,d,m){var v=c.pingCache;v!==null&&v.delete(d),c.pingedLanes|=c.suspendedLanes&m,c.warmLanes&=~m,rn===c&&(kr&m)===m&&(Nn===4||Nn===3&&(kr&62914560)===kr&&300>pt()-$8?!(An&2)&&jp(c,0):S8|=m,Rp===kr&&(Rp=0)),Pl(c)}function lO(c,d){d===0&&(d=Q()),c=zu(c,d),c!==null&&(ie(c,d),Pl(c))}function Xie(c){var d=c.memoizedState,m=0;d!==null&&(m=d.retryLane),lO(c,m)}function Jie(c,d){var m=0;switch(c.tag){case 13:var v=c.stateNode,T=c.memoizedState;T!==null&&(m=T.retryLane);break;case 19:v=c.stateNode;break;case 22:v=c.stateNode._retryCache;break;default:throw Error(n(314))}v!==null&&v.delete(d),lO(c,m)}function ese(c,d){return je(c,d)}var jw=null,Bp=null,D8=!1,Dw=!1,U8=!1,Oh=0;function Pl(c){c!==Bp&&c.next===null&&(Bp===null?jw=Bp=c:Bp=Bp.next=c),Dw=!0,D8||(D8=!0,rse(tse))}function qm(c,d){if(!U8&&Dw){U8=!0;do for(var m=!1,v=jw;v!==null;){if(c!==0){var T=v.pendingLanes;if(T===0)var U=0;else{var Z=v.suspendedLanes,J=v.pingedLanes;U=(1<<31-ct(42|c)+1)-1,U&=T&~(Z&~J),U=U&201326677?U&201326677|1:U?U|2:0}U!==0&&(m=!0,dO(v,U))}else U=kr,U=Kt(v,v===rn?U:0),!(U&3)||Vt(v,U)||(m=!0,dO(v,U));v=v.next}while(m);U8=!1}}function tse(){Dw=D8=!1;var c=0;Oh!==0&&(use()&&(c=Oh),Oh=0);for(var d=pt(),m=null,v=jw;v!==null;){var T=v.next,U=cO(v,d);U===0?(v.next=null,m===null?jw=T:m.next=T,T===null&&(Bp=m)):(m=v,(c!==0||U&3)&&(Dw=!0)),v=T}qm(c)}function cO(c,d){for(var m=c.suspendedLanes,v=c.pingedLanes,T=c.expirationTimes,U=c.pendingLanes&-62914561;0<U;){var Z=31-ct(U),J=1<<Z,ae=T[Z];ae===-1?(!(J&m)||J&v)&&(T[Z]=Un(J,d)):ae<=d&&(c.expiredLanes|=J),U&=~J}if(d=rn,m=kr,m=Kt(c,c===d?m:0),v=c.callbackNode,m===0||c===d&&nn===2||c.cancelPendingCommit!==null)return v!==null&&v!==null&&gt(v),c.callbackNode=null,c.callbackPriority=0;if(!(m&3)||Vt(c,m)){if(d=m&-m,d===c.callbackPriority)return d;switch(v!==null&&gt(v),Ne(m)){case 2:case 8:m=bt;break;case 32:m=jt;break;case 268435456:m=Dt;break;default:m=jt}return v=uO.bind(null,c),m=je(m,v),c.callbackPriority=d,c.callbackNode=m,d}return v!==null&&v!==null&&gt(v),c.callbackPriority=2,c.callbackNode=null,2}function uO(c,d){var m=c.callbackNode;if(Up()&&c.callbackNode!==m)return null;var v=kr;return v=Kt(c,c===rn?v:0),v===0?null:(QP(c,v,d),cO(c,pt()),c.callbackNode!=null&&c.callbackNode===m?uO.bind(null,c):null)}function dO(c,d){if(Up())return null;QP(c,d,!0)}function rse(c){hse(function(){An&6?je(ht,c):c()})}function B8(){return Oh===0&&(Oh=Y()),Oh}function hO(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:pp(""+c)}function fO(c,d){var m=d.ownerDocument.createElement("input");return m.name=d.name,m.value=d.value,c.id&&m.setAttribute("form",c.id),d.parentNode.insertBefore(m,d),c=new FormData(c),m.parentNode.removeChild(m),c}function nse(c,d,m,v,T){if(d==="submit"&&m&&m.stateNode===T){var U=hO((T[Ue]||null).action),Z=v.submitter;Z&&(d=(d=Z[Ue]||null)?hO(d.formAction):Z.getAttribute("formAction"),d!==null&&(U=d,Z=null));var J=new Ec("action","action",null,v,T);c.push({event:J,listeners:[{instance:null,listener:function(){if(v.defaultPrevented){if(Oh!==0){var ae=Z?fO(T,Z):new FormData(T);Kx(m,{pending:!0,data:ae,method:T.method,action:U},null,ae)}}else typeof U=="function"&&(J.preventDefault(),ae=Z?fO(T,Z):new FormData(T),Kx(m,{pending:!0,data:ae,method:T.method,action:U},U,ae))},currentTarget:T}]})}}for(var L8=0;L8<sN.length;L8++){var F8=sN[L8],ise=F8.toLowerCase(),sse=F8[0].toUpperCase()+F8.slice(1);Mo(ise,"on"+sse)}Mo(eN,"onAnimationEnd"),Mo(tN,"onAnimationIteration"),Mo(rN,"onAnimationStart"),Mo("dblclick","onDoubleClick"),Mo("focusin","onFocus"),Mo("focusout","onBlur"),Mo(Eie,"onTransitionRun"),Mo(_ie,"onTransitionStart"),Mo(Cie,"onTransitionCancel"),Mo(nN,"onTransitionEnd"),tn("onMouseEnter",["mouseout","mouseover"]),tn("onMouseLeave",["mouseout","mouseover"]),tn("onPointerEnter",["pointerout","pointerover"]),tn("onPointerLeave",["pointerout","pointerover"]),vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),vr("onBeforeInput",["compositionend","keypress","textInput","paste"]),vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Hm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ase=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Hm));function pO(c,d){d=(d&4)!==0;for(var m=0;m<c.length;m++){var v=c[m],T=v.event;v=v.listeners;e:{var U=void 0;if(d)for(var Z=v.length-1;0<=Z;Z--){var J=v[Z],ae=J.instance,me=J.currentTarget;if(J=J.listener,ae!==U&&T.isPropagationStopped())break e;U=J,T.currentTarget=me;try{U(T)}catch(De){_w(De)}T.currentTarget=null,U=ae}else for(Z=0;Z<v.length;Z++){if(J=v[Z],ae=J.instance,me=J.currentTarget,J=J.listener,ae!==U&&T.isPropagationStopped())break e;U=J,T.currentTarget=me;try{U(T)}catch(De){_w(De)}T.currentTarget=null,U=ae}}}}function Er(c,d){var m=d[Je];m===void 0&&(m=d[Je]=new Set);var v=c+"__bubble";m.has(v)||(gO(d,c,2,!1),m.add(v))}function z8(c,d,m){var v=0;d&&(v|=4),gO(m,c,v,d)}var Uw="_reactListening"+Math.random().toString(36).slice(2);function W8(c){if(!c[Uw]){c[Uw]=!0,Dr.forEach(function(m){m!=="selectionchange"&&(ase.has(m)||z8(m,!1,c),z8(m,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[Uw]||(d[Uw]=!0,z8("selectionchange",!1,d))}}function gO(c,d,m,v){switch(UO(d)){case 2:var T=Pse;break;case 8:T=Ose;break;default:T=r9}m=T.bind(null,d,m,c),T=void 0,!fm||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(T=!0),v?T!==void 0?c.addEventListener(d,m,{capture:!0,passive:T}):c.addEventListener(d,m,!0):T!==void 0?c.addEventListener(d,m,{passive:T}):c.addEventListener(d,m,!1)}function q8(c,d,m,v,T){var U=v;if(!(d&1)&&!(d&2)&&v!==null)e:for(;;){if(v===null)return;var Z=v.tag;if(Z===3||Z===4){var J=v.stateNode.containerInfo;if(J===T||J.nodeType===8&&J.parentNode===T)break;if(Z===4)for(Z=v.return;Z!==null;){var ae=Z.tag;if((ae===3||ae===4)&&(ae=Z.stateNode.containerInfo,ae===T||ae.nodeType===8&&ae.parentNode===T))return;Z=Z.return}for(;J!==null;){if(Z=kt(J),Z===null)return;if(ae=Z.tag,ae===5||ae===6||ae===26||ae===27){v=U=Z;continue e}J=J.parentNode}}v=v.return}rw(function(){var me=U,De=dm(m),He=[];e:{var Se=iN.get(c);if(Se!==void 0){var Re=Ec,$t=c;switch(c){case"keypress":if(Pe(m)===0)break e;case"keydown":case"keyup":Re=Jne;break;case"focusin":$t="focus",Re=gx;break;case"focusout":$t="blur",Re=gx;break;case"beforeblur":case"afterblur":Re=gx;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=OI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=Fne;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=rie;break;case eN:case tN:case rN:Re=qne;break;case nN:Re=iie;break;case"scroll":case"scrollend":Re=px;break;case"wheel":Re=aie;break;case"copy":case"cut":case"paste":Re=Vne;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=RI;break;case"toggle":case"beforetoggle":Re=lie}var Yt=(d&4)!==0,Pn=!Yt&&(c==="scroll"||c==="scrollend"),xe=Yt?Se!==null?Se+"Capture":null:Se;Yt=[];for(var he=me,Ce;he!==null;){var Fe=he;if(Ce=Fe.stateNode,Fe=Fe.tag,Fe!==5&&Fe!==26&&Fe!==27||Ce===null||xe===null||(Fe=fh(he,xe),Fe!=null&&Yt.push(Vm(he,Fe,Ce))),Pn)break;he=he.return}0<Yt.length&&(Se=new Re(Se,$t,null,m,De),He.push({event:Se,listeners:Yt}))}}if(!(d&7)){e:{if(Se=c==="mouseover"||c==="pointerover",Re=c==="mouseout"||c==="pointerout",Se&&m!==um&&($t=m.relatedTarget||m.fromElement)&&(kt($t)||$t[tt]))break e;if((Re||Se)&&(Se=De.window===De?De:(Se=De.ownerDocument)?Se.defaultView||Se.parentWindow:window,Re?($t=m.relatedTarget||m.toElement,Re=me,$t=$t?kt($t):null,$t!==null&&(Pn=P($t),Yt=$t.tag,$t!==Pn||Yt!==5&&Yt!==27&&Yt!==6)&&($t=null)):(Re=null,$t=me),Re!==$t)){if(Yt=OI,Fe="onMouseLeave",xe="onMouseEnter",he="mouse",(c==="pointerout"||c==="pointerover")&&(Yt=RI,Fe="onPointerLeave",xe="onPointerEnter",he="pointer"),Pn=Re==null?Se:jr(Re),Ce=$t==null?Se:jr($t),Se=new Yt(Fe,he+"leave",Re,m,De),Se.target=Pn,Se.relatedTarget=Ce,Fe=null,kt(De)===me&&(Yt=new Yt(xe,he+"enter",$t,m,De),Yt.target=Ce,Yt.relatedTarget=Pn,Fe=Yt),Pn=Fe,Re&&$t)t:{for(Yt=Re,xe=$t,he=0,Ce=Yt;Ce;Ce=Lp(Ce))he++;for(Ce=0,Fe=xe;Fe;Fe=Lp(Fe))Ce++;for(;0<he-Ce;)Yt=Lp(Yt),he--;for(;0<Ce-he;)xe=Lp(xe),Ce--;for(;he--;){if(Yt===xe||xe!==null&&Yt===xe.alternate)break t;Yt=Lp(Yt),xe=Lp(xe)}Yt=null}else Yt=null;Re!==null&&mO(He,Se,Re,Yt,!1),$t!==null&&Pn!==null&&mO(He,Pn,$t,Yt,!0)}}e:{if(Se=me?jr(me):window,Re=Se.nodeName&&Se.nodeName.toLowerCase(),Re==="select"||Re==="input"&&Se.type==="file")var _t=WI;else if(FI(Se))if(qI)_t=bie;else{_t=mie;var dr=gie}else Re=Se.nodeName,!Re||Re.toLowerCase()!=="input"||Se.type!=="checkbox"&&Se.type!=="radio"?me&&cm(me.elementType)&&(_t=WI):_t=yie;if(_t&&(_t=_t(c,me))){zI(He,_t,m,De);break e}dr&&dr(c,Se,me),c==="focusout"&&me&&Se.type==="number"&&me.memoizedProps.value!=null&&lm(Se,"number",Se.value)}switch(dr=me?jr(me):window,c){case"focusin":(FI(dr)||dr.contentEditable==="true")&&(bp=dr,xx=me,bm=null);break;case"focusout":bm=xx=bp=null;break;case"mousedown":Ex=!0;break;case"contextmenu":case"mouseup":case"dragend":Ex=!1,XI(He,m,De);break;case"selectionchange":if(xie)break;case"keydown":case"keyup":XI(He,m,De)}var Mt;if(yx)e:{switch(c){case"compositionstart":var Lt="onCompositionStart";break e;case"compositionend":Lt="onCompositionEnd";break e;case"compositionupdate":Lt="onCompositionUpdate";break e}Lt=void 0}else yp?BI(c,m)&&(Lt="onCompositionEnd"):c==="keydown"&&m.keyCode===229&&(Lt="onCompositionStart");Lt&&(jI&&m.locale!=="ko"&&(yp||Lt!=="onCompositionStart"?Lt==="onCompositionEnd"&&yp&&(Mt=de()):(kl=De,_e="value"in kl?kl.value:kl.textContent,yp=!0)),dr=Bw(me,Lt),0<dr.length&&(Lt=new MI(Lt,c,null,m,De),He.push({event:Lt,listeners:dr}),Mt?Lt.data=Mt:(Mt=LI(m),Mt!==null&&(Lt.data=Mt)))),(Mt=uie?die(c,m):hie(c,m))&&(Lt=Bw(me,"onBeforeInput"),0<Lt.length&&(dr=new MI("onBeforeInput","beforeinput",null,m,De),He.push({event:dr,listeners:Lt}),dr.data=Mt)),nse(He,c,me,m,De)}pO(He,d)})}function Vm(c,d,m){return{instance:c,listener:d,currentTarget:m}}function Bw(c,d){for(var m=d+"Capture",v=[];c!==null;){var T=c,U=T.stateNode;T=T.tag,T!==5&&T!==26&&T!==27||U===null||(T=fh(c,m),T!=null&&v.unshift(Vm(c,T,U)),T=fh(c,d),T!=null&&v.push(Vm(c,T,U))),c=c.return}return v}function Lp(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function mO(c,d,m,v,T){for(var U=d._reactName,Z=[];m!==null&&m!==v;){var J=m,ae=J.alternate,me=J.stateNode;if(J=J.tag,ae!==null&&ae===v)break;J!==5&&J!==26&&J!==27||me===null||(ae=me,T?(me=fh(m,U),me!=null&&Z.unshift(Vm(m,me,ae))):T||(me=fh(m,U),me!=null&&Z.push(Vm(m,me,ae)))),m=m.return}Z.length!==0&&c.push({event:d,listeners:Z})}var ose=/\r\n?/g,lse=/\u0000|\uFFFD/g;function yO(c){return(typeof c=="string"?c:""+c).replace(ose,`
`).replace(lse,"")}function bO(c,d){return d=yO(d),yO(c)===d}function Lw(){}function Hr(c,d,m,v,T,U){switch(m){case"children":typeof v=="string"?d==="body"||d==="textarea"&&v===""||Du(c,v):(typeof v=="number"||typeof v=="bigint")&&d!=="body"&&Du(c,""+v);break;case"className":Sl(c,"class",v);break;case"tabIndex":Sl(c,"tabindex",v);break;case"dir":case"role":case"viewBox":case"width":case"height":Sl(c,m,v);break;case"style":ew(c,v,U);break;case"data":if(d!=="object"){Sl(c,"data",v);break}case"src":case"href":if(v===""&&(d!=="a"||m!=="href")){c.removeAttribute(m);break}if(v==null||typeof v=="function"||typeof v=="symbol"||typeof v=="boolean"){c.removeAttribute(m);break}v=pp(""+v),c.setAttribute(m,v);break;case"action":case"formAction":if(typeof v=="function"){c.setAttribute(m,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof U=="function"&&(m==="formAction"?(d!=="input"&&Hr(c,d,"name",T.name,T,null),Hr(c,d,"formEncType",T.formEncType,T,null),Hr(c,d,"formMethod",T.formMethod,T,null),Hr(c,d,"formTarget",T.formTarget,T,null)):(Hr(c,d,"encType",T.encType,T,null),Hr(c,d,"method",T.method,T,null),Hr(c,d,"target",T.target,T,null)));if(v==null||typeof v=="symbol"||typeof v=="boolean"){c.removeAttribute(m);break}v=pp(""+v),c.setAttribute(m,v);break;case"onClick":v!=null&&(c.onclick=Lw);break;case"onScroll":v!=null&&Er("scroll",c);break;case"onScrollEnd":v!=null&&Er("scrollend",c);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(m=v.__html,m!=null){if(T.children!=null)throw Error(n(60));c.innerHTML=m}}break;case"multiple":c.multiple=v&&typeof v!="function"&&typeof v!="symbol";break;case"muted":c.muted=v&&typeof v!="function"&&typeof v!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(v==null||typeof v=="function"||typeof v=="boolean"||typeof v=="symbol"){c.removeAttribute("xlink:href");break}m=pp(""+v),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",m);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":v!=null&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(m,""+v):c.removeAttribute(m);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":v&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(m,""):c.removeAttribute(m);break;case"capture":case"download":v===!0?c.setAttribute(m,""):v!==!1&&v!=null&&typeof v!="function"&&typeof v!="symbol"?c.setAttribute(m,v):c.removeAttribute(m);break;case"cols":case"rows":case"size":case"span":v!=null&&typeof v!="function"&&typeof v!="symbol"&&!isNaN(v)&&1<=v?c.setAttribute(m,v):c.removeAttribute(m);break;case"rowSpan":case"start":v==null||typeof v=="function"||typeof v=="symbol"||isNaN(v)?c.removeAttribute(m):c.setAttribute(m,v);break;case"popover":Er("beforetoggle",c),Er("toggle",c),Al(c,"popover",v);break;case"xlinkActuate":Oo(c,"http://www.w3.org/1999/xlink","xlink:actuate",v);break;case"xlinkArcrole":Oo(c,"http://www.w3.org/1999/xlink","xlink:arcrole",v);break;case"xlinkRole":Oo(c,"http://www.w3.org/1999/xlink","xlink:role",v);break;case"xlinkShow":Oo(c,"http://www.w3.org/1999/xlink","xlink:show",v);break;case"xlinkTitle":Oo(c,"http://www.w3.org/1999/xlink","xlink:title",v);break;case"xlinkType":Oo(c,"http://www.w3.org/1999/xlink","xlink:type",v);break;case"xmlBase":Oo(c,"http://www.w3.org/XML/1998/namespace","xml:base",v);break;case"xmlLang":Oo(c,"http://www.w3.org/XML/1998/namespace","xml:lang",v);break;case"xmlSpace":Oo(c,"http://www.w3.org/XML/1998/namespace","xml:space",v);break;case"is":Al(c,"is",v);break;case"innerText":case"textContent":break;default:(!(2<m.length)||m[0]!=="o"&&m[0]!=="O"||m[1]!=="n"&&m[1]!=="N")&&(m=hx.get(m)||m,Al(c,m,v))}}function H8(c,d,m,v,T,U){switch(m){case"style":ew(c,v,U);break;case"dangerouslySetInnerHTML":if(v!=null){if(typeof v!="object"||!("__html"in v))throw Error(n(61));if(m=v.__html,m!=null){if(T.children!=null)throw Error(n(60));c.innerHTML=m}}break;case"children":typeof v=="string"?Du(c,v):(typeof v=="number"||typeof v=="bigint")&&Du(c,""+v);break;case"onScroll":v!=null&&Er("scroll",c);break;case"onScrollEnd":v!=null&&Er("scrollend",c);break;case"onClick":v!=null&&(c.onclick=Lw);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Wt.hasOwnProperty(m))e:{if(m[0]==="o"&&m[1]==="n"&&(T=m.endsWith("Capture"),d=m.slice(2,T?m.length-7:void 0),U=c[Ue]||null,U=U!=null?U[m]:null,typeof U=="function"&&c.removeEventListener(d,U,T),typeof v=="function")){typeof U!="function"&&U!==null&&(m in c?c[m]=null:c.hasAttribute(m)&&c.removeAttribute(m)),c.addEventListener(d,v,T);break e}m in c?c[m]=v:v===!0?c.setAttribute(m,""):Al(c,m,v)}}}function Mi(c,d,m){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Er("error",c),Er("load",c);var v=!1,T=!1,U;for(U in m)if(m.hasOwnProperty(U)){var Z=m[U];if(Z!=null)switch(U){case"src":v=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:Hr(c,d,U,Z,m,null)}}T&&Hr(c,d,"srcSet",m.srcSet,m,null),v&&Hr(c,d,"src",m.src,m,null);return;case"input":Er("invalid",c);var J=U=Z=T=null,ae=null,me=null;for(v in m)if(m.hasOwnProperty(v)){var De=m[v];if(De!=null)switch(v){case"name":T=De;break;case"type":Z=De;break;case"checked":ae=De;break;case"defaultChecked":me=De;break;case"value":U=De;break;case"defaultValue":J=De;break;case"children":case"dangerouslySetInnerHTML":if(De!=null)throw Error(n(137,d));break;default:Hr(c,d,v,De,m,null)}}Zb(c,U,J,ae,me,Z,T,!1),hp(c);return;case"select":Er("invalid",c),v=Z=U=null;for(T in m)if(m.hasOwnProperty(T)&&(J=m[T],J!=null))switch(T){case"value":U=J;break;case"defaultValue":Z=J;break;case"multiple":v=J;default:Hr(c,d,T,J,m,null)}d=U,m=Z,c.multiple=!!v,d!=null?ju(c,!!v,d,!1):m!=null&&ju(c,!!v,m,!0);return;case"textarea":Er("invalid",c),U=T=v=null;for(Z in m)if(m.hasOwnProperty(Z)&&(J=m[Z],J!=null))switch(Z){case"value":v=J;break;case"defaultValue":T=J;break;case"children":U=J;break;case"dangerouslySetInnerHTML":if(J!=null)throw Error(n(91));break;default:Hr(c,d,Z,J,m,null)}Xb(c,v,T,U),hp(c);return;case"option":for(ae in m)if(m.hasOwnProperty(ae)&&(v=m[ae],v!=null))switch(ae){case"selected":c.selected=v&&typeof v!="function"&&typeof v!="symbol";break;default:Hr(c,d,ae,v,m,null)}return;case"dialog":Er("cancel",c),Er("close",c);break;case"iframe":case"object":Er("load",c);break;case"video":case"audio":for(v=0;v<Hm.length;v++)Er(Hm[v],c);break;case"image":Er("error",c),Er("load",c);break;case"details":Er("toggle",c);break;case"embed":case"source":case"link":Er("error",c),Er("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(me in m)if(m.hasOwnProperty(me)&&(v=m[me],v!=null))switch(me){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:Hr(c,d,me,v,m,null)}return;default:if(cm(d)){for(De in m)m.hasOwnProperty(De)&&(v=m[De],v!==void 0&&H8(c,d,De,v,m,void 0));return}}for(J in m)m.hasOwnProperty(J)&&(v=m[J],v!=null&&Hr(c,d,J,v,m,null))}function cse(c,d,m,v){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,U=null,Z=null,J=null,ae=null,me=null,De=null;for(Re in m){var He=m[Re];if(m.hasOwnProperty(Re)&&He!=null)switch(Re){case"checked":break;case"value":break;case"defaultValue":ae=He;default:v.hasOwnProperty(Re)||Hr(c,d,Re,null,v,He)}}for(var Se in v){var Re=v[Se];if(He=m[Se],v.hasOwnProperty(Se)&&(Re!=null||He!=null))switch(Se){case"type":U=Re;break;case"name":T=Re;break;case"checked":me=Re;break;case"defaultChecked":De=Re;break;case"value":Z=Re;break;case"defaultValue":J=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(n(137,d));break;default:Re!==He&&Hr(c,d,Se,Re,v,He)}}om(c,Z,J,ae,me,De,U,T);return;case"select":Re=Z=J=Se=null;for(U in m)if(ae=m[U],m.hasOwnProperty(U)&&ae!=null)switch(U){case"value":break;case"multiple":Re=ae;default:v.hasOwnProperty(U)||Hr(c,d,U,null,v,ae)}for(T in v)if(U=v[T],ae=m[T],v.hasOwnProperty(T)&&(U!=null||ae!=null))switch(T){case"value":Se=U;break;case"defaultValue":J=U;break;case"multiple":Z=U;default:U!==ae&&Hr(c,d,T,U,v,ae)}d=J,m=Z,v=Re,Se!=null?ju(c,!!m,Se,!1):!!v!=!!m&&(d!=null?ju(c,!!m,d,!0):ju(c,!!m,m?[]:"",!1));return;case"textarea":Re=Se=null;for(J in m)if(T=m[J],m.hasOwnProperty(J)&&T!=null&&!v.hasOwnProperty(J))switch(J){case"value":break;case"children":break;default:Hr(c,d,J,null,v,T)}for(Z in v)if(T=v[Z],U=m[Z],v.hasOwnProperty(Z)&&(T!=null||U!=null))switch(Z){case"value":Se=T;break;case"defaultValue":Re=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(n(91));break;default:T!==U&&Hr(c,d,Z,T,v,U)}Qb(c,Se,Re);return;case"option":for(var $t in m)if(Se=m[$t],m.hasOwnProperty($t)&&Se!=null&&!v.hasOwnProperty($t))switch($t){case"selected":c.selected=!1;break;default:Hr(c,d,$t,null,v,Se)}for(ae in v)if(Se=v[ae],Re=m[ae],v.hasOwnProperty(ae)&&Se!==Re&&(Se!=null||Re!=null))switch(ae){case"selected":c.selected=Se&&typeof Se!="function"&&typeof Se!="symbol";break;default:Hr(c,d,ae,Se,v,Re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Yt in m)Se=m[Yt],m.hasOwnProperty(Yt)&&Se!=null&&!v.hasOwnProperty(Yt)&&Hr(c,d,Yt,null,v,Se);for(me in v)if(Se=v[me],Re=m[me],v.hasOwnProperty(me)&&Se!==Re&&(Se!=null||Re!=null))switch(me){case"children":case"dangerouslySetInnerHTML":if(Se!=null)throw Error(n(137,d));break;default:Hr(c,d,me,Se,v,Re)}return;default:if(cm(d)){for(var Pn in m)Se=m[Pn],m.hasOwnProperty(Pn)&&Se!==void 0&&!v.hasOwnProperty(Pn)&&H8(c,d,Pn,void 0,v,Se);for(De in v)Se=v[De],Re=m[De],!v.hasOwnProperty(De)||Se===Re||Se===void 0&&Re===void 0||H8(c,d,De,Se,v,Re);return}}for(var xe in m)Se=m[xe],m.hasOwnProperty(xe)&&Se!=null&&!v.hasOwnProperty(xe)&&Hr(c,d,xe,null,v,Se);for(He in v)Se=v[He],Re=m[He],!v.hasOwnProperty(He)||Se===Re||Se==null&&Re==null||Hr(c,d,He,Se,v,Re)}var V8=null,G8=null;function Fw(c){return c.nodeType===9?c:c.ownerDocument}function wO(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function vO(c,d){if(c===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&d==="foreignObject"?0:c}function K8(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var Y8=null;function use(){var c=window.event;return c&&c.type==="popstate"?c===Y8?!1:(Y8=c,!0):(Y8=null,!1)}var xO=typeof setTimeout=="function"?setTimeout:void 0,dse=typeof clearTimeout=="function"?clearTimeout:void 0,EO=typeof Promise=="function"?Promise:void 0,hse=typeof queueMicrotask=="function"?queueMicrotask:typeof EO<"u"?function(c){return EO.resolve(null).then(c).catch(fse)}:xO;function fse(c){setTimeout(function(){throw c})}function Z8(c,d){var m=d,v=0;do{var T=m.nextSibling;if(c.removeChild(m),T&&T.nodeType===8)if(m=T.data,m==="/$"){if(v===0){c.removeChild(T),e1(d);return}v--}else m!=="$"&&m!=="$?"&&m!=="$!"||v++;m=T}while(m);e1(d)}function Q8(c){var d=c.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var m=d;switch(d=d.nextSibling,m.nodeName){case"HTML":case"HEAD":case"BODY":Q8(m),Rt(m);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(m.rel.toLowerCase()==="stylesheet")continue}c.removeChild(m)}}function pse(c,d,m,v){for(;c.nodeType===1;){var T=m;if(c.nodeName.toLowerCase()!==d.toLowerCase()){if(!v&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(v){if(!c[er])switch(d){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(U=c.getAttribute("rel"),U==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(U!==T.rel||c.getAttribute("href")!==(T.href==null?null:T.href)||c.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||c.getAttribute("title")!==(T.title==null?null:T.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(U=c.getAttribute("src"),(U!==(T.src==null?null:T.src)||c.getAttribute("type")!==(T.type==null?null:T.type)||c.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&U&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(d==="input"&&c.type==="hidden"){var U=T.name==null?null:""+T.name;if(T.type==="hidden"&&c.getAttribute("name")===U)return c}else return c;if(c=Do(c.nextSibling),c===null)break}return null}function gse(c,d,m){if(d==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!m||(c=Do(c.nextSibling),c===null))return null;return c}function Do(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?"||d==="F!"||d==="F")break;if(d==="/$")return null}}return c}function _O(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var m=c.data;if(m==="$"||m==="$!"||m==="$?"){if(d===0)return c;d--}else m==="/$"&&d++}c=c.previousSibling}return null}function CO(c,d,m){switch(d=Fw(m),c){case"html":if(c=d.documentElement,!c)throw Error(n(452));return c;case"head":if(c=d.head,!c)throw Error(n(453));return c;case"body":if(c=d.body,!c)throw Error(n(454));return c;default:throw Error(n(451))}}var Ya=new Map,AO=new Set;function zw(c){return typeof c.getRootNode=="function"?c.getRootNode():c.ownerDocument}var Dc=re.d;re.d={f:mse,r:yse,D:bse,C:wse,L:vse,m:xse,X:_se,S:Ese,M:Cse};function mse(){var c=Dc.f(),d=Mw();return c||d}function yse(c){var d=zt(c);d!==null&&d.tag===5&&d.type==="form"?XN(d):Dc.r(c)}var Fp=typeof document>"u"?null:document;function SO(c,d,m){var v=Fp;if(v&&typeof d=="string"&&d){var T=Os(d);T='link[rel="'+c+'"][href="'+T+'"]',typeof m=="string"&&(T+='[crossorigin="'+m+'"]'),AO.has(T)||(AO.add(T),c={rel:c,crossOrigin:m,href:d},v.querySelector(T)===null&&(d=v.createElement("link"),Mi(d,"link",c),Et(d),v.head.appendChild(d)))}}function bse(c){Dc.D(c),SO("dns-prefetch",c,null)}function wse(c,d){Dc.C(c,d),SO("preconnect",c,d)}function vse(c,d,m){Dc.L(c,d,m);var v=Fp;if(v&&c&&d){var T='link[rel="preload"][as="'+Os(d)+'"]';d==="image"&&m&&m.imageSrcSet?(T+='[imagesrcset="'+Os(m.imageSrcSet)+'"]',typeof m.imageSizes=="string"&&(T+='[imagesizes="'+Os(m.imageSizes)+'"]')):T+='[href="'+Os(c)+'"]';var U=T;switch(d){case"style":U=zp(c);break;case"script":U=Wp(c)}Ya.has(U)||(c=z({rel:"preload",href:d==="image"&&m&&m.imageSrcSet?void 0:c,as:d},m),Ya.set(U,c),v.querySelector(T)!==null||d==="style"&&v.querySelector(Gm(U))||d==="script"&&v.querySelector(Km(U))||(d=v.createElement("link"),Mi(d,"link",c),Et(d),v.head.appendChild(d)))}}function xse(c,d){Dc.m(c,d);var m=Fp;if(m&&c){var v=d&&typeof d.as=="string"?d.as:"script",T='link[rel="modulepreload"][as="'+Os(v)+'"][href="'+Os(c)+'"]',U=T;switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":U=Wp(c)}if(!Ya.has(U)&&(c=z({rel:"modulepreload",href:c},d),Ya.set(U,c),m.querySelector(T)===null)){switch(v){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(m.querySelector(Km(U)))return}v=m.createElement("link"),Mi(v,"link",c),Et(v),m.head.appendChild(v)}}}function Ese(c,d,m){Dc.S(c,d,m);var v=Fp;if(v&&c){var T=$n(v).hoistableStyles,U=zp(c);d=d||"default";var Z=T.get(U);if(!Z){var J={loading:0,preload:null};if(Z=v.querySelector(Gm(U)))J.loading=5;else{c=z({rel:"stylesheet",href:c,"data-precedence":d},m),(m=Ya.get(U))&&X8(c,m);var ae=Z=v.createElement("link");Et(ae),Mi(ae,"link",c),ae._p=new Promise(function(me,De){ae.onload=me,ae.onerror=De}),ae.addEventListener("load",function(){J.loading|=1}),ae.addEventListener("error",function(){J.loading|=2}),J.loading|=4,Ww(Z,d,v)}Z={type:"stylesheet",instance:Z,count:1,state:J},T.set(U,Z)}}}function _se(c,d){Dc.X(c,d);var m=Fp;if(m&&c){var v=$n(m).hoistableScripts,T=Wp(c),U=v.get(T);U||(U=m.querySelector(Km(T)),U||(c=z({src:c,async:!0},d),(d=Ya.get(T))&&J8(c,d),U=m.createElement("script"),Et(U),Mi(U,"link",c),m.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},v.set(T,U))}}function Cse(c,d){Dc.M(c,d);var m=Fp;if(m&&c){var v=$n(m).hoistableScripts,T=Wp(c),U=v.get(T);U||(U=m.querySelector(Km(T)),U||(c=z({src:c,async:!0,type:"module"},d),(d=Ya.get(T))&&J8(c,d),U=m.createElement("script"),Et(U),Mi(U,"link",c),m.head.appendChild(U)),U={type:"script",instance:U,count:1,state:null},v.set(T,U))}}function kO(c,d,m,v){var T=(T=Ee.current)?zw(T):null;if(!T)throw Error(n(446));switch(c){case"meta":case"title":return null;case"style":return typeof m.precedence=="string"&&typeof m.href=="string"?(d=zp(m.href),m=$n(T).hoistableStyles,v=m.get(d),v||(v={type:"style",instance:null,count:0,state:null},m.set(d,v)),v):{type:"void",instance:null,count:0,state:null};case"link":if(m.rel==="stylesheet"&&typeof m.href=="string"&&typeof m.precedence=="string"){c=zp(m.href);var U=$n(T).hoistableStyles,Z=U.get(c);if(Z||(T=T.ownerDocument||T,Z={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},U.set(c,Z),(U=T.querySelector(Gm(c)))&&!U._p&&(Z.instance=U,Z.state.loading=5),Ya.has(c)||(m={rel:"preload",as:"style",href:m.href,crossOrigin:m.crossOrigin,integrity:m.integrity,media:m.media,hrefLang:m.hrefLang,referrerPolicy:m.referrerPolicy},Ya.set(c,m),U||Ase(T,c,m,Z.state))),d&&v===null)throw Error(n(528,""));return Z}if(d&&v!==null)throw Error(n(529,""));return null;case"script":return d=m.async,m=m.src,typeof m=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=Wp(m),m=$n(T).hoistableScripts,v=m.get(d),v||(v={type:"script",instance:null,count:0,state:null},m.set(d,v)),v):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,c))}}function zp(c){return'href="'+Os(c)+'"'}function Gm(c){return'link[rel="stylesheet"]['+c+"]"}function $O(c){return z({},c,{"data-precedence":c.precedence,precedence:null})}function Ase(c,d,m,v){c.querySelector('link[rel="preload"][as="style"]['+d+"]")?v.loading=1:(d=c.createElement("link"),v.preload=d,d.addEventListener("load",function(){return v.loading|=1}),d.addEventListener("error",function(){return v.loading|=2}),Mi(d,"link",m),Et(d),c.head.appendChild(d))}function Wp(c){return'[src="'+Os(c)+'"]'}function Km(c){return"script[async]"+c}function TO(c,d,m){if(d.count++,d.instance===null)switch(d.type){case"style":var v=c.querySelector('style[data-href~="'+Os(m.href)+'"]');if(v)return d.instance=v,Et(v),v;var T=z({},m,{"data-href":m.href,"data-precedence":m.precedence,href:null,precedence:null});return v=(c.ownerDocument||c).createElement("style"),Et(v),Mi(v,"style",T),Ww(v,m.precedence,c),d.instance=v;case"stylesheet":T=zp(m.href);var U=c.querySelector(Gm(T));if(U)return d.state.loading|=4,d.instance=U,Et(U),U;v=$O(m),(T=Ya.get(T))&&X8(v,T),U=(c.ownerDocument||c).createElement("link"),Et(U);var Z=U;return Z._p=new Promise(function(J,ae){Z.onload=J,Z.onerror=ae}),Mi(U,"link",v),d.state.loading|=4,Ww(U,m.precedence,c),d.instance=U;case"script":return U=Wp(m.src),(T=c.querySelector(Km(U)))?(d.instance=T,Et(T),T):(v=m,(T=Ya.get(U))&&(v=z({},m),J8(v,T)),c=c.ownerDocument||c,T=c.createElement("script"),Et(T),Mi(T,"link",v),c.head.appendChild(T),d.instance=T);case"void":return null;default:throw Error(n(443,d.type))}else d.type==="stylesheet"&&!(d.state.loading&4)&&(v=d.instance,d.state.loading|=4,Ww(v,m.precedence,c));return d.instance}function Ww(c,d,m){for(var v=m.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=v.length?v[v.length-1]:null,U=T,Z=0;Z<v.length;Z++){var J=v[Z];if(J.dataset.precedence===d)U=J;else if(U!==T)break}U?U.parentNode.insertBefore(c,U.nextSibling):(d=m.nodeType===9?m.head:m,d.insertBefore(c,d.firstChild))}function X8(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.title==null&&(c.title=d.title)}function J8(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.integrity==null&&(c.integrity=d.integrity)}var qw=null;function IO(c,d,m){if(qw===null){var v=new Map,T=qw=new Map;T.set(m,v)}else T=qw,v=T.get(m),v||(v=new Map,T.set(m,v));if(v.has(c))return v;for(v.set(c,null),m=m.getElementsByTagName(c),T=0;T<m.length;T++){var U=m[T];if(!(U[er]||U[At]||c==="link"&&U.getAttribute("rel")==="stylesheet")&&U.namespaceURI!=="http://www.w3.org/2000/svg"){var Z=U.getAttribute(d)||"";Z=c+Z;var J=v.get(Z);J?J.push(U):v.set(Z,[U])}}return v}function NO(c,d,m){c=c.ownerDocument||c,c.head.insertBefore(m,d==="title"?c.querySelector("head > title"):null)}function Sse(c,d,m){if(m===1||d.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return c=d.disabled,typeof d.precedence=="string"&&c==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function PO(c){return!(c.type==="stylesheet"&&!(c.state.loading&3))}var Ym=null;function kse(){}function $se(c,d,m){if(Ym===null)throw Error(n(475));var v=Ym;if(d.type==="stylesheet"&&(typeof m.media!="string"||matchMedia(m.media).matches!==!1)&&!(d.state.loading&4)){if(d.instance===null){var T=zp(m.href),U=c.querySelector(Gm(T));if(U){c=U._p,c!==null&&typeof c=="object"&&typeof c.then=="function"&&(v.count++,v=Hw.bind(v),c.then(v,v)),d.state.loading|=4,d.instance=U,Et(U);return}U=c.ownerDocument||c,m=$O(m),(T=Ya.get(T))&&X8(m,T),U=U.createElement("link"),Et(U);var Z=U;Z._p=new Promise(function(J,ae){Z.onload=J,Z.onerror=ae}),Mi(U,"link",m),d.instance=U}v.stylesheets===null&&(v.stylesheets=new Map),v.stylesheets.set(d,c),(c=d.state.preload)&&!(d.state.loading&3)&&(v.count++,d=Hw.bind(v),c.addEventListener("load",d),c.addEventListener("error",d))}}function Tse(){if(Ym===null)throw Error(n(475));var c=Ym;return c.stylesheets&&c.count===0&&e9(c,c.stylesheets),0<c.count?function(d){var m=setTimeout(function(){if(c.stylesheets&&e9(c,c.stylesheets),c.unsuspend){var v=c.unsuspend;c.unsuspend=null,v()}},6e4);return c.unsuspend=d,function(){c.unsuspend=null,clearTimeout(m)}}:null}function Hw(){if(this.count--,this.count===0){if(this.stylesheets)e9(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var Vw=null;function e9(c,d){c.stylesheets=null,c.unsuspend!==null&&(c.count++,Vw=new Map,d.forEach(Ise,c),Vw=null,Hw.call(c))}function Ise(c,d){if(!(d.state.loading&4)){var m=Vw.get(c);if(m)var v=m.get(null);else{m=new Map,Vw.set(c,m);for(var T=c.querySelectorAll("link[data-precedence],style[data-precedence]"),U=0;U<T.length;U++){var Z=T[U];(Z.nodeName==="LINK"||Z.getAttribute("media")!=="not all")&&(m.set(Z.dataset.precedence,Z),v=Z)}v&&m.set(null,v)}T=d.instance,Z=T.getAttribute("data-precedence"),U=m.get(Z)||v,U===v&&m.set(null,T),m.set(Z,T),this.count++,v=Hw.bind(this),T.addEventListener("load",v),T.addEventListener("error",v),U?U.parentNode.insertBefore(T,U.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(T,c.firstChild)),d.state.loading|=4}}var Zm={$$typeof:y,Provider:null,Consumer:null,_currentValue:q,_currentValue2:q,_threadCount:0};function Nse(c,d,m,v,T,U,Z,J){this.tag=1,this.containerInfo=c,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=oe(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.finishedLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=oe(0),this.hiddenUpdates=oe(null),this.identifierPrefix=v,this.onUncaughtError=T,this.onCaughtError=U,this.onRecoverableError=Z,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=J,this.incompleteTransitions=new Map}function OO(c,d,m,v,T,U,Z,J,ae,me,De,He){return c=new Nse(c,d,m,Z,J,ae,me,He),d=1,U===!0&&(d|=24),U=Ga(3,null,null,d),c.current=U,U.stateNode=c,d=Px(),d.refCount++,c.pooledCache=d,d.refCount++,U.memoizedState={element:v,isDehydrated:m,cache:d},h8(U),c}function MO(c){return c?(c=xp,c):xp}function RO(c,d,m,v,T,U){T=MO(T),v.context===null?v.context=T:v.pendingContext=T,v=Yu(d),v.payload={element:m},U=U===void 0?null:U,U!==null&&(v.callback=U),m=Zu(c,v,d),m!==null&&(ys(m,c,d),Om(m,c,d))}function jO(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var m=c.retryLane;c.retryLane=m!==0&&m<d?m:d}}function t9(c,d){jO(c,d),(c=c.alternate)&&jO(c,d)}function DO(c){if(c.tag===13){var d=zu(c,67108864);d!==null&&ys(d,c,67108864),t9(c,67108864)}}var Gw=!0;function Pse(c,d,m,v){var T=L.T;L.T=null;var U=re.p;try{re.p=2,r9(c,d,m,v)}finally{re.p=U,L.T=T}}function Ose(c,d,m,v){var T=L.T;L.T=null;var U=re.p;try{re.p=8,r9(c,d,m,v)}finally{re.p=U,L.T=T}}function r9(c,d,m,v){if(Gw){var T=n9(v);if(T===null)q8(c,d,v,Kw,m),BO(c,v);else if(Rse(T,c,d,m,v))v.stopPropagation();else if(BO(c,v),d&4&&-1<Mse.indexOf(c)){for(;T!==null;){var U=zt(T);if(U!==null)switch(U.tag){case 3:if(U=U.stateNode,U.current.memoizedState.isDehydrated){var Z=gr(U.pendingLanes);if(Z!==0){var J=U;for(J.pendingLanes|=2,J.entangledLanes|=2;Z;){var ae=1<<31-ct(Z);J.entanglements[1]|=ae,Z&=~ae}Pl(U),!(An&6)&&(Nw=pt()+500,qm(0))}}break;case 13:J=zu(U,2),J!==null&&ys(J,U,2),Mw(),t9(U,2)}if(U=n9(v),U===null&&q8(c,d,v,Kw,m),U===T)break;T=U}T!==null&&v.stopPropagation()}else q8(c,d,v,null,m)}}function n9(c){return c=dm(c),i9(c)}var Kw=null;function i9(c){if(Kw=null,c=kt(c),c!==null){var d=P(c);if(d===null)c=null;else{var m=d.tag;if(m===13){if(c=R(d),c!==null)return c;c=null}else if(m===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null)}}return Kw=c,null}function UO(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ze()){case ht:return 2;case bt:return 8;case jt:case yt:return 32;case Dt:return 268435456;default:return 32}default:return 32}}var s9=!1,nd=null,id=null,sd=null,Qm=new Map,Xm=new Map,ad=[],Mse="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function BO(c,d){switch(c){case"focusin":case"focusout":nd=null;break;case"dragenter":case"dragleave":id=null;break;case"mouseover":case"mouseout":sd=null;break;case"pointerover":case"pointerout":Qm.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Xm.delete(d.pointerId)}}function Jm(c,d,m,v,T,U){return c===null||c.nativeEvent!==U?(c={blockedOn:d,domEventName:m,eventSystemFlags:v,nativeEvent:U,targetContainers:[T]},d!==null&&(d=zt(d),d!==null&&DO(d)),c):(c.eventSystemFlags|=v,d=c.targetContainers,T!==null&&d.indexOf(T)===-1&&d.push(T),c)}function Rse(c,d,m,v,T){switch(d){case"focusin":return nd=Jm(nd,c,d,m,v,T),!0;case"dragenter":return id=Jm(id,c,d,m,v,T),!0;case"mouseover":return sd=Jm(sd,c,d,m,v,T),!0;case"pointerover":var U=T.pointerId;return Qm.set(U,Jm(Qm.get(U)||null,c,d,m,v,T)),!0;case"gotpointercapture":return U=T.pointerId,Xm.set(U,Jm(Xm.get(U)||null,c,d,m,v,T)),!0}return!1}function LO(c){var d=kt(c.target);if(d!==null){var m=P(d);if(m!==null){if(d=m.tag,d===13){if(d=R(m),d!==null){c.blockedOn=d,mt(c.priority,function(){if(m.tag===13){var v=pa(),T=zu(m,v);T!==null&&ys(T,m,v),t9(m,v)}});return}}else if(d===3&&m.stateNode.current.memoizedState.isDehydrated){c.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Yw(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var m=n9(c.nativeEvent);if(m===null){m=c.nativeEvent;var v=new m.constructor(m.type,m);um=v,m.target.dispatchEvent(v),um=null}else return d=zt(m),d!==null&&DO(d),c.blockedOn=m,!1;d.shift()}return!0}function FO(c,d,m){Yw(c)&&m.delete(d)}function jse(){s9=!1,nd!==null&&Yw(nd)&&(nd=null),id!==null&&Yw(id)&&(id=null),sd!==null&&Yw(sd)&&(sd=null),Qm.forEach(FO),Xm.forEach(FO)}function Zw(c,d){c.blockedOn===d&&(c.blockedOn=null,s9||(s9=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,jse)))}var Qw=null;function zO(c){Qw!==c&&(Qw=c,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){Qw===c&&(Qw=null);for(var d=0;d<c.length;d+=3){var m=c[d],v=c[d+1],T=c[d+2];if(typeof v!="function"){if(i9(v||m)===null)continue;break}var U=zt(m);U!==null&&(c.splice(d,3),d-=3,Kx(U,{pending:!0,data:T,method:m.method,action:v},v,T))}}))}function e1(c){function d(ae){return Zw(ae,c)}nd!==null&&Zw(nd,c),id!==null&&Zw(id,c),sd!==null&&Zw(sd,c),Qm.forEach(d),Xm.forEach(d);for(var m=0;m<ad.length;m++){var v=ad[m];v.blockedOn===c&&(v.blockedOn=null)}for(;0<ad.length&&(m=ad[0],m.blockedOn===null);)LO(m),m.blockedOn===null&&ad.shift();if(m=(c.ownerDocument||c).$$reactFormReplay,m!=null)for(v=0;v<m.length;v+=3){var T=m[v],U=m[v+1],Z=T[Ue]||null;if(typeof U=="function")Z||zO(m);else if(Z){var J=null;if(U&&U.hasAttribute("formAction")){if(T=U,Z=U[Ue]||null)J=Z.formAction;else if(i9(T)!==null)continue}else J=Z.action;typeof J=="function"?m[v+1]=J:(m.splice(v,3),v-=3),zO(m)}}}function a9(c){this._internalRoot=c}Xw.prototype.render=a9.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(n(409));var m=d.current,v=pa();RO(m,v,c,d,null,null)},Xw.prototype.unmount=a9.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;c.tag===0&&Up(),RO(c.current,2,null,c,null,null),Mw(),d[tt]=null}};function Xw(c){this._internalRoot=c}Xw.prototype.unstable_scheduleHydration=function(c){if(c){var d=Tt();c={blockedOn:null,target:c,priority:d};for(var m=0;m<ad.length&&d!==0&&d<ad[m].priority;m++);ad.splice(m,0,c),m===0&&LO(c)}};var WO=e.version;if(WO!=="19.0.0")throw Error(n(527,WO,"19.0.0"));re.findDOMNode=function(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=W(d),c=c!==null?M(c):null,c=c===null?null:c.stateNode,c};var Dse={bundleType:0,version:"19.0.0",rendererPackageName:"react-dom",currentDispatcherRef:L,findFiberByHostInstance:kt,reconcilerVersion:"19.0.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Jw=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Jw.isDisabled&&Jw.supportsFiber)try{Me=Jw.inject(Dse),Xe=Jw}catch{}}return r1.createRoot=function(c,d){if(!i(c))throw Error(n(299));var m=!1,v="",T=aP,U=oP,Z=lP,J=null;return d!=null&&(d.unstable_strictMode===!0&&(m=!0),d.identifierPrefix!==void 0&&(v=d.identifierPrefix),d.onUncaughtError!==void 0&&(T=d.onUncaughtError),d.onCaughtError!==void 0&&(U=d.onCaughtError),d.onRecoverableError!==void 0&&(Z=d.onRecoverableError),d.unstable_transitionCallbacks!==void 0&&(J=d.unstable_transitionCallbacks)),d=OO(c,1,!1,null,null,m,v,T,U,Z,J,null),c[tt]=d.current,W8(c.nodeType===8?c.parentNode:c),new a9(d)},r1.hydrateRoot=function(c,d,m){if(!i(c))throw Error(n(299));var v=!1,T="",U=aP,Z=oP,J=lP,ae=null,me=null;return m!=null&&(m.unstable_strictMode===!0&&(v=!0),m.identifierPrefix!==void 0&&(T=m.identifierPrefix),m.onUncaughtError!==void 0&&(U=m.onUncaughtError),m.onCaughtError!==void 0&&(Z=m.onCaughtError),m.onRecoverableError!==void 0&&(J=m.onRecoverableError),m.unstable_transitionCallbacks!==void 0&&(ae=m.unstable_transitionCallbacks),m.formState!==void 0&&(me=m.formState)),d=OO(c,1,!0,d,m??null,v,T,U,Z,J,ae,me),d.context=MO(null),m=d.current,v=pa(),T=Yu(v),T.callback=null,Zu(m,T,v),d.current.lanes=v,ie(d,v),Pl(d),c[tt]=d.current,W8(c),new Xw(d)},r1.version="19.0.0",r1}var eM;function Yse(){if(eM)return l9.exports;eM=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),l9.exports=Kse(),l9.exports}var Zse=Yse(),$=tb();const et=ra($),K_=Fse({__proto__:null,default:et},[$]),ev=new Map,f9=t=>{const e=$.useRef(!1),r=$.useSyncExternalStore(t.subscribe,t.getSnapshot);return ev.has(t)||ev.set(t,Qse(t.get())),(r!==null||e.current)&&(ev.set(t,{read:()=>r}),e.current=!0),r??ev.get(t).read()},Qse=t=>{let e="pending",r;const n=t.then(i=>{e="success",r=i},i=>{e="error",r=i});return{read(){switch(e){case"pending":throw n;case"error":throw r;default:return r}}}};function Xse(t,e){return function(n){return p.jsx($.Suspense,{fallback:e,children:p.jsx(t,{...n})})}}class Jse extends $.Component{constructor(){super(...arguments);qO(this,"state",{hasError:!1})}static getDerivedStateFromError(){return{hasError:!0}}componentDidCatch(r,n){console.error(r,n)}render(){return this.state.hasError?this.props.fallback:this.props.children}}function eae(t,e){return function(n){return p.jsx(Jse,{fallback:e,children:p.jsx(t,{...n})})}}const tae="https://content-blocking-extension-production.up.railway.app";async function qy(t,e={},r){const n=`${tae}${t}`,i={"Content-Type":"application/json",...e.headers};r&&(i.Authorization=`Bearer ${r}`);try{const s=await fetch(n,{...e,headers:i});if(!s.ok){let a={};try{a=await s.json()}catch{console.warn(`[API Error] Failed to parse error response for ${t}`)}const o=a.detail||a.message||`API request failed: ${s.status} ${s.statusText}`,l={};throw s.headers.forEach((u,h)=>{l[h]=u}),console.error(`[API Error] ${t}:`,{status:s.status,statusText:s.statusText,errorData:a,url:n,headers:l}),new Error(o)}return await s.json()}catch(s){throw console.error(`[API Error] ${t}:`,s),s}}async function rae(t){console.log("[API] Attempting login with Privy token:",{tokenLength:t.length,tokenPreview:t.substring(0,50)+"...",endpoint:"/api/v1/auth/login"});try{return await qy("/api/v1/auth/login",{method:"POST",body:JSON.stringify({access_token:t})})}catch(e){console.warn("[API] Login endpoint failed, trying verify endpoint as fallback:",e);try{return await qy("/api/v1/auth/verify",{method:"POST"},t)}catch(r){return console.error("[API] Both login and verify endpoints failed:",{error:e,verifyError:r}),console.warn("[API] Backend Privy verification is broken, using mock response for local functionality"),{status:"success",user_id:"temp-user-id",is_premium:!1,free_blocks_remaining:100,subscription_status:"free",message:"Using local mode due to backend authentication issues"}}}}async function nae(t){return qy("/api/v1/users/stats",{method:"GET"},t)}async function iae(){return qy("/health",{method:"GET"})}async function tM(t,e){return qy("/api/v1/users/block-events",{method:"POST",body:JSON.stringify({events:e})},t)}async function sae(){try{return await iae(),!0}catch{return!1}}var Ef;(function(t){t.Local="local",t.Sync="sync",t.Managed="managed",t.Session="session"})(Ef||(Ef={}));var Y_;(function(t){t.ExtensionPagesOnly="TRUSTED_CONTEXTS",t.ExtensionPagesAndContentScripts="TRUSTED_AND_UNTRUSTED_CONTEXTS"})(Y_||(Y_={}));const Bs=globalThis.chrome,rM=async(t,e)=>{const r=i=>typeof i=="function",n=i=>i instanceof Promise;return r(t)?(n(t),t(e)):t};let nM=!1;function iM(t){if(Bs&&Bs.storage[t]===void 0)throw new Error(`Check your storage permission in manifest.json: ${t} is not defined`)}function ck(t,e,r){var x,E;let n=null,i=!1,s=[];const a=(r==null?void 0:r.storageEnum)??Ef.Local,o=(r==null?void 0:r.liveUpdate)??!1,l=((x=r==null?void 0:r.serialization)==null?void 0:x.serialize)??(S=>S),u=((E=r==null?void 0:r.serialization)==null?void 0:E.deserialize)??(S=>S);nM===!1&&a===Ef.Session&&(r==null?void 0:r.sessionAccessForContentScripts)===!0&&(iM(a),Bs==null||Bs.storage[a].setAccessLevel({accessLevel:Y_.ExtensionPagesAndContentScripts}).catch(S=>{console.warn(S),console.warn("Please call setAccessLevel into different context, like a background script.")}),nM=!0);const h=async()=>{iM(a);const S=await(Bs==null?void 0:Bs.storage[a].get([t]));return S?u(S[t])??e:e},f=()=>{s.forEach(S=>S())},g=async S=>{i||(n=await h()),n=await rM(S,n),await(Bs==null?void 0:Bs.storage[a].set({[t]:l(n)})),f()},y=S=>(s=[...s,S],()=>{s=s.filter(_=>_!==S)}),b=()=>n;h().then(S=>{n=S,i=!0,f()});async function w(S){if(S[t]===void 0)return;const _=u(S[t].newValue);n!==_&&(n=await rM(_,n),f())}return o&&(Bs==null||Bs.storage[a].onChanged.addListener(w)),{get:h,set:g,getSnapshot:b,subscribe:y}}const sM=ck("theme-storage-key","light",{storageEnum:Ef.Local,liveUpdate:!0}),aae={...sM,toggle:async()=>{await sM.set(t=>t==="light"?"dark":"light")}},oae={protectionActive:!0,blockedCount:0,todayBlockedCount:0,lastResetDate:new Date().toDateString(),blockedSites:[]},n1=ck("content-blocking-storage",oae,{storageEnum:Ef.Local,liveUpdate:!0}),aM={...n1,toggleProtection:async()=>{await n1.set(t=>({...t,protectionActive:!t.protectionActive}))},incrementBlockCount:async()=>{await n1.set(t=>{const e=new Date().toDateString(),r=t.lastResetDate!==e;return{...t,blockedCount:t.blockedCount+1,todayBlockedCount:r?1:t.todayBlockedCount+1,lastResetDate:e}})},resetDailyCount:async()=>{await n1.set(t=>({...t,todayBlockedCount:0,lastResetDate:new Date().toDateString()}))},addBlockedSite:async t=>{await n1.set(e=>e.blockedSites.includes(t)?e:{...e,blockedSites:[...e.blockedSites,t]})}},mq={isAuthenticated:!1,userId:null,walletAddress:null,wallets:[],isPremium:!1,freeBlocksRemaining:10,lastFreeBlocksResetDate:new Date().toDateString()},qp=ck("privy-auth-storage",mq,{storageEnum:Ef.Local,liveUpdate:!0}),Hp={...qp,login:async(t,e,r=[])=>{await qp.set(n=>({...n,isAuthenticated:!0,userId:t,walletAddress:e,wallets:r}))},logout:async()=>{await qp.set(()=>({...mq,freeBlocksRemaining:10,lastFreeBlocksResetDate:new Date().toDateString()}))},upgradeToPremium:async()=>{await qp.set(t=>({...t,isPremium:!0}))},decrementFreeBlocks:async()=>{let t=0;return await qp.set(e=>{const r=new Date().toDateString(),i=e.lastFreeBlocksResetDate!==r?10:e.freeBlocksRemaining;return t=Math.max(0,i-1),{...e,freeBlocksRemaining:t,lastFreeBlocksResetDate:r}}),t},resetDailyFreeBlocks:async()=>{await qp.set(t=>({...t,freeBlocksRemaining:10,lastFreeBlocksResetDate:new Date().toDateString()}))},canBlock:async()=>!0},lae="modulepreload",cae=function(t,e){return new URL(t,e).href},oM={},ic=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){const a=document.getElementsByTagName("link"),o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=Promise.allSettled(r.map(u=>{if(u=cae(u,n),u in oM)return;oM[u]=!0;const h=u.endsWith(".css"),f=h?'[rel="stylesheet"]':"";if(!!n)for(let b=a.length-1;b>=0;b--){const w=a[b];if(w.href===u&&(!h||w.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${f}`))return;const y=document.createElement("link");if(y.rel=h?"stylesheet":lae,h||(y.as="script"),y.crossOrigin="",y.href=u,l&&y.setAttribute("nonce",l),document.head.appendChild(y),h)return new Promise((b,w)=>{y.addEventListener("load",b),y.addEventListener("error",()=>w(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})};function uae(t){if(typeof window>"u")return;const e=r=>t(r.detail);return window.addEventListener("eip6963:announceProvider",e),window.dispatchEvent(new CustomEvent("eip6963:requestProvider")),()=>window.removeEventListener("eip6963:announceProvider",e)}function dae(){const t=new Set;let e=[];const r=()=>uae(i=>{e.some(({info:s})=>s.uuid===i.info.uuid)||(e=[...e,i],t.forEach(s=>s(e,{added:[i]})))});let n=r();return{_listeners(){return t},clear(){t.forEach(i=>i([],{removed:[...e]})),e=[]},destroy(){this.clear(),t.clear(),n==null||n()},findProvider({rdns:i}){return e.find(s=>s.info.rdns===i)},getProviders(){return e},reset(){this.clear(),n==null||n(),n=r()},subscribe(i,{emitImmediately:s}={}){return t.add(i),s&&i(e,{added:e}),()=>t.delete(i)}}}var xt={},ry={exports:{}},hae=ry.exports,lM;function fae(){return lM||(lM=1,function(t,e){(function(r,n){var i="1.0.41",s="",a="?",o="function",l="undefined",u="object",h="string",f="major",g="model",y="name",b="type",w="vendor",x="version",E="architecture",S="console",_="mobile",I="tablet",A="smarttv",O="wearable",F="embedded",H=500,L="Amazon",z="Apple",V="ASUS",K="BlackBerry",B="Browser",C="Chrome",k="Edge",N="Firefox",D="Google",P="Honor",R="Huawei",j="Lenovo",W="LG",M="Microsoft",G="Motorola",re="Nvidia",q="OnePlus",X="Opera",ne="OPPO",ee="Samsung",ce="Sharp",be="Sony",ve="Xiaomi",ge="Zebra",Ee="Facebook",ye="Chromium OS",$e="Mac OS",we=" Browser",qe=function(Qe,Be){var Me={};for(var Xe in Qe)Be[Xe]&&Be[Xe].length%2===0?Me[Xe]=Be[Xe].concat(Qe[Xe]):Me[Xe]=Qe[Xe];return Me},Ge=function(Qe){for(var Be={},Me=0;Me<Qe.length;Me++)Be[Qe[Me].toUpperCase()]=Qe[Me];return Be},Ae=function(Qe,Be){return typeof Qe===h?je(Be).indexOf(je(Qe))!==-1:!1},je=function(Qe){return Qe.toLowerCase()},gt=function(Qe){return typeof Qe===h?Qe.replace(/[^\d\.]/g,s).split(".")[0]:n},Qt=function(Qe,Be){if(typeof Qe===h)return Qe=Qe.replace(/^\s\s*/,s),typeof Be===l?Qe:Qe.substring(0,H)},Ie=function(Qe,Be){for(var Me=0,Xe,vt,st,ct,We,St;Me<Be.length&&!We;){var Jt=Be[Me],Nt=Be[Me+1];for(Xe=vt=0;Xe<Jt.length&&!We&&Jt[Xe];)if(We=Jt[Xe++].exec(Qe),We)for(st=0;st<Nt.length;st++)St=We[++vt],ct=Nt[st],typeof ct===u&&ct.length>0?ct.length===2?typeof ct[1]==o?this[ct[0]]=ct[1].call(this,St):this[ct[0]]=ct[1]:ct.length===3?typeof ct[1]===o&&!(ct[1].exec&&ct[1].test)?this[ct[0]]=St?ct[1].call(this,St,ct[2]):n:this[ct[0]]=St?St.replace(ct[1],ct[2]):n:ct.length===4&&(this[ct[0]]=St?ct[3].call(this,St.replace(ct[1],ct[2])):n):this[ct]=St||n;Me+=2}},pt=function(Qe,Be){for(var Me in Be)if(typeof Be[Me]===u&&Be[Me].length>0){for(var Xe=0;Xe<Be[Me].length;Xe++)if(Ae(Be[Me][Xe],Qe))return Me===a?n:Me}else if(Ae(Be[Me],Qe))return Me===a?n:Me;return Be.hasOwnProperty("*")?Be["*"]:Qe},Ze={"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},ht={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},bt={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[x,[y,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[x,[y,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[y,x],[/opios[\/ ]+([\w\.]+)/i],[x,[y,X+" Mini"]],[/\bop(?:rg)?x\/([\w\.]+)/i],[x,[y,X+" GX"]],[/\bopr\/([\w\.]+)/i],[x,[y,X]],[/\bb[ai]*d(?:uhd|[ub]*[aekoprswx]{5,6})[\/ ]?([\w\.]+)/i],[x,[y,"Baidu"]],[/\b(?:mxbrowser|mxios|myie2)\/?([-\w\.]*)\b/i],[x,[y,"Maxthon"]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer|sleipnir)[\/ ]?([\w\.]*)/i,/(avant|iemobile|slim(?:browser|boat|jet))[\/ ]?([\d\.]*)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|duckduckgo|klar|helio|(?=comodo_)?dragon)\/([-\w\.]+)/i,/(heytap|ovi|115)browser\/([\d\.]+)/i,/(weibo)__([\d\.]+)/i],[y,x],[/quark(?:pc)?\/([-\w\.]+)/i],[x,[y,"Quark"]],[/\bddg\/([\w\.]+)/i],[x,[y,"DuckDuckGo"]],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[x,[y,"UC"+B]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i,/micromessenger\/([\w\.]+)/i],[x,[y,"WeChat"]],[/konqueror\/([\w\.]+)/i],[x,[y,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[x,[y,"IE"]],[/ya(?:search)?browser\/([\w\.]+)/i],[x,[y,"Yandex"]],[/slbrowser\/([\w\.]+)/i],[x,[y,"Smart Lenovo "+B]],[/(avast|avg)\/([\w\.]+)/i],[[y,/(.+)/,"$1 Secure "+B],x],[/\bfocus\/([\w\.]+)/i],[x,[y,N+" Focus"]],[/\bopt\/([\w\.]+)/i],[x,[y,X+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[x,[y,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[x,[y,"Dolphin"]],[/coast\/([\w\.]+)/i],[x,[y,X+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[x,[y,"MIUI"+we]],[/fxios\/([\w\.-]+)/i],[x,[y,N]],[/\bqihoobrowser\/?([\w\.]*)/i],[x,[y,"360"]],[/\b(qq)\/([\w\.]+)/i],[[y,/(.+)/,"$1Browser"],x],[/(oculus|sailfish|huawei|vivo|pico)browser\/([\w\.]+)/i],[[y,/(.+)/,"$1"+we],x],[/samsungbrowser\/([\w\.]+)/i],[x,[y,ee+" Internet"]],[/metasr[\/ ]?([\d\.]+)/i],[x,[y,"Sogou Explorer"]],[/(sogou)mo\w+\/([\d\.]+)/i],[[y,"Sogou Mobile"],x],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|2345(?=browser|chrome|explorer))\w*[\/ ]?v?([\w\.]+)/i],[y,x],[/(lbbrowser|rekonq)/i,/\[(linkedin)app\]/i],[y],[/ome\/([\w\.]+) \w* ?(iron) saf/i,/ome\/([\w\.]+).+qihu (360)[es]e/i],[x,y],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[y,Ee],x],[/(Klarna)\/([\w\.]+)/i,/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/(daum)apps[\/ ]([\w\.]+)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(alipay)client\/([\w\.]+)/i,/(twitter)(?:and| f.+e\/([\w\.]+))/i,/(chromium|instagram|snapchat)[\/ ]([-\w\.]+)/i],[y,x],[/\bgsa\/([\w\.]+) .*safari\//i],[x,[y,"GSA"]],[/musical_ly(?:.+app_?version\/|_)([\w\.]+)/i],[x,[y,"TikTok"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[x,[y,C+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[y,C+" WebView"],x],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[x,[y,"Android "+B]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[y,x],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[x,[y,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[x,y],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[y,[x,pt,Ze]],[/(webkit|khtml)\/([\w\.]+)/i],[y,x],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[y,"Netscape"],x],[/(wolvic|librewolf)\/([\w\.]+)/i],[y,x],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[x,[y,N+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(amaya|dillo|doris|icab|ladybird|lynx|mosaic|netsurf|obigo|polaris|w3m|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/\b(links) \(([\w\.]+)/i],[y,[x,/_/g,"."]],[/(cobalt)\/([\w\.]+)/i],[y,[x,/master.|lts./,""]]],cpu:[[/\b((amd|x|x86[-_]?|wow|win)64)\b/i],[[E,"amd64"]],[/(ia32(?=;))/i,/\b((i[346]|x)86)(pc)?\b/i],[[E,"ia32"]],[/\b(aarch64|arm(v?[89]e?l?|_?64))\b/i],[[E,"arm64"]],[/\b(arm(v[67])?ht?n?[fl]p?)\b/i],[[E,"armhf"]],[/( (ce|mobile); ppc;|\/[\w\.]+arm\b)/i],[[E,"arm"]],[/((ppc|powerpc)(64)?)( mac|;|\))/i],[[E,/ower/,s,je]],[/ sun4\w[;\)]/i],[[E,"sparc"]],[/\b(avr32|ia64(?=;)|68k(?=\))|\barm(?=v([1-7]|[5-7]1)l?|;|eabi)|(irix|mips|sparc)(64)?\b|pa-risc)/i],[[E,je]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[g,[w,ee],[b,I]],[/\b((?:s[cgp]h|gt|sm)-(?![lr])\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]((?!sm-[lr])[-\w]+)/i,/sec-(sgh\w+)/i],[g,[w,ee],[b,_]],[/(?:\/|\()(ip(?:hone|od)[\w, ]*)(?:\/|;)/i],[g,[w,z],[b,_]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[g,[w,z],[b,I]],[/(macintosh);/i],[g,[w,z]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[g,[w,ce],[b,_]],[/\b((?:brt|eln|hey2?|gdi|jdn)-a?[lnw]09|(?:ag[rm]3?|jdn2|kob2)-a?[lw]0[09]hn)(?: bui|\)|;)/i],[g,[w,P],[b,I]],[/honor([-\w ]+)[;\)]/i],[g,[w,P],[b,_]],[/\b((?:ag[rs][2356]?k?|bah[234]?|bg[2o]|bt[kv]|cmr|cpn|db[ry]2?|jdn2|got|kob2?k?|mon|pce|scm|sht?|[tw]gr|vrd)-[ad]?[lw][0125][09]b?|605hw|bg2-u03|(?:gem|fdr|m2|ple|t1)-[7a]0[1-4][lu]|t1-a2[13][lw]|mediapad[\w\. ]*(?= bui|\)))\b(?!.+d\/s)/i],[g,[w,R],[b,I]],[/(?:huawei)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[g,[w,R],[b,_]],[/oid[^\)]+; (2[\dbc]{4}(182|283|rp\w{2})[cgl]|m2105k81a?c)(?: bui|\))/i,/\b((?:red)?mi[-_ ]?pad[\w- ]*)(?: bui|\))/i],[[g,/_/g," "],[w,ve],[b,I]],[/\b(poco[\w ]+|m2\d{3}j\d\d[a-z]{2})(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/oid[^\)]+; (m?[12][0-389][01]\w{3,6}[c-y])( bui|; wv|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite|pro)?)(?: bui|\))/i,/ ([\w ]+) miui\/v?\d/i],[[g,/_/g," "],[w,ve],[b,_]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[g,[w,ne],[b,_]],[/\b(opd2(\d{3}a?))(?: bui|\))/i],[g,[w,pt,{OnePlus:["304","403","203"],"*":ne}],[b,I]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[g,[w,"Vivo"],[b,_]],[/\b(rmx[1-3]\d{3})(?: bui|;|\))/i],[g,[w,"Realme"],[b,_]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto(?! 360)[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[g,[w,G],[b,_]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[g,[w,G],[b,I]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[g,[w,W],[b,I]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv|watch)\w+)/i,/\blg-?([\d\w]+) bui/i],[g,[w,W],[b,_]],[/(ideatab[-\w ]+|602lv|d-42a|a101lv|a2109a|a3500-hv|s[56]000|pb-6505[my]|tb-?x?\d{3,4}(?:f[cu]|xu|[av])|yt\d?-[jx]?\d+[lfmx])( bui|;|\)|\/)/i,/lenovo ?(b[68]0[08]0-?[hf]?|tab(?:[\w- ]+?)|tb[\w-]{6,7})( bui|;|\)|\/)/i],[g,[w,j],[b,I]],[/(nokia) (t[12][01])/i],[w,g,[b,I]],[/(?:maemo|nokia).*(n900|lumia \d+|rm-\d+)/i,/nokia[-_ ]?(([-\w\. ]*))/i],[[g,/_/g," "],[b,_],[w,"Nokia"]],[/(pixel (c|tablet))\b/i],[g,[w,D],[b,I]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[g,[w,D],[b,_]],[/droid.+; (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[g,[w,be],[b,_]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[g,"Xperia Tablet"],[w,be],[b,I]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[g,[w,q],[b,_]],[/(alexa)webm/i,/(kf[a-z]{2}wi|aeo(?!bc)\w\w)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[g,[w,L],[b,I]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[g,/(.+)/g,"Fire Phone $1"],[w,L],[b,_]],[/(playbook);[-\w\),; ]+(rim)/i],[g,w,[b,I]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[g,[w,K],[b,_]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[g,[w,V],[b,I]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[g,[w,V],[b,_]],[/(nexus 9)/i],[g,[w,"HTC"],[b,I]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[w,[g,/_/g," "],[b,_]],[/droid [\w\.]+; ((?:8[14]9[16]|9(?:0(?:48|60|8[01])|1(?:3[27]|66)|2(?:6[69]|9[56])|466))[gqswx])\w*(\)| bui)/i],[g,[w,"TCL"],[b,I]],[/(itel) ((\w+))/i],[[w,je],g,[b,pt,{tablet:["p10001l","w7001"],"*":"mobile"}]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[g,[w,"Acer"],[b,I]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[g,[w,"Meizu"],[b,_]],[/; ((?:power )?armor(?:[\w ]{0,8}))(?: bui|\))/i],[g,[w,"Ulefone"],[b,_]],[/; (energy ?\w+)(?: bui|\))/i,/; energizer ([\w ]+)(?: bui|\))/i],[g,[w,"Energizer"],[b,_]],[/; cat (b35);/i,/; (b15q?|s22 flip|s48c|s62 pro)(?: bui|\))/i],[g,[w,"Cat"],[b,_]],[/((?:new )?andromax[\w- ]+)(?: bui|\))/i],[g,[w,"Smartfren"],[b,_]],[/droid.+; (a(?:015|06[35]|142p?))/i],[g,[w,"Nothing"],[b,_]],[/; (x67 5g|tikeasy \w+|ac[1789]\d\w+)( b|\))/i,/archos ?(5|gamepad2?|([\w ]*[t1789]|hello) ?\d+[\w ]*)( b|\))/i],[g,[w,"Archos"],[b,I]],[/archos ([\w ]+)( b|\))/i,/; (ac[3-6]\d\w{2,8})( b|\))/i],[g,[w,"Archos"],[b,_]],[/(imo) (tab \w+)/i,/(infinix) (x1101b?)/i],[w,g,[b,I]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus(?! zenw)|dell|jolla|meizu|motorola|polytron|infinix|tecno|micromax|advan)[-_ ]?([-\w]*)/i,/; (hmd|imo) ([\w ]+?)(?: bui|\))/i,/(hp) ([\w ]+\w)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w ]+?)(?: bui|\)|\/)/i,/(oppo) ?([\w ]+) bui/i],[w,g,[b,_]],[/(kobo)\s(ereader|touch)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[w,g,[b,I]],[/(surface duo)/i],[g,[w,M],[b,I]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[g,[w,"Fairphone"],[b,_]],[/(u304aa)/i],[g,[w,"AT&T"],[b,_]],[/\bsie-(\w*)/i],[g,[w,"Siemens"],[b,_]],[/\b(rct\w+) b/i],[g,[w,"RCA"],[b,I]],[/\b(venue[\d ]{2,7}) b/i],[g,[w,"Dell"],[b,I]],[/\b(q(?:mv|ta)\w+) b/i],[g,[w,"Verizon"],[b,I]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[g,[w,"Barnes & Noble"],[b,I]],[/\b(tm\d{3}\w+) b/i],[g,[w,"NuVision"],[b,I]],[/\b(k88) b/i],[g,[w,"ZTE"],[b,I]],[/\b(nx\d{3}j) b/i],[g,[w,"ZTE"],[b,_]],[/\b(gen\d{3}) b.+49h/i],[g,[w,"Swiss"],[b,_]],[/\b(zur\d{3}) b/i],[g,[w,"Swiss"],[b,I]],[/\b((zeki)?tb.*\b) b/i],[g,[w,"Zeki"],[b,I]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[w,"Dragon Touch"],g,[b,I]],[/\b(ns-?\w{0,9}) b/i],[g,[w,"Insignia"],[b,I]],[/\b((nxa|next)-?\w{0,9}) b/i],[g,[w,"NextBook"],[b,I]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[w,"Voice"],g,[b,_]],[/\b(lvtel\-)?(v1[12]) b/i],[[w,"LvTel"],g,[b,_]],[/\b(ph-1) /i],[g,[w,"Essential"],[b,_]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[g,[w,"Envizen"],[b,I]],[/\b(trio[-\w\. ]+) b/i],[g,[w,"MachSpeed"],[b,I]],[/\btu_(1491) b/i],[g,[w,"Rotor"],[b,I]],[/((?:tegranote|shield t(?!.+d tv))[\w- ]*?)(?: b|\))/i],[g,[w,re],[b,I]],[/(sprint) (\w+)/i],[w,g,[b,_]],[/(kin\.[onetw]{3})/i],[[g,/\./g," "],[w,M],[b,_]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[g,[w,ge],[b,I]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[g,[w,ge],[b,_]],[/smart-tv.+(samsung)/i],[w,[b,A]],[/hbbtv.+maple;(\d+)/i],[[g,/^/,"SmartTV"],[w,ee],[b,A]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[w,W],[b,A]],[/(apple) ?tv/i],[w,[g,z+" TV"],[b,A]],[/crkey/i],[[g,C+"cast"],[w,D],[b,A]],[/droid.+aft(\w+)( bui|\))/i],[g,[w,L],[b,A]],[/(shield \w+ tv)/i],[g,[w,re],[b,A]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[g,[w,ce],[b,A]],[/(bravia[\w ]+)( bui|\))/i],[g,[w,be],[b,A]],[/(mi(tv|box)-?\w+) bui/i],[g,[w,ve],[b,A]],[/Hbbtv.*(technisat) (.*);/i],[w,g,[b,A]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[w,Qt],[g,Qt],[b,A]],[/droid.+; ([\w- ]+) (?:android tv|smart[- ]?tv)/i],[g,[b,A]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[b,A]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[w,g,[b,S]],[/droid.+; (shield)( bui|\))/i],[g,[w,re],[b,S]],[/(playstation \w+)/i],[g,[w,be],[b,S]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[g,[w,M],[b,S]],[/\b(sm-[lr]\d\d[0156][fnuw]?s?|gear live)\b/i],[g,[w,ee],[b,O]],[/((pebble))app/i,/(asus|google|lg|oppo) ((pixel |zen)?watch[\w ]*)( bui|\))/i],[w,g,[b,O]],[/(ow(?:19|20)?we?[1-3]{1,3})/i],[g,[w,ne],[b,O]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[g,[w,z],[b,O]],[/(opwwe\d{3})/i],[g,[w,q],[b,O]],[/(moto 360)/i],[g,[w,G],[b,O]],[/(smartwatch 3)/i],[g,[w,be],[b,O]],[/(g watch r)/i],[g,[w,W],[b,O]],[/droid.+; (wt63?0{2,3})\)/i],[g,[w,ge],[b,O]],[/droid.+; (glass) \d/i],[g,[w,D],[b,O]],[/(pico) (4|neo3(?: link|pro)?)/i],[w,g,[b,O]],[/; (quest( \d| pro)?)/i],[g,[w,Ee],[b,O]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[w,[b,F]],[/(aeobc)\b/i],[g,[w,L],[b,F]],[/(homepod).+mac os/i],[g,[w,z],[b,F]],[/windows iot/i],[[b,F]],[/droid .+?; ([^;]+?)(?: bui|; wv\)|\) applew).+? mobile safari/i],[g,[b,_]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[g,[b,I]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[b,I]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[b,_]],[/droid .+?; ([\w\. -]+)( bui|\))/i],[g,[w,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[x,[y,k+"HTML"]],[/(arkweb)\/([\w\.]+)/i],[y,x],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[x,[y,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna|servo)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i,/\b(libweb)/i],[y,x],[/ladybird\//i],[[y,"LibWeb"]],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[x,y]],os:[[/microsoft (windows) (vista|xp)/i],[y,x],[/(windows (?:phone(?: os)?|mobile|iot))[\/ ]?([\d\.\w ]*)/i],[y,[x,pt,ht]],[/windows nt 6\.2; (arm)/i,/windows[\/ ]([ntce\d\. ]+\w)(?!.+xbox)/i,/(?:win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[x,pt,ht],[y,"Windows"]],[/[adehimnop]{4,7}\b(?:.*os ([\w]+) like mac|; opera)/i,/(?:ios;fbsv\/|iphone.+ios[\/ ])([\d\.]+)/i,/cfnetwork\/.+darwin/i],[[x,/_/g,"."],[y,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[y,$e],[x,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[x,y],[/(ubuntu) ([\w\.]+) like android/i],[[y,/(.+)/,"$1 Touch"],x],[/(android|bada|blackberry|kaios|maemo|meego|openharmony|qnx|rim tablet os|sailfish|series40|symbian|tizen|webos)\w*[-\/; ]?([\d\.]*)/i],[y,x],[/\(bb(10);/i],[x,[y,K]],[/(?:symbian ?os|symbos|s60(?=;)|series ?60)[-\/ ]?([\w\.]*)/i],[x,[y,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[x,[y,N+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[x,[y,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[x,[y,"watchOS"]],[/crkey\/([\d\.]+)/i],[x,[y,C+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[y,ye],x],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux)(?: arm\w*| x86\w*| ?)([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[y,x],[/(sunos) ?([\w\.\d]*)/i],[[y,"Solaris"],x],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux|serenityos)/i,/(unix) ?([\w\.]*)/i],[y,x]]},jt=function(Qe,Be){if(typeof Qe===u&&(Be=Qe,Qe=n),!(this instanceof jt))return new jt(Qe,Be).getResult();var Me=typeof r!==l&&r.navigator?r.navigator:n,Xe=Qe||(Me&&Me.userAgent?Me.userAgent:s),vt=Me&&Me.userAgentData?Me.userAgentData:n,st=Be?qe(bt,Be):bt,ct=Me&&Me.userAgent==Xe;return this.getBrowser=function(){var We={};return We[y]=n,We[x]=n,Ie.call(We,Xe,st.browser),We[f]=gt(We[x]),ct&&Me&&Me.brave&&typeof Me.brave.isBrave==o&&(We[y]="Brave"),We},this.getCPU=function(){var We={};return We[E]=n,Ie.call(We,Xe,st.cpu),We},this.getDevice=function(){var We={};return We[w]=n,We[g]=n,We[b]=n,Ie.call(We,Xe,st.device),ct&&!We[b]&&vt&&vt.mobile&&(We[b]=_),ct&&We[g]=="Macintosh"&&Me&&typeof Me.standalone!==l&&Me.maxTouchPoints&&Me.maxTouchPoints>2&&(We[g]="iPad",We[b]=I),We},this.getEngine=function(){var We={};return We[y]=n,We[x]=n,Ie.call(We,Xe,st.engine),We},this.getOS=function(){var We={};return We[y]=n,We[x]=n,Ie.call(We,Xe,st.os),ct&&!We[y]&&vt&&vt.platform&&vt.platform!="Unknown"&&(We[y]=vt.platform.replace(/chrome os/i,ye).replace(/macos/i,$e)),We},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Xe},this.setUA=function(We){return Xe=typeof We===h&&We.length>H?Qt(We,H):We,this},this.setUA(Xe),this};jt.VERSION=i,jt.BROWSER=Ge([y,x,f]),jt.CPU=Ge([E]),jt.DEVICE=Ge([g,w,b,S,_,A,I,O,F]),jt.ENGINE=jt.OS=Ge([y,x]),t.exports&&(e=t.exports=jt),e.UAParser=jt;var yt=typeof r!==l&&(r.jQuery||r.Zepto);if(yt&&!yt.ua){var Dt=new jt;yt.ua=Dt.getResult(),yt.ua.get=function(){return Dt.getUA()},yt.ua.set=function(Qe){Dt.setUA(Qe);var Be=Dt.getResult();for(var Me in Be)yt.ua[Me]=Be[Me]}}})(typeof window=="object"?window:hae)}(ry,ry.exports)),ry.exports}var cM;function pae(){if(cM)return xt;cM=1,Object.defineProperty(xt,"__esModule",{value:!0});function t(_e){return _e&&typeof _e=="object"&&"default"in _e?_e.default:_e}var e=tb(),r=t(e),n=fae(),i=new n,s=i.getBrowser(),a=i.getCPU(),o=i.getDevice(),l=i.getEngine(),u=i.getOS(),h=i.getUA(),f=function(se){return i.setUA(se)},g=function(se){if(!se){console.error("No userAgent string was provided");return}var de=new n(se);return{UA:de,browser:de.getBrowser(),cpu:de.getCPU(),device:de.getDevice(),engine:de.getEngine(),os:de.getOS(),ua:de.getUA(),setUserAgent:function(Ve){return de.setUA(Ve)}}},y=Object.freeze({ClientUAInstance:i,browser:s,cpu:a,device:o,engine:l,os:u,ua:h,setUa:f,parseUserAgent:g});function b(_e,se){var de=Object.keys(_e);if(Object.getOwnPropertySymbols){var Pe=Object.getOwnPropertySymbols(_e);se&&(Pe=Pe.filter(function(Ve){return Object.getOwnPropertyDescriptor(_e,Ve).enumerable})),de.push.apply(de,Pe)}return de}function w(_e){for(var se=1;se<arguments.length;se++){var de=arguments[se]!=null?arguments[se]:{};se%2?b(Object(de),!0).forEach(function(Pe){I(_e,Pe,de[Pe])}):Object.getOwnPropertyDescriptors?Object.defineProperties(_e,Object.getOwnPropertyDescriptors(de)):b(Object(de)).forEach(function(Pe){Object.defineProperty(_e,Pe,Object.getOwnPropertyDescriptor(de,Pe))})}return _e}function x(_e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?x=function(se){return typeof se}:x=function(se){return se&&typeof Symbol=="function"&&se.constructor===Symbol&&se!==Symbol.prototype?"symbol":typeof se},x(_e)}function E(_e,se){if(!(_e instanceof se))throw new TypeError("Cannot call a class as a function")}function S(_e,se){for(var de=0;de<se.length;de++){var Pe=se[de];Pe.enumerable=Pe.enumerable||!1,Pe.configurable=!0,"value"in Pe&&(Pe.writable=!0),Object.defineProperty(_e,Pe.key,Pe)}}function _(_e,se,de){return se&&S(_e.prototype,se),_e}function I(_e,se,de){return se in _e?Object.defineProperty(_e,se,{value:de,enumerable:!0,configurable:!0,writable:!0}):_e[se]=de,_e}function A(){return A=Object.assign||function(_e){for(var se=1;se<arguments.length;se++){var de=arguments[se];for(var Pe in de)Object.prototype.hasOwnProperty.call(de,Pe)&&(_e[Pe]=de[Pe])}return _e},A.apply(this,arguments)}function O(_e,se){if(typeof se!="function"&&se!==null)throw new TypeError("Super expression must either be null or a function");_e.prototype=Object.create(se&&se.prototype,{constructor:{value:_e,writable:!0,configurable:!0}}),se&&H(_e,se)}function F(_e){return F=Object.setPrototypeOf?Object.getPrototypeOf:function(de){return de.__proto__||Object.getPrototypeOf(de)},F(_e)}function H(_e,se){return H=Object.setPrototypeOf||function(Pe,Ve){return Pe.__proto__=Ve,Pe},H(_e,se)}function L(_e,se){if(_e==null)return{};var de={},Pe=Object.keys(_e),Ve,sr;for(sr=0;sr<Pe.length;sr++)Ve=Pe[sr],!(se.indexOf(Ve)>=0)&&(de[Ve]=_e[Ve]);return de}function z(_e,se){if(_e==null)return{};var de=L(_e,se),Pe,Ve;if(Object.getOwnPropertySymbols){var sr=Object.getOwnPropertySymbols(_e);for(Ve=0;Ve<sr.length;Ve++)Pe=sr[Ve],!(se.indexOf(Pe)>=0)&&Object.prototype.propertyIsEnumerable.call(_e,Pe)&&(de[Pe]=_e[Pe])}return de}function V(_e){if(_e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return _e}function K(_e,se){if(se&&(typeof se=="object"||typeof se=="function"))return se;if(se!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return V(_e)}function B(_e,se){return C(_e)||k(_e,se)||N(_e,se)||P()}function C(_e){if(Array.isArray(_e))return _e}function k(_e,se){var de=_e==null?null:typeof Symbol<"u"&&_e[Symbol.iterator]||_e["@@iterator"];if(de!=null){var Pe=[],Ve=!0,sr=!1,xr,Tn;try{for(de=de.call(_e);!(Ve=(xr=de.next()).done)&&(Pe.push(xr.value),!(se&&Pe.length===se));Ve=!0);}catch(Ec){sr=!0,Tn=Ec}finally{try{!Ve&&de.return!=null&&de.return()}finally{if(sr)throw Tn}}return Pe}}function N(_e,se){if(_e){if(typeof _e=="string")return D(_e,se);var de=Object.prototype.toString.call(_e).slice(8,-1);if(de==="Object"&&_e.constructor&&(de=_e.constructor.name),de==="Map"||de==="Set")return Array.from(_e);if(de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de))return D(_e,se)}}function D(_e,se){(se==null||se>_e.length)&&(se=_e.length);for(var de=0,Pe=new Array(se);de<se;de++)Pe[de]=_e[de];return Pe}function P(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var R={Mobile:"mobile",Tablet:"tablet",SmartTv:"smarttv",Console:"console",Wearable:"wearable",Embedded:"embedded",Browser:void 0},j={Chrome:"Chrome",Firefox:"Firefox",Opera:"Opera",Yandex:"Yandex",Safari:"Safari",InternetExplorer:"Internet Explorer",Edge:"Edge",Chromium:"Chromium",Ie:"IE",MobileSafari:"Mobile Safari",EdgeChromium:"Edge Chromium",MIUI:"MIUI Browser",SamsungBrowser:"Samsung Browser"},W={IOS:"iOS",Android:"Android",WindowsPhone:"Windows Phone",Windows:"Windows",MAC_OS:"Mac OS"},M={isMobile:!1,isTablet:!1,isBrowser:!1,isSmartTV:!1,isConsole:!1,isWearable:!1},G=function(se){switch(se){case R.Mobile:return{isMobile:!0};case R.Tablet:return{isTablet:!0};case R.SmartTv:return{isSmartTV:!0};case R.Console:return{isConsole:!0};case R.Wearable:return{isWearable:!0};case R.Browser:return{isBrowser:!0};case R.Embedded:return{isEmbedded:!0};default:return M}},re=function(se){return f(se)},q=function(se){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"none";return se||de},X=function(){return typeof window<"u"&&(window.navigator||navigator)?window.navigator||navigator:!1},ne=function(se){var de=X();return de&&de.platform&&(de.platform.indexOf(se)!==-1||de.platform==="MacIntel"&&de.maxTouchPoints>1&&!window.MSStream)},ee=function(se,de,Pe,Ve,sr){return{isBrowser:se,browserMajorVersion:q(de.major),browserFullVersion:q(de.version),browserName:q(de.name),engineName:q(Pe.name),engineVersion:q(Pe.version),osName:q(Ve.name),osVersion:q(Ve.version),userAgent:q(sr)}},ce=function(se,de,Pe,Ve){return w({},se,{vendor:q(de.vendor),model:q(de.model),os:q(Pe.name),osVersion:q(Pe.version),ua:q(Ve)})},be=function(se,de,Pe,Ve){return{isSmartTV:se,engineName:q(de.name),engineVersion:q(de.version),osName:q(Pe.name),osVersion:q(Pe.version),userAgent:q(Ve)}},ve=function(se,de,Pe,Ve){return{isConsole:se,engineName:q(de.name),engineVersion:q(de.version),osName:q(Pe.name),osVersion:q(Pe.version),userAgent:q(Ve)}},ge=function(se,de,Pe,Ve){return{isWearable:se,engineName:q(de.name),engineVersion:q(de.version),osName:q(Pe.name),osVersion:q(Pe.version),userAgent:q(Ve)}},Ee=function(se,de,Pe,Ve,sr){return{isEmbedded:se,vendor:q(de.vendor),model:q(de.model),engineName:q(Pe.name),engineVersion:q(Pe.version),osName:q(Ve.name),osVersion:q(Ve.version),userAgent:q(sr)}};function ye(_e){var se=_e?g(_e):y,de=se.device,Pe=se.browser,Ve=se.engine,sr=se.os,xr=se.ua,Tn=G(de.type),Ec=Tn.isBrowser,ph=Tn.isMobile,px=Tn.isTablet,gp=Tn.isSmartTV,mp=Tn.isConsole,Fu=Tn.isWearable,gh=Tn.isEmbedded;if(Ec)return ee(Ec,Pe,Ve,sr,xr);if(gp)return be(gp,Ve,sr,xr);if(mp)return ve(mp,Ve,sr,xr);if(ph||px)return ce(Tn,de,sr,xr);if(Fu)return ge(Fu,Ve,sr,xr);if(gh)return Ee(gh,de,Ve,sr,xr)}var $e=function(se){var de=se.type;return de===R.Mobile},we=function(se){var de=se.type;return de===R.Tablet},qe=function(se){var de=se.type;return de===R.Mobile||de===R.Tablet},Ge=function(se){var de=se.type;return de===R.SmartTv},Ae=function(se){var de=se.type;return de===R.Browser},je=function(se){var de=se.type;return de===R.Wearable},gt=function(se){var de=se.type;return de===R.Console},Qt=function(se){var de=se.type;return de===R.Embedded},Ie=function(se){var de=se.vendor;return q(de)},pt=function(se){var de=se.model;return q(de)},Ze=function(se){var de=se.type;return q(de,"browser")},ht=function(se){var de=se.name;return de===W.Android},bt=function(se){var de=se.name;return de===W.Windows},jt=function(se){var de=se.name;return de===W.MAC_OS},yt=function(se){var de=se.name;return de===W.WindowsPhone},Dt=function(se){var de=se.name;return de===W.IOS},Qe=function(se){var de=se.version;return q(de)},Be=function(se){var de=se.name;return q(de)},Me=function(se){var de=se.name;return de===j.Chrome},Xe=function(se){var de=se.name;return de===j.Firefox},vt=function(se){var de=se.name;return de===j.Chromium},st=function(se){var de=se.name;return de===j.Edge},ct=function(se){var de=se.name;return de===j.Yandex},We=function(se){var de=se.name;return de===j.Safari||de===j.MobileSafari},St=function(se){var de=se.name;return de===j.MobileSafari},Jt=function(se){var de=se.name;return de===j.Opera},Nt=function(se){var de=se.name;return de===j.InternetExplorer||de===j.Ie},Le=function(se){var de=se.name;return de===j.MIUI},gr=function(se){var de=se.name;return de===j.SamsungBrowser},Kt=function(se){var de=se.version;return q(de)},Vt=function(se){var de=se.major;return q(de)},Un=function(se){var de=se.name;return q(de)},Y=function(se){var de=se.name;return q(de)},Q=function(se){var de=se.version;return q(de)},oe=function(){var se=X(),de=se&&se.userAgent&&se.userAgent.toLowerCase();return typeof de=="string"?/electron/.test(de):!1},ie=function(se){return typeof se=="string"&&se.indexOf("Edg/")!==-1},le=function(){var se=X();return se&&(/iPad|iPhone|iPod/.test(se.platform)||se.platform==="MacIntel"&&se.maxTouchPoints>1)&&!window.MSStream},pe=function(){return ne("iPad")},Te=function(){return ne("iPhone")},Ne=function(){return ne("iPod")},Tt=function(se){return q(se)};function mt(_e){var se=_e||y,de=se.device,Pe=se.browser,Ve=se.os,sr=se.engine,xr=se.ua;return{isSmartTV:Ge(de),isConsole:gt(de),isWearable:je(de),isEmbedded:Qt(de),isMobileSafari:St(Pe)||pe(),isChromium:vt(Pe),isMobile:qe(de)||pe(),isMobileOnly:$e(de),isTablet:we(de)||pe(),isBrowser:Ae(de),isDesktop:Ae(de),isAndroid:ht(Ve),isWinPhone:yt(Ve),isIOS:Dt(Ve)||pe(),isChrome:Me(Pe),isFirefox:Xe(Pe),isSafari:We(Pe),isOpera:Jt(Pe),isIE:Nt(Pe),osVersion:Qe(Ve),osName:Be(Ve),fullBrowserVersion:Kt(Pe),browserVersion:Vt(Pe),browserName:Un(Pe),mobileVendor:Ie(de),mobileModel:pt(de),engineName:Y(sr),engineVersion:Q(sr),getUA:Tt(xr),isEdge:st(Pe)||ie(xr),isYandex:ct(Pe),deviceType:Ze(de),isIOS13:le(),isIPad13:pe(),isIPhone13:Te(),isIPod13:Ne(),isElectron:oe(),isEdgeChromium:ie(xr),isLegacyEdge:st(Pe)&&!ie(xr),isWindows:bt(Ve),isMacOs:jt(Ve),isMIUI:Le(Pe),isSamsungBrowser:gr(Pe)}}var ut=Ge(o),At=gt(o),Ue=je(o),tt=Qt(o),Je=St(s)||pe(),at=vt(s),ot=qe(o)||pe(),qt=$e(o),er=we(o)||pe(),Rt=Ae(o),kt=Ae(o),zt=ht(u),jr=yt(u),$n=Dt(u)||pe(),Et=Me(s),Dr=Xe(s),Wt=We(s),vr=Jt(s),tn=Nt(s),wn=Qe(u),Ni=Be(u),_l=Kt(s),Cl=Vt(s),hh=Un(s),Al=Ie(o),Sl=pt(o),Oo=Y(l),Ps=Q(l),Kb=Tt(h),cx=st(s)||ie(h),hp=ct(s),Yb=Ze(o),fp=le(),ux=pe(),Os=Te(),om=Ne(),Zb=oe(),lm=ie(h),ju=st(s)&&!ie(h),Qb=bt(u),Xb=jt(u),Du=Le(s),dx=gr(s),Jb=function(se){if(!se||typeof se!="string"){console.error("No valid user agent string was provided");return}var de=g(se),Pe=de.device,Ve=de.browser,sr=de.os,xr=de.engine,Tn=de.ua;return mt({device:Pe,browser:Ve,os:sr,engine:xr,ua:Tn})},ew=function(se){var de=se.renderWithFragment,Pe=se.children,Ve=z(se,["renderWithFragment","children"]);return zt?de?r.createElement(e.Fragment,null,Pe):r.createElement("div",Ve,Pe):null},cm=function(se){var de=se.renderWithFragment,Pe=se.children,Ve=z(se,["renderWithFragment","children"]);return Rt?de?r.createElement(e.Fragment,null,Pe):r.createElement("div",Ve,Pe):null},hx=function(se){var de=se.renderWithFragment,Pe=se.children,Ve=z(se,["renderWithFragment","children"]);return tn?de?r.createElement(e.Fragment,null,Pe):r.createElement("div",Ve,Pe):null},fx=function(se){var de=se.renderWithFragment,Pe=se.children,Ve=z(se,["renderWithFragment","children"]);return $n?de?r.createElement(e.Fragment,null,Pe):r.createElement("div",Ve,Pe):null},pp=function(se){var de=se.renderWithFragment,Pe=se.children,Ve=z(se,["renderWithFragment","children"]);return ot?de?r.createElement(e.Fragment,null,Pe):r.createElement("div",Ve,Pe):null},um=function(se){var de=se.renderWithFragment,Pe=se.children,Ve=z(se,["renderWithFragment","children"]);return er?de?r.createElement(e.Fragment,null,Pe):r.createElement("div",Ve,Pe):null},dm=function(se){var de=se.renderWithFragment,Pe=se.children,Ve=z(se,["renderWithFragment","children"]);return jr?de?r.createElement(e.Fragment,null,Pe):r.createElement("div",Ve,Pe):null},Uu=function(se){var de=se.renderWithFragment,Pe=se.children;se.viewClassName,se.style;var Ve=z(se,["renderWithFragment","children","viewClassName","style"]);return qt?de?r.createElement(e.Fragment,null,Pe):r.createElement("div",Ve,Pe):null},Bu=function(se){var de=se.renderWithFragment,Pe=se.children,Ve=z(se,["renderWithFragment","children"]);return ut?de?r.createElement(e.Fragment,null,Pe):r.createElement("div",Ve,Pe):null},tw=function(se){var de=se.renderWithFragment,Pe=se.children,Ve=z(se,["renderWithFragment","children"]);return At?de?r.createElement(e.Fragment,null,Pe):r.createElement("div",Ve,Pe):null},hm=function(se){var de=se.renderWithFragment,Pe=se.children,Ve=z(se,["renderWithFragment","children"]);return Ue?de?r.createElement(e.Fragment,null,Pe):r.createElement("div",Ve,Pe):null},rw=function(se){var de=se.renderWithFragment,Pe=se.children;se.viewClassName,se.style;var Ve=se.condition,sr=z(se,["renderWithFragment","children","viewClassName","style","condition"]);return Ve?de?r.createElement(e.Fragment,null,Pe):r.createElement("div",sr,Pe):null};function fh(_e){return function(se){O(de,se);function de(Pe){var Ve;return E(this,de),Ve=K(this,F(de).call(this,Pe)),Ve.isEventListenerAdded=!1,Ve.handleOrientationChange=Ve.handleOrientationChange.bind(V(Ve)),Ve.onOrientationChange=Ve.onOrientationChange.bind(V(Ve)),Ve.onPageLoad=Ve.onPageLoad.bind(V(Ve)),Ve.state={isLandscape:!1,isPortrait:!1},Ve}return _(de,[{key:"handleOrientationChange",value:function(){this.isEventListenerAdded||(this.isEventListenerAdded=!0);var Ve=window.innerWidth>window.innerHeight?90:0;this.setState({isPortrait:Ve===0,isLandscape:Ve===90})}},{key:"onOrientationChange",value:function(){this.handleOrientationChange()}},{key:"onPageLoad",value:function(){this.handleOrientationChange()}},{key:"componentDidMount",value:function(){(typeof window>"u"?"undefined":x(window))!==void 0&&ot&&(this.isEventListenerAdded?window.removeEventListener("load",this.onPageLoad,!1):(this.handleOrientationChange(),window.addEventListener("load",this.onPageLoad,!1)),window.addEventListener("resize",this.onOrientationChange,!1))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.onOrientationChange,!1)}},{key:"render",value:function(){return r.createElement(_e,A({},this.props,{isLandscape:this.state.isLandscape,isPortrait:this.state.isPortrait}))}}]),de}(r.Component)}function fm(){var _e=e.useState(function(){var sr=window.innerWidth>window.innerHeight?90:0;return{isPortrait:sr===0,isLandscape:sr===90,orientation:sr===0?"portrait":"landscape"}}),se=B(_e,2),de=se[0],Pe=se[1],Ve=e.useCallback(function(){var sr=window.innerWidth>window.innerHeight?90:0,xr={isPortrait:sr===0,isLandscape:sr===90,orientation:sr===0?"portrait":"landscape"};de.orientation!==xr.orientation&&Pe(xr)},[de.orientation]);return e.useEffect(function(){return(typeof window>"u"?"undefined":x(window))!==void 0&&ot&&(Ve(),window.addEventListener("load",Ve,!1),window.addEventListener("resize",Ve,!1)),function(){window.removeEventListener("resize",Ve,!1),window.removeEventListener("load",Ve,!1)}},[Ve]),de}function Lu(_e){var se=_e||window.navigator.userAgent;return g(se)}function kl(_e){var se=_e||window.navigator.userAgent,de=Lu(se),Pe=mt(de);return[Pe,de]}return xt.AndroidView=ew,xt.BrowserTypes=j,xt.BrowserView=cm,xt.ConsoleView=tw,xt.CustomView=rw,xt.IEView=hx,xt.IOSView=fx,xt.MobileOnlyView=Uu,xt.MobileView=pp,xt.OsTypes=W,xt.SmartTVView=Bu,xt.TabletView=um,xt.WearableView=hm,xt.WinPhoneView=dm,xt.browserName=hh,xt.browserVersion=Cl,xt.deviceDetect=ye,xt.deviceType=Yb,xt.engineName=Oo,xt.engineVersion=Ps,xt.fullBrowserVersion=_l,xt.getSelectorsByUserAgent=Jb,xt.getUA=Kb,xt.isAndroid=zt,xt.isBrowser=Rt,xt.isChrome=Et,xt.isChromium=at,xt.isConsole=At,xt.isDesktop=kt,xt.isEdge=cx,xt.isEdgeChromium=lm,xt.isElectron=Zb,xt.isEmbedded=tt,xt.isFirefox=Dr,xt.isIE=tn,xt.isIOS=$n,xt.isIOS13=fp,xt.isIPad13=ux,xt.isIPhone13=Os,xt.isIPod13=om,xt.isLegacyEdge=ju,xt.isMIUI=Du,xt.isMacOs=Xb,xt.isMobile=ot,xt.isMobileOnly=qt,xt.isMobileSafari=Je,xt.isOpera=vr,xt.isSafari=Wt,xt.isSamsungBrowser=dx,xt.isSmartTV=ut,xt.isTablet=er,xt.isWearable=Ue,xt.isWinPhone=jr,xt.isWindows=Qb,xt.isYandex=hp,xt.mobileModel=Sl,xt.mobileVendor=Al,xt.osName=Ni,xt.osVersion=wn,xt.parseUserAgent=g,xt.setUserAgent=re,xt.useDeviceData=Lu,xt.useDeviceSelectors=kl,xt.useMobileOrientation=fm,xt.withOrientationChange=fh,xt}var Tr=pae();const gae="1.1.0";let na=class Z_ extends Error{constructor(e,r={}){var a;const n=r.cause instanceof Z_?r.cause.details:(a=r.cause)!=null&&a.message?r.cause.message:r.details,i=r.cause instanceof Z_&&r.cause.docsPath||r.docsPath,s=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...i?[`Docs: https://abitype.dev${i}`]:[],...n?[`Details: ${n}`]:[],`Version: abitype@${gae}`].join(`
`);super(s),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiTypeError"}),r.cause&&(this.cause=r.cause),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.shortMessage=e}};function Pu(t,e){const r=t.exec(e);return r==null?void 0:r.groups}const yq=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,bq=/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,wq=/^\(.+?\).*?$/,uM=/^tuple(?<array>(\[(\d*)\])*)$/;function Q_(t){let e=t.type;if(uM.test(t.type)&&"components"in t){e="(";const r=t.components.length;for(let i=0;i<r;i++){const s=t.components[i];e+=Q_(s),i<r-1&&(e+=", ")}const n=Pu(uM,t.type);return e+=`)${(n==null?void 0:n.array)??""}`,Q_({...t,type:e})}return"indexed"in t&&t.indexed&&(e=`${e} indexed`),t.name?`${e} ${t.name}`:e}function A0(t){let e="";const r=t.length;for(let n=0;n<r;n++){const i=t[n];e+=Q_(i),n!==r-1&&(e+=", ")}return e}function F3(t){var e;return t.type==="function"?`function ${t.name}(${A0(t.inputs)})${t.stateMutability&&t.stateMutability!=="nonpayable"?` ${t.stateMutability}`:""}${(e=t.outputs)!=null&&e.length?` returns (${A0(t.outputs)})`:""}`:t.type==="event"?`event ${t.name}(${A0(t.inputs)})`:t.type==="error"?`error ${t.name}(${A0(t.inputs)})`:t.type==="constructor"?`constructor(${A0(t.inputs)})${t.stateMutability==="payable"?" payable":""}`:t.type==="fallback"?`fallback() external${t.stateMutability==="payable"?" payable":""}`:"receive() external payable"}const vq=/^error (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function mae(t){return vq.test(t)}function yae(t){return Pu(vq,t)}const xq=/^event (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)$/;function bae(t){return xq.test(t)}function wae(t){return Pu(xq,t)}const Eq=/^function (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*)\((?<parameters>.*?)\)(?: (?<scope>external|public{1}))?(?: (?<stateMutability>pure|view|nonpayable|payable{1}))?(?: returns\s?\((?<returns>.*?)\))?$/;function vae(t){return Eq.test(t)}function xae(t){return Pu(Eq,t)}const _q=/^struct (?<name>[a-zA-Z$_][a-zA-Z0-9$_]*) \{(?<properties>.*?)\}$/;function t6(t){return _q.test(t)}function Eae(t){return Pu(_q,t)}const Cq=/^constructor\((?<parameters>.*?)\)(?:\s(?<stateMutability>payable{1}))?$/;function _ae(t){return Cq.test(t)}function Cae(t){return Pu(Cq,t)}const Aq=/^fallback\(\) external(?:\s(?<stateMutability>payable{1}))?$/;function Aae(t){return Aq.test(t)}function Sae(t){return Pu(Aq,t)}const kae=/^receive\(\) external payable$/;function $ae(t){return kae.test(t)}const dM=new Set(["memory","indexed","storage","calldata"]),Tae=new Set(["indexed"]),X_=new Set(["calldata","memory","storage"]);class Iae extends na{constructor({signature:e}){super("Failed to parse ABI item.",{details:`parseAbiItem(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiitem-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiItemError"})}}class Nae extends na{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type. Perhaps you forgot to include a struct signature?`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownTypeError"})}}class Pae extends na{constructor({type:e}){super("Unknown type.",{metaMessages:[`Type "${e}" is not a valid ABI type.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSolidityTypeError"})}}class Oae extends na{constructor({params:e}){super("Failed to parse ABI parameters.",{details:`parseAbiParameters(${JSON.stringify(e,null,2)})`,docsPath:"/api/human#parseabiparameters-1"}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiParametersError"})}}class Mae extends na{constructor({param:e}){super("Invalid ABI parameter.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParameterError"})}}class Rae extends na{constructor({param:e,name:r}){super("Invalid ABI parameter.",{details:e,metaMessages:[`"${r}" is a protected Solidity keyword. More info: https://docs.soliditylang.org/en/latest/cheatsheet.html`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SolidityProtectedKeywordError"})}}class jae extends na{constructor({param:e,type:r,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidModifierError"})}}class Dae extends na{constructor({param:e,type:r,modifier:n}){super("Invalid ABI parameter.",{details:e,metaMessages:[`Modifier "${n}" not allowed${r?` in "${r}" type`:""}.`,`Data location can only be specified for array, struct, or mapping types, but "${n}" was given.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidFunctionModifierError"})}}class Uae extends na{constructor({abiParameter:e}){super("Invalid ABI parameter.",{details:JSON.stringify(e,null,2),metaMessages:["ABI parameter type is invalid."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidAbiTypeParameterError"})}}class Pg extends na{constructor({signature:e,type:r}){super(`Invalid ${r} signature.`,{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidSignatureError"})}}class Bae extends na{constructor({signature:e}){super("Unknown signature.",{details:e}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"UnknownSignatureError"})}}class Lae extends na{constructor({signature:e}){super("Invalid struct signature.",{details:e,metaMessages:["No properties exist."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidStructSignatureError"})}}class Fae extends na{constructor({type:e}){super("Circular reference detected.",{metaMessages:[`Struct "${e}" is a circular reference.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"CircularReferenceError"})}}class zae extends na{constructor({current:e,depth:r}){super("Unbalanced parentheses.",{metaMessages:[`"${e.trim()}" has too many ${r>0?"opening":"closing"} parentheses.`],details:`Depth "${r}"`}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"InvalidParenthesisError"})}}function Wae(t,e,r){let n="";if(r)for(const i of Object.entries(r)){if(!i)continue;let s="";for(const a of i[1])s+=`[${a.type}${a.name?`:${a.name}`:""}]`;n+=`(${i[0]}{${s}})`}return e?`${e}:${t}${n}`:t}const p9=new Map([["address",{type:"address"}],["bool",{type:"bool"}],["bytes",{type:"bytes"}],["bytes32",{type:"bytes32"}],["int",{type:"int256"}],["int256",{type:"int256"}],["string",{type:"string"}],["uint",{type:"uint256"}],["uint8",{type:"uint8"}],["uint16",{type:"uint16"}],["uint24",{type:"uint24"}],["uint32",{type:"uint32"}],["uint64",{type:"uint64"}],["uint96",{type:"uint96"}],["uint112",{type:"uint112"}],["uint160",{type:"uint160"}],["uint192",{type:"uint192"}],["uint256",{type:"uint256"}],["address owner",{type:"address",name:"owner"}],["address to",{type:"address",name:"to"}],["bool approved",{type:"bool",name:"approved"}],["bytes _data",{type:"bytes",name:"_data"}],["bytes data",{type:"bytes",name:"data"}],["bytes signature",{type:"bytes",name:"signature"}],["bytes32 hash",{type:"bytes32",name:"hash"}],["bytes32 r",{type:"bytes32",name:"r"}],["bytes32 root",{type:"bytes32",name:"root"}],["bytes32 s",{type:"bytes32",name:"s"}],["string name",{type:"string",name:"name"}],["string symbol",{type:"string",name:"symbol"}],["string tokenURI",{type:"string",name:"tokenURI"}],["uint tokenId",{type:"uint256",name:"tokenId"}],["uint8 v",{type:"uint8",name:"v"}],["uint256 balance",{type:"uint256",name:"balance"}],["uint256 tokenId",{type:"uint256",name:"tokenId"}],["uint256 value",{type:"uint256",name:"value"}],["event:address indexed from",{type:"address",name:"from",indexed:!0}],["event:address indexed to",{type:"address",name:"to",indexed:!0}],["event:uint indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}],["event:uint256 indexed tokenId",{type:"uint256",name:"tokenId",indexed:!0}]]);function J_(t,e={}){if(vae(t))return qae(t,e);if(bae(t))return Hae(t,e);if(mae(t))return Vae(t,e);if(_ae(t))return Gae(t,e);if(Aae(t))return Kae(t);if($ae(t))return{type:"receive",stateMutability:"payable"};throw new Bae({signature:t})}function qae(t,e={}){const r=xae(t);if(!r)throw new Pg({signature:t,type:"function"});const n=Ta(r.parameters),i=[],s=n.length;for(let o=0;o<s;o++)i.push(wu(n[o],{modifiers:X_,structs:e,type:"function"}));const a=[];if(r.returns){const o=Ta(r.returns),l=o.length;for(let u=0;u<l;u++)a.push(wu(o[u],{modifiers:X_,structs:e,type:"function"}))}return{name:r.name,type:"function",stateMutability:r.stateMutability??"nonpayable",inputs:i,outputs:a}}function Hae(t,e={}){const r=wae(t);if(!r)throw new Pg({signature:t,type:"event"});const n=Ta(r.parameters),i=[],s=n.length;for(let a=0;a<s;a++)i.push(wu(n[a],{modifiers:Tae,structs:e,type:"event"}));return{name:r.name,type:"event",inputs:i}}function Vae(t,e={}){const r=yae(t);if(!r)throw new Pg({signature:t,type:"error"});const n=Ta(r.parameters),i=[],s=n.length;for(let a=0;a<s;a++)i.push(wu(n[a],{structs:e,type:"error"}));return{name:r.name,type:"error",inputs:i}}function Gae(t,e={}){const r=Cae(t);if(!r)throw new Pg({signature:t,type:"constructor"});const n=Ta(r.parameters),i=[],s=n.length;for(let a=0;a<s;a++)i.push(wu(n[a],{structs:e,type:"constructor"}));return{type:"constructor",stateMutability:r.stateMutability??"nonpayable",inputs:i}}function Kae(t){const e=Sae(t);if(!e)throw new Pg({signature:t,type:"fallback"});return{type:"fallback",stateMutability:e.stateMutability??"nonpayable"}}const Yae=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*(?:\spayable)?)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Zae=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,Qae=/^u?int$/;function wu(t,e){var f,g;const r=Wae(t,e==null?void 0:e.type,e==null?void 0:e.structs);if(p9.has(r))return p9.get(r);const n=wq.test(t),i=Pu(n?Zae:Yae,t);if(!i)throw new Mae({param:t});if(i.name&&Jae(i.name))throw new Rae({param:t,name:i.name});const s=i.name?{name:i.name}:{},a=i.modifier==="indexed"?{indexed:!0}:{},o=(e==null?void 0:e.structs)??{};let l,u={};if(n){l="tuple";const y=Ta(i.type),b=[],w=y.length;for(let x=0;x<w;x++)b.push(wu(y[x],{structs:o}));u={components:b}}else if(i.type in o)l="tuple",u={components:o[i.type]};else if(Qae.test(i.type))l=`${i.type}256`;else if(i.type==="address payable")l="address";else if(l=i.type,(e==null?void 0:e.type)!=="struct"&&!Sq(l))throw new Pae({type:l});if(i.modifier){if(!((g=(f=e==null?void 0:e.modifiers)==null?void 0:f.has)!=null&&g.call(f,i.modifier)))throw new jae({param:t,type:e==null?void 0:e.type,modifier:i.modifier});if(X_.has(i.modifier)&&!eoe(l,!!i.array))throw new Dae({param:t,type:e==null?void 0:e.type,modifier:i.modifier})}const h={type:`${l}${i.array??""}`,...s,...a,...u};return p9.set(r,h),h}function Ta(t,e=[],r="",n=0){const i=t.trim().length;for(let s=0;s<i;s++){const a=t[s],o=t.slice(s+1);switch(a){case",":return n===0?Ta(o,[...e,r.trim()]):Ta(o,e,`${r}${a}`,n);case"(":return Ta(o,e,`${r}${a}`,n+1);case")":return Ta(o,e,`${r}${a}`,n-1);default:return Ta(o,e,`${r}${a}`,n)}}if(r==="")return e;if(n!==0)throw new zae({current:r,depth:n});return e.push(r.trim()),e}function Sq(t){return t==="address"||t==="bool"||t==="function"||t==="string"||yq.test(t)||bq.test(t)}const Xae=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;function Jae(t){return t==="address"||t==="bool"||t==="function"||t==="string"||t==="tuple"||yq.test(t)||bq.test(t)||Xae.test(t)}function eoe(t,e){return e||t==="bytes"||t==="string"||t==="tuple"}function uk(t){const e={},r=t.length;for(let a=0;a<r;a++){const o=t[a];if(!t6(o))continue;const l=Eae(o);if(!l)throw new Pg({signature:o,type:"struct"});const u=l.properties.split(";"),h=[],f=u.length;for(let g=0;g<f;g++){const b=u[g].trim();if(!b)continue;const w=wu(b,{type:"struct"});h.push(w)}if(!h.length)throw new Lae({signature:o});e[l.name]=h}const n={},i=Object.entries(e),s=i.length;for(let a=0;a<s;a++){const[o,l]=i[a];n[o]=kq(l,e)}return n}const toe=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?$/;function kq(t,e,r=new Set){const n=[],i=t.length;for(let s=0;s<i;s++){const a=t[s];if(wq.test(a.type))n.push(a);else{const l=Pu(toe,a.type);if(!(l!=null&&l.type))throw new Uae({abiParameter:a});const{array:u,type:h}=l;if(h in e){if(r.has(h))throw new Fae({type:h});n.push({...a,type:`tuple${u??""}`,components:kq(e[h]??[],e,new Set([...r,h]))})}else if(Sq(h))n.push(a);else throw new Nae({type:h})}}return n}function $q(t){const e=uk(t),r=[],n=t.length;for(let i=0;i<n;i++){const s=t[i];t6(s)||r.push(J_(s,e))}return r}function hM(t){let e;if(typeof t=="string")e=J_(t);else{const r=uk(t),n=t.length;for(let i=0;i<n;i++){const s=t[i];if(!t6(s)){e=J_(s,r);break}}}if(!e)throw new Iae({signature:t});return e}function fM(t){const e=[];if(typeof t=="string"){const r=Ta(t),n=r.length;for(let i=0;i<n;i++)e.push(wu(r[i],{modifiers:dM}))}else{const r=uk(t),n=t.length;for(let i=0;i<n;i++){const s=t[i];if(t6(s))continue;const a=Ta(s),o=a.length;for(let l=0;l<o;l++)e.push(wu(a[l],{modifiers:dM,structs:r}))}}if(e.length===0)throw new Oae({params:t});return e}function Kn(t){return typeof t=="string"?{address:t,type:"json-rpc"}:t}const Tq="2.37.11";let i1={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${Tq}`},ze=class eC extends Error{constructor(e,r={}){var o;const n=(()=>{var l;return r.cause instanceof eC?r.cause.details:(l=r.cause)!=null&&l.message?r.cause.message:r.details})(),i=r.cause instanceof eC&&r.cause.docsPath||r.docsPath,s=(o=i1.getDocsUrl)==null?void 0:o.call(i1,{...r,docsPath:i}),a=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...i1.version?[`Version: ${i1.version}`]:[]].join(`
`);super(a,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=Tq}walk(e){return Iq(this,e)}};function Iq(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?Iq(t.cause,e):e?null:t}let Kd=class extends ze{constructor({address:e}){super(`Address "${e}" is invalid.`,{metaMessages:["- Address must be a hex value of 20 bytes (40 hex characters).","- Address must match its checksum counterpart."],name:"InvalidAddressError"})}};function ds(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}let Nq=class extends ze{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}},Pq=class extends ze{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}};class pM extends ze{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} is expected to be ${r} ${n} long, but is ${e} ${n} long.`,{name:"InvalidBytesLengthError"})}}function Og(t,{dir:e,size:r=32}={}){return typeof t=="string"?qd(t,{dir:e,size:r}):roe(t,{dir:e,size:r})}function qd(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new Pq({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function roe(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new Pq({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}let Oq=class extends ze{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}},noe=class extends ze{constructor(e){super(`Bytes value "${e}" is not a valid boolean. The bytes array must contain a single byte of either a 0 or 1 value.`,{name:"InvalidBytesBooleanError"})}};class ioe extends ze{constructor(e){super(`Hex value "${e}" is not a valid boolean. The hex value must be "0x0" (false) or "0x1" (true).`,{name:"InvalidHexBooleanError"})}}let soe=class extends ze{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Mn(t){return ds(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}function fu(t,{dir:e="left"}={}){let r=typeof t=="string"?t.replace("0x",""):t,n=0;for(let i=0;i<r.length-1&&r[e==="left"?i:r.length-i-1].toString()==="0";i++)n++;return r=e==="left"?r.slice(n):r.slice(0,r.length-n),typeof t=="string"?(r.length===1&&e==="right"&&(r=`${r}0`),`0x${r.length%2===1?`0${r}`:r}`):r}function Ao(t,{size:e}){if(Mn(t)>e)throw new soe({givenSize:Mn(t),maxSize:e})}function Oa(t,e={}){const{signed:r}=e;e.size&&Ao(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function aoe(t,e={}){let r=t;if(e.size&&(Ao(r,{size:e.size}),r=fu(r)),fu(r)==="0x00")return!1;if(fu(r)==="0x01")return!0;throw new ioe(r)}function ol(t,e={}){return Number(Oa(t,e))}function ooe(t,e={}){let r=ll(t);return e.size&&(Ao(r,{size:e.size}),r=fu(r,{dir:"right"})),new TextDecoder().decode(r)}const loe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function qn(t,e={}){return typeof t=="number"||typeof t=="bigint"?It(t,e):typeof t=="string"?og(t,e):typeof t=="boolean"?Mq(t,e):yi(t,e)}function Mq(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(Ao(r,{size:e.size}),Og(r,{size:e.size})):r}function yi(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=loe[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(Ao(n,{size:e.size}),Og(n,{dir:"right",size:e.size})):n}function It(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<a){const l=typeof t=="bigint"?"n":"";throw new Oq({max:s?`${s}${l}`:void 0,min:`${a}${l}`,signed:r,size:n,value:`${t}${l}`})}const o=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?Og(o,{size:n}):o}const coe=new TextEncoder;function og(t,e={}){const r=coe.encode(t);return yi(r,e)}const uoe=new TextEncoder;function Mg(t,e={}){return typeof t=="number"||typeof t=="bigint"?hoe(t,e):typeof t=="boolean"?doe(t,e):ds(t)?ll(t,e):ff(t,e)}function doe(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(Ao(r,{size:e.size}),Og(r,{size:e.size})):r}const Uc={zero:48,nine:57,A:65,F:70,a:97,f:102};function gM(t){if(t>=Uc.zero&&t<=Uc.nine)return t-Uc.zero;if(t>=Uc.A&&t<=Uc.F)return t-(Uc.A-10);if(t>=Uc.a&&t<=Uc.f)return t-(Uc.a-10)}function ll(t,e={}){let r=t;e.size&&(Ao(r,{size:e.size}),r=Og(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let a=0,o=0;a<i;a++){const l=gM(n.charCodeAt(o++)),u=gM(n.charCodeAt(o++));if(l===void 0||u===void 0)throw new ze(`Invalid byte sequence ("${n[o-2]}${n[o-1]}" in "${n}").`);s[a]=l*16+u}return s}function hoe(t,e){const r=It(t,e);return ll(r)}function ff(t,e={}){const r=uoe.encode(t);return typeof e.size=="number"?(Ao(r,{size:e.size}),Og(r,{dir:"right",size:e.size})):r}const tv=BigInt(2**32-1),mM=BigInt(32);function foe(t,e=!1){return e?{h:Number(t&tv),l:Number(t>>mM&tv)}:{h:Number(t>>mM&tv)|0,l:Number(t&tv)|0}}function Rq(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:a,l:o}=foe(t[s],e);[n[s],i[s]]=[a,o]}return[n,i]}const yM=(t,e,r)=>t>>>r,bM=(t,e,r)=>t<<32-r|e>>>r,Vp=(t,e,r)=>t>>>r|e<<32-r,Gp=(t,e,r)=>t<<32-r|e>>>r,rv=(t,e,r)=>t<<64-r|e>>>r-32,nv=(t,e,r)=>t>>>r-32|e<<64-r,poe=(t,e,r)=>t<<r|e>>>32-r,goe=(t,e,r)=>e<<r|t>>>32-r,moe=(t,e,r)=>e<<r-32|t>>>64-r,yoe=(t,e,r)=>t<<r-32|e>>>64-r;function Bc(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const boe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),woe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,voe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),xoe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,Eoe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),_oe=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,Kp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Coe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Hy(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Yd(t,...e){if(!Coe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Aoe(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Hy(t.outputLen),Hy(t.blockLen)}function lg(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function jq(t,e){Yd(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Soe(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Zd(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function g9(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ol(t,e){return t<<32-e|t>>>e}const koe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function $oe(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function Toe(t){for(let e=0;e<t.length;e++)t[e]=$oe(t[e]);return t}const wM=koe?t=>t:Toe,Dq=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Ioe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Noe(t){if(Yd(t),Dq)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=Ioe[t[r]];return e}const Lc={_0:48,_9:57,A:65,F:70,a:97,f:102};function vM(t){if(t>=Lc._0&&t<=Lc._9)return t-Lc._0;if(t>=Lc.A&&t<=Lc.F)return t-(Lc.A-10);if(t>=Lc.a&&t<=Lc.f)return t-(Lc.a-10)}function zet(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(Dq)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const a=vM(t.charCodeAt(s)),o=vM(t.charCodeAt(s+1));if(a===void 0||o===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=a*16+o}return n}function Poe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function r6(t){return typeof t=="string"&&(t=Poe(t)),Yd(t),t}function Ooe(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];Yd(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}class dk{}function n6(t){const e=n=>t().update(r6(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Moe(t=32){if(Kp&&typeof Kp.getRandomValues=="function")return Kp.getRandomValues(new Uint8Array(t));if(Kp&&typeof Kp.randomBytes=="function")return Uint8Array.from(Kp.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const Roe=BigInt(0),s1=BigInt(1),joe=BigInt(2),Doe=BigInt(7),Uoe=BigInt(256),Boe=BigInt(113),Uq=[],Bq=[],Lq=[];for(let t=0,e=s1,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Uq.push(2*(5*n+r)),Bq.push((t+1)*(t+2)/2%64);let i=Roe;for(let s=0;s<7;s++)e=(e<<s1^(e>>Doe)*Boe)%Uoe,e&joe&&(i^=s1<<(s1<<BigInt(s))-s1);Lq.push(i)}const Fq=Rq(Lq,!0),Loe=Fq[0],Foe=Fq[1],xM=(t,e,r)=>r>32?moe(t,e,r):poe(t,e,r),EM=(t,e,r)=>r>32?yoe(t,e,r):goe(t,e,r);function zoe(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,l=(a+2)%10,u=r[l],h=r[l+1],f=xM(u,h,1)^r[o],g=EM(u,h,1)^r[o+1];for(let y=0;y<50;y+=10)t[a+y]^=f,t[a+y+1]^=g}let i=t[2],s=t[3];for(let a=0;a<24;a++){const o=Bq[a],l=xM(i,s,o),u=EM(i,s,o),h=Uq[a];i=t[h],s=t[h+1],t[h]=l,t[h+1]=u}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)r[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~r[(o+2)%10]&r[(o+4)%10]}t[0]^=Loe[n],t[1]^=Foe[n]}Zd(r)}class hk extends dk{constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,Hy(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Soe(this.state)}clone(){return this._cloneInto()}keccak(){wM(this.state32),zoe(this.state32,this.rounds),wM(this.state32),this.posOut=0,this.pos=0}update(e){lg(this),e=r6(e),Yd(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const a=Math.min(r-this.pos,i-s);for(let o=0;o<a;o++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){lg(this,!1),Yd(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Hy(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(jq(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Zd(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new hk(r,n,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}}const Woe=(t,e,r)=>n6(()=>new hk(e,t,r)),fk=Woe(1,136,256/8);function Hi(t,e){const r=e||"hex",n=fk(ds(t,{strict:!1})?Mg(t):t);return r==="bytes"?n:qn(n)}let i6=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};const qoe=/^0x[a-fA-F0-9]{40}$/,m9=new i6(8192);function ta(t,e){const{strict:r=!0}=e??{},n=`${t}.${r}`;if(m9.has(n))return m9.get(n);const i=qoe.test(t)?t.toLowerCase()===t?!0:r?rb(t)===t:!0:!1;return m9.set(n,i),i}const y9=new i6(8192);function rb(t,e){if(y9.has(`${t}.${e}`))return y9.get(`${t}.${e}`);const r=t.substring(2).toLowerCase(),n=Hi(ff(r),"bytes"),i=r.split("");for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&i[a]&&(i[a]=i[a].toUpperCase()),(n[a>>1]&15)>=8&&i[a+1]&&(i[a+1]=i[a+1].toUpperCase());const s=`0x${i.join("")}`;return y9.set(`${t}.${e}`,s),s}function ei(t,e){if(!ta(t,{strict:!1}))throw new Kd({address:t});return rb(t,e)}function Hoe(t){const e=Hi(`0x${t.substring(4)}`).substring(26);return rb(`0x${e}`)}function cl(t,{includeName:e=!1}={}){if(t.type!=="function"&&t.type!=="event"&&t.type!=="error")throw new ile(t.type);return`${t.name}(${s6(t.inputs,{includeName:e})})`}function s6(t,{includeName:e=!1}={}){return t?t.map(r=>Voe(r,{includeName:e})).join(e?", ":","):""}function Voe(t,{includeName:e}){return t.type.startsWith("tuple")?`(${s6(t.components,{includeName:e})})${t.type.slice(5)}`:t.type+(e&&t.name?` ${t.name}`:"")}class Goe extends ze{constructor({docsPath:e}){super(["A constructor was not found on the ABI.","Make sure you are using the correct ABI and that the constructor exists on it."].join(`
`),{docsPath:e,name:"AbiConstructorNotFoundError"})}}class _M extends ze{constructor({docsPath:e}){super(["Constructor arguments were provided (`args`), but a constructor parameters (`inputs`) were not found on the ABI.","Make sure you are using the correct ABI, and that the `inputs` attribute on the constructor exists."].join(`
`),{docsPath:e,name:"AbiConstructorParamsNotFoundError"})}}class zq extends ze{constructor({data:e,params:r,size:n}){super([`Data size of ${n} bytes is too small for given parameters.`].join(`
`),{metaMessages:[`Params: (${s6(r,{includeName:!0})})`,`Data:   ${e} (${n} bytes)`],name:"AbiDecodingDataSizeTooSmallError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e,this.params=r,this.size=n}}class nb extends ze{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.',{name:"AbiDecodingZeroDataError"})}}class Koe extends ze{constructor({expectedLength:e,givenLength:r,type:n}){super([`ABI encoding array length mismatch for type ${n}.`,`Expected length: ${e}`,`Given length: ${r}`].join(`
`),{name:"AbiEncodingArrayLengthMismatchError"})}}class Yoe extends ze{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${Mn(r)}) does not match expected size (bytes${e}).`,{name:"AbiEncodingBytesSizeMismatchError"})}}class Zoe extends ze{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding params/values length mismatch.",`Expected length (params): ${e}`,`Given length (values): ${r}`].join(`
`),{name:"AbiEncodingLengthMismatchError"})}}class Qoe extends ze{constructor(e,{docsPath:r}){super([`Arguments (\`args\`) were provided to "${e}", but "${e}" on the ABI does not contain any parameters (\`inputs\`).`,"Cannot encode error result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the inputs exist on it."].join(`
`),{docsPath:r,name:"AbiErrorInputsNotFoundError"})}}class CM extends ze{constructor(e,{docsPath:r}={}){super([`Error ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it."].join(`
`),{docsPath:r,name:"AbiErrorNotFoundError"})}}class Wq extends ze{constructor(e,{docsPath:r}){super([`Encoded error signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiErrorSignatureNotFoundError"}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.signature=e}}class Xoe extends ze{constructor({docsPath:e}){super("Cannot extract event signature from empty topics.",{docsPath:e,name:"AbiEventSignatureEmptyTopicsError"})}}class qq extends ze{constructor(e,{docsPath:r}){super([`Encoded event signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiEventSignatureNotFoundError"})}}class AM extends ze{constructor(e,{docsPath:r}={}){super([`Event ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the event exists on it."].join(`
`),{docsPath:r,name:"AbiEventNotFoundError"})}}class cg extends ze{constructor(e,{docsPath:r}={}){super([`Function ${e?`"${e}" `:""}not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionNotFoundError"})}}class Hq extends ze{constructor(e,{docsPath:r}){super([`Function "${e}" does not contain any \`outputs\` on ABI.`,"Cannot decode function result without knowing what the parameter types are.","Make sure you are using the correct ABI and that the function exists on it."].join(`
`),{docsPath:r,name:"AbiFunctionOutputsNotFoundError"})}}class Joe extends ze{constructor(e,{docsPath:r}){super([`Encoded function signature "${e}" not found on ABI.`,"Make sure you are using the correct ABI and that the function exists on it.",`You can look up the signature here: https://openchain.xyz/signatures?query=${e}.`].join(`
`),{docsPath:r,name:"AbiFunctionSignatureNotFoundError"})}}class ele extends ze{constructor(e,r){super("Found ambiguous types in overloaded ABI items.",{metaMessages:[`\`${e.type}\` in \`${cl(e.abiItem)}\`, and`,`\`${r.type}\` in \`${cl(r.abiItem)}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."],name:"AbiItemAmbiguityError"})}}let tle=class extends ze{constructor({expectedSize:e,givenSize:r}){super(`Expected bytes${e}, got bytes${r}.`,{name:"BytesSizeMismatchError"})}};class Vy extends ze{constructor({abiItem:e,data:r,params:n,size:i}){super([`Data size of ${i} bytes is too small for non-indexed event parameters.`].join(`
`),{metaMessages:[`Params: (${s6(n,{includeName:!0})})`,`Data:   ${r} (${i} bytes)`],name:"DecodeLogDataMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"params",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"size",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e,this.data=r,this.params=n,this.size=i}}class a6 extends ze{constructor({abiItem:e,param:r}){super([`Expected a topic for indexed event parameter${r.name?` "${r.name}"`:""} on event "${cl(e,{includeName:!0})}".`].join(`
`),{name:"DecodeLogTopicsMismatch"}),Object.defineProperty(this,"abiItem",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abiItem=e}}class rle extends ze{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid encoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiEncodingType"})}}class nle extends ze{constructor(e,{docsPath:r}){super([`Type "${e}" is not a valid decoding type.`,"Please provide a valid ABI type."].join(`
`),{docsPath:r,name:"InvalidAbiDecodingType"})}}let Vq=class extends ze{constructor(e){super([`Value "${e}" is not a valid array.`].join(`
`),{name:"InvalidArrayError"})}};class ile extends ze{constructor(e){super([`"${e}" is not a valid definition type.`,'Valid types: "function", "event", "error"'].join(`
`),{name:"InvalidDefinitionTypeError"})}}class Vet extends ze{constructor(e){super(`Type "${e}" is not supported for packed encoding.`,{name:"UnsupportedPackedAbiType"})}}let SM=class extends ze{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`,{name:"NegativeOffsetError"})}},Gq=class extends ze{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`,{name:"PositionOutOfBoundsError"})}},sle=class extends ze{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`,{name:"RecursiveReadLimitExceededError"})}};const ale={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new sle({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new Gq({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new SM({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new SM({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const r=e??this.position;return this.assertPosition(r+t-1),this.bytes.subarray(r,r+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const r=this.inspectBytes(t);return this.position+=e??t,r},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function pk(t,{recursiveReadLimit:e=8192}={}){const r=Object.create(ale);return r.bytes=t,r.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}function ug(t,e,r,{strict:n}={}){return ds(t,{strict:!1})?tC(t,e,r,{strict:n}):Zq(t,e,r,{strict:n})}function Kq(t,e){if(typeof e=="number"&&e>0&&e>Mn(t)-1)throw new Nq({offset:e,position:"start",size:Mn(t)})}function Yq(t,e,r){if(typeof e=="number"&&typeof r=="number"&&Mn(t)!==r-e)throw new Nq({offset:r,position:"end",size:Mn(t)})}function Zq(t,e,r,{strict:n}={}){Kq(t,e);const i=t.slice(e,r);return n&&Yq(i,e,r),i}function tC(t,e,r,{strict:n}={}){Kq(t,e);const i=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return n&&Yq(i,e,r),i}function ole(t,e={}){typeof e.size<"u"&&Ao(t,{size:e.size});const r=yi(t,e);return Oa(r,e)}function lle(t,e={}){let r=t;if(typeof e.size<"u"&&(Ao(r,{size:e.size}),r=fu(r)),r.length>1||r[0]>1)throw new noe(r);return!!r[0]}function pu(t,e={}){typeof e.size<"u"&&Ao(t,{size:e.size});const r=yi(t,e);return ol(r,e)}function cle(t,e={}){let r=t;return typeof e.size<"u"&&(Ao(r,{size:e.size}),r=fu(r,{dir:"right"})),new TextDecoder().decode(r)}function bo(t){return typeof t[0]=="string"?Rg(t):ule(t)}function ule(t){let e=0;for(const i of t)e+=i.length;const r=new Uint8Array(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return r}function Rg(t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}const Zet=/^(.*)\[([0-9]*)\]$/,dle=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,Qq=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/;function Wf(t,e){if(t.length!==e.length)throw new Zoe({expectedLength:t.length,givenLength:e.length});const r=hle({params:t,values:e}),n=mk(r);return n.length===0?"0x":n}function hle({params:t,values:e}){const r=[];for(let n=0;n<t.length;n++)r.push(gk({param:t[n],value:e[n]}));return r}function gk({param:t,value:e}){const r=yk(t.type);if(r){const[n,i]=r;return ple(e,{length:n,param:{...t,type:i}})}if(t.type==="tuple")return wle(e,{param:t});if(t.type==="address")return fle(e);if(t.type==="bool")return mle(e);if(t.type.startsWith("uint")||t.type.startsWith("int")){const n=t.type.startsWith("int"),[,,i="256"]=Qq.exec(t.type)??[];return yle(e,{signed:n,size:Number(i)})}if(t.type.startsWith("bytes"))return gle(e,{param:t});if(t.type==="string")return ble(e);throw new rle(t.type,{docsPath:"/docs/contract/encodeAbiParameters"})}function mk(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:a,encoded:o}=t[s];a?e+=32:e+=Mn(o)}const r=[],n=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:a,encoded:o}=t[s];a?(r.push(It(e+i,{size:32})),n.push(o),i+=Mn(o)):r.push(o)}return bo([...r,...n])}function fle(t){if(!ta(t))throw new Kd({address:t});return{dynamic:!1,encoded:qd(t.toLowerCase())}}function ple(t,{length:e,param:r}){const n=e===null;if(!Array.isArray(t))throw new Vq(t);if(!n&&t.length!==e)throw new Koe({expectedLength:e,givenLength:t.length,type:`${r.type}[${e}]`});let i=!1;const s=[];for(let a=0;a<t.length;a++){const o=gk({param:r,value:t[a]});o.dynamic&&(i=!0),s.push(o)}if(n||i){const a=mk(s);if(n){const o=It(s.length,{size:32});return{dynamic:!0,encoded:s.length>0?bo([o,a]):o}}if(i)return{dynamic:!0,encoded:a}}return{dynamic:!1,encoded:bo(s.map(({encoded:a})=>a))}}function gle(t,{param:e}){const[,r]=e.type.split("bytes"),n=Mn(t);if(!r){let i=t;return n%32!==0&&(i=qd(i,{dir:"right",size:Math.ceil((t.length-2)/2/32)*32})),{dynamic:!0,encoded:bo([qd(It(n,{size:32})),i])}}if(n!==Number.parseInt(r,10))throw new Yoe({expectedSize:Number.parseInt(r,10),value:t});return{dynamic:!1,encoded:qd(t,{dir:"right"})}}function mle(t){if(typeof t!="boolean")throw new ze(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:qd(Mq(t))}}function yle(t,{signed:e,size:r=256}){if(typeof r=="number"){const n=2n**(BigInt(r)-(e?1n:0n))-1n,i=e?-n-1n:0n;if(t>n||t<i)throw new Oq({max:n.toString(),min:i.toString(),signed:e,size:r/8,value:t.toString()})}return{dynamic:!1,encoded:It(t,{size:32,signed:e})}}function ble(t){const e=og(t),r=Math.ceil(Mn(e)/32),n=[];for(let i=0;i<r;i++)n.push(qd(ug(e,i*32,(i+1)*32),{dir:"right"}));return{dynamic:!0,encoded:bo([qd(It(Mn(e),{size:32})),...n])}}function wle(t,{param:e}){let r=!1;const n=[];for(let i=0;i<e.components.length;i++){const s=e.components[i],a=Array.isArray(t)?i:s.name,o=gk({param:s,value:t[a]});n.push(o),o.dynamic&&(r=!0)}return{dynamic:r,encoded:r?mk(n):bo(n.map(({encoded:i})=>i))}}function yk(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function jg(t,e){const r=typeof e=="string"?ll(e):e,n=pk(r);if(Mn(r)===0&&t.length>0)throw new nb;if(Mn(e)&&Mn(e)<32)throw new zq({data:typeof e=="string"?e:yi(e),params:t,size:Mn(e)});let i=0;const s=[];for(let a=0;a<t.length;++a){const o=t[a];n.setPosition(i);const[l,u]=q0(n,o,{staticPosition:0});i+=u,s.push(l)}return s}function q0(t,e,{staticPosition:r}){const n=yk(e.type);if(n){const[i,s]=n;return xle(t,{...e,type:s},{length:i,staticPosition:r})}if(e.type==="tuple")return Ale(t,e,{staticPosition:r});if(e.type==="address")return vle(t);if(e.type==="bool")return Ele(t);if(e.type.startsWith("bytes"))return _le(t,e,{staticPosition:r});if(e.type.startsWith("uint")||e.type.startsWith("int"))return Cle(t,e);if(e.type==="string")return Sle(t,{staticPosition:r});throw new nle(e.type,{docsPath:"/docs/contract/decodeAbiParameters"})}const kM=32,rC=32;function vle(t){const e=t.readBytes(32);return[rb(yi(Zq(e,-20))),32]}function xle(t,e,{length:r,staticPosition:n}){if(!r){const a=pu(t.readBytes(rC)),o=n+a,l=o+kM;t.setPosition(o);const u=pu(t.readBytes(kM)),h=Gy(e);let f=0;const g=[];for(let y=0;y<u;++y){t.setPosition(l+(h?y*32:f));const[b,w]=q0(t,e,{staticPosition:l});f+=w,g.push(b)}return t.setPosition(n+32),[g,32]}if(Gy(e)){const a=pu(t.readBytes(rC)),o=n+a,l=[];for(let u=0;u<r;++u){t.setPosition(o+u*32);const[h]=q0(t,e,{staticPosition:o});l.push(h)}return t.setPosition(n+32),[l,32]}let i=0;const s=[];for(let a=0;a<r;++a){const[o,l]=q0(t,e,{staticPosition:n+i});i+=l,s.push(o)}return[s,i]}function Ele(t){return[lle(t.readBytes(32),{size:32}),32]}function _le(t,e,{staticPosition:r}){const[n,i]=e.type.split("bytes");if(!i){const a=pu(t.readBytes(32));t.setPosition(r+a);const o=pu(t.readBytes(32));if(o===0)return t.setPosition(r+32),["0x",32];const l=t.readBytes(o);return t.setPosition(r+32),[yi(l),32]}return[yi(t.readBytes(Number.parseInt(i,10),32)),32]}function Cle(t,e){const r=e.type.startsWith("int"),n=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[n>48?ole(i,{signed:r}):pu(i,{signed:r}),32]}function Ale(t,e,{staticPosition:r}){const n=e.components.length===0||e.components.some(({name:a})=>!a),i=n?[]:{};let s=0;if(Gy(e)){const a=pu(t.readBytes(rC)),o=r+a;for(let l=0;l<e.components.length;++l){const u=e.components[l];t.setPosition(o+s);const[h,f]=q0(t,u,{staticPosition:o});s+=f,i[n?l:u==null?void 0:u.name]=h}return t.setPosition(r+32),[i,32]}for(let a=0;a<e.components.length;++a){const o=e.components[a],[l,u]=q0(t,o,{staticPosition:r});i[n?a:o==null?void 0:o.name]=l,s+=u}return[i,s]}function Sle(t,{staticPosition:e}){const r=pu(t.readBytes(32)),n=e+r;t.setPosition(n);const i=pu(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),a=cle(fu(s));return t.setPosition(e+32),[a,32]}function Gy(t){var n;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(n=t.components)==null?void 0:n.some(Gy);const r=yk(t.type);return!!(r&&Gy({...t,type:r[1]}))}const kle={1:"An `assert` condition failed.",17:"Arithmetic operation resulted in underflow or overflow.",18:"Division or modulo by zero (e.g. `5 / 0` or `23 % 0`).",33:"Attempted to convert to an invalid type.",34:"Attempted to access a storage byte array that is incorrectly encoded.",49:"Performed `.pop()` on an empty array",50:"Array index is out of bounds.",65:"Allocated too much memory or created an array which is too large.",81:"Attempted to call a zero-initialized variable of internal function type."},Xq={inputs:[{name:"message",type:"string"}],name:"Error",type:"error"},$le={inputs:[{name:"reason",type:"uint256"}],name:"Panic",type:"error"},Tle=t=>Hi(Mg(t));function Ile(t){return Tle(t)}function Nle(t){let e=!0,r="",n=0,i="",s=!1;for(let a=0;a<t.length;a++){const o=t[a];if(["(",")",","].includes(o)&&(e=!0),o==="("&&n++,o===")"&&n--,!!e){if(n===0){if(o===" "&&["event","function",""].includes(i))i="";else if(i+=o,o===")"){s=!0;break}continue}if(o===" "){t[a-1]!==","&&r!==","&&r!==",("&&(r="",e=!1);continue}i+=o,r+=o}}if(!s)throw new ze("Unable to normalize signature.");return i}const Ple=t=>{const e=typeof t=="string"?t:F3(t);return Nle(e)};function Jq(t){return Ile(Ple(t))}const ib=t=>ug(Jq(t),0,4);function Ole(t){const{abi:e,data:r}=t,n=ug(r,0,4);if(n==="0x")throw new nb;const s=[...e||[],Xq,$le].find(a=>a.type==="error"&&n===ib(cl(a)));if(!s)throw new Wq(n,{docsPath:"/docs/contract/decodeErrorResult"});return{abiItem:s,args:"inputs"in s&&s.inputs&&s.inputs.length>0?jg(s.inputs,ug(r,4)):void 0,errorName:s.name}}const o6=Jq,$M="/docs/contract/decodeEventLog";function bk(t){const{abi:e,data:r,strict:n,topics:i}=t,s=n??!0,[a,...o]=i;if(!a)throw new Xoe({docsPath:$M});const l=e.find(w=>w.type==="event"&&a===o6(cl(w)));if(!(l&&"name"in l)||l.type!=="event")throw new qq(a,{docsPath:$M});const{name:u,inputs:h}=l,f=h==null?void 0:h.some(w=>!("name"in w&&w.name)),g=f?[]:{},y=h.map((w,x)=>[w,x]).filter(([w])=>"indexed"in w&&w.indexed);for(let w=0;w<y.length;w++){const[x,E]=y[w],S=o[w];if(!S)throw new a6({abiItem:l,param:x});g[f?E:x.name||E]=Mle({param:x,value:S})}const b=h.filter(w=>!("indexed"in w&&w.indexed));if(b.length>0){if(r&&r!=="0x")try{const w=jg(b,r);if(w)if(f)for(let x=0;x<h.length;x++)g[x]=g[x]??w.shift();else for(let x=0;x<b.length;x++)g[b[x].name]=w[x]}catch(w){if(s)throw w instanceof zq||w instanceof Gq?new Vy({abiItem:l,data:r,params:b,size:Mn(r)}):w}else if(s)throw new Vy({abiItem:l,data:"0x",params:b,size:0})}return{eventName:u,args:Object.values(g).length>0?g:void 0}}function Mle({param:t,value:e}){return t.type==="string"||t.type==="bytes"||t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/)?e:(jg([t],e)||[])[0]}function eH(t){const{abi:e,data:r}=t,n=ug(r,0,4),i=e.find(s=>s.type==="function"&&n===ib(cl(s)));if(!i)throw new Joe(n,{docsPath:"/docs/contract/decodeFunctionData"});return{functionName:i.name,args:"inputs"in i&&i.inputs&&i.inputs.length>0?jg(i.inputs,ug(r,4)):void 0}}function qf(t){const{abi:e,args:r=[],name:n}=t,i=ds(n,{strict:!1}),s=e.filter(o=>i?o.type==="function"?ib(o)===n:o.type==="event"?o6(o)===n:!1:"name"in o&&o.name===n);if(s.length===0)return;if(s.length===1)return s[0];let a;for(const o of s){if(!("inputs"in o))continue;if(!r||r.length===0){if(!o.inputs||o.inputs.length===0)return o;continue}if(!o.inputs||o.inputs.length===0||o.inputs.length!==r.length)continue;if(r.every((u,h)=>{const f="inputs"in o&&o.inputs[h];return f?nC(u,f):!1})){if(a&&"inputs"in a&&a.inputs){const u=tH(o.inputs,a.inputs,r);if(u)throw new ele({abiItem:o,type:u[0]},{abiItem:a,type:u[1]})}a=o}}return a||s[0]}function nC(t,e){const r=typeof t,n=e.type;switch(n){case"address":return ta(t,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>nC(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(t)&&t.every(i=>nC(i,{...e,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function tH(t,e,r){for(const n in t){const i=t[n],s=e[n];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return tH(i.components,s.components,r[n]);const a=[i.type,s.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?ta(r[n],{strict:!1}):a.includes("address")&&a.includes("bytes")?ta(r[n],{strict:!1}):!1)return a}}const b9="/docs/contract/decodeFunctionResult";function Hf(t){const{abi:e,args:r,functionName:n,data:i}=t;let s=e[0];if(n){const o=qf({abi:e,args:r,name:n});if(!o)throw new cg(n,{docsPath:b9});s=o}if(s.type!=="function")throw new cg(void 0,{docsPath:b9});if(!s.outputs)throw new Hq(s.name,{docsPath:b9});const a=jg(s.outputs,i);if(a&&a.length>1)return a;if(a&&a.length===1)return a[0]}const w9="/docs/contract/encodeDeployData";function l6(t){const{abi:e,args:r,bytecode:n}=t;if(!r||r.length===0)return n;const i=e.find(a=>"type"in a&&a.type==="constructor");if(!i)throw new Goe({docsPath:w9});if(!("inputs"in i))throw new _M({docsPath:w9});if(!i.inputs||i.inputs.length===0)throw new _M({docsPath:w9});const s=Wf(i.inputs,r);return Rg([n,s])}const v9="/docs/contract/encodeErrorResult";function TM(t){const{abi:e,errorName:r,args:n}=t;let i=e[0];if(r){const l=qf({abi:e,args:n,name:r});if(!l)throw new CM(r,{docsPath:v9});i=l}if(i.type!=="error")throw new CM(void 0,{docsPath:v9});const s=cl(i),a=ib(s);let o="0x";if(n&&n.length>0){if(!i.inputs)throw new Qoe(i.name,{docsPath:v9});o=Wf(i.inputs,n)}return Rg([a,o])}class Rle extends ze{constructor(e){super(`Filter type "${e}" is not supported.`,{name:"FilterTypeNotSupportedError"})}}const IM="/docs/contract/encodeEventTopics";function sb(t){var l;const{abi:e,eventName:r,args:n}=t;let i=e[0];if(r){const u=qf({abi:e,name:r});if(!u)throw new AM(r,{docsPath:IM});i=u}if(i.type!=="event")throw new AM(void 0,{docsPath:IM});const s=cl(i),a=o6(s);let o=[];if(n&&"inputs"in i){const u=(l=i.inputs)==null?void 0:l.filter(f=>"indexed"in f&&f.indexed),h=Array.isArray(n)?n:Object.values(n).length>0?(u==null?void 0:u.map(f=>n[f.name]))??[]:[];h.length>0&&(o=(u==null?void 0:u.map((f,g)=>Array.isArray(h[g])?h[g].map((y,b)=>NM({param:f,value:h[g][b]})):typeof h[g]<"u"&&h[g]!==null?NM({param:f,value:h[g]}):null))??[])}return[a,...o]}function NM({param:t,value:e}){if(t.type==="string"||t.type==="bytes")return Hi(Mg(e));if(t.type==="tuple"||t.type.match(/^(.*)\[(\d+)?\]$/))throw new Rle(t.type);return Wf([t],[e])}const PM="/docs/contract/encodeFunctionData";function jle(t){const{abi:e,args:r,functionName:n}=t;let i=e[0];if(n){const s=qf({abi:e,args:r,name:n});if(!s)throw new cg(n,{docsPath:PM});i=s}if(i.type!=="function")throw new cg(void 0,{docsPath:PM});return{abi:[i],functionName:ib(cl(i))}}function ia(t){const{args:e}=t,{abi:r,functionName:n}=(()=>{var o;return t.abi.length===1&&((o=t.functionName)!=null&&o.startsWith("0x"))?t:jle(t)})(),i=r[0],s=n,a="inputs"in i&&i.inputs?Wf(i.inputs,e??[]):void 0;return Rg([s,a??"0x"])}const x9="/docs/contract/encodeFunctionResult";function Dle(t){const{abi:e,functionName:r,result:n}=t;let i=e[0];if(r){const a=qf({abi:e,name:r});if(!a)throw new cg(r,{docsPath:x9});i=a}if(i.type!=="function")throw new cg(void 0,{docsPath:x9});if(!i.outputs)throw new Hq(i.name,{docsPath:x9});const s=(()=>{if(i.outputs.length===0)return[];if(i.outputs.length===1)return[n];if(Array.isArray(n))return n;throw new Vq(n)})();return Wf(i.outputs,s)}const mi=(t,e,r)=>JSON.stringify(t,(n,i)=>typeof i=="bigint"?i.toString():i,r);function rH({abiItem:t,args:e,includeFunctionName:r=!0,includeName:n=!1}){if("name"in t&&"inputs"in t&&t.inputs)return`${r?t.name:""}(${t.inputs.map((i,s)=>`${n&&i.name?`${i.name}: `:""}${typeof e[s]=="object"?mi(e[s]):e[s]}`).join(", ")})`}function ab(t,e){if(!ta(t,{strict:!1}))throw new Kd({address:t});if(!ta(e,{strict:!1}))throw new Kd({address:e});return t.toLowerCase()===e.toLowerCase()}function wk(t){const{abi:e,args:r,logs:n,strict:i=!0}=t,s=(()=>{if(t.eventName)return Array.isArray(t.eventName)?t.eventName:[t.eventName]})();return n.map(a=>{var o;try{const l=e.find(h=>h.type==="event"&&a.topics[0]===o6(h));if(!l)return null;const u=bk({...a,abi:[l],strict:i});return s&&!s.includes(u.eventName)||!Ule({args:u.args,inputs:l.inputs,matchArgs:r})?null:{...u,...a}}catch(l){let u,h;if(l instanceof qq)return null;if(l instanceof Vy||l instanceof a6){if(i)return null;u=l.abiItem.name,h=(o=l.abiItem.inputs)==null?void 0:o.some(f=>!("name"in f&&f.name))}return{...a,args:h?[]:{},eventName:u}}}).filter(Boolean)}function Ule(t){const{args:e,inputs:r,matchArgs:n}=t;if(!n)return!0;if(!e)return!1;function i(s,a,o){try{return s.type==="address"?ab(a,o):s.type==="string"||s.type==="bytes"?Hi(Mg(a))===o:a===o}catch{return!1}}return Array.isArray(e)&&Array.isArray(n)?n.every((s,a)=>{if(s==null)return!0;const o=r[a];return o?(Array.isArray(s)?s:[s]).some(u=>i(o,u,e[a])):!1}):typeof e=="object"&&!Array.isArray(e)&&typeof n=="object"&&!Array.isArray(n)?Object.entries(n).every(([s,a])=>{if(a==null)return!0;const o=r.find(u=>u.name===s);return o?(Array.isArray(a)?a:[a]).some(u=>i(o,u,e[s])):!1}):!1}function Ble(t,e="hex"){const r=nH(t),n=pk(new Uint8Array(r.length));return r.encode(n),e==="hex"?yi(n.bytes):n.bytes}function nH(t){return Array.isArray(t)?Lle(t.map(e=>nH(e))):Fle(t)}function Lle(t){const e=t.reduce((i,s)=>i+s.length,0),r=iH(e);return{length:e<=55?1+e:1+r+e,encode(i){e<=55?i.pushByte(192+e):(i.pushByte(247+r),r===1?i.pushUint8(e):r===2?i.pushUint16(e):r===3?i.pushUint24(e):i.pushUint32(e));for(const{encode:s}of t)s(i)}}}function Fle(t){const e=typeof t=="string"?ll(t):t,r=iH(e.length);return{length:e.length===1&&e[0]<128?1:e.length<=55?1+e.length:1+r+e.length,encode(i){e.length===1&&e[0]<128?i.pushBytes(e):e.length<=55?(i.pushByte(128+e.length),i.pushBytes(e)):(i.pushByte(183+r),r===1?i.pushUint8(e.length):r===2?i.pushUint16(e.length):r===3?i.pushUint24(e.length):i.pushUint32(e.length),i.pushBytes(e))}}}function iH(t){if(t<2**8)return 1;if(t<2**16)return 2;if(t<2**24)return 3;if(t<2**32)return 4;throw new ze("Length is too large.")}function zle(t){const{chainId:e,nonce:r,to:n}=t,i=t.contractAddress??t.address,s=Hi(Rg(["0x05",Ble([e?It(e):"0x",i,r?It(r):"0x"])]));return n==="bytes"?ll(s):s}async function Wle({hash:t,signature:e}){const r=ds(t)?t:qn(t),{secp256k1:n}=await ic(async()=>{const{secp256k1:a}=await Promise.resolve().then(()=>CV);return{secp256k1:a}},void 0,import.meta.url);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:u,s:h,v:f,yParity:g}=e,y=Number(g??f),b=OM(y);return new n.Signature(Oa(u),Oa(h)).addRecoveryBit(b)}const a=ds(e)?e:qn(e);if(Mn(a)!==65)throw new Error("invalid signature length");const o=ol(`0x${a.slice(130)}`),l=OM(o);return n.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function OM(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function sH({hash:t,signature:e}){return Hoe(await Wle({hash:t,signature:e}))}async function vk(t){const{authorization:e,signature:r}=t;return sH({hash:zle(e),signature:r??e})}const aH={gwei:9,wei:18},qle={ether:-9,wei:9};function Ys(t,e){let r=t.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[i,s]=[r.slice(0,r.length-e),r.slice(r.length-e)];return s=s.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${s?`.${s}`:""}`}function Vf(t,e="wei"){return Ys(t,aH[e])}function Js(t,e="wei"){return Ys(t,qle[e])}function ob(t){const e=Object.entries(t).map(([n,i])=>i===void 0||i===!1?null:[n,i]).filter(Boolean),r=e.reduce((n,[i])=>Math.max(n,i.length),0);return e.map(([n,i])=>`  ${`${n}:`.padEnd(r+1)}  ${i}`).join(`
`)}class Hle extends ze{constructor(){super(["Cannot specify both a `gasPrice` and a `maxFeePerGas`/`maxPriorityFeePerGas`.","Use `maxFeePerGas`/`maxPriorityFeePerGas` for EIP-1559 compatible networks, and `gasPrice` for others."].join(`
`),{name:"FeeConflictError"})}}class Vle extends ze{constructor({transaction:e}){super("Cannot infer a transaction type from provided transaction.",{metaMessages:["Provided Transaction:","{",ob(e),"}","","To infer the type, either provide:","- a `type` to the Transaction, or","- an EIP-1559 Transaction with `maxFeePerGas`, or","- an EIP-2930 Transaction with `gasPrice` & `accessList`, or","- an EIP-4844 Transaction with `blobs`, `blobVersionedHashes`, `sidecars`, or","- an EIP-7702 Transaction with `authorizationList`, or","- a Legacy Transaction with `gasPrice`"],name:"InvalidSerializableTransactionError"})}}class Gle extends ze{constructor(e,{account:r,docsPath:n,chain:i,data:s,gas:a,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:h,to:f,value:g}){var b;const y=ob({chain:i&&`${i==null?void 0:i.name} (id: ${i==null?void 0:i.id})`,from:r==null?void 0:r.address,to:f,value:typeof g<"u"&&`${Vf(g)} ${((b=i==null?void 0:i.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:s,gas:a,gasPrice:typeof o<"u"&&`${Js(o)} gwei`,maxFeePerGas:typeof l<"u"&&`${Js(l)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Js(u)} gwei`,nonce:h});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Request Arguments:",y].filter(Boolean),name:"TransactionExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class oH extends ze{constructor({blockHash:e,blockNumber:r,blockTag:n,hash:i,index:s}){let a="Transaction";n&&s!==void 0&&(a=`Transaction at block time "${n}" at index "${s}"`),e&&s!==void 0&&(a=`Transaction at block hash "${e}" at index "${s}"`),r&&s!==void 0&&(a=`Transaction at block number "${r}" at index "${s}"`),i&&(a=`Transaction with hash "${i}"`),super(`${a} could not be found.`,{name:"TransactionNotFoundError"})}}class lH extends ze{constructor({hash:e}){super(`Transaction receipt with hash "${e}" could not be found. The Transaction may not be processed on a block yet.`,{name:"TransactionReceiptNotFoundError"})}}class Kle extends ze{constructor({hash:e}){super(`Timed out while waiting for transaction with hash "${e}" to be confirmed.`,{name:"WaitForTransactionReceiptTimeoutError"})}}function cH(t){const{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(s=>ll(s)):t.blobs,i=[];for(const s of n)i.push(Uint8Array.from(e.blobToKzgCommitment(s)));return r==="bytes"?i:i.map(s=>yi(s))}function uH(t){const{kzg:e}=t,r=t.to??(typeof t.blobs[0]=="string"?"hex":"bytes"),n=typeof t.blobs[0]=="string"?t.blobs.map(a=>ll(a)):t.blobs,i=typeof t.commitments[0]=="string"?t.commitments.map(a=>ll(a)):t.commitments,s=[];for(let a=0;a<n.length;a++){const o=n[a],l=i[a];s.push(Uint8Array.from(e.computeBlobKzgProof(o,l)))}return r==="bytes"?s:s.map(a=>yi(a))}function Yle(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),o=Number(r&s),l=n?4:0,u=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+u,o,n)}function Zle(t,e,r){return t&e^~t&r}function Qle(t,e,r){return t&e^t&r^e&r}class dH extends dk{constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=g9(this.buffer)}update(e){lg(this),e=r6(e),Yd(e);const{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let a=0;a<s;){const o=Math.min(i-this.pos,s-a);if(o===i){const l=g9(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){lg(this),jq(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:a}=this;r[a++]=128,Zd(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(n,0),a=0);for(let f=a;f<i;f++)r[f]=0;Yle(n,i-8,BigInt(this.length*8),s),this.process(n,0);const o=g9(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)o.setUint32(4*f,h[f],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:o}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=o,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}}const ld=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Xi=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),Ji=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),Xle=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),cd=new Uint32Array(64);class Jle extends dH{constructor(e=32){super(64,e,8,!1),this.A=ld[0]|0,this.B=ld[1]|0,this.C=ld[2]|0,this.D=ld[3]|0,this.E=ld[4]|0,this.F=ld[5]|0,this.G=ld[6]|0,this.H=ld[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:a,G:o,H:l}=this;return[e,r,n,i,s,a,o,l]}set(e,r,n,i,s,a,o,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=o|0,this.H=l|0}process(e,r){for(let f=0;f<16;f++,r+=4)cd[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){const g=cd[f-15],y=cd[f-2],b=Ol(g,7)^Ol(g,18)^g>>>3,w=Ol(y,17)^Ol(y,19)^y>>>10;cd[f]=w+cd[f-7]+b+cd[f-16]|0}let{A:n,B:i,C:s,D:a,E:o,F:l,G:u,H:h}=this;for(let f=0;f<64;f++){const g=Ol(o,6)^Ol(o,11)^Ol(o,25),y=h+g+Zle(o,l,u)+Xle[f]+cd[f]|0,w=(Ol(n,2)^Ol(n,13)^Ol(n,22))+Qle(n,i,s)|0;h=u,u=l,l=o,o=a+y|0,a=s,s=i,i=n,n=y+w|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,o=o+this.E|0,l=l+this.F|0,u=u+this.G|0,h=h+this.H|0,this.set(n,i,s,a,o,l,u,h)}roundClean(){Zd(cd)}destroy(){this.set(0,0,0,0,0,0,0,0),Zd(this.buffer)}}const hH=Rq(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),ece=hH[0],tce=hH[1],ud=new Uint32Array(80),dd=new Uint32Array(80);class fH extends dH{constructor(e=64){super(128,e,16,!1),this.Ah=Ji[0]|0,this.Al=Ji[1]|0,this.Bh=Ji[2]|0,this.Bl=Ji[3]|0,this.Ch=Ji[4]|0,this.Cl=Ji[5]|0,this.Dh=Ji[6]|0,this.Dl=Ji[7]|0,this.Eh=Ji[8]|0,this.El=Ji[9]|0,this.Fh=Ji[10]|0,this.Fl=Ji[11]|0,this.Gh=Ji[12]|0,this.Gl=Ji[13]|0,this.Hh=Ji[14]|0,this.Hl=Ji[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:o,Dl:l,Eh:u,El:h,Fh:f,Fl:g,Gh:y,Gl:b,Hh:w,Hl:x}=this;return[e,r,n,i,s,a,o,l,u,h,f,g,y,b,w,x]}set(e,r,n,i,s,a,o,l,u,h,f,g,y,b,w,x){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=o|0,this.Dl=l|0,this.Eh=u|0,this.El=h|0,this.Fh=f|0,this.Fl=g|0,this.Gh=y|0,this.Gl=b|0,this.Hh=w|0,this.Hl=x|0}process(e,r){for(let _=0;_<16;_++,r+=4)ud[_]=e.getUint32(r),dd[_]=e.getUint32(r+=4);for(let _=16;_<80;_++){const I=ud[_-15]|0,A=dd[_-15]|0,O=Vp(I,A,1)^Vp(I,A,8)^yM(I,A,7),F=Gp(I,A,1)^Gp(I,A,8)^bM(I,A,7),H=ud[_-2]|0,L=dd[_-2]|0,z=Vp(H,L,19)^rv(H,L,61)^yM(H,L,6),V=Gp(H,L,19)^nv(H,L,61)^bM(H,L,6),K=voe(F,V,dd[_-7],dd[_-16]),B=xoe(K,O,z,ud[_-7],ud[_-16]);ud[_]=B|0,dd[_]=K|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:o,Cl:l,Dh:u,Dl:h,Eh:f,El:g,Fh:y,Fl:b,Gh:w,Gl:x,Hh:E,Hl:S}=this;for(let _=0;_<80;_++){const I=Vp(f,g,14)^Vp(f,g,18)^rv(f,g,41),A=Gp(f,g,14)^Gp(f,g,18)^nv(f,g,41),O=f&y^~f&w,F=g&b^~g&x,H=Eoe(S,A,F,tce[_],dd[_]),L=_oe(H,E,I,O,ece[_],ud[_]),z=H|0,V=Vp(n,i,28)^rv(n,i,34)^rv(n,i,39),K=Gp(n,i,28)^nv(n,i,34)^nv(n,i,39),B=n&s^n&o^s&o,C=i&a^i&l^a&l;E=w|0,S=x|0,w=y|0,x=b|0,y=f|0,b=g|0,{h:f,l:g}=Bc(u|0,h|0,L|0,z|0),u=o|0,h=l|0,o=s|0,l=a|0,s=n|0,a=i|0;const k=boe(z,K,C);n=woe(k,L,V,B),i=k|0}({h:n,l:i}=Bc(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=Bc(this.Bh|0,this.Bl|0,s|0,a|0),{h:o,l}=Bc(this.Ch|0,this.Cl|0,o|0,l|0),{h:u,l:h}=Bc(this.Dh|0,this.Dl|0,u|0,h|0),{h:f,l:g}=Bc(this.Eh|0,this.El|0,f|0,g|0),{h:y,l:b}=Bc(this.Fh|0,this.Fl|0,y|0,b|0),{h:w,l:x}=Bc(this.Gh|0,this.Gl|0,w|0,x|0),{h:E,l:S}=Bc(this.Hh|0,this.Hl|0,E|0,S|0),this.set(n,i,s,a,o,l,u,h,f,g,y,b,w,x,E,S)}roundClean(){Zd(ud,dd)}destroy(){Zd(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}class rce extends fH{constructor(){super(48),this.Ah=Xi[0]|0,this.Al=Xi[1]|0,this.Bh=Xi[2]|0,this.Bl=Xi[3]|0,this.Ch=Xi[4]|0,this.Cl=Xi[5]|0,this.Dh=Xi[6]|0,this.Dl=Xi[7]|0,this.Eh=Xi[8]|0,this.El=Xi[9]|0,this.Fh=Xi[10]|0,this.Fl=Xi[11]|0,this.Gh=Xi[12]|0,this.Gl=Xi[13]|0,this.Hh=Xi[14]|0,this.Hl=Xi[15]|0}}const pH=n6(()=>new Jle),Qet=n6(()=>new fH),Xet=n6(()=>new rce),gH=pH;function nce(t,e){return gH(ds(t,{strict:!1})?Mg(t):t)}function ice(t){const{commitment:e,version:r=1}=t,n=t.to??(typeof e=="string"?"hex":"bytes"),i=nce(e);return i.set([r],0),n==="bytes"?i:yi(i)}function sce(t){const{commitments:e,version:r}=t,n=t.to,i=[];for(const s of e)i.push(ice({commitment:s,to:n,version:r}));return i}const MM=6,mH=32,xk=4096,yH=mH*xk,RM=yH*MM-1-1*xk*MM;class ace extends ze{constructor({maxSize:e,size:r}){super("Blob size is too large.",{metaMessages:[`Max: ${e} bytes`,`Given: ${r} bytes`],name:"BlobSizeTooLargeError"})}}class oce extends ze{constructor(){super("Blob data must not be empty.",{name:"EmptyBlobError"})}}function lce(t){const e=typeof t.data=="string"?ll(t.data):t.data,r=Mn(e);if(!r)throw new oce;if(r>RM)throw new ace({maxSize:RM,size:r});const n=[];let i=!0,s=0;for(;i;){const a=pk(new Uint8Array(yH));let o=0;for(;o<xk;){const l=e.slice(s,s+(mH-1));if(a.pushByte(0),a.pushBytes(l),l.length<31){a.pushByte(128),i=!1;break}o++,s+=31}n.push(a)}return n.map(a=>yi(a.bytes))}function cce(t){const{data:e,kzg:r,to:n}=t,i=t.blobs??lce({data:e}),s=t.commitments??cH({blobs:i,kzg:r,to:n}),a=t.proofs??uH({blobs:i,commitments:s,kzg:r,to:n}),o=[];for(let l=0;l<i.length;l++)o.push({blob:i[l],commitment:s[l],proof:a[l]});return o}const uce=2n**256n-1n;class iC extends ze{constructor({blockNumber:e,chain:r,contract:n}){super(`Chain "${r.name}" does not support contract "${n.name}".`,{metaMessages:["This could be due to any of the following:",...e&&n.blockCreated&&n.blockCreated>e?[`- The contract "${n.name}" was not deployed until block ${n.blockCreated} (current block ${e}).`]:[`- The chain does not have the contract "${n.name}" configured.`]],name:"ChainDoesNotSupportContract"})}}class dce extends ze{constructor({chain:e,currentChainId:r}){super(`The current chain of the wallet (id: ${r}) does not match the target chain for the transaction (id: ${e.id}  ${e.name}).`,{metaMessages:[`Current Chain ID:  ${r}`,`Expected Chain ID: ${e.id}  ${e.name}`],name:"ChainMismatchError"})}}class hce extends ze{constructor(){super(["No chain was provided to the request.","Please provide a chain with the `chain` argument on the Action, or by supplying a `chain` to WalletClient."].join(`
`),{name:"ChainNotFoundError"})}}class bH extends ze{constructor(){super("No chain was provided to the Client.",{name:"ClientChainNotConfiguredError"})}}class I0 extends ze{constructor({cause:e,message:r}={}){var i;const n=(i=r==null?void 0:r.replace("execution reverted: ",""))==null?void 0:i.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(I0,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(I0,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});class z3 extends ze{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${Js(r)} gwei`:""}) cannot be higher than the maximum allowed value (2^256-1).`,{cause:e,name:"FeeCapTooHighError"})}}Object.defineProperty(z3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas higher than 2\^256-1|fee cap higher than 2\^256-1/});class sC extends ze{constructor({cause:e,maxFeePerGas:r}={}){super(`The fee cap (\`maxFeePerGas\`${r?` = ${Js(r)}`:""} gwei) cannot be lower than the block base fee.`,{cause:e,name:"FeeCapTooLowError"})}}Object.defineProperty(sC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max fee per gas less than block base fee|fee cap less than block base fee|transaction is outdated/});class aC extends ze{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}is higher than the next one expected.`,{cause:e,name:"NonceTooHighError"})}}Object.defineProperty(aC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too high/});class oC extends ze{constructor({cause:e,nonce:r}={}){super([`Nonce provided for the transaction ${r?`(${r}) `:""}is lower than the current nonce of the account.`,"Try increasing the nonce or find the latest nonce with `getTransactionCount`."].join(`
`),{cause:e,name:"NonceTooLowError"})}}Object.defineProperty(oC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce too low|transaction already imported|already known/});class lC extends ze{constructor({cause:e,nonce:r}={}){super(`Nonce provided for the transaction ${r?`(${r}) `:""}exceeds the maximum allowed nonce.`,{cause:e,name:"NonceMaxValueError"})}}Object.defineProperty(lC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/nonce has max value/});class cC extends ze{constructor({cause:e}={}){super(["The total cost (gas * gas fee + value) of executing this transaction exceeds the balance of the account."].join(`
`),{cause:e,metaMessages:["This error could arise when the account does not have enough funds to:"," - pay for the total gas fee,"," - pay for the value to send."," ","The cost of the transaction is calculated as `gas * gas fee + value`, where:"," - `gas` is the amount of gas needed for transaction to execute,"," - `gas fee` is the gas fee,"," - `value` is the amount of ether to send to the recipient."],name:"InsufficientFundsError"})}}Object.defineProperty(cC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/insufficient funds|exceeds transaction sender account balance/});class uC extends ze{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction exceeds the limit allowed for the block.`,{cause:e,name:"IntrinsicGasTooHighError"})}}Object.defineProperty(uC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too high|gas limit reached/});class dC extends ze{constructor({cause:e,gas:r}={}){super(`The amount of gas ${r?`(${r}) `:""}provided for the transaction is too low.`,{cause:e,name:"IntrinsicGasTooLowError"})}}Object.defineProperty(dC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/intrinsic gas too low/});class hC extends ze{constructor({cause:e}){super("The transaction type is not supported for this chain.",{cause:e,name:"TransactionTypeNotSupportedError"})}}Object.defineProperty(hC,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/transaction type not valid/});class W3 extends ze{constructor({cause:e,maxPriorityFeePerGas:r,maxFeePerGas:n}={}){super([`The provided tip (\`maxPriorityFeePerGas\`${r?` = ${Js(r)} gwei`:""}) cannot be higher than the fee cap (\`maxFeePerGas\`${n?` = ${Js(n)} gwei`:""}).`].join(`
`),{cause:e,name:"TipAboveFeeCapError"})}}Object.defineProperty(W3,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/max priority fee per gas higher than max fee per gas|tip higher than fee cap/});class lb extends ze{constructor({cause:e}){super(`An error occurred while executing: ${e==null?void 0:e.shortMessage}`,{cause:e,name:"UnknownNodeError"})}}function fce(t){if(t.type)return t.type;if(typeof t.authorizationList<"u")return"eip7702";if(typeof t.blobs<"u"||typeof t.blobVersionedHashes<"u"||typeof t.maxFeePerBlobGas<"u"||typeof t.sidecars<"u")return"eip4844";if(typeof t.maxFeePerGas<"u"||typeof t.maxPriorityFeePerGas<"u")return"eip1559";if(typeof t.gasPrice<"u")return typeof t.accessList<"u"?"eip2930":"legacy";throw new Vle({transaction:t})}async function pce({address:t,authorization:e,signature:r}){return ab(ei(t),await vk({authorization:e,signature:r}))}const gce=t=>t,Ek=t=>t;class vy extends ze{constructor({body:e,cause:r,details:n,headers:i,status:s,url:a}){super("HTTP request failed.",{cause:r,details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${Ek(a)}`,e&&`Request body: ${mi(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=a}}class _k extends ze{constructor({body:e,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${Ek(n)}`,`Request body: ${mi(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data}}class jM extends ze{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${Ek(r)}`,`Request body: ${mi(e)}`],name:"TimeoutError"})}}const mce=-1;class sa extends ze{constructor(e,{code:r,docsPath:n,metaMessages:i,name:s,shortMessage:a}){super(a,{cause:e,docsPath:n,metaMessages:i||(e==null?void 0:e.metaMessages),name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof _k?e.code:r??mce}}class Da extends sa{constructor(e,r){super(e,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class Ky extends sa{constructor(e){super(e,{code:Ky.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(Ky,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class Yy extends sa{constructor(e){super(e,{code:Yy.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(Yy,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class Zy extends sa{constructor(e,{method:r}={}){super(e,{code:Zy.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}}Object.defineProperty(Zy,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class Qy extends sa{constructor(e){super(e,{code:Qy.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Qy,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class _f extends sa{constructor(e){super(e,{code:_f.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(_f,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class Cf extends sa{constructor(e){super(e,{code:Cf.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(Cf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class Xy extends sa{constructor(e){super(e,{code:Xy.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(Xy,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class Jy extends sa{constructor(e){super(e,{code:Jy.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(Jy,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class e2 extends sa{constructor(e){super(e,{code:e2.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(e2,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class tf extends sa{constructor(e,{method:r}={}){super(e,{code:tf.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}}Object.defineProperty(tf,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class dg extends sa{constructor(e){super(e,{code:dg.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(dg,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class t2 extends sa{constructor(e){super(e,{code:t2.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(t2,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class H0 extends Da{constructor(e){super(e,{code:H0.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(H0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class r2 extends Da{constructor(e){super(e,{code:r2.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(r2,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class n2 extends Da{constructor(e,{method:r}={}){super(e,{code:n2.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}}Object.defineProperty(n2,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class i2 extends Da{constructor(e){super(e,{code:i2.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(i2,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class s2 extends Da{constructor(e){super(e,{code:s2.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(s2,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class a2 extends Da{constructor(e){super(e,{code:a2.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(a2,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class hg extends Da{constructor(e){super(e,{code:hg.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(hg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class o2 extends Da{constructor(e){super(e,{code:o2.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(o2,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class l2 extends Da{constructor(e){super(e,{code:l2.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(l2,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class c2 extends Da{constructor(e){super(e,{code:c2.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(c2,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class u2 extends Da{constructor(e){super(e,{code:u2.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(u2,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class d2 extends Da{constructor(e){super(e,{code:d2.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(d2,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class fg extends Da{constructor(e){super(e,{code:fg.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(fg,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class yce extends sa{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const iv=new i6(8192);function bce(t,{enabled:e=!0,id:r}){if(!e||!r)return t();if(iv.get(r))return iv.get(r);const n=t().finally(()=>iv.delete(r));return iv.set(r,n),n}async function fC(t){return new Promise(e=>setTimeout(e,t))}function q3(t,{delay:e=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((i,s)=>{const a=async({count:o=0}={})=>{const l=async({error:u})=>{const h=typeof e=="function"?e({count:o,error:u}):e;h&&await fC(h),a({count:o+1})};try{const u=await t();i(u)}catch(u){if(o<r&&await n({count:o,error:u}))return l({error:u});s(u)}};a()})}function wce(t,e={}){return async(r,n={})=>{var f;const{dedupe:i=!1,methods:s,retryDelay:a=150,retryCount:o=3,uid:l}={...e,...n},{method:u}=r;if((f=s==null?void 0:s.exclude)!=null&&f.includes(u))throw new tf(new Error("method not supported"),{method:u});if(s!=null&&s.include&&!s.include.includes(u))throw new tf(new Error("method not supported"),{method:u});const h=i?og(`${l}.${mi(r)}`):void 0;return bce(()=>q3(async()=>{try{return await t(r)}catch(g){const y=g;switch(y.code){case Ky.code:throw new Ky(y);case Yy.code:throw new Yy(y);case Zy.code:throw new Zy(y,{method:r.method});case Qy.code:throw new Qy(y);case _f.code:throw new _f(y);case Cf.code:throw new Cf(y);case Xy.code:throw new Xy(y);case Jy.code:throw new Jy(y);case e2.code:throw new e2(y);case tf.code:throw new tf(y,{method:r.method});case dg.code:throw new dg(y);case t2.code:throw new t2(y);case H0.code:throw new H0(y);case r2.code:throw new r2(y);case n2.code:throw new n2(y);case i2.code:throw new i2(y);case s2.code:throw new s2(y);case a2.code:throw new a2(y);case hg.code:throw new hg(y);case o2.code:throw new o2(y);case l2.code:throw new l2(y);case c2.code:throw new c2(y);case u2.code:throw new u2(y);case d2.code:throw new d2(y);case fg.code:throw new fg(y);case 5e3:throw new H0(y);default:throw g instanceof ze?g:new yce(y)}}},{delay:({count:g,error:y})=>{var b;if(y&&y instanceof vy){const w=(b=y==null?void 0:y.headers)==null?void 0:b.get("Retry-After");if(w!=null&&w.match(/\d/))return Number.parseInt(w,10)*1e3}return~~(1<<g)*a},retryCount:o,shouldRetry:({error:g})=>vce(g)}),{enabled:i,id:h})}}function vce(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===dg.code||t.code===_f.code:t instanceof vy&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Ck=BigInt(0),pC=BigInt(1);function cb(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Ak(t){if(!cb(t))throw new Error("Uint8Array expected")}function h2(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function sv(t){const e=t.toString(16);return e.length&1?"0"+e:e}function wH(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?Ck:BigInt("0x"+t)}const vH=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",xce=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function f2(t){if(Ak(t),vH)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=xce[t[r]];return e}const Fc={_0:48,_9:57,A:65,F:70,a:97,f:102};function DM(t){if(t>=Fc._0&&t<=Fc._9)return t-Fc._0;if(t>=Fc.A&&t<=Fc.F)return t-(Fc.A-10);if(t>=Fc.a&&t<=Fc.f)return t-(Fc.a-10)}function H3(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(vH)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const a=DM(t.charCodeAt(s)),o=DM(t.charCodeAt(s+1));if(a===void 0||o===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=a*16+o}return n}function pf(t){return wH(f2(t))}function xH(t){return Ak(t),wH(f2(Uint8Array.from(t).reverse()))}function ub(t,e){return H3(t.toString(16).padStart(e*2,"0"))}function EH(t,e){return ub(t,e).reverse()}function oo(t,e,r){let n;if(typeof e=="string")try{n=H3(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(cb(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function V3(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];Ak(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}const E9=t=>typeof t=="bigint"&&Ck<=t;function Sk(t,e,r){return E9(t)&&E9(e)&&E9(r)&&e<=t&&t<r}function V0(t,e,r,n){if(!Sk(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function Ece(t){let e;for(e=0;t>Ck;t>>=pC,e+=1);return e}const c6=t=>(pC<<BigInt(t))-pC,_9=t=>new Uint8Array(t),UM=t=>Uint8Array.from(t);function _ce(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");let n=_9(t),i=_9(t),s=0;const a=()=>{n.fill(1),i.fill(0),s=0},o=(...f)=>r(i,n,...f),l=(f=_9(0))=>{i=o(UM([0]),f),n=o(),f.length!==0&&(i=o(UM([1]),f),n=o())},u=()=>{if(s++>=1e3)throw new Error("drbg: tried 1000 values");let f=0;const g=[];for(;f<e;){n=o();const y=n.slice();g.push(y),f+=n.length}return V3(...g)};return(f,g)=>{a(),l(f);let y;for(;!(y=g(u()));)l();return a(),y}}const Cce={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||cb(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function u6(t,e,r={}){const n=(i,s,a)=>{const o=Cce[s];if(typeof o!="function")throw new Error("invalid validator function");const l=t[i];if(!(a&&l===void 0)&&!o(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+l)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}function BM(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const Ace="0.1.1";function Sce(){return Ace}let Sr=class gC extends Error{constructor(e,r={}){const n=(()=>{var l;if(r.cause instanceof gC){if(r.cause.details)return r.cause.details;if(r.cause.shortMessage)return r.cause.shortMessage}return r.cause&&"details"in r.cause&&typeof r.cause.details=="string"?r.cause.details:(l=r.cause)!=null&&l.message?r.cause.message:r.details})(),i=r.cause instanceof gC&&r.cause.docsPath||r.docsPath,a=`https://oxlib.sh${i??""}`,o=[e||"An error occurred.",...r.metaMessages?["",...r.metaMessages]:[],...n||i?["",n?`Details: ${n}`:void 0,i?`See: ${a}`:void 0]:[]].filter(l=>typeof l=="string").join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:`ox@${Sce()}`}),this.cause=r.cause,this.details=n,this.docs=a,this.docsPath=i,this.shortMessage=e}walk(e){return _H(this,e)}};function _H(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause?_H(t.cause,e):e?null:t}function db(t,e){if(N0(t)>e)throw new Wce({givenSize:N0(t),maxSize:e})}const zc={zero:48,nine:57,A:65,F:70,a:97,f:102};function LM(t){if(t>=zc.zero&&t<=zc.nine)return t-zc.zero;if(t>=zc.A&&t<=zc.F)return t-(zc.A-10);if(t>=zc.a&&t<=zc.f)return t-(zc.a-10)}function kce(t,e={}){const{dir:r,size:n=32}=e;if(n===0)return t;if(t.length>n)throw new qce({size:t.length,targetSize:n,type:"Bytes"});const i=new Uint8Array(n);for(let s=0;s<n;s++){const a=r==="right";i[a?s:n-s-1]=t[a?s:t.length-s-1]}return i}function CH(t,e={}){const{dir:r="left"}=e;let n=t,i=0;for(let s=0;s<n.length-1&&n[r==="left"?s:n.length-s-1].toString()==="0";s++)i++;return n=r==="left"?n.slice(i):n.slice(0,n.length-i),n}function d6(t,e){if(Ma(t)>e)throw new Zce({givenSize:Ma(t),maxSize:e})}function $ce(t,e){if(typeof e=="number"&&e>0&&e>Ma(t)-1)throw new OH({offset:e,position:"start",size:Ma(t)})}function Tce(t,e,r){if(typeof e=="number"&&typeof r=="number"&&Ma(t)!==r-e)throw new OH({offset:r,position:"end",size:Ma(t)})}function AH(t,e={}){const{dir:r,size:n=32}=e;if(n===0)return t;const i=t.replace("0x","");if(i.length>n*2)throw new Qce({size:Math.ceil(i.length/2),targetSize:n,type:"Hex"});return`0x${i[r==="right"?"padEnd":"padStart"](n*2,"0")}`}const Ice="#__bigint";function SH(t,e,r){return JSON.stringify(t,(n,i)=>typeof i=="bigint"?i.toString()+Ice:i,r)}const Nce=new TextDecoder,Pce=new TextEncoder;function Oce(t){return t instanceof Uint8Array?t:typeof t=="string"?kH(t):Mce(t)}function Mce(t){return t instanceof Uint8Array?t:new Uint8Array(t)}function kH(t,e={}){const{size:r}=e;let n=t;r&&(d6(t,r),n=Sf(t,r));let i=n.slice(2);i.length%2&&(i=`0${i}`);const s=i.length/2,a=new Uint8Array(s);for(let o=0,l=0;o<s;o++){const u=LM(i.charCodeAt(l++)),h=LM(i.charCodeAt(l++));if(u===void 0||h===void 0)throw new Sr(`Invalid byte sequence ("${i[l-2]}${i[l-1]}" in "${i}").`);a[o]=u*16+h}return a}function Rce(t,e={}){const{size:r}=e,n=Pce.encode(t);return typeof r=="number"?(db(n,r),jce(n,r)):n}function jce(t,e){return kce(t,{dir:"right",size:e})}function N0(t){return t.length}function Dce(t,e,r,n={}){const{strict:i}=n;return t.slice(e,r)}function Uce(t,e={}){const{size:r}=e;typeof r<"u"&&db(t,r);const n=dl(t,e);return IH(n,e)}function Bce(t,e={}){const{size:r}=e;let n=t;if(typeof r<"u"&&(db(n,r),n=$H(n)),n.length>1||n[0]>1)throw new zce(n);return!!n[0]}function gu(t,e={}){const{size:r}=e;typeof r<"u"&&db(t,r);const n=dl(t,e);return NH(n,e)}function Lce(t,e={}){const{size:r}=e;let n=t;return typeof r<"u"&&(db(n,r),n=Fce(n)),Nce.decode(n)}function $H(t){return CH(t,{dir:"left"})}function Fce(t){return CH(t,{dir:"right"})}class zce extends Sr{constructor(e){super(`Bytes value \`${e}\` is not a valid boolean.`,{metaMessages:["The bytes array must contain a single byte of either a `0` or `1` value."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.InvalidBytesBooleanError"})}}let Wce=class extends Sr{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeOverflowError"})}},qce=class extends Sr{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Bytes.SizeExceedsPaddingSizeError"})}};const Hce=new TextEncoder,Vce=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Gce(t,e={}){const{strict:r=!1}=e;if(!t)throw new FM(t);if(typeof t!="string")throw new FM(t);if(r&&!/^0x[0-9a-fA-F]*$/.test(t))throw new zM(t);if(!t.startsWith("0x"))throw new zM(t)}function ul(...t){return`0x${t.reduce((e,r)=>e+r.replace("0x",""),"")}`}function Kce(t){return t instanceof Uint8Array?dl(t):Array.isArray(t)?dl(new Uint8Array(t)):t}function TH(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(d6(r,e.size),Af(r,e.size)):r}function dl(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=Vce[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(d6(n,e.size),Sf(n,e.size)):n}function vs(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<a){const u=typeof t=="bigint"?"n":"";throw new PH({max:s?`${s}${u}`:void 0,min:`${a}${u}`,signed:r,size:n,value:`${t}${u}`})}const l=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?Af(l,n):l}function kk(t,e={}){return dl(Hce.encode(t),e)}function Af(t,e){return AH(t,{dir:"left",size:e})}function Sf(t,e){return AH(t,{dir:"right",size:e})}function sc(t,e,r,n={}){const{strict:i}=n;$ce(t,e);const s=`0x${t.replace("0x","").slice((e??0)*2,(r??t.length)*2)}`;return i&&Tce(s,e,r),s}function Ma(t){return Math.ceil((t.length-2)/2)}function IH(t,e={}){const{signed:r}=e;e.size&&d6(t,e.size);const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n)-1n,a=s>>1n;return n<=a?n:n-s-1n}function NH(t,e={}){const{signed:r,size:n}=e;return Number(!r&&!n?t:IH(t,e))}function Yce(t,e={}){const{strict:r=!1}=e;try{return Gce(t,{strict:r}),!0}catch{return!1}}let PH=class extends Sr{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number \`${s}\` is not in safe${i?` ${i*8}-bit`:""}${n?" signed":" unsigned"} integer range ${e?`(\`${r}\` to \`${e}\`)`:`(above \`${r}\`)`}`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.IntegerOutOfRangeError"})}};class FM extends Sr{constructor(e){super(`Value \`${typeof e=="object"?SH(e):e}\` of type \`${typeof e}\` is an invalid hex type.`,{metaMessages:['Hex types must be represented as `"0x${string}"`.']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexTypeError"})}}class zM extends Sr{constructor(e){super(`Value \`${e}\` is an invalid hex value.`,{metaMessages:['Hex values must start with `"0x"` and contain only hexadecimal characters (0-9, a-f, A-F).']}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.InvalidHexValueError"})}}let Zce=class extends Sr{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed \`${r}\` bytes. Given size: \`${e}\` bytes.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeOverflowError"})}};class OH extends Sr{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset \`${e}\` is out-of-bounds (size: \`${n}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SliceOffsetOutOfBoundsError"})}}let Qce=class extends Sr{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (\`${e}\`) exceeds padding size (\`${r}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Hex.SizeExceedsPaddingSizeError"})}};function Xce(t){return{address:t.address,amount:vs(t.amount),index:vs(t.index),validatorIndex:vs(t.validatorIndex)}}function MH(t){return{...typeof t.baseFeePerGas=="bigint"&&{baseFeePerGas:vs(t.baseFeePerGas)},...typeof t.blobBaseFee=="bigint"&&{blobBaseFee:vs(t.blobBaseFee)},...typeof t.feeRecipient=="string"&&{feeRecipient:t.feeRecipient},...typeof t.gasLimit=="bigint"&&{gasLimit:vs(t.gasLimit)},...typeof t.number=="bigint"&&{number:vs(t.number)},...typeof t.prevRandao=="bigint"&&{prevRandao:vs(t.prevRandao)},...typeof t.time=="bigint"&&{time:vs(t.time)},...t.withdrawals&&{withdrawals:t.withdrawals.map(Xce)}}}const G3=[{inputs:[{components:[{name:"target",type:"address"},{name:"allowFailure",type:"bool"},{name:"callData",type:"bytes"}],name:"calls",type:"tuple[]"}],name:"aggregate3",outputs:[{components:[{name:"success",type:"bool"},{name:"returnData",type:"bytes"}],name:"returnData",type:"tuple[]"}],stateMutability:"view",type:"function"},{inputs:[],name:"getCurrentBlockTimestamp",outputs:[{internalType:"uint256",name:"timestamp",type:"uint256"}],stateMutability:"view",type:"function"}],mC=[{name:"query",type:"function",stateMutability:"view",inputs:[{type:"tuple[]",name:"queries",components:[{type:"address",name:"sender"},{type:"string[]",name:"urls"},{type:"bytes",name:"data"}]}],outputs:[{type:"bool[]",name:"failures"},{type:"bytes[]",name:"responses"}]},{name:"HttpError",type:"error",inputs:[{type:"uint16",name:"status"},{type:"string",name:"message"}]}],RH=[{inputs:[{name:"dns",type:"bytes"}],name:"DNSDecodingFailed",type:"error"},{inputs:[{name:"ens",type:"string"}],name:"DNSEncodingFailed",type:"error"},{inputs:[],name:"EmptyAddress",type:"error"},{inputs:[{name:"status",type:"uint16"},{name:"message",type:"string"}],name:"HttpError",type:"error"},{inputs:[],name:"InvalidBatchGatewayResponse",type:"error"},{inputs:[{name:"errorData",type:"bytes"}],name:"ResolverError",type:"error"},{inputs:[{name:"name",type:"bytes"},{name:"resolver",type:"address"}],name:"ResolverNotContract",type:"error"},{inputs:[{name:"name",type:"bytes"}],name:"ResolverNotFound",type:"error"},{inputs:[{name:"primary",type:"string"},{name:"primaryAddress",type:"bytes"}],name:"ReverseAddressMismatch",type:"error"},{inputs:[{internalType:"bytes4",name:"selector",type:"bytes4"}],name:"UnsupportedResolverProfile",type:"error"}],jH=[...RH,{name:"resolveWithGateways",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes"},{name:"data",type:"bytes"},{name:"gateways",type:"string[]"}],outputs:[{name:"",type:"bytes"},{name:"address",type:"address"}]}],Jce=[...RH,{name:"reverseWithGateways",type:"function",stateMutability:"view",inputs:[{type:"bytes",name:"reverseName"},{type:"uint256",name:"coinType"},{type:"string[]",name:"gateways"}],outputs:[{type:"string",name:"resolvedName"},{type:"address",name:"resolver"},{type:"address",name:"reverseResolver"}]}],WM=[{name:"text",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"key",type:"string"}],outputs:[{name:"",type:"string"}]}],qM=[{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"}],outputs:[{name:"",type:"address"}]},{name:"addr",type:"function",stateMutability:"view",inputs:[{name:"name",type:"bytes32"},{name:"coinType",type:"uint256"}],outputs:[{name:"",type:"bytes"}]}],DH=[{name:"isValidSignature",type:"function",stateMutability:"view",inputs:[{name:"hash",type:"bytes32"},{name:"signature",type:"bytes"}],outputs:[{name:"",type:"bytes4"}]}],HM=[{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],stateMutability:"nonpayable",type:"constructor"},{inputs:[{name:"_signer",type:"address"},{name:"_hash",type:"bytes32"},{name:"_signature",type:"bytes"}],outputs:[{type:"bool"}],stateMutability:"nonpayable",type:"function",name:"isValidSig"}],itt=[{type:"event",name:"Approval",inputs:[{indexed:!0,name:"owner",type:"address"},{indexed:!0,name:"spender",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"event",name:"Transfer",inputs:[{indexed:!0,name:"from",type:"address"},{indexed:!0,name:"to",type:"address"},{indexed:!1,name:"value",type:"uint256"}]},{type:"function",name:"allowance",stateMutability:"view",inputs:[{name:"owner",type:"address"},{name:"spender",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"balanceOf",stateMutability:"view",inputs:[{name:"account",type:"address"}],outputs:[{type:"uint256"}]},{type:"function",name:"decimals",stateMutability:"view",inputs:[],outputs:[{type:"uint8"}]},{type:"function",name:"name",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"symbol",stateMutability:"view",inputs:[],outputs:[{type:"string"}]},{type:"function",name:"totalSupply",stateMutability:"view",inputs:[],outputs:[{type:"uint256"}]},{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],eue="0x82ad56cb",UH="0x608060405234801561001057600080fd5b5060405161018e38038061018e83398101604081905261002f91610124565b6000808351602085016000f59050803b61004857600080fd5b6000808351602085016000855af16040513d6000823e81610067573d81fd5b3d81f35b634e487b7160e01b600052604160045260246000fd5b600082601f83011261009257600080fd5b81516001600160401b038111156100ab576100ab61006b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156100d9576100d961006b565b6040528181528382016020018510156100f157600080fd5b60005b82811015610110576020818601810151838301820152016100f4565b506000918101602001919091529392505050565b6000806040838503121561013757600080fd5b82516001600160401b0381111561014d57600080fd5b61015985828601610081565b602085015190935090506001600160401b0381111561017757600080fd5b61018385828601610081565b915050925092905056fe",tue="0x608060405234801561001057600080fd5b506040516102c03803806102c083398101604081905261002f916101e6565b836001600160a01b03163b6000036100e457600080836001600160a01b03168360405161005c9190610270565b6000604051808303816000865af19150503d8060008114610099576040519150601f19603f3d011682016040523d82523d6000602084013e61009e565b606091505b50915091508115806100b857506001600160a01b0386163b155b156100e1578060405163101bb98d60e01b81526004016100d8919061028c565b60405180910390fd5b50505b6000808451602086016000885af16040513d6000823e81610103573d81fd5b3d81f35b80516001600160a01b038116811461011e57600080fd5b919050565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561015457818101518382015260200161013c565b50506000910152565b600082601f83011261016e57600080fd5b81516001600160401b0381111561018757610187610123565b604051601f8201601f19908116603f011681016001600160401b03811182821017156101b5576101b5610123565b6040528181528382016020018510156101cd57600080fd5b6101de826020830160208701610139565b949350505050565b600080600080608085870312156101fc57600080fd5b61020585610107565b60208601519094506001600160401b0381111561022157600080fd5b61022d8782880161015d565b93505061023c60408601610107565b60608601519092506001600160401b0381111561025857600080fd5b6102648782880161015d565b91505092959194509250565b60008251610282818460208701610139565b9190910192915050565b60208152600082518060208401526102ab816040850160208701610139565b601f01601f1916919091016040019291505056fe",rue="0x608060405234801561001057600080fd5b5060405161069438038061069483398101604081905261002f9161051e565b600061003c848484610048565b9050806000526001601ff35b60007f64926492649264926492649264926492649264926492649264926492649264926100748361040c565b036101e7576000606080848060200190518101906100929190610577565b60405192955090935091506000906001600160a01b038516906100b69085906105dd565b6000604051808303816000865af19150503d80600081146100f3576040519150601f19603f3d011682016040523d82523d6000602084013e6100f8565b606091505b50509050876001600160a01b03163b60000361016057806101605760405162461bcd60e51b815260206004820152601e60248201527f5369676e617475726556616c696461746f723a206465706c6f796d656e74000060448201526064015b60405180910390fd5b604051630b135d3f60e11b808252906001600160a01b038a1690631626ba7e90610190908b9087906004016105f9565b602060405180830381865afa1580156101ad573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906101d19190610633565b6001600160e01b03191614945050505050610405565b6001600160a01b0384163b1561027a57604051630b135d3f60e11b808252906001600160a01b03861690631626ba7e9061022790879087906004016105f9565b602060405180830381865afa158015610244573d6000803e3d6000fd5b505050506040513d601f19601f820116820180604052508101906102689190610633565b6001600160e01b031916149050610405565b81516041146102df5760405162461bcd60e51b815260206004820152603a602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e6174757265206c656e6774680000000000006064820152608401610157565b6102e7610425565b5060208201516040808401518451859392600091859190811061030c5761030c61065d565b016020015160f81c9050601b811480159061032b57508060ff16601c14155b1561038c5760405162461bcd60e51b815260206004820152603b602482015260008051602061067483398151915260448201527f3a20696e76616c6964207369676e617475726520762076616c756500000000006064820152608401610157565b60408051600081526020810180835289905260ff83169181019190915260608101849052608081018390526001600160a01b0389169060019060a0016020604051602081039080840390855afa1580156103ea573d6000803e3d6000fd5b505050602060405103516001600160a01b0316149450505050505b9392505050565b600060208251101561041d57600080fd5b508051015190565b60405180606001604052806003906020820280368337509192915050565b6001600160a01b038116811461045857600080fd5b50565b634e487b7160e01b600052604160045260246000fd5b60005b8381101561048c578181015183820152602001610474565b50506000910152565b600082601f8301126104a657600080fd5b81516001600160401b038111156104bf576104bf61045b565b604051601f8201601f19908116603f011681016001600160401b03811182821017156104ed576104ed61045b565b60405281815283820160200185101561050557600080fd5b610516826020830160208701610471565b949350505050565b60008060006060848603121561053357600080fd5b835161053e81610443565b6020850151604086015191945092506001600160401b0381111561056157600080fd5b61056d86828701610495565b9150509250925092565b60008060006060848603121561058c57600080fd5b835161059781610443565b60208501519093506001600160401b038111156105b357600080fd5b6105bf86828701610495565b604086015190935090506001600160401b0381111561056157600080fd5b600082516105ef818460208701610471565b9190910192915050565b828152604060208201526000825180604084015261061e816060850160208701610471565b601f01601f1916919091016060019392505050565b60006020828403121561064557600080fd5b81516001600160e01b03198116811461040557600080fd5b634e487b7160e01b600052603260045260246000fdfe5369676e617475726556616c696461746f72237265636f7665725369676e6572",$k="0x608060405234801561001057600080fd5b506115b9806100206000396000f3fe6080604052600436106100f35760003560e01c80634d2301cc1161008a578063a8b0574e11610059578063a8b0574e14610325578063bce38bd714610350578063c3077fa914610380578063ee82ac5e146103b2576100f3565b80634d2301cc1461026257806372425d9d1461029f57806382ad56cb146102ca57806386d516e8146102fa576100f3565b80633408e470116100c65780633408e470146101af578063399542e9146101da5780633e64a6961461020c57806342cbb15c14610237576100f3565b80630f28c97d146100f8578063174dea7114610123578063252dba421461015357806327e86d6e14610184575b600080fd5b34801561010457600080fd5b5061010d6103ef565b60405161011a9190610c0a565b60405180910390f35b61013d60048036038101906101389190610c94565b6103f7565b60405161014a9190610e94565b60405180910390f35b61016d60048036038101906101689190610f0c565b610615565b60405161017b92919061101b565b60405180910390f35b34801561019057600080fd5b506101996107ab565b6040516101a69190611064565b60405180910390f35b3480156101bb57600080fd5b506101c46107b7565b6040516101d19190610c0a565b60405180910390f35b6101f460048036038101906101ef91906110ab565b6107bf565b6040516102039392919061110b565b60405180910390f35b34801561021857600080fd5b506102216107e1565b60405161022e9190610c0a565b60405180910390f35b34801561024357600080fd5b5061024c6107e9565b6040516102599190610c0a565b60405180910390f35b34801561026e57600080fd5b50610289600480360381019061028491906111a7565b6107f1565b6040516102969190610c0a565b60405180910390f35b3480156102ab57600080fd5b506102b4610812565b6040516102c19190610c0a565b60405180910390f35b6102e460048036038101906102df919061122a565b61081a565b6040516102f19190610e94565b60405180910390f35b34801561030657600080fd5b5061030f6109e4565b60405161031c9190610c0a565b60405180910390f35b34801561033157600080fd5b5061033a6109ec565b6040516103479190611286565b60405180910390f35b61036a600480360381019061036591906110ab565b6109f4565b6040516103779190610e94565b60405180910390f35b61039a60048036038101906103959190610f0c565b610ba6565b6040516103a99392919061110b565b60405180910390f35b3480156103be57600080fd5b506103d960048036038101906103d491906112cd565b610bca565b6040516103e69190611064565b60405180910390f35b600042905090565b60606000808484905090508067ffffffffffffffff81111561041c5761041b6112fa565b5b60405190808252806020026020018201604052801561045557816020015b610442610bd5565b81526020019060019003908161043a5790505b5092503660005b828110156105c957600085828151811061047957610478611329565b5b6020026020010151905087878381811061049657610495611329565b5b90506020028101906104a89190611367565b925060008360400135905080860195508360000160208101906104cb91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16818580606001906104f2919061138f565b604051610500929190611431565b60006040518083038185875af1925050503d806000811461053d576040519150601f19603f3d011682016040523d82523d6000602084013e610542565b606091505b5083600001846020018290528215151515815250505081516020850135176105bc577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260846000fd5b826001019250505061045c565b5082341461060c576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610603906114a7565b60405180910390fd5b50505092915050565b6000606043915060008484905090508067ffffffffffffffff81111561063e5761063d6112fa565b5b60405190808252806020026020018201604052801561067157816020015b606081526020019060019003908161065c5790505b5091503660005b828110156107a157600087878381811061069557610694611329565b5b90506020028101906106a791906114c7565b92508260000160208101906106bc91906111a7565b73ffffffffffffffffffffffffffffffffffffffff168380602001906106e2919061138f565b6040516106f0929190611431565b6000604051808303816000865af19150503d806000811461072d576040519150601f19603f3d011682016040523d82523d6000602084013e610732565b606091505b5086848151811061074657610745611329565b5b60200260200101819052819250505080610795576040517f08c379a000000000000000000000000000000000000000000000000000000000815260040161078c9061153b565b60405180910390fd5b81600101915050610678565b5050509250929050565b60006001430340905090565b600046905090565b6000806060439250434091506107d68686866109f4565b905093509350939050565b600048905090565b600043905090565b60008173ffffffffffffffffffffffffffffffffffffffff16319050919050565b600044905090565b606060008383905090508067ffffffffffffffff81111561083e5761083d6112fa565b5b60405190808252806020026020018201604052801561087757816020015b610864610bd5565b81526020019060019003908161085c5790505b5091503660005b828110156109db57600084828151811061089b5761089a611329565b5b602002602001015190508686838181106108b8576108b7611329565b5b90506020028101906108ca919061155b565b92508260000160208101906108df91906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060400190610905919061138f565b604051610913929190611431565b6000604051808303816000865af19150503d8060008114610950576040519150601f19603f3d011682016040523d82523d6000602084013e610955565b606091505b5082600001836020018290528215151515815250505080516020840135176109cf577f08c379a000000000000000000000000000000000000000000000000000000000600052602060045260176024527f4d756c746963616c6c333a2063616c6c206661696c656400000000000000000060445260646000fd5b8160010191505061087e565b50505092915050565b600045905090565b600041905090565b606060008383905090508067ffffffffffffffff811115610a1857610a176112fa565b5b604051908082528060200260200182016040528015610a5157816020015b610a3e610bd5565b815260200190600190039081610a365790505b5091503660005b82811015610b9c576000848281518110610a7557610a74611329565b5b60200260200101519050868683818110610a9257610a91611329565b5b9050602002810190610aa491906114c7565b9250826000016020810190610ab991906111a7565b73ffffffffffffffffffffffffffffffffffffffff16838060200190610adf919061138f565b604051610aed929190611431565b6000604051808303816000865af19150503d8060008114610b2a576040519150601f19603f3d011682016040523d82523d6000602084013e610b2f565b606091505b508260000183602001829052821515151581525050508715610b90578060000151610b8f576040517f08c379a0000000000000000000000000000000000000000000000000000000008152600401610b869061153b565b60405180910390fd5b5b81600101915050610a58565b5050509392505050565b6000806060610bb7600186866107bf565b8093508194508295505050509250925092565b600081409050919050565b6040518060400160405280600015158152602001606081525090565b6000819050919050565b610c0481610bf1565b82525050565b6000602082019050610c1f6000830184610bfb565b92915050565b600080fd5b600080fd5b600080fd5b600080fd5b600080fd5b60008083601f840112610c5457610c53610c2f565b5b8235905067ffffffffffffffff811115610c7157610c70610c34565b5b602083019150836020820283011115610c8d57610c8c610c39565b5b9250929050565b60008060208385031215610cab57610caa610c25565b5b600083013567ffffffffffffffff811115610cc957610cc8610c2a565b5b610cd585828601610c3e565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b60008115159050919050565b610d2281610d0d565b82525050565b600081519050919050565b600082825260208201905092915050565b60005b83811015610d62578082015181840152602081019050610d47565b83811115610d71576000848401525b50505050565b6000601f19601f8301169050919050565b6000610d9382610d28565b610d9d8185610d33565b9350610dad818560208601610d44565b610db681610d77565b840191505092915050565b6000604083016000830151610dd96000860182610d19565b5060208301518482036020860152610df18282610d88565b9150508091505092915050565b6000610e0a8383610dc1565b905092915050565b6000602082019050919050565b6000610e2a82610ce1565b610e348185610cec565b935083602082028501610e4685610cfd565b8060005b85811015610e825784840389528151610e638582610dfe565b9450610e6e83610e12565b925060208a01995050600181019050610e4a565b50829750879550505050505092915050565b60006020820190508181036000830152610eae8184610e1f565b905092915050565b60008083601f840112610ecc57610ecb610c2f565b5b8235905067ffffffffffffffff811115610ee957610ee8610c34565b5b602083019150836020820283011115610f0557610f04610c39565b5b9250929050565b60008060208385031215610f2357610f22610c25565b5b600083013567ffffffffffffffff811115610f4157610f40610c2a565b5b610f4d85828601610eb6565b92509250509250929050565b600081519050919050565b600082825260208201905092915050565b6000819050602082019050919050565b6000610f918383610d88565b905092915050565b6000602082019050919050565b6000610fb182610f59565b610fbb8185610f64565b935083602082028501610fcd85610f75565b8060005b858110156110095784840389528151610fea8582610f85565b9450610ff583610f99565b925060208a01995050600181019050610fd1565b50829750879550505050505092915050565b60006040820190506110306000830185610bfb565b81810360208301526110428184610fa6565b90509392505050565b6000819050919050565b61105e8161104b565b82525050565b60006020820190506110796000830184611055565b92915050565b61108881610d0d565b811461109357600080fd5b50565b6000813590506110a58161107f565b92915050565b6000806000604084860312156110c4576110c3610c25565b5b60006110d286828701611096565b935050602084013567ffffffffffffffff8111156110f3576110f2610c2a565b5b6110ff86828701610eb6565b92509250509250925092565b60006060820190506111206000830186610bfb565b61112d6020830185611055565b818103604083015261113f8184610e1f565b9050949350505050565b600073ffffffffffffffffffffffffffffffffffffffff82169050919050565b600061117482611149565b9050919050565b61118481611169565b811461118f57600080fd5b50565b6000813590506111a18161117b565b92915050565b6000602082840312156111bd576111bc610c25565b5b60006111cb84828501611192565b91505092915050565b60008083601f8401126111ea576111e9610c2f565b5b8235905067ffffffffffffffff81111561120757611206610c34565b5b60208301915083602082028301111561122357611222610c39565b5b9250929050565b6000806020838503121561124157611240610c25565b5b600083013567ffffffffffffffff81111561125f5761125e610c2a565b5b61126b858286016111d4565b92509250509250929050565b61128081611169565b82525050565b600060208201905061129b6000830184611277565b92915050565b6112aa81610bf1565b81146112b557600080fd5b50565b6000813590506112c7816112a1565b92915050565b6000602082840312156112e3576112e2610c25565b5b60006112f1848285016112b8565b91505092915050565b7f4e487b7100000000000000000000000000000000000000000000000000000000600052604160045260246000fd5b7f4e487b7100000000000000000000000000000000000000000000000000000000600052603260045260246000fd5b600080fd5b600080fd5b600080fd5b60008235600160800383360303811261138357611382611358565b5b80830191505092915050565b600080833560016020038436030381126113ac576113ab611358565b5b80840192508235915067ffffffffffffffff8211156113ce576113cd61135d565b5b6020830192506001820236038313156113ea576113e9611362565b5b509250929050565b600081905092915050565b82818337600083830152505050565b600061141883856113f2565b93506114258385846113fd565b82840190509392505050565b600061143e82848661140c565b91508190509392505050565b600082825260208201905092915050565b7f4d756c746963616c6c333a2076616c7565206d69736d61746368000000000000600082015250565b6000611491601a8361144a565b915061149c8261145b565b602082019050919050565b600060208201905081810360008301526114c081611484565b9050919050565b6000823560016040038336030381126114e3576114e2611358565b5b80830191505092915050565b7f4d756c746963616c6c333a2063616c6c206661696c6564000000000000000000600082015250565b600061152560178361144a565b9150611530826114ef565b602082019050919050565b6000602082019050818103600083015261155481611518565b9050919050565b60008235600160600383360303811261157757611576611358565b5b8083019150509291505056fea264697066735822122020c1bc9aacf8e4a6507193432a895a8e77094f45a1395583f07b24e860ef06cd64736f6c634300080c0033";class nue extends ze{constructor({address:e}){super(`State for account "${e}" is set multiple times.`,{name:"AccountStateConflictError"})}}class iue extends ze{constructor(){super("state and stateDiff are set on the same account.",{name:"StateAssignmentConflictError"})}}function VM(t){return t.reduce((e,{slot:r,value:n})=>`${e}        ${r}: ${n}
`,"")}function sue(t){return t.reduce((e,{address:r,...n})=>{let i=`${e}    ${r}:
`;return n.nonce&&(i+=`      nonce: ${n.nonce}
`),n.balance&&(i+=`      balance: ${n.balance}
`),n.code&&(i+=`      code: ${n.code}
`),n.state&&(i+=`      state:
`,i+=VM(n.state)),n.stateDiff&&(i+=`      stateDiff:
`,i+=VM(n.stateDiff)),i},`  State Override:
`).slice(0,-1)}class BH extends ze{constructor(e,{account:r,docsPath:n,chain:i,data:s,gas:a,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:h,to:f,value:g,stateOverride:y}){var x;const b=r?Kn(r):void 0;let w=ob({from:b==null?void 0:b.address,to:f,value:typeof g<"u"&&`${Vf(g)} ${((x=i==null?void 0:i.nativeCurrency)==null?void 0:x.symbol)||"ETH"}`,data:s,gas:a,gasPrice:typeof o<"u"&&`${Js(o)} gwei`,maxFeePerGas:typeof l<"u"&&`${Js(l)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Js(u)} gwei`,nonce:h});y&&(w+=`
${sue(y)}`),super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Raw Call Arguments:",w].filter(Boolean),name:"CallExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}class LH extends ze{constructor(e,{abi:r,args:n,contractAddress:i,docsPath:s,functionName:a,sender:o}){const l=qf({abi:r,args:n,name:a}),u=l?rH({abiItem:l,args:n,includeFunctionName:!1,includeName:!1}):void 0,h=l?cl(l,{includeName:!0}):void 0,f=ob({address:i&&gce(i),function:h,args:u&&u!=="()"&&`${[...Array((a==null?void 0:a.length)??0).keys()].map(()=>" ").join("")}${u}`,sender:o});super(e.shortMessage||`An unknown error occurred while executing the contract function "${a}".`,{cause:e,docsPath:s,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],f&&"Contract Call:",f].filter(Boolean),name:"ContractFunctionExecutionError"}),Object.defineProperty(this,"abi",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"args",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"contractAddress",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"formattedArgs",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"functionName",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"sender",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.abi=r,this.args=n,this.cause=e,this.contractAddress=i,this.functionName=a,this.sender=o}}class yC extends ze{constructor({abi:e,data:r,functionName:n,message:i}){let s,a,o,l;if(r&&r!=="0x")try{a=Ole({abi:e,data:r});const{abiItem:h,errorName:f,args:g}=a;if(f==="Error")l=g[0];else if(f==="Panic"){const[y]=g;l=kle[y]}else{const y=h?cl(h,{includeName:!0}):void 0,b=h&&g?rH({abiItem:h,args:g,includeFunctionName:!1,includeName:!1}):void 0;o=[y?`Error: ${y}`:"",b&&b!=="()"?`       ${[...Array((f==null?void 0:f.length)??0).keys()].map(()=>" ").join("")}${b}`:""]}}catch(h){s=h}else i&&(l=i);let u;s instanceof Wq&&(u=s.signature,o=[`Unable to decode signature "${u}" as it was not found on the provided ABI.`,"Make sure you are using the correct ABI and that the error exists on it.",`You can look up the decoded signature here: https://openchain.xyz/signatures?query=${u}.`]),super(l&&l!=="execution reverted"||u?[`The contract function "${n}" reverted with the following ${u?"signature":"reason"}:`,l||u].join(`
`):`The contract function "${n}" reverted.`,{cause:s,metaMessages:o,name:"ContractFunctionRevertedError"}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"raw",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"reason",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"signature",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=a,this.raw=r,this.reason=l,this.signature=u}}class aue extends ze{constructor({functionName:e}){super(`The contract function "${e}" returned no data ("0x").`,{metaMessages:["This could be due to any of the following:",`  - The contract does not have the function "${e}",`,"  - The parameters passed to the contract function may be invalid, or","  - The address is not a contract."],name:"ContractFunctionZeroDataError"})}}class oue extends ze{constructor({factory:e}){super(`Deployment for counterfactual contract call failed${e?` for factory "${e}".`:""}`,{metaMessages:["Please ensure:","- The `factory` is a valid contract deployment factory (ie. Create2 Factory, ERC-4337 Factory, etc).","- The `factoryData` is a valid encoded function call for contract deployment function on the factory."],name:"CounterfactualDeploymentFailedError"})}}class h6 extends ze{constructor({data:e,message:r}){super(r||"",{name:"RawContractError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:3}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=e}}function Dg({blockNumber:t,chain:e,contract:r}){var i;const n=(i=e==null?void 0:e.contracts)==null?void 0:i[r];if(!n)throw new iC({chain:e,contract:{name:r}});if(t&&n.blockCreated&&n.blockCreated>t)throw new iC({blockNumber:t,chain:e,contract:{name:r,blockCreated:n.blockCreated}});return n.address}function f6(t,e){const r=(t.details||"").toLowerCase(),n=t instanceof ze?t.walk(i=>(i==null?void 0:i.code)===I0.code):t;return n instanceof ze?new I0({cause:t,message:n.details}):I0.nodeMessage.test(r)?new I0({cause:t,message:t.details}):z3.nodeMessage.test(r)?new z3({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):sC.nodeMessage.test(r)?new sC({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas}):aC.nodeMessage.test(r)?new aC({cause:t,nonce:e==null?void 0:e.nonce}):oC.nodeMessage.test(r)?new oC({cause:t,nonce:e==null?void 0:e.nonce}):lC.nodeMessage.test(r)?new lC({cause:t,nonce:e==null?void 0:e.nonce}):cC.nodeMessage.test(r)?new cC({cause:t}):uC.nodeMessage.test(r)?new uC({cause:t,gas:e==null?void 0:e.gas}):dC.nodeMessage.test(r)?new dC({cause:t,gas:e==null?void 0:e.gas}):hC.nodeMessage.test(r)?new hC({cause:t}):W3.nodeMessage.test(r)?new W3({cause:t,maxFeePerGas:e==null?void 0:e.maxFeePerGas,maxPriorityFeePerGas:e==null?void 0:e.maxPriorityFeePerGas}):new lb({cause:t})}function FH(t,{docsPath:e,...r}){const n=(()=>{const i=f6(t,r);return i instanceof lb?t:i})();return new BH(n,{docsPath:e,...r})}function p6(t,{format:e}){if(!e)return{};const r={};function n(s){const a=Object.keys(s);for(const o of a)o in t&&(r[o]=t[o]),s[o]&&typeof s[o]=="object"&&!Array.isArray(s[o])&&n(s[o])}const i=e(t||{});return n(i),r}const lue={legacy:"0x0",eip2930:"0x1",eip1559:"0x2",eip4844:"0x3",eip7702:"0x4"};function Ug(t){const e={};return typeof t.authorizationList<"u"&&(e.authorizationList=cue(t.authorizationList)),typeof t.accessList<"u"&&(e.accessList=t.accessList),typeof t.blobVersionedHashes<"u"&&(e.blobVersionedHashes=t.blobVersionedHashes),typeof t.blobs<"u"&&(typeof t.blobs[0]!="string"?e.blobs=t.blobs.map(r=>yi(r)):e.blobs=t.blobs),typeof t.data<"u"&&(e.data=t.data),typeof t.from<"u"&&(e.from=t.from),typeof t.gas<"u"&&(e.gas=It(t.gas)),typeof t.gasPrice<"u"&&(e.gasPrice=It(t.gasPrice)),typeof t.maxFeePerBlobGas<"u"&&(e.maxFeePerBlobGas=It(t.maxFeePerBlobGas)),typeof t.maxFeePerGas<"u"&&(e.maxFeePerGas=It(t.maxFeePerGas)),typeof t.maxPriorityFeePerGas<"u"&&(e.maxPriorityFeePerGas=It(t.maxPriorityFeePerGas)),typeof t.nonce<"u"&&(e.nonce=It(t.nonce)),typeof t.to<"u"&&(e.to=t.to),typeof t.type<"u"&&(e.type=lue[t.type]),typeof t.value<"u"&&(e.value=It(t.value)),e}function cue(t){return t.map(e=>({address:e.address,r:e.r?It(BigInt(e.r)):e.r,s:e.s?It(BigInt(e.s)):e.s,chainId:It(e.chainId),nonce:It(e.nonce),...typeof e.yParity<"u"?{yParity:It(e.yParity)}:{},...typeof e.v<"u"&&typeof e.yParity>"u"?{v:It(e.v)}:{}}))}function Tk(){let t=()=>{},e=()=>{};return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}const C9=new Map;function zH({fn:t,id:e,shouldSplitBatch:r,wait:n=0,sort:i}){const s=async()=>{const h=l();a();const f=h.map(({args:g})=>g);f.length!==0&&t(f).then(g=>{i&&Array.isArray(g)&&g.sort(i);for(let y=0;y<h.length;y++){const{resolve:b}=h[y];b==null||b([g[y],g])}}).catch(g=>{for(let y=0;y<h.length;y++){const{reject:b}=h[y];b==null||b(g)}})},a=()=>C9.delete(e),o=()=>l().map(({args:h})=>h),l=()=>C9.get(e)||[],u=h=>C9.set(e,[...l(),h]);return{flush:a,async schedule(h){const{promise:f,resolve:g,reject:y}=Tk();return(r==null?void 0:r([...o(),h]))&&s(),l().length>0?(u({args:h,resolve:g,reject:y}),f):(u({args:h,resolve:g,reject:y}),setTimeout(s,n),f)}}}function GM(t){if(!(!t||t.length===0))return t.reduce((e,{slot:r,value:n})=>{if(r.length!==66)throw new pM({size:r.length,targetSize:66,type:"hex"});if(n.length!==66)throw new pM({size:n.length,targetSize:66,type:"hex"});return e[r]=n,e},{})}function uue(t){const{balance:e,nonce:r,state:n,stateDiff:i,code:s}=t,a={};if(s!==void 0&&(a.code=s),e!==void 0&&(a.balance=It(e)),r!==void 0&&(a.nonce=It(r)),n!==void 0&&(a.state=GM(n)),i!==void 0){if(a.state)throw new iue;a.stateDiff=GM(i)}return a}function Ik(t){if(!t)return;const e={};for(const{address:r,...n}of t){if(!ta(r,{strict:!1}))throw new Kd({address:r});if(e[r])throw new nue({address:r});e[r]=uue(n)}return e}function Gf(t){const{account:e,gasPrice:r,maxFeePerGas:n,maxPriorityFeePerGas:i,to:s}=t,a=e?Kn(e):void 0;if(a&&!ta(a.address))throw new Kd({address:a.address});if(s&&!ta(s))throw new Kd({address:s});if(typeof r<"u"&&(typeof n<"u"||typeof i<"u"))throw new Hle;if(n&&n>uce)throw new z3({maxFeePerGas:n});if(i&&n&&i>n)throw new W3({maxFeePerGas:n,maxPriorityFeePerGas:i})}async function g6(t,e){var B,C,k,N;const{account:r=t.account,authorizationList:n,batch:i=!!((B=t.batch)!=null&&B.multicall),blockNumber:s,blockTag:a=t.experimental_blockTag??"latest",accessList:o,blobs:l,blockOverrides:u,code:h,data:f,factory:g,factoryData:y,gas:b,gasPrice:w,maxFeePerBlobGas:x,maxFeePerGas:E,maxPriorityFeePerGas:S,nonce:_,to:I,value:A,stateOverride:O,...F}=e,H=r?Kn(r):void 0;if(h&&(g||y))throw new ze("Cannot provide both `code` & `factory`/`factoryData` as parameters.");if(h&&I)throw new ze("Cannot provide both `code` & `to` as parameters.");const L=h&&f,z=g&&y&&I&&f,V=L||z,K=L?WH({code:h,data:f}):z?fue({data:f,factory:g,factoryData:y,to:I}):f;try{Gf(e);const P=(typeof s=="bigint"?It(s):void 0)||a,R=u?MH(u):void 0,j=Ik(O),W=(N=(k=(C=t.chain)==null?void 0:C.formatters)==null?void 0:k.transactionRequest)==null?void 0:N.format,G=(W||Ug)({...p6(F,{format:W}),from:H==null?void 0:H.address,accessList:o,authorizationList:n,blobs:l,data:K,gas:b,gasPrice:w,maxFeePerBlobGas:x,maxFeePerGas:E,maxPriorityFeePerGas:S,nonce:_,to:V?void 0:I,value:A});if(i&&due({request:G})&&!j&&!R)try{return await hue(t,{...G,blockNumber:s,blockTag:a})}catch(X){if(!(X instanceof bH)&&!(X instanceof iC))throw X}const re=(()=>{const X=[G,P];return j&&R?[...X,j,R]:j?[...X,j]:R?[...X,{},R]:X})(),q=await t.request({method:"eth_call",params:re});return q==="0x"?{data:void 0}:{data:q}}catch(D){const P=pue(D),{offchainLookup:R,offchainLookupSignature:j}=await ic(async()=>{const{offchainLookup:W,offchainLookupSignature:M}=await import("./ccip-DywrxWyV.js");return{offchainLookup:W,offchainLookupSignature:M}},[],import.meta.url);if(t.ccipRead!==!1&&(P==null?void 0:P.slice(0,10))===j&&I)return{data:await R(t,{data:P,to:I})};throw V&&(P==null?void 0:P.slice(0,10))==="0x101bb98d"?new oue({factory:g}):FH(D,{...e,account:H,chain:t.chain})}}function due({request:t}){const{data:e,to:r,...n}=t;return!(!e||e.startsWith(eue)||!r||Object.values(n).filter(i=>typeof i<"u").length>0)}async function hue(t,e){var w;const{batchSize:r=1024,deployless:n=!1,wait:i=0}=typeof((w=t.batch)==null?void 0:w.multicall)=="object"?t.batch.multicall:{},{blockNumber:s,blockTag:a=t.experimental_blockTag??"latest",data:o,to:l}=e,u=(()=>{if(n)return null;if(e.multicallAddress)return e.multicallAddress;if(t.chain)return Dg({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new bH})(),f=(typeof s=="bigint"?It(s):void 0)||a,{schedule:g}=zH({id:`${t.uid}.${f}`,wait:i,shouldSplitBatch(x){return x.reduce((S,{data:_})=>S+(_.length-2),0)>r*2},fn:async x=>{const E=x.map(I=>({allowFailure:!0,callData:I.data,target:I.to})),S=ia({abi:G3,args:[E],functionName:"aggregate3"}),_=await t.request({method:"eth_call",params:[{...u===null?{data:WH({code:$k,data:S})}:{to:u,data:S}},f]});return Hf({abi:G3,args:[E],functionName:"aggregate3",data:_||"0x"})}}),[{returnData:y,success:b}]=await g({data:o,to:l});if(!b)throw new h6({data:y});return y==="0x"?{data:void 0}:{data:y}}function WH(t){const{code:e,data:r}=t;return l6({abi:$q(["constructor(bytes, bytes)"]),bytecode:UH,args:[e,r]})}function fue(t){const{data:e,factory:r,factoryData:n,to:i}=t;return l6({abi:$q(["constructor(address, bytes, address, bytes)"]),bytecode:tue,args:[i,e,r,n]})}function pue(t){var r;if(!(t instanceof ze))return;const e=t.walk();return typeof(e==null?void 0:e.data)=="object"?(r=e.data)==null?void 0:r.data:e.data}const m6="x-batch-gateway:true";async function gue(t){const{data:e,ccipRequest:r}=t,{args:[n]}=eH({abi:mC,data:e}),i=[],s=[];return await Promise.all(n.map(async(a,o)=>{try{s[o]=a.urls.includes(m6)?await gue({data:a.data,ccipRequest:r}):await r(a),i[o]=!1}catch(l){i[o]=!0,s[o]=mue(l)}})),Dle({abi:mC,functionName:"query",result:[i,s]})}function mue(t){return t.name==="HttpRequestError"&&t.status?TM({abi:mC,errorName:"HttpError",args:[t.status,t.shortMessage]}):TM({abi:[Xq],errorName:"Error",args:["shortMessage"in t?t.shortMessage:t.message]})}function qH({chain:t,currentChainId:e}){if(!t)throw new hce;if(e!==t.id)throw new dce({chain:t,currentChainId:e})}const yue=3;function kf(t,{abi:e,address:r,args:n,docsPath:i,functionName:s,sender:a}){const o=t instanceof h6?t:t instanceof ze?t.walk(b=>"data"in b)||t.walk():{},{code:l,data:u,details:h,message:f,shortMessage:g}=o,y=t instanceof nb?new aue({functionName:s}):[yue,_f.code].includes(l)&&(u||h||f||g)?new yC({abi:e,data:typeof u=="object"?u.data:u,functionName:s,message:o instanceof _k?h:g??f}):t;return new LH(y,{abi:e,args:n,contractAddress:r,docsPath:i,functionName:s,sender:a})}class bue extends ze{constructor(e,{account:r,docsPath:n,chain:i,data:s,gas:a,gasPrice:o,maxFeePerGas:l,maxPriorityFeePerGas:u,nonce:h,to:f,value:g}){var b;const y=ob({from:r==null?void 0:r.address,to:f,value:typeof g<"u"&&`${Vf(g)} ${((b=i==null?void 0:i.nativeCurrency)==null?void 0:b.symbol)||"ETH"}`,data:s,gas:a,gasPrice:typeof o<"u"&&`${Js(o)} gwei`,maxFeePerGas:typeof l<"u"&&`${Js(l)} gwei`,maxPriorityFeePerGas:typeof u<"u"&&`${Js(u)} gwei`,nonce:h});super(e.shortMessage,{cause:e,docsPath:n,metaMessages:[...e.metaMessages?[...e.metaMessages," "]:[],"Estimate Gas Arguments:",y].filter(Boolean),name:"EstimateGasExecutionError"}),Object.defineProperty(this,"cause",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.cause=e}}function wue(t,{docsPath:e,...r}){const n=(()=>{const i=f6(t,r);return i instanceof lb?t:i})();return new bue(n,{docsPath:e,...r})}function HH(t,{docsPath:e,...r}){const n=(()=>{const i=f6(t,r);return i instanceof lb?t:i})();return new Gle(n,{docsPath:e,...r})}const VH={"0x0":"legacy","0x1":"eip2930","0x2":"eip1559","0x3":"eip4844","0x4":"eip7702"};function GH(t){const e={...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,chainId:t.chainId?ol(t.chainId):void 0,gas:t.gas?BigInt(t.gas):void 0,gasPrice:t.gasPrice?BigInt(t.gasPrice):void 0,maxFeePerBlobGas:t.maxFeePerBlobGas?BigInt(t.maxFeePerBlobGas):void 0,maxFeePerGas:t.maxFeePerGas?BigInt(t.maxFeePerGas):void 0,maxPriorityFeePerGas:t.maxPriorityFeePerGas?BigInt(t.maxPriorityFeePerGas):void 0,nonce:t.nonce?ol(t.nonce):void 0,to:t.to?t.to:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,type:t.type?VH[t.type]:void 0,typeHex:t.type?t.type:void 0,value:t.value?BigInt(t.value):void 0,v:t.v?BigInt(t.v):void 0};return t.authorizationList&&(e.authorizationList=vue(t.authorizationList)),e.yParity=(()=>{if(t.yParity)return Number(t.yParity);if(typeof e.v=="bigint"){if(e.v===0n||e.v===27n)return 0;if(e.v===1n||e.v===28n)return 1;if(e.v>=35n)return e.v%2n===0n?1:0}})(),e.type==="legacy"&&(delete e.accessList,delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas,delete e.yParity),e.type==="eip2930"&&(delete e.maxFeePerBlobGas,delete e.maxFeePerGas,delete e.maxPriorityFeePerGas),e.type==="eip1559"&&delete e.maxFeePerBlobGas,e}function vue(t){return t.map(e=>({address:e.address,chainId:Number(e.chainId),nonce:Number(e.nonce),r:e.r,s:e.s,yParity:Number(e.yParity)}))}function KH(t){const e=(t.transactions??[]).map(r=>typeof r=="string"?r:GH(r));return{...t,baseFeePerGas:t.baseFeePerGas?BigInt(t.baseFeePerGas):null,blobGasUsed:t.blobGasUsed?BigInt(t.blobGasUsed):void 0,difficulty:t.difficulty?BigInt(t.difficulty):void 0,excessBlobGas:t.excessBlobGas?BigInt(t.excessBlobGas):void 0,gasLimit:t.gasLimit?BigInt(t.gasLimit):void 0,gasUsed:t.gasUsed?BigInt(t.gasUsed):void 0,hash:t.hash?t.hash:null,logsBloom:t.logsBloom?t.logsBloom:null,nonce:t.nonce?t.nonce:null,number:t.number?BigInt(t.number):null,size:t.size?BigInt(t.size):void 0,timestamp:t.timestamp?BigInt(t.timestamp):void 0,transactions:e,totalDifficulty:t.totalDifficulty?BigInt(t.totalDifficulty):null}}function vu(t,{args:e,eventName:r}={}){return{...t,blockHash:t.blockHash?t.blockHash:null,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,logIndex:t.logIndex?Number(t.logIndex):null,transactionHash:t.transactionHash?t.transactionHash:null,transactionIndex:t.transactionIndex?Number(t.transactionIndex):null,...r?{args:e,eventName:r}:{}}}const YH={"0x0":"reverted","0x1":"success"};function xue(t){const e={...t,blockNumber:t.blockNumber?BigInt(t.blockNumber):null,contractAddress:t.contractAddress?t.contractAddress:null,cumulativeGasUsed:t.cumulativeGasUsed?BigInt(t.cumulativeGasUsed):null,effectiveGasPrice:t.effectiveGasPrice?BigInt(t.effectiveGasPrice):null,gasUsed:t.gasUsed?BigInt(t.gasUsed):null,logs:t.logs?t.logs.map(r=>vu(r)):null,to:t.to?t.to:null,transactionIndex:t.transactionIndex?ol(t.transactionIndex):null,status:t.status?YH[t.status]:null,type:t.type?VH[t.type]||t.type:null};return t.blobGasPrice&&(e.blobGasPrice=BigInt(t.blobGasPrice)),t.blobGasUsed&&(e.blobGasUsed=BigInt(t.blobGasUsed)),e}function Ot(t,e,r){const n=t[e.name];if(typeof n=="function")return n;const i=t[r];return typeof i=="function"?i:s=>e(t,s)}async function Nk(t,{address:e,blockTag:r="latest",blockNumber:n}){const i=await t.request({method:"eth_getTransactionCount",params:[e,typeof n=="bigint"?It(n):r]},{dedupe:!!n});return ol(i)}function Eue(t,{errorInstance:e=new Error("timed out"),timeout:r,signal:n}){return new Promise((i,s)=>{(async()=>{let a;try{const o=new AbortController;r>0&&(a=setTimeout(()=>{n&&o.abort()},r)),i(await t({signal:(o==null?void 0:o.signal)||null}))}catch(o){(o==null?void 0:o.name)==="AbortError"&&s(e),s(o)}finally{clearTimeout(a)}})()})}function _ue(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const KM=_ue();function Cue(t,e={}){return{async request(r){var g;const{body:n,fetchFn:i=e.fetchFn??fetch,onRequest:s=e.onRequest,onResponse:a=e.onResponse,timeout:o=e.timeout??1e4}=r,l={...e.fetchOptions??{},...r.fetchOptions??{}},{headers:u,method:h,signal:f}=l;try{const y=await Eue(async({signal:w})=>{const x={...l,body:Array.isArray(n)?mi(n.map(I=>({jsonrpc:"2.0",id:I.id??KM.take(),...I}))):mi({jsonrpc:"2.0",id:n.id??KM.take(),...n}),headers:{"Content-Type":"application/json",...u},method:h||"POST",signal:f||(o>0?w:null)},E=new Request(t,x),S=await(s==null?void 0:s(E,x))??{...x,url:t};return await i(S.url??t,S)},{errorInstance:new jM({body:n,url:t}),timeout:o,signal:!0});a&&await a(y);let b;if((g=y.headers.get("Content-Type"))!=null&&g.startsWith("application/json"))b=await y.json();else{b=await y.text();try{b=JSON.parse(b||"{}")}catch(w){if(y.ok)throw w;b={error:b}}}if(!y.ok)throw new vy({body:n,details:mi(b.error)||y.statusText,headers:y.headers,status:y.status,url:t});return b}catch(y){throw y instanceof vy||y instanceof jM?y:new vy({body:n,cause:y,url:t})}}}}const Aue=`Ethereum Signed Message:
`;function Sue(t){const e=typeof t=="string"?og(t):typeof t.raw=="string"?t.raw:yi(t.raw),r=og(`${Aue}${Mn(e)}`);return bo([r,e])}function ZH(t,e){return Hi(Sue(t),e)}class kue extends ze{constructor({domain:e}){super(`Invalid domain "${mi(e)}".`,{metaMessages:["Must be a valid EIP-712 domain."]})}}class $ue extends ze{constructor({primaryType:e,types:r}){super(`Invalid primary type \`${e}\` must be one of \`${JSON.stringify(Object.keys(r))}\`.`,{docsPath:"/api/glossary/Errors#typeddatainvalidprimarytypeerror",metaMessages:["Check that the primary type is a key in `types`."]})}}class Tue extends ze{constructor({type:e}){super(`Struct type "${e}" is invalid.`,{metaMessages:["Struct type must not be a Solidity type."],name:"InvalidStructTypeError"})}}function Iue(t){const{domain:e,message:r,primaryType:n,types:i}=t,s=(l,u)=>{const h={...u};for(const f of l){const{name:g,type:y}=f;y==="address"&&(h[g]=h[g].toLowerCase())}return h},a=i.EIP712Domain?e?s(i.EIP712Domain,e):{}:{},o=(()=>{if(n!=="EIP712Domain")return s(i[n],r)})();return mi({domain:a,message:o,primaryType:n,types:i})}function QH(t){const{domain:e,message:r,primaryType:n,types:i}=t,s=(a,o)=>{for(const l of a){const{name:u,type:h}=l,f=o[u],g=h.match(Qq);if(g&&(typeof f=="number"||typeof f=="bigint")){const[w,x,E]=g;It(f,{signed:x==="int",size:Number.parseInt(E,10)/8})}if(h==="address"&&typeof f=="string"&&!ta(f))throw new Kd({address:f});const y=h.match(dle);if(y){const[w,x]=y;if(x&&Mn(f)!==Number.parseInt(x,10))throw new tle({expectedSize:Number.parseInt(x,10),givenSize:Mn(f)})}const b=i[h];b&&(Nue(h),s(b,f))}};if(i.EIP712Domain&&e){if(typeof e!="object")throw new kue({domain:e});s(i.EIP712Domain,e)}if(n!=="EIP712Domain")if(i[n])s(i[n],r);else throw new $ue({primaryType:n,types:i})}function XH({domain:t}){return[typeof(t==null?void 0:t.name)=="string"&&{name:"name",type:"string"},(t==null?void 0:t.version)&&{name:"version",type:"string"},(typeof(t==null?void 0:t.chainId)=="number"||typeof(t==null?void 0:t.chainId)=="bigint")&&{name:"chainId",type:"uint256"},(t==null?void 0:t.verifyingContract)&&{name:"verifyingContract",type:"address"},(t==null?void 0:t.salt)&&{name:"salt",type:"bytes32"}].filter(Boolean)}function Nue(t){if(t==="address"||t==="bool"||t==="string"||t.startsWith("bytes")||t.startsWith("uint")||t.startsWith("int"))throw new Tue({type:t})}function Pue(t){const{domain:e={},message:r,primaryType:n}=t,i={EIP712Domain:XH({domain:e}),...t.types};QH({domain:e,message:r,primaryType:n,types:i});const s=["0x1901"];return e&&s.push(Oue({domain:e,types:i})),n!=="EIP712Domain"&&s.push(JH({data:r,primaryType:n,types:i})),Hi(bo(s))}function Oue({domain:t,types:e}){return JH({data:t,primaryType:"EIP712Domain",types:e})}function JH({data:t,primaryType:e,types:r}){const n=eV({data:t,primaryType:e,types:r});return Hi(n)}function eV({data:t,primaryType:e,types:r}){const n=[{type:"bytes32"}],i=[Mue({primaryType:e,types:r})];for(const s of r[e]){const[a,o]=rV({types:r,name:s.name,type:s.type,value:t[s.name]});n.push(a),i.push(o)}return Wf(n,i)}function Mue({primaryType:t,types:e}){const r=qn(Rue({primaryType:t,types:e}));return Hi(r)}function Rue({primaryType:t,types:e}){let r="";const n=tV({primaryType:t,types:e});n.delete(t);const i=[t,...Array.from(n).sort()];for(const s of i)r+=`${s}(${e[s].map(({name:a,type:o})=>`${o} ${a}`).join(",")})`;return r}function tV({primaryType:t,types:e},r=new Set){const n=t.match(/^\w*/u),i=n==null?void 0:n[0];if(r.has(i)||e[i]===void 0)return r;r.add(i);for(const s of e[i])tV({primaryType:s.type,types:e},r);return r}function rV({types:t,name:e,type:r,value:n}){if(t[r]!==void 0)return[{type:"bytes32"},Hi(eV({data:n,primaryType:r,types:t}))];if(r==="bytes")return n=`0x${(n.length%2?"0":"")+n.slice(2)}`,[{type:"bytes32"},Hi(n)];if(r==="string")return[{type:"bytes32"},Hi(qn(n))];if(r.lastIndexOf("]")===r.length-1){const i=r.slice(0,r.lastIndexOf("[")),s=n.map(a=>rV({name:e,type:i,types:t,value:a}));return[{type:"bytes32"},Hi(Wf(s.map(([a])=>a),s.map(([,a])=>a)))]}return[{type:r},n]}let jue=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};const Due={checksum:new jue(8192)},A9=Due.checksum;function nV(t,e={}){const{as:r=typeof t=="string"?"Hex":"Bytes"}=e,n=fk(Oce(t));return r==="Bytes"?n:dl(n)}const Uue=/^0x[a-fA-F0-9]{40}$/;function y6(t,e={}){const{strict:r=!0}=e;if(!Uue.test(t))throw new YM({address:t,cause:new Bue});if(r){if(t.toLowerCase()===t)return;if(iV(t)!==t)throw new YM({address:t,cause:new Lue})}}function iV(t){if(A9.has(t))return A9.get(t);y6(t,{strict:!1});const e=t.substring(2).toLowerCase(),r=nV(Rce(e),{as:"Bytes"}),n=e.split("");for(let s=0;s<40;s+=2)r[s>>1]>>4>=8&&n[s]&&(n[s]=n[s].toUpperCase()),(r[s>>1]&15)>=8&&n[s+1]&&(n[s+1]=n[s+1].toUpperCase());const i=`0x${n.join("")}`;return A9.set(t,i),i}function bC(t,e={}){const{strict:r=!0}=e??{};try{return y6(t,{strict:r}),!0}catch{return!1}}class YM extends Sr{constructor({address:e,cause:r}){super(`Address "${e}" is invalid.`,{cause:r}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidAddressError"})}}class Bue extends Sr{constructor(){super("Address is not a 20 byte (40 hexadecimal character) value."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidInputError"})}}class Lue extends Sr{constructor(){super("Address does not match its checksum counterpart."),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Address.InvalidChecksumError"})}}const Fue=/^(.*)\[([0-9]*)\]$/,zue=/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/,sV=/^(u?int)(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/,ZM=2n**256n-1n;function G0(t,e,r){const{checksumAddress:n,staticPosition:i}=r,s=Mk(e.type);if(s){const[a,o]=s;return que(t,{...e,type:o},{checksumAddress:n,length:a,staticPosition:i})}if(e.type==="tuple")return Kue(t,e,{checksumAddress:n,staticPosition:i});if(e.type==="address")return Wue(t,{checksum:n});if(e.type==="bool")return Hue(t);if(e.type.startsWith("bytes"))return Vue(t,e,{staticPosition:i});if(e.type.startsWith("uint")||e.type.startsWith("int"))return Gue(t,e);if(e.type==="string")return Yue(t,{staticPosition:i});throw new jk(e.type)}const QM=32,wC=32;function Wue(t,e={}){const{checksum:r=!1}=e,n=t.readBytes(32);return[(s=>r?iV(s):s)(dl(Dce(n,-20))),32]}function que(t,e,r){const{checksumAddress:n,length:i,staticPosition:s}=r;if(!i){const l=gu(t.readBytes(wC)),u=s+l,h=u+QM;t.setPosition(u);const f=gu(t.readBytes(QM)),g=p2(e);let y=0;const b=[];for(let w=0;w<f;++w){t.setPosition(h+(g?w*32:y));const[x,E]=G0(t,e,{checksumAddress:n,staticPosition:h});y+=E,b.push(x)}return t.setPosition(s+32),[b,32]}if(p2(e)){const l=gu(t.readBytes(wC)),u=s+l,h=[];for(let f=0;f<i;++f){t.setPosition(u+f*32);const[g]=G0(t,e,{checksumAddress:n,staticPosition:u});h.push(g)}return t.setPosition(s+32),[h,32]}let a=0;const o=[];for(let l=0;l<i;++l){const[u,h]=G0(t,e,{checksumAddress:n,staticPosition:s+a});a+=h,o.push(u)}return[o,a]}function Hue(t){return[Bce(t.readBytes(32),{size:32}),32]}function Vue(t,e,{staticPosition:r}){const[n,i]=e.type.split("bytes");if(!i){const a=gu(t.readBytes(32));t.setPosition(r+a);const o=gu(t.readBytes(32));if(o===0)return t.setPosition(r+32),["0x",32];const l=t.readBytes(o);return t.setPosition(r+32),[dl(l),32]}return[dl(t.readBytes(Number.parseInt(i,10),32)),32]}function Gue(t,e){const r=e.type.startsWith("int"),n=Number.parseInt(e.type.split("int")[1]||"256",10),i=t.readBytes(32);return[n>48?Uce(i,{signed:r}):gu(i,{signed:r}),32]}function Kue(t,e,r){const{checksumAddress:n,staticPosition:i}=r,s=e.components.length===0||e.components.some(({name:l})=>!l),a=s?[]:{};let o=0;if(p2(e)){const l=gu(t.readBytes(wC)),u=i+l;for(let h=0;h<e.components.length;++h){const f=e.components[h];t.setPosition(u+o);const[g,y]=G0(t,f,{checksumAddress:n,staticPosition:u});o+=y,a[s?h:f==null?void 0:f.name]=g}return t.setPosition(i+32),[a,32]}for(let l=0;l<e.components.length;++l){const u=e.components[l],[h,f]=G0(t,u,{checksumAddress:n,staticPosition:i});a[s?l:u==null?void 0:u.name]=h,o+=f}return[a,o]}function Yue(t,{staticPosition:e}){const r=gu(t.readBytes(32)),n=e+r;t.setPosition(n);const i=gu(t.readBytes(32));if(i===0)return t.setPosition(e+32),["",32];const s=t.readBytes(i,32),a=Lce($H(s));return t.setPosition(e+32),[a,32]}function Zue({checksumAddress:t,parameters:e,values:r}){const n=[];for(let i=0;i<e.length;i++)n.push(Pk({checksumAddress:t,parameter:e[i],value:r[i]}));return n}function Pk({checksumAddress:t=!1,parameter:e,value:r}){const n=e,i=Mk(n.type);if(i){const[s,a]=i;return Xue(r,{checksumAddress:t,length:s,parameter:{...n,type:a}})}if(n.type==="tuple")return nde(r,{checksumAddress:t,parameter:n});if(n.type==="address")return Que(r,{checksum:t});if(n.type==="bool")return ede(r);if(n.type.startsWith("uint")||n.type.startsWith("int")){const s=n.type.startsWith("int"),[,,a="256"]=sV.exec(n.type)??[];return tde(r,{signed:s,size:Number(a)})}if(n.type.startsWith("bytes"))return Jue(r,{type:n.type});if(n.type==="string")return rde(r);throw new jk(n.type)}function Ok(t){let e=0;for(let s=0;s<t.length;s++){const{dynamic:a,encoded:o}=t[s];a?e+=32:e+=Ma(o)}const r=[],n=[];let i=0;for(let s=0;s<t.length;s++){const{dynamic:a,encoded:o}=t[s];a?(r.push(vs(e+i,{size:32})),n.push(o),i+=Ma(o)):r.push(o)}return ul(...r,...n)}function Que(t,e){const{checksum:r=!1}=e;return y6(t,{strict:r}),{dynamic:!1,encoded:Af(t.toLowerCase())}}function Xue(t,e){const{checksumAddress:r,length:n,parameter:i}=e,s=n===null;if(!Array.isArray(t))throw new hde(t);if(!s&&t.length!==n)throw new dde({expectedLength:n,givenLength:t.length,type:`${i.type}[${n}]`});let a=!1;const o=[];for(let l=0;l<t.length;l++){const u=Pk({checksumAddress:r,parameter:i,value:t[l]});u.dynamic&&(a=!0),o.push(u)}if(s||a){const l=Ok(o);if(s){const u=vs(o.length,{size:32});return{dynamic:!0,encoded:o.length>0?ul(u,l):u}}if(a)return{dynamic:!0,encoded:l}}return{dynamic:!1,encoded:ul(...o.map(({encoded:l})=>l))}}function Jue(t,{type:e}){const[,r]=e.split("bytes"),n=Ma(t);if(!r){let i=t;return n%32!==0&&(i=Sf(i,Math.ceil((t.length-2)/2/32)*32)),{dynamic:!0,encoded:ul(Af(vs(n,{size:32})),i)}}if(n!==Number.parseInt(r,10))throw new oV({expectedSize:Number.parseInt(r,10),value:t});return{dynamic:!1,encoded:Sf(t)}}function ede(t){if(typeof t!="boolean")throw new Sr(`Invalid boolean value: "${t}" (type: ${typeof t}). Expected: \`true\` or \`false\`.`);return{dynamic:!1,encoded:Af(TH(t))}}function tde(t,{signed:e,size:r}){if(typeof r=="number"){const n=2n**(BigInt(r)-(e?1n:0n))-1n,i=e?-n-1n:0n;if(t>n||t<i)throw new PH({max:n.toString(),min:i.toString(),signed:e,size:r/8,value:t.toString()})}return{dynamic:!1,encoded:vs(t,{size:32,signed:e})}}function rde(t){const e=kk(t),r=Math.ceil(Ma(e)/32),n=[];for(let i=0;i<r;i++)n.push(Sf(sc(e,i*32,(i+1)*32)));return{dynamic:!0,encoded:ul(Sf(vs(Ma(e),{size:32})),...n)}}function nde(t,e){const{checksumAddress:r,parameter:n}=e;let i=!1;const s=[];for(let a=0;a<n.components.length;a++){const o=n.components[a],l=Array.isArray(t)?a:o.name,u=Pk({checksumAddress:r,parameter:o,value:t[l]});s.push(u),u.dynamic&&(i=!0)}return{dynamic:i,encoded:i?Ok(s):ul(...s.map(({encoded:a})=>a))}}function Mk(t){const e=t.match(/^(.*)\[(\d+)?\]$/);return e?[e[2]?Number(e[2]):null,e[1]]:void 0}function p2(t){var n;const{type:e}=t;if(e==="string"||e==="bytes"||e.endsWith("[]"))return!0;if(e==="tuple")return(n=t.components)==null?void 0:n.some(p2);const r=Mk(t.type);return!!(r&&p2({...t,type:r[1]}))}const ide={bytes:new Uint8Array,dataView:new DataView(new ArrayBuffer(0)),position:0,positionReadCount:new Map,recursiveReadCount:0,recursiveReadLimit:Number.POSITIVE_INFINITY,assertReadLimit(){if(this.recursiveReadCount>=this.recursiveReadLimit)throw new ode({count:this.recursiveReadCount+1,limit:this.recursiveReadLimit})},assertPosition(t){if(t<0||t>this.bytes.length-1)throw new ade({length:this.bytes.length,position:t})},decrementPosition(t){if(t<0)throw new XM({offset:t});const e=this.position-t;this.assertPosition(e),this.position=e},getReadCount(t){return this.positionReadCount.get(t||this.position)||0},incrementPosition(t){if(t<0)throw new XM({offset:t});const e=this.position+t;this.assertPosition(e),this.position=e},inspectByte(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectBytes(t,e){const r=e??this.position;return this.assertPosition(r+t-1),this.bytes.subarray(r,r+t)},inspectUint8(t){const e=t??this.position;return this.assertPosition(e),this.bytes[e]},inspectUint16(t){const e=t??this.position;return this.assertPosition(e+1),this.dataView.getUint16(e)},inspectUint24(t){const e=t??this.position;return this.assertPosition(e+2),(this.dataView.getUint16(e)<<8)+this.dataView.getUint8(e+2)},inspectUint32(t){const e=t??this.position;return this.assertPosition(e+3),this.dataView.getUint32(e)},pushByte(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushBytes(t){this.assertPosition(this.position+t.length-1),this.bytes.set(t,this.position),this.position+=t.length},pushUint8(t){this.assertPosition(this.position),this.bytes[this.position]=t,this.position++},pushUint16(t){this.assertPosition(this.position+1),this.dataView.setUint16(this.position,t),this.position+=2},pushUint24(t){this.assertPosition(this.position+2),this.dataView.setUint16(this.position,t>>8),this.dataView.setUint8(this.position+2,t&255),this.position+=3},pushUint32(t){this.assertPosition(this.position+3),this.dataView.setUint32(this.position,t),this.position+=4},readByte(){this.assertReadLimit(),this._touch();const t=this.inspectByte();return this.position++,t},readBytes(t,e){this.assertReadLimit(),this._touch();const r=this.inspectBytes(t);return this.position+=e??t,r},readUint8(){this.assertReadLimit(),this._touch();const t=this.inspectUint8();return this.position+=1,t},readUint16(){this.assertReadLimit(),this._touch();const t=this.inspectUint16();return this.position+=2,t},readUint24(){this.assertReadLimit(),this._touch();const t=this.inspectUint24();return this.position+=3,t},readUint32(){this.assertReadLimit(),this._touch();const t=this.inspectUint32();return this.position+=4,t},get remaining(){return this.bytes.length-this.position},setPosition(t){const e=this.position;return this.assertPosition(t),this.position=t,()=>this.position=e},_touch(){if(this.recursiveReadLimit===Number.POSITIVE_INFINITY)return;const t=this.getReadCount();this.positionReadCount.set(this.position,t+1),t>0&&this.recursiveReadCount++}};function sde(t,{recursiveReadLimit:e=8192}={}){const r=Object.create(ide);return r.bytes=t,r.dataView=new DataView(t.buffer,t.byteOffset,t.byteLength),r.positionReadCount=new Map,r.recursiveReadLimit=e,r}class XM extends Sr{constructor({offset:e}){super(`Offset \`${e}\` cannot be negative.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.NegativeOffsetError"})}}class ade extends Sr{constructor({length:e,position:r}){super(`Position \`${r}\` is out of bounds (\`0 < position < ${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.PositionOutOfBoundsError"})}}class ode extends Sr{constructor({count:e,limit:r}){super(`Recursive read limit of \`${r}\` exceeded (recursive read count: \`${e}\`).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Cursor.RecursiveReadLimitExceededError"})}}function lde(t,e,r={}){const{as:n="Array",checksumAddress:i=!1}=r,s=typeof e=="string"?kH(e):e,a=sde(s);if(N0(s)===0&&t.length>0)throw new ude;if(N0(s)&&N0(s)<32)throw new cde({data:typeof e=="string"?e:dl(e),parameters:t,size:N0(s)});let o=0;const l=n==="Array"?[]:{};for(let u=0;u<t.length;++u){const h=t[u];a.setPosition(o);const[f,g]=G0(a,h,{checksumAddress:i,staticPosition:0});o+=g,n==="Array"?l.push(f):l[h.name??u]=f}return l}function Rk(t,e,r){const{checksumAddress:n=!1}={};if(t.length!==e.length)throw new lV({expectedLength:t.length,givenLength:e.length});const i=Zue({checksumAddress:n,parameters:t,values:e}),s=Ok(i);return s.length===0?"0x":s}function vC(t,e){if(t.length!==e.length)throw new lV({expectedLength:t.length,givenLength:e.length});const r=[];for(let n=0;n<t.length;n++){const i=t[n],s=e[n];r.push(vC.encode(i,s))}return ul(...r)}(function(t){function e(r,n,i=!1){if(r==="address"){const l=n;return y6(l),Af(l.toLowerCase(),i?32:0)}if(r==="string")return kk(n);if(r==="bytes")return n;if(r==="bool")return Af(TH(n),i?32:1);const s=r.match(sV);if(s){const[l,u,h="256"]=s,f=Number.parseInt(h,10)/8;return vs(n,{size:i?32:f,signed:u==="int"})}const a=r.match(zue);if(a){const[l,u]=a;if(Number.parseInt(u,10)!==(n.length-2)/2)throw new oV({expectedSize:Number.parseInt(u,10),value:n});return Sf(n,i?32:0)}const o=r.match(Fue);if(o&&Array.isArray(n)){const[l,u]=o,h=[];for(let f=0;f<n.length;f++)h.push(e(u,n[f],!0));return h.length===0?"0x":ul(...h)}throw new jk(r)}t.encode=e})(vC||(vC={}));function aV(t){return Array.isArray(t)&&typeof t[0]=="string"||typeof t=="string"?fM(t):t}class cde extends Sr{constructor({data:e,parameters:r,size:n}){super(`Data size of ${n} bytes is too small for given parameters.`,{metaMessages:[`Params: (${A0(r)})`,`Data:   ${e} (${n} bytes)`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.DataSizeTooSmallError"})}}class ude extends Sr{constructor(){super('Cannot decode zero data ("0x") with ABI parameters.'),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ZeroDataError"})}}class dde extends Sr{constructor({expectedLength:e,givenLength:r,type:n}){super(`Array length mismatch for type \`${n}\`. Expected: \`${e}\`. Given: \`${r}\`.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.ArrayLengthMismatchError"})}}class oV extends Sr{constructor({expectedSize:e,value:r}){super(`Size of bytes "${r}" (bytes${Ma(r)}) does not match expected size (bytes${e}).`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.BytesSizeMismatchError"})}}class lV extends Sr{constructor({expectedLength:e,givenLength:r}){super(["ABI encoding parameters/values length mismatch.",`Expected length (parameters): ${e}`,`Given length (values): ${r}`].join(`
`)),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.LengthMismatchError"})}}class hde extends Sr{constructor(e){super(`Value \`${e}\` is not a valid array.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidArrayError"})}}class jk extends Sr{constructor(e){super(`Type \`${e}\` is not a valid ABI Type.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiParameters.InvalidTypeError"})}}class cV extends dk{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,Aoe(e);const n=r6(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),Zd(s)}update(e){return lg(this),this.iHash.update(e),this}digestInto(e){lg(this),Yd(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=o,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}}const uV=(t,e,r)=>new cV(t,e).update(r).digest();uV.create=(t,e)=>new cV(t,e);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const Zs=BigInt(0),Ss=BigInt(1),rf=BigInt(2),fde=BigInt(3),dV=BigInt(4),hV=BigInt(5),fV=BigInt(8);function qs(t,e){const r=t%e;return r>=Zs?r:e+r}function Za(t,e,r){let n=t;for(;e-- >Zs;)n*=n,n%=r;return n}function xC(t,e){if(t===Zs)throw new Error("invert: expected non-zero number");if(e<=Zs)throw new Error("invert: expected positive modulus, got "+e);let r=qs(t,e),n=e,i=Zs,s=Ss;for(;r!==Zs;){const o=n/r,l=n%r,u=i-s*o;n=r,r=l,i=s,s=u}if(n!==Ss)throw new Error("invert: does not exist");return qs(i,e)}function pV(t,e){const r=(t.ORDER+Ss)/dV,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function pde(t,e){const r=(t.ORDER-hV)/fV,n=t.mul(e,rf),i=t.pow(n,r),s=t.mul(e,i),a=t.mul(t.mul(s,rf),i),o=t.mul(s,t.sub(a,t.ONE));if(!t.eql(t.sqr(o),e))throw new Error("Cannot find square root");return o}function gde(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-Ss,r=0;for(;e%rf===Zs;)e/=rf,r++;let n=rf;const i=Dk(t);for(;JM(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return pV;let s=i.pow(n,e);const a=(e+Ss)/rf;return function(l,u){if(l.is0(u))return u;if(JM(l,u)!==1)throw new Error("Cannot find square root");let h=r,f=l.mul(l.ONE,s),g=l.pow(u,e),y=l.pow(u,a);for(;!l.eql(g,l.ONE);){if(l.is0(g))return l.ZERO;let b=1,w=l.sqr(g);for(;!l.eql(w,l.ONE);)if(b++,w=l.sqr(w),b===h)throw new Error("Cannot find square root");const x=Ss<<BigInt(h-b-1),E=l.pow(f,x);h=b,f=l.sqr(E),g=l.mul(g,f),y=l.mul(y,E)}return y}}function mde(t){return t%dV===fde?pV:t%fV===hV?pde:gde(t)}const yde=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function bde(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=yde.reduce((n,i)=>(n[i]="function",n),e);return u6(t,r)}function wde(t,e,r){if(r<Zs)throw new Error("invalid exponent, negatives unsupported");if(r===Zs)return t.ONE;if(r===Ss)return e;let n=t.ONE,i=e;for(;r>Zs;)r&Ss&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Ss;return n}function gV(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((a,o,l)=>t.is0(o)?a:(n[l]=a,t.mul(a,o)),t.ONE),s=t.inv(i);return e.reduceRight((a,o,l)=>t.is0(o)?a:(n[l]=t.mul(a,n[l]),t.mul(a,o)),s),n}function JM(t,e){const r=(t.ORDER-Ss)/rf,n=t.pow(e,r),i=t.eql(n,t.ONE),s=t.eql(n,t.ZERO),a=t.eql(n,t.neg(t.ONE));if(!i&&!s&&!a)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function mV(t,e){e!==void 0&&Hy(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Dk(t,e,r=!1,n={}){if(t<=Zs)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=mV(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const o=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:c6(i),ZERO:Zs,ONE:Ss,create:l=>qs(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Zs<=l&&l<t},is0:l=>l===Zs,isOdd:l=>(l&Ss)===Ss,neg:l=>qs(-l,t),eql:(l,u)=>l===u,sqr:l=>qs(l*l,t),add:(l,u)=>qs(l+u,t),sub:(l,u)=>qs(l-u,t),mul:(l,u)=>qs(l*u,t),pow:(l,u)=>wde(o,l,u),div:(l,u)=>qs(l*xC(u,t),t),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>xC(l,t),sqrt:n.sqrt||(l=>(a||(a=mde(t)),a(o,l))),toBytes:l=>r?EH(l,s):ub(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return r?xH(l):pf(l)},invertBatch:l=>gV(o,l),cmov:(l,u,h)=>h?u:l});return Object.freeze(o)}function yV(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function bV(t){const e=yV(t);return e+Math.ceil(e/2)}function vde(t,e,r=!1){const n=t.length,i=yV(e),s=bV(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const a=r?xH(t):pf(t),o=qs(a,e-Ss)+Ss;return r?EH(o,i):ub(o,i)}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const eR=BigInt(0),EC=BigInt(1);function S9(t,e){const r=e.negate();return t?r:e}function wV(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function k9(t,e){wV(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,s=c6(t),a=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:a}}function tR(t,e,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:a}=r;let o=Number(t&i),l=t>>a;o>n&&(o-=s,l+=EC);const u=e*n,h=u+Math.abs(o)-1,f=o===0,g=o<0,y=e%2!==0;return{nextN:l,offset:h,isZero:f,isNeg:g,isNegF:y,offsetF:u}}function xde(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function Ede(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const $9=new WeakMap,vV=new WeakMap;function T9(t){return vV.get(t)||1}function _de(t,e){return{constTimeNegate:S9,hasPrecomputes(r){return T9(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>eR;)n&EC&&(i=i.add(s)),s=s.double(),n>>=EC;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=k9(n,e),a=[];let o=r,l=o;for(let u=0;u<i;u++){l=o,a.push(l);for(let h=1;h<s;h++)l=l.add(o),a.push(l);o=l.double()}return a},wNAF(r,n,i){let s=t.ZERO,a=t.BASE;const o=k9(r,e);for(let l=0;l<o.windows;l++){const{nextN:u,offset:h,isZero:f,isNeg:g,isNegF:y,offsetF:b}=tR(i,l,o);i=u,f?a=a.add(S9(y,n[b])):s=s.add(S9(g,n[h]))}return{p:s,f:a}},wNAFUnsafe(r,n,i,s=t.ZERO){const a=k9(r,e);for(let o=0;o<a.windows&&i!==eR;o++){const{nextN:l,offset:u,isZero:h,isNeg:f}=tR(i,o,a);if(i=l,!h){const g=n[u];s=s.add(f?g.negate():g)}}return s},getPrecomputes(r,n,i){let s=$9.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&$9.set(n,i(s))),s},wNAFCached(r,n,i){const s=T9(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const a=T9(r);return a===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(a,this.getPrecomputes(a,r,i),n,s)},setWindowSize(r,n){wV(n,e),vV.set(r,n),$9.delete(r)}}}function Cde(t,e,r,n){xde(r,t),Ede(n,e);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,o=Ece(BigInt(i));let l=1;o>12?l=o-3:o>4?l=o-2:o>0&&(l=2);const u=c6(l),h=new Array(Number(u)+1).fill(a),f=Math.floor((e.BITS-1)/l)*l;let g=a;for(let y=f;y>=0;y-=l){h.fill(a);for(let w=0;w<s;w++){const x=n[w],E=Number(x>>BigInt(y)&u);h[E]=h[E].add(r[w])}let b=a;for(let w=h.length-1,x=a;w>0;w--)x=x.add(h[w]),b=b.add(x);if(g=g.add(b),y!==0)for(let w=0;w<l;w++)g=g.double()}return g}function xV(t){return bde(t.Fp),u6(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...mV(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function rR(t){t.lowS!==void 0&&h2("lowS",t.lowS),t.prehash!==void 0&&h2("prehash",t.prehash)}function Ade(t){const e=xV(t);u6(e,{a:"field",b:"field"},{allowInfinityPoint:"boolean",allowedPrivateKeyLengths:"array",clearCofactor:"function",fromBytes:"function",isTorsionFree:"function",toBytes:"function",wrapPrivateKey:"boolean"});const{endo:r,Fp:n,a:i}=e;if(r){if(!n.eql(i,n.ZERO))throw new Error("invalid endo: CURVE.a must be 0");if(typeof r!="object"||typeof r.beta!="bigint"||typeof r.splitScalar!="function")throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function')}return Object.freeze({...e})}class Sde extends Error{constructor(e=""){super(e)}}const iu={Err:Sde,_tlv:{encode:(t,e)=>{const{Err:r}=iu;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=sv(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?sv(i.length/2|128):"";return sv(t)+s+i+e},decode(t,e){const{Err:r}=iu;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let a=0;if(!s)a=i;else{const l=i&127;if(!l)throw new r("tlv.decode(long): indefinite length not supported");if(l>4)throw new r("tlv.decode(long): byte length is too big");const u=e.subarray(n,n+l);if(u.length!==l)throw new r("tlv.decode: length bytes not complete");if(u[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const h of u)a=a<<8|h;if(n+=l,a<128)throw new r("tlv.decode(long): not minimal encoding")}const o=e.subarray(n,n+a);if(o.length!==a)throw new r("tlv.decode: wrong value length");return{v:o,l:e.subarray(n+a)}}},_int:{encode(t){const{Err:e}=iu;if(t<cu)throw new e("integer: negative integers are not allowed");let r=sv(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=iu;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return pf(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=iu,i=oo("signature",t),{v:s,l:a}=n.decode(48,i);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:o,l}=n.decode(2,s),{v:u,l:h}=n.decode(2,l);if(h.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(o),s:r.decode(u)}},hexFromSig(t){const{_tlv:e,_int:r}=iu,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}};function I9(t,e){return f2(ub(t,e))}const cu=BigInt(0),Si=BigInt(1);BigInt(2);const N9=BigInt(3),kde=BigInt(4);function $de(t){const e=Ade(t),{Fp:r}=e,n=Dk(e.n,e.nBitLength),i=e.toBytes||((_,I,A)=>{const O=I.toAffine();return V3(Uint8Array.from([4]),r.toBytes(O.x),r.toBytes(O.y))}),s=e.fromBytes||(_=>{const I=_.subarray(1),A=r.fromBytes(I.subarray(0,r.BYTES)),O=r.fromBytes(I.subarray(r.BYTES,2*r.BYTES));return{x:A,y:O}});function a(_){const{a:I,b:A}=e,O=r.sqr(_),F=r.mul(O,_);return r.add(r.add(F,r.mul(_,I)),A)}function o(_,I){const A=r.sqr(I),O=a(_);return r.eql(A,O)}if(!o(e.Gx,e.Gy))throw new Error("bad curve params: generator point");const l=r.mul(r.pow(e.a,N9),kde),u=r.mul(r.sqr(e.b),BigInt(27));if(r.is0(r.add(l,u)))throw new Error("bad curve params: a or b");function h(_){return Sk(_,Si,e.n)}function f(_){const{allowedPrivateKeyLengths:I,nByteLength:A,wrapPrivateKey:O,n:F}=e;if(I&&typeof _!="bigint"){if(cb(_)&&(_=f2(_)),typeof _!="string"||!I.includes(_.length))throw new Error("invalid private key");_=_.padStart(A*2,"0")}let H;try{H=typeof _=="bigint"?_:pf(oo("private key",_,A))}catch{throw new Error("invalid private key, expected hex or "+A+" bytes, got "+typeof _)}return O&&(H=qs(H,F)),V0("private key",H,Si,F),H}function g(_){if(!(_ instanceof w))throw new Error("ProjectivePoint expected")}const y=BM((_,I)=>{const{px:A,py:O,pz:F}=_;if(r.eql(F,r.ONE))return{x:A,y:O};const H=_.is0();I==null&&(I=H?r.ONE:r.inv(F));const L=r.mul(A,I),z=r.mul(O,I),V=r.mul(F,I);if(H)return{x:r.ZERO,y:r.ZERO};if(!r.eql(V,r.ONE))throw new Error("invZ was invalid");return{x:L,y:z}}),b=BM(_=>{if(_.is0()){if(e.allowInfinityPoint&&!r.is0(_.py))return;throw new Error("bad point: ZERO")}const{x:I,y:A}=_.toAffine();if(!r.isValid(I)||!r.isValid(A))throw new Error("bad point: x or y not FE");if(!o(I,A))throw new Error("bad point: equation left != right");if(!_.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});class w{constructor(I,A,O){if(I==null||!r.isValid(I))throw new Error("x required");if(A==null||!r.isValid(A)||r.is0(A))throw new Error("y required");if(O==null||!r.isValid(O))throw new Error("z required");this.px=I,this.py=A,this.pz=O,Object.freeze(this)}static fromAffine(I){const{x:A,y:O}=I||{};if(!I||!r.isValid(A)||!r.isValid(O))throw new Error("invalid affine point");if(I instanceof w)throw new Error("projective point not allowed");const F=H=>r.eql(H,r.ZERO);return F(A)&&F(O)?w.ZERO:new w(A,O,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(I){const A=gV(r,I.map(O=>O.pz));return I.map((O,F)=>O.toAffine(A[F])).map(w.fromAffine)}static fromHex(I){const A=w.fromAffine(s(oo("pointHex",I)));return A.assertValidity(),A}static fromPrivateKey(I){return w.BASE.multiply(f(I))}static msm(I,A){return Cde(w,n,I,A)}_setWindowSize(I){S.setWindowSize(this,I)}assertValidity(){b(this)}hasEvenY(){const{y:I}=this.toAffine();if(r.isOdd)return!r.isOdd(I);throw new Error("Field doesn't support isOdd")}equals(I){g(I);const{px:A,py:O,pz:F}=this,{px:H,py:L,pz:z}=I,V=r.eql(r.mul(A,z),r.mul(H,F)),K=r.eql(r.mul(O,z),r.mul(L,F));return V&&K}negate(){return new w(this.px,r.neg(this.py),this.pz)}double(){const{a:I,b:A}=e,O=r.mul(A,N9),{px:F,py:H,pz:L}=this;let z=r.ZERO,V=r.ZERO,K=r.ZERO,B=r.mul(F,F),C=r.mul(H,H),k=r.mul(L,L),N=r.mul(F,H);return N=r.add(N,N),K=r.mul(F,L),K=r.add(K,K),z=r.mul(I,K),V=r.mul(O,k),V=r.add(z,V),z=r.sub(C,V),V=r.add(C,V),V=r.mul(z,V),z=r.mul(N,z),K=r.mul(O,K),k=r.mul(I,k),N=r.sub(B,k),N=r.mul(I,N),N=r.add(N,K),K=r.add(B,B),B=r.add(K,B),B=r.add(B,k),B=r.mul(B,N),V=r.add(V,B),k=r.mul(H,L),k=r.add(k,k),B=r.mul(k,N),z=r.sub(z,B),K=r.mul(k,C),K=r.add(K,K),K=r.add(K,K),new w(z,V,K)}add(I){g(I);const{px:A,py:O,pz:F}=this,{px:H,py:L,pz:z}=I;let V=r.ZERO,K=r.ZERO,B=r.ZERO;const C=e.a,k=r.mul(e.b,N9);let N=r.mul(A,H),D=r.mul(O,L),P=r.mul(F,z),R=r.add(A,O),j=r.add(H,L);R=r.mul(R,j),j=r.add(N,D),R=r.sub(R,j),j=r.add(A,F);let W=r.add(H,z);return j=r.mul(j,W),W=r.add(N,P),j=r.sub(j,W),W=r.add(O,F),V=r.add(L,z),W=r.mul(W,V),V=r.add(D,P),W=r.sub(W,V),B=r.mul(C,j),V=r.mul(k,P),B=r.add(V,B),V=r.sub(D,B),B=r.add(D,B),K=r.mul(V,B),D=r.add(N,N),D=r.add(D,N),P=r.mul(C,P),j=r.mul(k,j),D=r.add(D,P),P=r.sub(N,P),P=r.mul(C,P),j=r.add(j,P),N=r.mul(D,j),K=r.add(K,N),N=r.mul(W,j),V=r.mul(R,V),V=r.sub(V,N),N=r.mul(R,D),B=r.mul(W,B),B=r.add(B,N),new w(V,K,B)}subtract(I){return this.add(I.negate())}is0(){return this.equals(w.ZERO)}wNAF(I){return S.wNAFCached(this,I,w.normalizeZ)}multiplyUnsafe(I){const{endo:A,n:O}=e;V0("scalar",I,cu,O);const F=w.ZERO;if(I===cu)return F;if(this.is0()||I===Si)return this;if(!A||S.hasPrecomputes(this))return S.wNAFCachedUnsafe(this,I,w.normalizeZ);let{k1neg:H,k1:L,k2neg:z,k2:V}=A.splitScalar(I),K=F,B=F,C=this;for(;L>cu||V>cu;)L&Si&&(K=K.add(C)),V&Si&&(B=B.add(C)),C=C.double(),L>>=Si,V>>=Si;return H&&(K=K.negate()),z&&(B=B.negate()),B=new w(r.mul(B.px,A.beta),B.py,B.pz),K.add(B)}multiply(I){const{endo:A,n:O}=e;V0("scalar",I,Si,O);let F,H;if(A){const{k1neg:L,k1:z,k2neg:V,k2:K}=A.splitScalar(I);let{p:B,f:C}=this.wNAF(z),{p:k,f:N}=this.wNAF(K);B=S.constTimeNegate(L,B),k=S.constTimeNegate(V,k),k=new w(r.mul(k.px,A.beta),k.py,k.pz),F=B.add(k),H=C.add(N)}else{const{p:L,f:z}=this.wNAF(I);F=L,H=z}return w.normalizeZ([F,H])[0]}multiplyAndAddUnsafe(I,A,O){const F=w.BASE,H=(z,V)=>V===cu||V===Si||!z.equals(F)?z.multiplyUnsafe(V):z.multiply(V),L=H(this,A).add(H(I,O));return L.is0()?void 0:L}toAffine(I){return y(this,I)}isTorsionFree(){const{h:I,isTorsionFree:A}=e;if(I===Si)return!0;if(A)return A(w,this);throw new Error("isTorsionFree() has not been declared for the elliptic curve")}clearCofactor(){const{h:I,clearCofactor:A}=e;return I===Si?this:A?A(w,this):this.multiplyUnsafe(e.h)}toRawBytes(I=!0){return h2("isCompressed",I),this.assertValidity(),i(w,this,I)}toHex(I=!0){return h2("isCompressed",I),f2(this.toRawBytes(I))}}w.BASE=new w(e.Gx,e.Gy,r.ONE),w.ZERO=new w(r.ZERO,r.ONE,r.ZERO);const{endo:x,nBitLength:E}=e,S=_de(w,x?Math.ceil(E/2):E);return{CURVE:e,ProjectivePoint:w,normPrivateKeyToScalar:f,weierstrassEquation:a,isWithinCurveOrder:h}}function Tde(t){const e=xV(t);return u6(e,{hash:"hash",hmac:"function",randomBytes:"function"},{bits2int:"function",bits2int_modN:"function",lowS:"boolean"}),Object.freeze({lowS:!0,...e})}function Ide(t){const e=Tde(t),{Fp:r,n,nByteLength:i,nBitLength:s}=e,a=r.BYTES+1,o=2*r.BYTES+1;function l(k){return qs(k,n)}function u(k){return xC(k,n)}const{ProjectivePoint:h,normPrivateKeyToScalar:f,weierstrassEquation:g,isWithinCurveOrder:y}=$de({...e,toBytes(k,N,D){const P=N.toAffine(),R=r.toBytes(P.x),j=V3;return h2("isCompressed",D),D?j(Uint8Array.from([N.hasEvenY()?2:3]),R):j(Uint8Array.from([4]),R,r.toBytes(P.y))},fromBytes(k){const N=k.length,D=k[0],P=k.subarray(1);if(N===a&&(D===2||D===3)){const R=pf(P);if(!Sk(R,Si,r.ORDER))throw new Error("Point is not on curve");const j=g(R);let W;try{W=r.sqrt(j)}catch(re){const q=re instanceof Error?": "+re.message:"";throw new Error("Point is not on curve"+q)}const M=(W&Si)===Si;return(D&1)===1!==M&&(W=r.neg(W)),{x:R,y:W}}else if(N===o&&D===4){const R=r.fromBytes(P.subarray(0,r.BYTES)),j=r.fromBytes(P.subarray(r.BYTES,2*r.BYTES));return{x:R,y:j}}else{const R=a,j=o;throw new Error("invalid Point, expected length of "+R+", or uncompressed "+j+", got "+N)}}});function b(k){const N=n>>Si;return k>N}function w(k){return b(k)?l(-k):k}const x=(k,N,D)=>pf(k.slice(N,D));class E{constructor(N,D,P){V0("r",N,Si,n),V0("s",D,Si,n),this.r=N,this.s=D,P!=null&&(this.recovery=P),Object.freeze(this)}static fromCompact(N){const D=i;return N=oo("compactSignature",N,D*2),new E(x(N,0,D),x(N,D,2*D))}static fromDER(N){const{r:D,s:P}=iu.toSig(oo("DER",N));return new E(D,P)}assertValidity(){}addRecoveryBit(N){return new E(this.r,this.s,N)}recoverPublicKey(N){const{r:D,s:P,recovery:R}=this,j=F(oo("msgHash",N));if(R==null||![0,1,2,3].includes(R))throw new Error("recovery id invalid");const W=R===2||R===3?D+e.n:D;if(W>=r.ORDER)throw new Error("recovery id 2 or 3 invalid");const M=R&1?"03":"02",G=h.fromHex(M+I9(W,r.BYTES)),re=u(W),q=l(-j*re),X=l(P*re),ne=h.BASE.multiplyAndAddUnsafe(G,q,X);if(!ne)throw new Error("point at infinify");return ne.assertValidity(),ne}hasHighS(){return b(this.s)}normalizeS(){return this.hasHighS()?new E(this.r,l(-this.s),this.recovery):this}toDERRawBytes(){return H3(this.toDERHex())}toDERHex(){return iu.hexFromSig(this)}toCompactRawBytes(){return H3(this.toCompactHex())}toCompactHex(){const N=i;return I9(this.r,N)+I9(this.s,N)}}const S={isValidPrivateKey(k){try{return f(k),!0}catch{return!1}},normPrivateKeyToScalar:f,randomPrivateKey:()=>{const k=bV(e.n);return vde(e.randomBytes(k),e.n)},precompute(k=8,N=h.BASE){return N._setWindowSize(k),N.multiply(BigInt(3)),N}};function _(k,N=!0){return h.fromPrivateKey(k).toRawBytes(N)}function I(k){if(typeof k=="bigint")return!1;if(k instanceof h)return!0;const D=oo("key",k).length,P=r.BYTES,R=P+1,j=2*P+1;if(!(e.allowedPrivateKeyLengths||i===R))return D===R||D===j}function A(k,N,D=!0){if(I(k)===!0)throw new Error("first arg must be private key");if(I(N)===!1)throw new Error("second arg must be public key");return h.fromHex(N).multiply(f(k)).toRawBytes(D)}const O=e.bits2int||function(k){if(k.length>8192)throw new Error("input is too large");const N=pf(k),D=k.length*8-s;return D>0?N>>BigInt(D):N},F=e.bits2int_modN||function(k){return l(O(k))},H=c6(s);function L(k){return V0("num < 2^"+s,k,cu,H),ub(k,i)}function z(k,N,D=V){if(["recovered","canonical"].some(ce=>ce in D))throw new Error("sign() legacy options not supported");const{hash:P,randomBytes:R}=e;let{lowS:j,prehash:W,extraEntropy:M}=D;j==null&&(j=!0),k=oo("msgHash",k),rR(D),W&&(k=oo("prehashed msgHash",P(k)));const G=F(k),re=f(N),q=[L(re),L(G)];if(M!=null&&M!==!1){const ce=M===!0?R(r.BYTES):M;q.push(oo("extraEntropy",ce))}const X=V3(...q),ne=G;function ee(ce){const be=O(ce);if(!y(be))return;const ve=u(be),ge=h.BASE.multiply(be).toAffine(),Ee=l(ge.x);if(Ee===cu)return;const ye=l(ve*l(ne+Ee*re));if(ye===cu)return;let $e=(ge.x===Ee?0:2)|Number(ge.y&Si),we=ye;return j&&b(ye)&&(we=w(ye),$e^=1),new E(Ee,we,$e)}return{seed:X,k2sig:ee}}const V={lowS:e.lowS,prehash:!1},K={lowS:e.lowS,prehash:!1};function B(k,N,D=V){const{seed:P,k2sig:R}=z(k,N,D),j=e;return _ce(j.hash.outputLen,j.nByteLength,j.hmac)(P,R)}h.BASE._setWindowSize(8);function C(k,N,D,P=K){var $e;const R=k;N=oo("msgHash",N),D=oo("publicKey",D);const{lowS:j,prehash:W,format:M}=P;if(rR(P),"strict"in P)throw new Error("options.strict was renamed to lowS");if(M!==void 0&&M!=="compact"&&M!=="der")throw new Error("format must be compact or der");const G=typeof R=="string"||cb(R),re=!G&&!M&&typeof R=="object"&&R!==null&&typeof R.r=="bigint"&&typeof R.s=="bigint";if(!G&&!re)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let q,X;try{if(re&&(q=new E(R.r,R.s)),G){try{M!=="compact"&&(q=E.fromDER(R))}catch(we){if(!(we instanceof iu.Err))throw we}!q&&M!=="der"&&(q=E.fromCompact(R))}X=h.fromHex(D)}catch{return!1}if(!q||j&&q.hasHighS())return!1;W&&(N=e.hash(N));const{r:ne,s:ee}=q,ce=F(N),be=u(ee),ve=l(ce*be),ge=l(ne*be),Ee=($e=h.BASE.multiplyAndAddUnsafe(X,ve,ge))==null?void 0:$e.toAffine();return Ee?l(Ee.x)===ne:!1}return{CURVE:e,getPublicKey:_,getSharedSecret:A,sign:B,verify:C,ProjectivePoint:h,Signature:E,utils:S}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */function Nde(t){return{hash:t,hmac:(e,...r)=>uV(t,e,Ooe(...r)),randomBytes:Moe}}function Pde(t,e){const r=n=>Ide({...t,...Nde(n)});return{...r(e),create:r}}/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const EV=BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffefffffc2f"),nR=BigInt("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),Ode=BigInt(0),Mde=BigInt(1),_C=BigInt(2),iR=(t,e)=>(t+e/_C)/e;function Rde(t){const e=EV,r=BigInt(3),n=BigInt(6),i=BigInt(11),s=BigInt(22),a=BigInt(23),o=BigInt(44),l=BigInt(88),u=t*t*t%e,h=u*u*t%e,f=Za(h,r,e)*h%e,g=Za(f,r,e)*h%e,y=Za(g,_C,e)*u%e,b=Za(y,i,e)*y%e,w=Za(b,s,e)*b%e,x=Za(w,o,e)*w%e,E=Za(x,l,e)*x%e,S=Za(E,o,e)*w%e,_=Za(S,r,e)*h%e,I=Za(_,a,e)*b%e,A=Za(I,n,e)*u%e,O=Za(A,_C,e);if(!CC.eql(CC.sqr(O),t))throw new Error("Cannot find square root");return O}const CC=Dk(EV,void 0,void 0,{sqrt:Rde}),_V=Pde({a:Ode,b:BigInt(7),Fp:CC,n:nR,Gx:BigInt("55066263022277343669578718895168534326250603453777594175500187360389116729240"),Gy:BigInt("32670510020758816978083085130507043184471273380659243275938904335757337482424"),h:BigInt(1),lowS:!0,endo:{beta:BigInt("0x7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee"),splitScalar:t=>{const e=nR,r=BigInt("0x3086d221a7d46bcde86c90e49284eb15"),n=-Mde*BigInt("0xe4437ed6010e88286f547fa90abfe4c3"),i=BigInt("0x114ca50f7a8e2f3f657c1108d9d44cfd8"),s=r,a=BigInt("0x100000000000000000000000000000000"),o=iR(s*t,e),l=iR(-n*t,e);let u=qs(t-o*r-l*i,e),h=qs(-o*n-l*s,e);const f=u>a,g=h>a;if(f&&(u=e-u),g&&(h=e-h),u>a||h>a)throw new Error("splitScalar: Endomorphism failed, k="+t);return{k1neg:f,k1:u,k2neg:g,k2:h}}}},pH),CV=Object.freeze(Object.defineProperty({__proto__:null,secp256k1:_V},Symbol.toStringTag,{value:"Module"}));function AV(t,e={}){const{recovered:r}=e;if(typeof t.r>"u")throw new P9({signature:t});if(typeof t.s>"u")throw new P9({signature:t});if(r&&typeof t.yParity>"u")throw new P9({signature:t});if(t.r<0n||t.r>ZM)throw new zde({value:t.r});if(t.s<0n||t.s>ZM)throw new Wde({value:t.s});if(typeof t.yParity=="number"&&t.yParity!==0&&t.yParity!==1)throw new Bk({value:t.yParity})}function jde(t){return SV(dl(t))}function SV(t){if(t.length!==130&&t.length!==132)throw new Fde({signature:t});const e=BigInt(sc(t,0,32)),r=BigInt(sc(t,32,64)),n=(()=>{const i=+`0x${t.slice(130)}`;if(!Number.isNaN(i))try{return Uk(i)}catch{throw new Bk({value:i})}})();return typeof n>"u"?{r:e,s:r}:{r:e,s:r,yParity:n}}function Dde(t){if(!(typeof t.r>"u")&&!(typeof t.s>"u"))return Ude(t)}function Ude(t){const e=typeof t=="string"?SV(t):t instanceof Uint8Array?jde(t):typeof t.r=="string"?Lde(t):t.v?Bde(t):{r:t.r,s:t.s,...typeof t.yParity<"u"?{yParity:t.yParity}:{}};return AV(e),e}function Bde(t){return{r:t.r,s:t.s,yParity:Uk(t.v)}}function Lde(t){const e=(()=>{const r=t.v?Number(t.v):void 0;let n=t.yParity?Number(t.yParity):void 0;if(typeof r=="number"&&typeof n!="number"&&(n=Uk(r)),typeof n!="number")throw new Bk({value:t.yParity});return n})();return{r:BigInt(t.r),s:BigInt(t.s),yParity:e}}function Uk(t){if(t===0||t===27)return 0;if(t===1||t===28)return 1;if(t>=35)return t%2===0?1:0;throw new qde({value:t})}class Fde extends Sr{constructor({signature:e}){super(`Value \`${e}\` is an invalid signature size.`,{metaMessages:["Expected: 64 bytes or 65 bytes.",`Received ${Ma(Kce(e))} bytes.`]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSerializedSizeError"})}}class P9 extends Sr{constructor({signature:e}){super(`Signature \`${SH(e)}\` is missing either an \`r\`, \`s\`, or \`yParity\` property.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.MissingPropertiesError"})}}class zde extends Sr{constructor({value:e}){super(`Value \`${e}\` is an invalid r value. r must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidRError"})}}class Wde extends Sr{constructor({value:e}){super(`Value \`${e}\` is an invalid s value. s must be a positive integer less than 2^256.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidSError"})}}class Bk extends Sr{constructor({value:e}){super(`Value \`${e}\` is an invalid y-parity value. Y-parity must be 0 or 1.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidYParityError"})}}class qde extends Sr{constructor({value:e}){super(`Value \`${e}\` is an invalid v value. v must be 27, 28 or >=35.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"Signature.InvalidVError"})}}function Hde(t,e={}){return typeof t.chainId=="string"?Vde(t):{...t,...e.signature}}function Vde(t){const{address:e,chainId:r,nonce:n}=t,i=Dde(t);return{address:e,chainId:Number(r),nonce:BigInt(n),...i}}const Gde="0x8010801080108010801080108010801080108010801080108010801080108010",Kde=aV("(uint256 chainId, address delegation, uint256 nonce, uint8 yParity, uint256 r, uint256 s), address to, bytes data");function kV(t){if(typeof t=="string"){if(sc(t,-32)!==Gde)throw new Qde(t)}else AV(t.authorization)}function Yde(t){kV(t);const e=NH(sc(t,-64,-32)),r=sc(t,-e-64,-64),n=sc(t,0,-e-64),[i,s,a]=lde(Kde,r);return{authorization:Hde({address:i.delegation,chainId:Number(i.chainId),nonce:i.nonce,yParity:i.yParity,r:i.r,s:i.s}),signature:n,...a&&a!=="0x"?{data:a,to:s}:{}}}function Zde(t){try{return kV(t),!0}catch{return!1}}let Qde=class extends Sr{constructor(e){super(`Value \`${e}\` is an invalid ERC-8010 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc8010.InvalidWrappedSignatureError"})}};class Xde extends ze{constructor({value:e}){super(`Number \`${e}\` is not a valid decimal number.`,{name:"InvalidDecimalNumberError"})}}function Jde(t,e){if(!/^(-?)([0-9]*)\.?([0-9]*)$/.test(t))throw new Xde({value:t});let[r,n="0"]=t.split(".");const i=r.startsWith("-");if(i&&(r=r.slice(1)),n=n.replace(/(0+)$/,""),e===0)Math.round(+`.${n}`)===1&&(r=`${BigInt(r)+1n}`),n="";else if(n.length>e){const[s,a,o]=[n.slice(0,e-1),n.slice(e-1,e),n.slice(e)],l=Math.round(+`${a}.${o}`);l>9?n=`${BigInt(s)+BigInt(1)}0`.padStart(s.length+1,"0"):n=`${s}${l}`,n.length>e&&(n=n.slice(1),r=`${BigInt(r)+1n}`),n=n.slice(0,e)}else n=n.padEnd(e,"0");return BigInt(`${i?"-":""}${r}${n}`)}function $V(t,e="wei"){return Jde(t,aH[e])}const ehe={path:"/api/v1/analytics_events",method:"POST"},the={path:"/api/v1/apps/:app_id",method:"GET"},rhe={path:"/api/v1/funding/coinbase_on_ramp/init",method:"POST"},nhe={path:"/api/v1/funding/coinbase_on_ramp/status",method:"GET"},ihe={path:"/api/v1/apps/:app_id/cross-app/connections",method:"GET"},she={path:"/api/v1/custom_jwt_account/authenticate",method:"POST"},ahe={path:"/api/v1/farcaster/init",method:"POST"},ohe={path:"/api/v1/farcaster/authenticate",method:"POST"},lhe={path:"/api/v1/farcaster/link",method:"POST"},che={path:"/api/v1/farcaster/unlink",method:"POST"},uhe={path:"/api/v1/farcaster/status",method:"GET"},dhe={path:"/api/v2/farcaster/init",method:"POST"},hhe={path:"/api/v2/farcaster/authenticate",method:"POST"},fhe={path:"/api/v1/guest/authenticate",method:"POST"},phe={path:"/api/v1/mfa/passkeys/init",method:"POST"},ghe={path:"/api/v1/mfa/passwordless_sms/init",method:"POST"},mhe={path:"/api/v1/oauth/authenticate",method:"POST"},yhe={path:"/api/v1/oauth/init",method:"POST"},bhe={path:"/api/v1/oauth/link",method:"POST"},whe={path:"/api/v1/oauth/unlink",method:"POST"},vhe={path:"/api/v1/passkeys/link",method:"POST"},xhe={path:"/api/v1/passkeys/authenticate",method:"POST"},Ehe={path:"/api/v1/passkeys/register",method:"POST"},_he={path:"/api/v1/passkeys/authenticate/init",method:"POST"},Che={path:"/api/v1/passkeys/register/init",method:"POST"},Ahe={path:"/api/v1/passkeys/link/init",method:"POST"},She={path:"/api/v1/passwordless/authenticate",method:"POST"},khe={path:"/api/v1/passwordless/init",method:"POST"},$he={path:"/api/v1/passwordless/link",method:"POST"},The={path:"/api/v1/passwordless/unlink",method:"POST"},Ihe={path:"/api/v1/passwordless/update",method:"POST"},Nhe={path:"/api/v1/passwordless_sms/authenticate",method:"POST"},Phe={path:"/api/v1/passwordless_sms/init",method:"POST"},Ohe={path:"/api/v1/passwordless_sms/link",method:"POST"},Mhe={path:"/api/v1/passwordless_sms/unlink",method:"POST"},Rhe={path:"/api/v1/passwordless_sms/update",method:"POST"},jhe={path:"/api/v1/embedded_wallets/:address/recovery/key_material",method:"POST"},Dhe={path:"/api/v1/recovery/oauth/init",method:"POST"},Uhe={path:"/api/v1/recovery/oauth/authenticate",method:"POST"},Bhe={path:"/api/v1/recovery/oauth/init_icloud",method:"POST"},Lhe={path:"/api/v1/recovery/configuration_icloud",method:"POST"},Fhe=(t,e)=>e?Object.entries(e).reduce((r,[n,i])=>r.replace(`:${n}`,`${i}`),t):t,sR={path:"/api/v1/sessions",method:"POST"},zhe={path:"/api/v1/sessions/logout",method:"POST"},Whe={path:"/api/v1/apps/:app_id/smart_wallets",method:"GET"},TV={path:"/api/v1/siwe/init",method:"POST"},qhe={path:"/api/v1/siwe/authenticate",method:"POST"},Hhe={path:"/api/v1/siwe/link",method:"POST"},Vhe={path:"/api/v1/siwe/link_smart_wallet",method:"POST"},Ghe={path:"/api/v1/siwe/unlink",method:"POST"},Khe={path:"/api/v1/siws/init",method:"POST"},Yhe={path:"/api/v1/siws/authenticate",method:"POST"},Zhe={path:"/api/v1/siws/link",method:"POST"},Qhe={path:"/api/v1/siws/unlink",method:"POST"},Xhe={path:"/api/v1/users/me/accept_terms",method:"POST"},Jhe={path:"/api/v1/plugins/moonpay_on_ramp/sign",method:"POST"},efe={path:"/api/v1/wallets",method:"POST"},O9={path:"/api/v1/wallets/:wallet_id/rpc",method:"POST"},tfe={path:"/api/v1/wallets/revoke",method:"POST"};var Ut,aR=((Ut={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",Ut.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",Ut.MISSING_OR_INVALID_PRIVY_CLIENT_ID="missing_or_invalid_privy_client_id",Ut.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",Ut.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",Ut.MISSING_OR_INVALID_MFA="missing_or_invalid_mfa",Ut.EXPIRED_OR_INVALID_MFA_TOKEN="expired_or_invalid_mfa_token",Ut.INVALID_DATA="invalid_data",Ut.INVALID_CREDENTIALS="invalid_credentials",Ut.INVALID_CAPTCHA="invalid_captcha",Ut.LINKED_TO_ANOTHER_USER="linked_to_another_user",Ut.ALLOWLIST_REJECTED="allowlist_rejected",Ut.CANNOT_UNLINK_EMBEDDED_WALLET="cannot_unlink_embedded_wallet",Ut.CANNOT_UNLINK_SOLE_ACCOUNT="cannot_unlink_sole_account",Ut.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",Ut.LINKED_ACCOUNT_NOT_FOUND="linked_account_not_found",Ut.TOO_MANY_REQUESTS="too_many_requests",Ut.RESOURCE_CONFLICT="resource_conflict",Ut.INVALID_ORIGIN="invalid_origin",Ut.MISSING_ORIGIN="missing_origin",Ut.INVALID_NATIVE_APP_ID="invalid_native_app_id",Ut.TOKEN_ALREADY_USED="token_already_used",Ut.ALREADY_LOGGED_OUT="already_logged_out",Ut.NOT_SUPPORTED="not_supported",Ut.USER_UNSUBSCRIBED="user_unsubscribed",Ut.MAX_APPS_REACHED="max_apps_reached",Ut.USER_LIMIT_REACHED="max_accounts_reached",Ut.DEVICE_REVOKED="device_revoked",Ut.WALLET_PASSWORD_EXISTS="wallet_password_exists",Ut.OAUTH_STATE_MISMATCH="oauth_state_mismatch",Ut.MAX_DENYLIST_ENTRIES_REACHED="max_denylist_entries_reached",Ut.MAX_TEST_ACCOUNTS_REACHED="max_test_accounts_reached",Ut.DISALLOWED_LOGIN_METHOD="disallowed_login_method",Ut.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",Ut.DISALLOWED_RECOVERY_METHOD="disallowed_recovery_method",Ut.LEGACY_DASHBOARD_LOGIN_CONFIGURATION="legacy_dashboard_login_configuration",Ut.CANNOT_SET_PASSWORD="cannot_set_password",Ut.INVALID_PKCE_PARAMETERS="invalid_pkce_parameters",Ut.INVALID_APP_URL_SCHEME_CONFIGURATION="invalid_app_url_scheme_configuration",Ut.CROSS_APP_CONNECTION_NOT_ALLOWED="cross_app_connection_not_allowed",Ut.USER_DOES_NOT_EXIST="user_does_not_exist",Ut.ALREADY_EXISTS="resource_already_exists",Ut.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",Ut.USER_HAS_NOT_DELEGATED_WALLET="user_has_not_delegated_wallet",Ut.FEATURE_NOT_ENABLED="feature_not_enabled",Ut.INSUFFICIENT_FUNDS="insufficient_funds",Ut.TRANSACTION_BROADCAST_FAILURE="transaction_broadcast_failure",Ut.INVALID_POLICY_FORMAT="invalid_policy_format",Ut.POLICY_VIOLATION="policy_violation",Ut.AUTHORIZATION_KEY_HAS_ASSOCIATED_WALLETS="authorization_key_has_associated_wallets",Ut.INVALID_REQUEST="invalid_request",Ut.SIGNUP_DISABLED="signup_disabled",Ut);function oR(t,e){t=t.split("-"),e=e.split("-");for(var r=t[0].split("."),n=e[0].split("."),i=0;i<3;i++){var s=Number(r[i]),a=Number(n[i]);if(s>a)return 1;if(a>s)return-1;if(!isNaN(s)&&isNaN(a))return 1;if(isNaN(s)&&!isNaN(a))return-1}return t[1]&&e[1]?t[1]>e[1]?1:t[1]<e[1]?-1:0:!t[1]&&e[1]?1:t[1]&&!e[1]?-1:0}var rfe={}.constructor;function gf(t){return t!=null&&t.constructor===rfe}function pg(t){"@babel/helpers - typeof";return pg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},pg(t)}function b6(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function nfe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ife(n.key),n)}}function w6(t,e,r){return e&&nfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ife(t){var e=sfe(t,"string");return pg(e)=="symbol"?e:e+""}function sfe(t,e){if(pg(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(pg(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var afe="1.2.0",ofe="1.7.35",lR=" ext. ",lfe=/^\d+$/,bi=function(){function t(e){b6(this,t),IV(e),this.metadata=e,NV.call(this,e)}return w6(t,[{key:"getCountries",value:function(){return Object.keys(this.metadata.countries).filter(function(r){return r!=="001"})}},{key:"getCountryMetadata",value:function(r){return this.metadata.countries[r]}},{key:"nonGeographic",value:function(){if(!(this.v1||this.v2||this.v3))return this.metadata.nonGeographic||this.metadata.nonGeographical}},{key:"hasCountry",value:function(r){return this.getCountryMetadata(r)!==void 0}},{key:"hasCallingCode",value:function(r){if(this.getCountryCodesForCallingCode(r))return!0;if(this.nonGeographic()){if(this.nonGeographic()[r])return!0}else{var n=this.countryCallingCodes()[r];if(n&&n.length===1&&n[0]==="001")return!0}}},{key:"isNonGeographicCallingCode",value:function(r){return this.nonGeographic()?!!this.nonGeographic()[r]:!this.getCountryCodesForCallingCode(r)}},{key:"country",value:function(r){return this.selectNumberingPlan(r)}},{key:"selectNumberingPlan",value:function(r,n){if(r&&lfe.test(r)&&(n=r,r=null),r&&r!=="001"){if(!this.hasCountry(r))throw new Error("Unknown country: ".concat(r));this.numberingPlan=new cR(this.getCountryMetadata(r),this)}else if(n){if(!this.hasCallingCode(n))throw new Error("Unknown calling code: ".concat(n));this.numberingPlan=new cR(this.getNumberingPlanMetadata(n),this)}else this.numberingPlan=void 0;return this}},{key:"getCountryCodesForCallingCode",value:function(r){var n=this.countryCallingCodes()[r];if(n)return n.length===1&&n[0].length===3?void 0:n}},{key:"getCountryCodeForCallingCode",value:function(r){var n=this.getCountryCodesForCallingCode(r);if(n)return n[0]}},{key:"getNumberingPlanMetadata",value:function(r){var n=this.getCountryCodeForCallingCode(r);if(n)return this.getCountryMetadata(n);if(this.nonGeographic()){var i=this.nonGeographic()[r];if(i)return i}else{var s=this.countryCallingCodes()[r];if(s&&s.length===1&&s[0]==="001")return this.metadata.countries["001"]}}},{key:"countryCallingCode",value:function(){return this.numberingPlan.callingCode()}},{key:"IDDPrefix",value:function(){return this.numberingPlan.IDDPrefix()}},{key:"defaultIDDPrefix",value:function(){return this.numberingPlan.defaultIDDPrefix()}},{key:"nationalNumberPattern",value:function(){return this.numberingPlan.nationalNumberPattern()}},{key:"possibleLengths",value:function(){return this.numberingPlan.possibleLengths()}},{key:"formats",value:function(){return this.numberingPlan.formats()}},{key:"nationalPrefixForParsing",value:function(){return this.numberingPlan.nationalPrefixForParsing()}},{key:"nationalPrefixTransformRule",value:function(){return this.numberingPlan.nationalPrefixTransformRule()}},{key:"leadingDigits",value:function(){return this.numberingPlan.leadingDigits()}},{key:"hasTypes",value:function(){return this.numberingPlan.hasTypes()}},{key:"type",value:function(r){return this.numberingPlan.type(r)}},{key:"ext",value:function(){return this.numberingPlan.ext()}},{key:"countryCallingCodes",value:function(){return this.v1?this.metadata.country_phone_code_to_countries:this.metadata.country_calling_codes}},{key:"chooseCountryByCountryCallingCode",value:function(r){return this.selectNumberingPlan(r)}},{key:"hasSelectedNumberingPlan",value:function(){return this.numberingPlan!==void 0}}])}(),cR=function(){function t(e,r){b6(this,t),this.globalMetadataObject=r,this.metadata=e,NV.call(this,r.metadata)}return w6(t,[{key:"callingCode",value:function(){return this.metadata[0]}},{key:"getDefaultCountryMetadataForRegion",value:function(){return this.globalMetadataObject.getNumberingPlanMetadata(this.callingCode())}},{key:"IDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[1]}},{key:"defaultIDDPrefix",value:function(){if(!(this.v1||this.v2))return this.metadata[12]}},{key:"nationalNumberPattern",value:function(){return this.v1||this.v2?this.metadata[1]:this.metadata[2]}},{key:"possibleLengths",value:function(){if(!this.v1)return this.metadata[this.v2?2:3]}},{key:"_getFormats",value:function(r){return r[this.v1?2:this.v2?3:4]}},{key:"formats",value:function(){var r=this,n=this._getFormats(this.metadata)||this._getFormats(this.getDefaultCountryMetadataForRegion())||[];return n.map(function(i){return new cfe(i,r)})}},{key:"nationalPrefix",value:function(){return this.metadata[this.v1?3:this.v2?4:5]}},{key:"_getNationalPrefixFormattingRule",value:function(r){return r[this.v1?4:this.v2?5:6]}},{key:"nationalPrefixFormattingRule",value:function(){return this._getNationalPrefixFormattingRule(this.metadata)||this._getNationalPrefixFormattingRule(this.getDefaultCountryMetadataForRegion())}},{key:"_nationalPrefixForParsing",value:function(){return this.metadata[this.v1?5:this.v2?6:7]}},{key:"nationalPrefixForParsing",value:function(){return this._nationalPrefixForParsing()||this.nationalPrefix()}},{key:"nationalPrefixTransformRule",value:function(){return this.metadata[this.v1?6:this.v2?7:8]}},{key:"_getNationalPrefixIsOptionalWhenFormatting",value:function(){return!!this.metadata[this.v1?7:this.v2?8:9]}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return this._getNationalPrefixIsOptionalWhenFormatting(this.metadata)||this._getNationalPrefixIsOptionalWhenFormatting(this.getDefaultCountryMetadataForRegion())}},{key:"leadingDigits",value:function(){return this.metadata[this.v1?8:this.v2?9:10]}},{key:"types",value:function(){return this.metadata[this.v1?9:this.v2?10:11]}},{key:"hasTypes",value:function(){return this.types()&&this.types().length===0?!1:!!this.types()}},{key:"type",value:function(r){if(this.hasTypes()&&uR(this.types(),r))return new dfe(uR(this.types(),r),this)}},{key:"ext",value:function(){return this.v1||this.v2?lR:this.metadata[13]||lR}}])}(),cfe=function(){function t(e,r){b6(this,t),this._format=e,this.metadata=r}return w6(t,[{key:"pattern",value:function(){return this._format[0]}},{key:"format",value:function(){return this._format[1]}},{key:"leadingDigitsPatterns",value:function(){return this._format[2]||[]}},{key:"nationalPrefixFormattingRule",value:function(){return this._format[3]||this.metadata.nationalPrefixFormattingRule()}},{key:"nationalPrefixIsOptionalWhenFormattingInNationalFormat",value:function(){return!!this._format[4]||this.metadata.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"nationalPrefixIsMandatoryWhenFormattingInNationalFormat",value:function(){return this.usesNationalPrefix()&&!this.nationalPrefixIsOptionalWhenFormattingInNationalFormat()}},{key:"usesNationalPrefix",value:function(){return!!(this.nationalPrefixFormattingRule()&&!ufe.test(this.nationalPrefixFormattingRule()))}},{key:"internationalFormat",value:function(){return this._format[5]||this.format()}}])}(),ufe=/^\(?\$1\)?$/,dfe=function(){function t(e,r){b6(this,t),this.type=e,this.metadata=r}return w6(t,[{key:"pattern",value:function(){return this.metadata.v1?this.type:this.type[0]}},{key:"possibleLengths",value:function(){if(!this.metadata.v1)return this.type[1]||this.metadata.possibleLengths()}}])}();function uR(t,e){switch(e){case"FIXED_LINE":return t[0];case"MOBILE":return t[1];case"TOLL_FREE":return t[2];case"PREMIUM_RATE":return t[3];case"PERSONAL_NUMBER":return t[4];case"VOICEMAIL":return t[5];case"UAN":return t[6];case"PAGER":return t[7];case"VOIP":return t[8];case"SHARED_COST":return t[9]}}function IV(t){if(!t)throw new Error("[libphonenumber-js] `metadata` argument not passed. Check your arguments.");if(!gf(t)||!gf(t.countries))throw new Error("[libphonenumber-js] `metadata` argument was passed but it's not a valid metadata. Must be an object having `.countries` child object property. Got ".concat(gf(t)?"an object of shape: { "+Object.keys(t).join(", ")+" }":"a "+hfe(t)+": "+t,"."))}var hfe=function(e){return pg(e)};function v6(t,e){if(e=new bi(e),e.hasCountry(t))return e.selectNumberingPlan(t).countryCallingCode();throw new Error("Unknown country: ".concat(t))}function ffe(t,e){return e.countries.hasOwnProperty(t)}function NV(t){var e=t.version;typeof e=="number"?(this.v1=e===1,this.v2=e===2,this.v3=e===3,this.v4=e===4):e?oR(e,afe)===-1?this.v2=!0:oR(e,ofe)===-1?this.v3=!0:this.v4=!0:this.v1=!0}function x6(t,e,r){return pfe(t,e,void 0,r)}function pfe(t,e,r,n){e&&(n=new bi(n.metadata),n.selectNumberingPlan(e));var i=n.type(r),s=i&&i.possibleLengths()||n.possibleLengths();if(!s)return"IS_POSSIBLE";var a=t.length,o=s[0];return o===a?"IS_POSSIBLE":o>a?"TOO_SHORT":s[s.length-1]<a?"TOO_LONG":s.indexOf(a,1)>=0?"IS_POSSIBLE":"INVALID_LENGTH"}function gfe(t,e,r){if(e===void 0&&(e={}),r=new bi(r),e.v2){if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");r.selectNumberingPlan(t.countryCallingCode)}else{if(!t.phone)return!1;if(t.country){if(!r.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));r.selectNumberingPlan(t.country)}else{if(!t.countryCallingCode)throw new Error("Invalid phone number object passed");r.selectNumberingPlan(t.countryCallingCode)}}if(r.possibleLengths())return PV(t.phone||t.nationalNumber,t.country,r);if(t.countryCallingCode&&r.isNonGeographicCallingCode(t.countryCallingCode))return!0;throw new Error('Missing "possibleLengths" in metadata. Perhaps the metadata has been generated before v1.0.18.')}function PV(t,e,r){switch(x6(t,e,r)){case"IS_POSSIBLE":return!0;default:return!1}}function xu(t,e){return t=t||"",new RegExp("^(?:"+e+")$").test(t)}function mfe(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=yfe(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yfe(t,e){if(t){if(typeof t=="string")return dR(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?dR(t,e):void 0}}function dR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var bfe=["MOBILE","PREMIUM_RATE","TOLL_FREE","SHARED_COST","VOIP","PERSONAL_NUMBER","PAGER","UAN","VOICEMAIL"];function Lk(t,e,r){if(e=e||{},!(!t.country&&!t.countryCallingCode)){r=new bi(r),r.selectNumberingPlan(t.country,t.countryCallingCode);var n=e.v2?t.nationalNumber:t.phone;if(xu(n,r.nationalNumberPattern())){if(M9(n,"FIXED_LINE",r))return r.type("MOBILE")&&r.type("MOBILE").pattern()===""||!r.type("MOBILE")||M9(n,"MOBILE",r)?"FIXED_LINE_OR_MOBILE":"FIXED_LINE";for(var i=mfe(bfe),s;!(s=i()).done;){var a=s.value;if(M9(n,a,r))return a}}}}function M9(t,e,r){return e=r.type(e),!e||!e.pattern()||e.possibleLengths()&&e.possibleLengths().indexOf(t.length)<0?!1:xu(t,e.pattern())}function wfe(t,e,r){if(e=e||{},r=new bi(r),r.selectNumberingPlan(t.country,t.countryCallingCode),r.hasTypes())return Lk(t,e,r.metadata)!==void 0;var n=e.v2?t.nationalNumber:t.phone;return xu(n,r.nationalNumberPattern())}function vfe(t,e,r){var n=new bi(r),i=n.getCountryCodesForCallingCode(t);return i?i.filter(function(s){return xfe(e,s,r)}):[]}function xfe(t,e,r){var n=new bi(r);return n.selectNumberingPlan(e),n.numberingPlan.possibleLengths().indexOf(t.length)>=0}var Fk=2,Efe=17,_fe=3,Ts="0-9---",Cfe="--",Afe="/",Sfe=".",kfe=" ",$fe="()\\[\\]",Tfe="~",rl="".concat(Cfe).concat(Afe).concat(Sfe).concat(kfe).concat($fe).concat(Tfe),E6="+",Ife=new RegExp("(["+Ts+"])");function OV(t,e,r,n){if(e){var i=new bi(n);i.selectNumberingPlan(e,r);var s=new RegExp(i.IDDPrefix());if(t.search(s)===0){t=t.slice(t.match(s)[0].length);var a=t.match(Ife);if(!(a&&a[1]!=null&&a[1].length>0&&a[1]==="0"))return t}}}function AC(t,e){if(t&&e.numberingPlan.nationalPrefixForParsing()){var r=new RegExp("^(?:"+e.numberingPlan.nationalPrefixForParsing()+")"),n=r.exec(t);if(n){var i,s,a=n.length-1,o=a>0&&n[a];if(e.nationalPrefixTransformRule()&&o)i=t.replace(r,e.nationalPrefixTransformRule()),a>1&&(s=n[1]);else{var l=n[0];i=t.slice(l.length),o&&(s=n[1])}var u;if(o){var h=t.indexOf(n[1]),f=t.slice(0,h);f===e.numberingPlan.nationalPrefix()&&(u=e.numberingPlan.nationalPrefix())}else u=n[0];return{nationalNumber:i,nationalPrefix:u,carrierCode:s}}}return{nationalNumber:t}}function Nfe(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=Pfe(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Pfe(t,e){if(t){if(typeof t=="string")return hR(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?hR(t,e):void 0}}function hR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function MV(t,e){var r=e.countries,n=e.metadata;n=new bi(n);for(var i=Nfe(r),s;!(s=i()).done;){var a=s.value;if(n.selectNumberingPlan(a),n.leadingDigits()){if(t&&t.search(n.leadingDigits())===0)return a}else if(Lk({phone:t,country:a},void 0,n.metadata))return a}}function zk(t,e){var r=e.nationalNumber,n=e.metadata,i=n.getCountryCodesForCallingCode(t);if(i)return i.length===1?i[0]:MV(r,{countries:i,metadata:n.metadata})}function SC(t,e,r){var n=AC(t,r),i=n.carrierCode,s=n.nationalNumber;if(s!==t){if(!Ofe(t,s,r))return{nationalNumber:t};if(r.numberingPlan.possibleLengths()&&(e||(e=zk(r.numberingPlan.callingCode(),{nationalNumber:s,metadata:r})),!Mfe(s,e,r)))return{nationalNumber:t}}return{nationalNumber:s,carrierCode:i}}function Ofe(t,e,r){return!(xu(t,r.nationalNumberPattern())&&!xu(e,r.nationalNumberPattern()))}function Mfe(t,e,r){switch(x6(t,e,r)){case"TOO_SHORT":case"INVALID_LENGTH":return!1;default:return!0}}function RV(t,e,r,n,i){var s=e||r?v6(e||r,i):n;if(t.indexOf(s)===0){i=new bi(i),i.selectNumberingPlan(e||r,s);var a=t.slice(s.length),o=SC(a,e,i),l=o.nationalNumber,u=SC(t,e,i),h=u.nationalNumber;if(!xu(h,i.nationalNumberPattern())&&xu(l,i.nationalNumberPattern())||x6(h,e,i)==="TOO_LONG")return{countryCallingCode:s,number:a}}return{number:t}}function Wk(t,e,r,n,i){if(!t)return{};var s;if(t[0]!=="+"){var a=OV(t,e||r,n,i);if(a&&a!==t)s=!0,t="+"+a;else{if(e||r||n){var o=RV(t,e,r,n,i),l=o.countryCallingCode,u=o.number;if(l)return{countryCallingCodeSource:"FROM_NUMBER_WITHOUT_PLUS_SIGN",countryCallingCode:l,number:u}}return{number:t}}}if(t[1]==="0")return{};i=new bi(i);for(var h=2;h-1<=_fe&&h<=t.length;){var f=t.slice(1,h);if(i.hasCallingCode(f))return i.selectNumberingPlan(f),{countryCallingCodeSource:s?"FROM_NUMBER_WITH_IDD":"FROM_NUMBER_WITH_PLUS_SIGN",countryCallingCode:f,number:t.slice(h)};h++}return{}}function jV(t){return t.replace(new RegExp("[".concat(rl,"]+"),"g")," ").trim()}var DV=/(\$\d)/;function UV(t,e,r){var n=r.useInternationalFormat,i=r.withNationalPrefix;r.carrierCode,r.metadata;var s=t.replace(new RegExp(e.pattern()),n?e.internationalFormat():i&&e.nationalPrefixFormattingRule()?e.format().replace(DV,e.nationalPrefixFormattingRule()):e.format());return n?jV(s):s}var Rfe=/^[\d]+(?:[~\u2053\u223C\uFF5E][\d]+)?$/;function jfe(t,e,r){var n=new bi(r);if(n.selectNumberingPlan(t,e),n.defaultIDDPrefix())return n.defaultIDDPrefix();if(Rfe.test(n.IDDPrefix()))return n.IDDPrefix()}var Dfe=";ext=",Yp=function(e){return"([".concat(Ts,"]{1,").concat(e,"})")};function BV(t){var e="20",r="15",n="9",i="6",s="[ \\t,]*",a="[:\\.]?[ \\t,-]*",o="#?",l="(?:e?xt(?:ensi(?:o?|))?n?|??||anexo)",u="(?:[x#~]|int|)",h="[- ]+",f="[ \\t]*",g="(?:,{2}|;)",y=Dfe+Yp(e),b=s+l+a+Yp(e)+o,w=s+u+a+Yp(n)+o,x=h+Yp(i)+"#",E=f+g+a+Yp(r)+o,S=f+"(?:,)+"+a+Yp(n)+o;return y+"|"+b+"|"+w+"|"+x+"|"+E+"|"+S}var Ufe="["+Ts+"]{"+Fk+"}",Bfe="["+E6+"]{0,1}(?:["+rl+"]*["+Ts+"]){3,}["+rl+Ts+"]*",Lfe=new RegExp("^["+E6+"]{0,1}(?:["+rl+"]*["+Ts+"]){1,2}$","i"),Ffe=Bfe+"(?:"+BV()+")?",zfe=new RegExp("^"+Ufe+"$|^"+Ffe+"$","i");function Wfe(t){return t.length>=Fk&&zfe.test(t)}function qfe(t){return Lfe.test(t)}function Hfe(t){var e=t.number,r=t.ext;if(!e)return"";if(e[0]!=="+")throw new Error('"formatRFC3966()" expects "number" to be in E.164 format.');return"tel:".concat(e).concat(r?";ext="+r:"")}var fR={formatExtension:function(e,r,n){return"".concat(e).concat(n.ext()).concat(r)}};function Vfe(t,e,r,n){if(r?r=Yfe({},fR,r):r=fR,n=new bi(n),t.country&&t.country!=="001"){if(!n.hasCountry(t.country))throw new Error("Unknown country: ".concat(t.country));n.selectNumberingPlan(t.country)}else if(t.countryCallingCode)n.selectNumberingPlan(t.countryCallingCode);else return t.phone||"";var i=n.countryCallingCode(),s=r.v2?t.nationalNumber:t.phone,a;switch(e){case"NATIONAL":return s?(a=K3(s,t.carrierCode,"NATIONAL",n,r),R9(a,t.ext,n,r.formatExtension)):"";case"INTERNATIONAL":return s?(a=K3(s,null,"INTERNATIONAL",n,r),a="+".concat(i," ").concat(a),R9(a,t.ext,n,r.formatExtension)):"+".concat(i);case"E.164":return"+".concat(i).concat(s);case"RFC3966":return Hfe({number:"+".concat(i).concat(s),ext:t.ext});case"IDD":if(!r.fromCountry)return;var o=Kfe(s,t.carrierCode,i,r.fromCountry,n);return R9(o,t.ext,n,r.formatExtension);default:throw new Error('Unknown "format" argument passed to "formatNumber()": "'.concat(e,'"'))}}function K3(t,e,r,n,i){var s=Gfe(n.formats(),t);return s?UV(t,s,{useInternationalFormat:r==="INTERNATIONAL",withNationalPrefix:!(s.nationalPrefixIsOptionalWhenFormattingInNationalFormat()&&i&&i.nationalPrefix===!1),carrierCode:e,metadata:n}):t}function Gfe(t,e){return Zfe(t,function(r){if(r.leadingDigitsPatterns().length>0){var n=r.leadingDigitsPatterns()[r.leadingDigitsPatterns().length-1];if(e.search(n)!==0)return!1}return xu(e,r.pattern())})}function R9(t,e,r,n){return e?n(t,e,r):t}function Kfe(t,e,r,n,i){var s=v6(n,i.metadata);if(s===r){var a=K3(t,e,"NATIONAL",i);return r==="1"?r+" "+a:a}var o=jfe(n,void 0,i.metadata);if(o)return"".concat(o," ").concat(r," ").concat(K3(t,null,"INTERNATIONAL",i))}function Yfe(){for(var t=1,e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(;t<r.length;){if(r[t])for(var i in r[t])r[0][i]=r[t][i];t++}return r[0]}function Zfe(t,e){for(var r=0;r<t.length;){if(e(t[r]))return t[r];r++}}function g2(t){"@babel/helpers - typeof";return g2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},g2(t)}function pR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pR(Object(r),!0).forEach(function(n){Qfe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qfe(t,e,r){return(e=LV(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Xfe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function Jfe(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,LV(n.key),n)}}function epe(t,e,r){return e&&Jfe(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function LV(t){var e=tpe(t,"string");return g2(e)=="symbol"?e:e+""}function tpe(t,e){if(g2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(g2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qk=function(){function t(e,r,n){if(Xfe(this,t),!e)throw new TypeError("First argument is required");if(typeof e!="string")throw new TypeError("First argument must be a string");if(e[0]==="+"&&!r)throw new TypeError("`metadata` argument not passed");if(gf(r)&&gf(r.countries)){n=r;var i=e;if(!ipe.test(i))throw new Error('Invalid `number` argument passed: must consist of a "+" followed by digits');var s=Wk(i,void 0,void 0,void 0,n),a=s.countryCallingCode,o=s.number;if(r=o,e=a,!r)throw new Error("Invalid `number` argument passed: too short")}if(!r)throw new TypeError("`nationalNumber` argument is required");if(typeof r!="string")throw new TypeError("`nationalNumber` argument must be a string");IV(n);var l=npe(e,n),u=l.country,h=l.countryCallingCode;this.country=u,this.countryCallingCode=h,this.nationalNumber=r,this.number="+"+this.countryCallingCode+this.nationalNumber,this.getMetadata=function(){return n}}return epe(t,[{key:"setExt",value:function(r){this.ext=r}},{key:"getPossibleCountries",value:function(){return this.country?[this.country]:vfe(this.countryCallingCode,this.nationalNumber,this.getMetadata())}},{key:"isPossible",value:function(){return gfe(this,{v2:!0},this.getMetadata())}},{key:"isValid",value:function(){return wfe(this,{v2:!0},this.getMetadata())}},{key:"isNonGeographic",value:function(){var r=new bi(this.getMetadata());return r.isNonGeographicCallingCode(this.countryCallingCode)}},{key:"isEqual",value:function(r){return this.number===r.number&&this.ext===r.ext}},{key:"getType",value:function(){return Lk(this,{v2:!0},this.getMetadata())}},{key:"format",value:function(r,n){return Vfe(this,r,n?gR(gR({},n),{},{v2:!0}):{v2:!0},this.getMetadata())}},{key:"formatNational",value:function(r){return this.format("NATIONAL",r)}},{key:"formatInternational",value:function(r){return this.format("INTERNATIONAL",r)}},{key:"getURI",value:function(r){return this.format("RFC3966",r)}}])}(),rpe=function(e){return/^[A-Z]{2}$/.test(e)};function npe(t,e){var r,n,i=new bi(e);return rpe(t)?(r=t,i.selectNumberingPlan(r),n=i.countryCallingCode()):n=t,{country:r,countryCallingCode:n}}var ipe=/^\+\d+$/;function kC(t){"@babel/helpers - typeof";return kC=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kC(t)}function spe(t,e,r){return Object.defineProperty(t,"prototype",{writable:!1}),t}function ape(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ope(t,e,r){return e=y2(e),lpe(t,Hk()?Reflect.construct(e,r||[],y2(t).constructor):e.apply(t,r))}function lpe(t,e){if(e&&(kC(e)=="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return cpe(t)}function cpe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function upe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&m2(t,e)}function $C(t){var e=typeof Map=="function"?new Map:void 0;return $C=function(n){if(n===null||!hpe(n))return n;if(typeof n!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(n))return e.get(n);e.set(n,i)}function i(){return dpe(n,arguments,y2(this).constructor)}return i.prototype=Object.create(n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),m2(i,n)},$C(t)}function dpe(t,e,r){if(Hk())return Reflect.construct.apply(null,arguments);var n=[null];n.push.apply(n,e);var i=new(t.bind.apply(t,n));return r&&m2(i,r.prototype),i}function Hk(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(Hk=function(){return!!t})()}function hpe(t){try{return Function.toString.call(t).indexOf("[native code]")!==-1}catch{return typeof t=="function"}}function m2(t,e){return m2=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,n){return r.__proto__=n,r},m2(t,e)}function y2(t){return y2=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},y2(t)}var su=function(t){function e(r){var n;return ape(this,e),n=ope(this,e,[r]),Object.setPrototypeOf(n,e.prototype),n.name=n.constructor.name,n}return upe(e,t),spe(e)}($C(Error)),mR=new RegExp("(?:"+BV()+")$","i");function fpe(t){var e=t.search(mR);if(e<0)return{};for(var r=t.slice(0,e),n=t.match(mR),i=1;i<n.length;){if(n[i])return{number:r,ext:n[i]};i++}}function ppe(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=gpe(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function gpe(t,e){if(t){if(typeof t=="string")return yR(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?yR(t,e):void 0}}function yR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var mpe={0:"0",1:"1",2:"2",3:"3",4:"4",5:"5",6:"6",7:"7",8:"8",9:"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9","":"0","":"1","":"2","":"3","":"4","":"5","":"6","":"7","":"8","":"9"};function FV(t){return mpe[t]}function Y3(t){for(var e="",r=ppe(t.split("")),n;!(n=r()).done;){var i=n.value,s=FV(i);s&&(e+=s)}return e}function ype(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=bpe(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function bpe(t,e){if(t){if(typeof t=="string")return bR(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?bR(t,e):void 0}}function bR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function wR(t){for(var e="",r=ype(t.split("")),n;!(n=r()).done;){var i=n.value;e+=wpe(i,e)||""}return e}function wpe(t,e,r){return t==="+"?e?void 0:"+":FV(t)}var zV="+",vpe="[\\-\\.\\(\\)]?",vR="(["+Ts+"]|"+vpe+")",xpe="^\\"+zV+vR+"*["+Ts+"]"+vR+"*$",Epe=new RegExp(xpe,"g"),TC=Ts,_pe="["+TC+"]+((\\-)*["+TC+"])*",Cpe="a-zA-Z",Ape="["+Cpe+"]+((\\-)*["+TC+"])*",Spe="^("+_pe+"\\.)*"+Ape+"\\.?$",kpe=new RegExp(Spe,"g"),xR="tel:",IC=";phone-context=",$pe=";isub=";function Tpe(t){var e=t.indexOf(IC);if(e<0)return null;var r=e+IC.length;if(r>=t.length)return"";var n=t.indexOf(";",r);return n>=0?t.substring(r,n):t.substring(r)}function Ipe(t){return t===null?!0:t.length===0?!1:Epe.test(t)||kpe.test(t)}function Npe(t,e){var r=e.extractFormattedPhoneNumber,n=Tpe(t);if(!Ipe(n))throw new su("NOT_A_NUMBER");var i;if(n===null)i=r(t)||"";else{i="",n.charAt(0)===zV&&(i+=n);var s=t.indexOf(xR),a;s>=0?a=s+xR.length:a=0;var o=t.indexOf(IC);i+=t.substring(a,o)}var l=i.indexOf($pe);if(l>0&&(i=i.substring(0,l)),i!=="")return i}var Ppe=250,Ope=new RegExp("["+E6+Ts+"]"),Mpe=new RegExp("[^"+Ts+"#]+$");function Rpe(t,e,r){if(e=e||{},r=new bi(r),e.defaultCountry&&!r.hasCountry(e.defaultCountry))throw e.v2?new su("INVALID_COUNTRY"):new Error("Unknown country: ".concat(e.defaultCountry));var n=Dpe(t,e.v2,e.extract),i=n.number,s=n.ext,a=n.error;if(!i){if(e.v2)throw a==="TOO_SHORT"?new su("TOO_SHORT"):new su("NOT_A_NUMBER");return{}}var o=Bpe(i,e.defaultCountry,e.defaultCallingCode,r),l=o.country,u=o.nationalNumber,h=o.countryCallingCode,f=o.countryCallingCodeSource,g=o.carrierCode;if(!r.hasSelectedNumberingPlan()){if(e.v2)throw new su("INVALID_COUNTRY");return{}}if(!u||u.length<Fk){if(e.v2)throw new su("TOO_SHORT");return{}}if(u.length>Efe){if(e.v2)throw new su("TOO_LONG");return{}}if(e.v2){var y=new qk(h,u,r.metadata);return l&&(y.country=l),g&&(y.carrierCode=g),s&&(y.ext=s),y.__countryCallingCodeSource=f,y}var b=(e.extended?r.hasSelectedNumberingPlan():l)?xu(u,r.nationalNumberPattern()):!1;return e.extended?{country:l,countryCallingCode:h,carrierCode:g,valid:b,possible:b?!0:!!(e.extended===!0&&r.possibleLengths()&&PV(u,l,r)),phone:u,ext:s}:b?Upe(l,u,s):{}}function jpe(t,e,r){if(t){if(t.length>Ppe){if(r)throw new su("TOO_LONG");return}if(e===!1)return t;var n=t.search(Ope);if(!(n<0))return t.slice(n).replace(Mpe,"")}}function Dpe(t,e,r){var n=Npe(t,{extractFormattedPhoneNumber:function(a){return jpe(a,r,e)}});if(!n)return{};if(!Wfe(n))return qfe(n)?{error:"TOO_SHORT"}:{};var i=fpe(n);return i.ext?i:{number:n}}function Upe(t,e,r){var n={country:t,phone:e};return r&&(n.ext=r),n}function Bpe(t,e,r,n){var i=Wk(wR(t),void 0,e,r,n.metadata),s=i.countryCallingCodeSource,a=i.countryCallingCode,o=i.number,l;if(a)n.selectNumberingPlan(a);else if(o&&(e||r))n.selectNumberingPlan(e,r),e&&(l=e),a=r||v6(e,n.metadata);else return{};if(!o)return{countryCallingCodeSource:s,countryCallingCode:a};var u=SC(wR(o),l,n),h=u.nationalNumber,f=u.carrierCode,g=zk(a,{nationalNumber:h,metadata:n});return g&&(l=g,g==="001"||n.selectNumberingPlan(l)),{country:l,countryCallingCode:a,countryCallingCodeSource:s,nationalNumber:h,carrierCode:f}}function b2(t){"@babel/helpers - typeof";return b2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b2(t)}function ER(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _R(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?ER(Object(r),!0).forEach(function(n){Lpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):ER(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Lpe(t,e,r){return(e=Fpe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Fpe(t){var e=zpe(t,"string");return b2(e)=="symbol"?e:e+""}function zpe(t,e){if(b2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(b2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Wpe(t,e,r){return Rpe(t,_R(_R({},e),{},{v2:!0}),r)}function w2(t){"@babel/helpers - typeof";return w2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w2(t)}function CR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qpe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CR(Object(r),!0).forEach(function(n){Hpe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Hpe(t,e,r){return(e=Vpe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Vpe(t){var e=Gpe(t,"string");return w2(e)=="symbol"?e:e+""}function Gpe(t,e){if(w2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(w2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Kpe(t,e){return Xpe(t)||Qpe(t,e)||Zpe(t,e)||Ype()}function Ype(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Zpe(t,e){if(t){if(typeof t=="string")return AR(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?AR(t,e):void 0}}function AR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function Qpe(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function Xpe(t){if(Array.isArray(t))return t}function Jpe(t){var e=Array.prototype.slice.call(t),r=Kpe(e,4),n=r[0],i=r[1],s=r[2],a=r[3],o,l,u;if(typeof n=="string")o=n;else throw new TypeError("A text for parsing must be a string.");if(!i||typeof i=="string")a?(l=s,u=a):(l=void 0,u=s),i&&(l=qpe({defaultCountry:i},l));else if(gf(i))s?(l=i,u=s):u=i;else throw new Error("Invalid second argument: ".concat(i));return{text:o,options:l,metadata:u}}function v2(t){"@babel/helpers - typeof";return v2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v2(t)}function SR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SR(Object(r),!0).forEach(function(n){e0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function e0e(t,e,r){return(e=t0e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function t0e(t){var e=r0e(t,"string");return v2(e)=="symbol"?e:e+""}function r0e(t,e){if(v2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(v2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function n0e(t,e,r){e&&e.defaultCountry&&!ffe(e.defaultCountry,r)&&(e=kR(kR({},e),{},{defaultCountry:void 0}));try{return Wpe(t,e,r)}catch(n){if(!(n instanceof su))throw n}}function x2(t){"@babel/helpers - typeof";return x2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x2(t)}function $R(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function TR(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$R(Object(r),!0).forEach(function(n){i0e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$R(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function i0e(t,e,r){return(e=s0e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function s0e(t){var e=a0e(t,"string");return x2(e)=="symbol"?e:e+""}function a0e(t,e){if(x2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(x2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function o0e(){var t=Jpe(arguments),e=t.text,r=t.options,n=t.metadata;r=TR(TR({},r),{},{extract:!1});var i=n0e(e,r,n);return i&&i.isPossible()||!1}function E2(t){"@babel/helpers - typeof";return E2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},E2(t)}function l0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,d0e(n.key),n)}}function u0e(t,e,r){return e&&c0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function d0e(t){var e=h0e(t,"string");return E2(e)=="symbol"?e:e+""}function h0e(t,e){if(E2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(E2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var f0e=function(){function t(e){var r=e.onCountryChange,n=e.onCallingCodeChange;l0e(this,t),this.onCountryChange=r,this.onCallingCodeChange=n}return u0e(t,[{key:"reset",value:function(r){var n=r.country,i=r.callingCode;this.international=!1,this.missingPlus=!1,this.IDDPrefix=void 0,this.callingCode=void 0,this.digits="",this.resetNationalSignificantNumber(),this.initCountryAndCallingCode(n,i)}},{key:"resetNationalSignificantNumber",value:function(){this.nationalSignificantNumber=this.getNationalDigits(),this.nationalSignificantNumberIsModified=!1,this.nationalPrefix=void 0,this.carrierCode=void 0,this.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix=void 0}},{key:"update",value:function(r){for(var n=0,i=Object.keys(r);n<i.length;n++){var s=i[n];this[s]=r[s]}}},{key:"initCountryAndCallingCode",value:function(r,n){this.setCountry(r),this.setCallingCode(n)}},{key:"setCountry",value:function(r){this.country=r,this.onCountryChange(r)}},{key:"setCallingCode",value:function(r){this.callingCode=r,this.onCallingCodeChange(r,this.country)}},{key:"startInternationalNumber",value:function(r,n){this.international=!0,this.initCountryAndCallingCode(r,n)}},{key:"appendDigits",value:function(r){this.digits+=r}},{key:"appendNationalSignificantNumberDigits",value:function(r){this.nationalSignificantNumber+=r}},{key:"getNationalDigits",value:function(){return this.international?this.digits.slice((this.IDDPrefix?this.IDDPrefix.length:0)+(this.callingCode?this.callingCode.length:0)):this.digits}},{key:"getDigitsWithoutInternationalPrefix",value:function(){return this.international&&this.IDDPrefix?this.digits.slice(this.IDDPrefix.length):this.digits}}])}();function p0e(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=g0e(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function g0e(t,e){if(t){if(typeof t=="string")return IR(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?IR(t,e):void 0}}function IR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}var Vo="x",j9=new RegExp(Vo);function n3(t,e){if(e<1)return"";for(var r="";e>1;)e&1&&(r+=t),e>>=1,t+=t;return r+t}function NR(t,e){return t[e]===")"&&e++,m0e(t.slice(0,e))}function m0e(t){for(var e=[],r=0;r<t.length;)t[r]==="("?e.push(r):t[r]===")"&&e.pop(),r++;var n=0,i="";e.push(t.length);for(var s=0,a=e;s<a.length;s++){var o=a[s];i+=t.slice(n,o),n=o+1}return i}function y0e(t,e,r){for(var n=p0e(r.split("")),i;!(i=n()).done;){var s=i.value;if(t.slice(e+1).search(j9)<0)return;e=t.search(j9),t=t.replace(j9,s)}return[t,e]}function b0e(t,e,r){var n=r.metadata,i=r.shouldTryNationalPrefixFormattingRule,s=r.getSeparatorAfterNationalPrefix,a=new RegExp("^(?:".concat(e.pattern(),")$"));if(a.test(t.nationalSignificantNumber))return v0e(t,e,{metadata:n,shouldTryNationalPrefixFormattingRule:i,getSeparatorAfterNationalPrefix:s})}function w0e(t,e,r){return x6(t,e,r)==="IS_POSSIBLE"}function v0e(t,e,r){var n=r.metadata,i=r.shouldTryNationalPrefixFormattingRule,s=r.getSeparatorAfterNationalPrefix;if(t.nationalSignificantNumber,t.international,t.nationalPrefix,t.carrierCode,i(e)){var a=PR(t,e,{useNationalPrefixFormattingRule:!0,getSeparatorAfterNationalPrefix:s,metadata:n});if(a)return a}return PR(t,e,{useNationalPrefixFormattingRule:!1,getSeparatorAfterNationalPrefix:s,metadata:n})}function PR(t,e,r){var n=r.metadata,i=r.useNationalPrefixFormattingRule,s=r.getSeparatorAfterNationalPrefix,a=UV(t.nationalSignificantNumber,e,{carrierCode:t.carrierCode,useInternationalFormat:t.international,withNationalPrefix:i,metadata:n});if(i||(t.nationalPrefix?a=t.nationalPrefix+s(e)+a:t.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix&&(a=t.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix+" "+a)),x0e(a,t))return a}function x0e(t,e){return Y3(t)===e.getNationalDigits()}function _2(t){"@babel/helpers - typeof";return _2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_2(t)}function E0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,A0e(n.key),n)}}function C0e(t,e,r){return e&&_0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function A0e(t){var e=S0e(t,"string");return _2(e)=="symbol"?e:e+""}function S0e(t,e){if(_2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(_2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var k0e=function(){function t(){E0e(this,t)}return C0e(t,[{key:"parse",value:function(r){if(this.context=[{or:!0,instructions:[]}],this.parsePattern(r),this.context.length!==1)throw new Error("Non-finalized contexts left when pattern parse ended");var n=this.context[0],i=n.branches,s=n.instructions;if(i)return{op:"|",args:i.concat([D9(s)])};if(s.length===0)throw new Error("Pattern is required");return s.length===1?s[0]:s}},{key:"startContext",value:function(r){this.context.push(r)}},{key:"endContext",value:function(){this.context.pop()}},{key:"getContext",value:function(){return this.context[this.context.length-1]}},{key:"parsePattern",value:function(r){if(!r)throw new Error("Pattern is required");var n=r.match(I0e);if(!n){if(T0e.test(r))throw new Error("Illegal characters found in a pattern: ".concat(r));this.getContext().instructions=this.getContext().instructions.concat(r.split(""));return}var i=n[1],s=r.slice(0,n.index),a=r.slice(n.index+i.length);switch(i){case"(?:":s&&this.parsePattern(s),this.startContext({or:!0,instructions:[],branches:[]});break;case")":if(!this.getContext().or)throw new Error('")" operator must be preceded by "(?:" operator');if(s&&this.parsePattern(s),this.getContext().instructions.length===0)throw new Error('No instructions found after "|" operator in an "or" group');var o=this.getContext(),l=o.branches;l.push(D9(this.getContext().instructions)),this.endContext(),this.getContext().instructions.push({op:"|",args:l});break;case"|":if(!this.getContext().or)throw new Error('"|" operator can only be used inside "or" groups');if(s&&this.parsePattern(s),!this.getContext().branches)if(this.context.length===1)this.getContext().branches=[];else throw new Error('"branches" not found in an "or" group context');this.getContext().branches.push(D9(this.getContext().instructions)),this.getContext().instructions=[];break;case"[":s&&this.parsePattern(s),this.startContext({oneOfSet:!0});break;case"]":if(!this.getContext().oneOfSet)throw new Error('"]" operator must be preceded by "[" operator');this.endContext(),this.getContext().instructions.push({op:"[]",args:$0e(s)});break;default:throw new Error("Unknown operator: ".concat(i))}a&&this.parsePattern(a)}}])}();function $0e(t){for(var e=[],r=0;r<t.length;){if(t[r]==="-"){if(r===0||r===t.length-1)throw new Error("Couldn't parse a one-of set pattern: ".concat(t));for(var n=t[r-1].charCodeAt(0)+1,i=t[r+1].charCodeAt(0)-1,s=n;s<=i;)e.push(String.fromCharCode(s)),s++}else e.push(t[r]);r++}return e}var T0e=/[\(\)\[\]\?\:\|]/,I0e=new RegExp("(\\||\\(\\?\\:|\\)|\\[|\\])");function D9(t){return t.length===1?t[0]:t}function OR(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=N0e(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function N0e(t,e){if(t){if(typeof t=="string")return MR(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?MR(t,e):void 0}}function MR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function C2(t){"@babel/helpers - typeof";return C2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C2(t)}function P0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function O0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,R0e(n.key),n)}}function M0e(t,e,r){return e&&O0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function R0e(t){var e=j0e(t,"string");return C2(e)=="symbol"?e:e+""}function j0e(t,e){if(C2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(C2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var D0e=function(){function t(e){P0e(this,t),this.matchTree=new k0e().parse(e)}return M0e(t,[{key:"match",value:function(r){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=n.allowOverflow;if(!r)throw new Error("String is required");var s=NC(r.split(""),this.matchTree,!0);if(s&&s.match&&delete s.matchedChars,!(s&&s.overflow&&!i))return s}}])}();function NC(t,e,r){if(typeof e=="string"){var n=t.join("");return e.indexOf(n)===0?t.length===e.length?{match:!0,matchedChars:t}:{partialMatch:!0}:n.indexOf(e)===0?r&&t.length>e.length?{overflow:!0}:{match:!0,matchedChars:t.slice(0,e.length)}:void 0}if(Array.isArray(e)){for(var i=t.slice(),s=0;s<e.length;){var a=e[s],o=NC(i,a,r&&s===e.length-1);if(o){if(o.overflow)return o;if(o.match){if(i=i.slice(o.matchedChars.length),i.length===0)return s===e.length-1?{match:!0,matchedChars:t}:{partialMatch:!0}}else{if(o.partialMatch)return{partialMatch:!0};throw new Error(`Unsupported match result:
`.concat(JSON.stringify(o,null,2)))}}else return;s++}return r?{overflow:!0}:{match:!0,matchedChars:t.slice(0,t.length-i.length)}}switch(e.op){case"|":for(var l,u=OR(e.args),h;!(h=u()).done;){var f=h.value,g=NC(t,f,r);if(g){if(g.overflow)return g;if(g.match)return{match:!0,matchedChars:g.matchedChars};if(g.partialMatch)l=!0;else throw new Error(`Unsupported match result:
`.concat(JSON.stringify(g,null,2)))}}return l?{partialMatch:!0}:void 0;case"[]":for(var y=OR(e.args),b;!(b=y()).done;){var w=b.value;if(t[0]===w)return t.length===1?{match:!0,matchedChars:t}:r?{overflow:!0}:{match:!0,matchedChars:[w]}}return;default:throw new Error("Unsupported instruction tree: ".concat(e))}}function A2(t){"@babel/helpers - typeof";return A2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},A2(t)}function RR(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=U0e(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function U0e(t,e){if(t){if(typeof t=="string")return jR(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?jR(t,e):void 0}}function jR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function B0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L0e(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,z0e(n.key),n)}}function F0e(t,e,r){return e&&L0e(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function z0e(t){var e=W0e(t,"string");return A2(e)=="symbol"?e:e+""}function W0e(t,e){if(A2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(A2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var PC="9",q0e=15,H0e=n3(PC,q0e),V0e=/[- ]/,G0e=function(){return/\[([^\[\]])*\]/g},K0e=function(){return/\d(?=[^,}][^,}])/g},Y0e=new RegExp("["+rl+"]*\\$1["+rl+"]*(\\$\\d["+rl+"]*)*$"),DR=3,Z0e=function(){function t(e){e.state;var r=e.metadata;B0e(this,t),this.metadata=r,this.resetFormat()}return F0e(t,[{key:"resetFormat",value:function(){this.chosenFormat=void 0,this.template=void 0,this.nationalNumberTemplate=void 0,this.populatedNationalNumberTemplate=void 0,this.populatedNationalNumberTemplatePosition=-1}},{key:"reset",value:function(r,n){this.resetFormat(),r?(this.isNANP=r.callingCode()==="1",this.matchingFormats=r.formats(),n.nationalSignificantNumber&&this.narrowDownMatchingFormats(n)):(this.isNANP=void 0,this.matchingFormats=[])}},{key:"format",value:function(r,n){var i=this;if(w0e(n.nationalSignificantNumber,n.country,this.metadata))for(var s=RR(this.matchingFormats),a;!(a=s()).done;){var o=a.value,l=b0e(n,o,{metadata:this.metadata,shouldTryNationalPrefixFormattingRule:function(h){return i.shouldTryNationalPrefixFormattingRule(h,{international:n.international,nationalPrefix:n.nationalPrefix})},getSeparatorAfterNationalPrefix:function(h){return i.getSeparatorAfterNationalPrefix(h)}});if(l)return this.resetFormat(),this.chosenFormat=o,this.setNationalNumberTemplate(l.replace(/\d/g,Vo),n),this.populatedNationalNumberTemplate=l,this.populatedNationalNumberTemplatePosition=this.template.lastIndexOf(Vo),l}return this.formatNationalNumberWithNextDigits(r,n)}},{key:"formatNationalNumberWithNextDigits",value:function(r,n){var i=this.chosenFormat,s=this.chooseFormat(n);if(s)return s===i?this.formatNextNationalNumberDigits(r):this.formatNextNationalNumberDigits(n.getNationalDigits())}},{key:"narrowDownMatchingFormats",value:function(r){var n=this,i=r.nationalSignificantNumber,s=r.nationalPrefix,a=r.international,o=i,l=o.length-DR;l<0&&(l=0),this.matchingFormats=this.matchingFormats.filter(function(u){return n.formatSuits(u,a,s)&&n.formatMatches(u,o,l)}),this.chosenFormat&&this.matchingFormats.indexOf(this.chosenFormat)===-1&&this.resetFormat()}},{key:"formatSuits",value:function(r,n,i){return!(i&&!r.usesNationalPrefix()&&!r.nationalPrefixIsOptionalWhenFormattingInNationalFormat()||!n&&!i&&r.nationalPrefixIsMandatoryWhenFormattingInNationalFormat())}},{key:"formatMatches",value:function(r,n,i){var s=r.leadingDigitsPatterns().length;if(s===0)return!0;i=Math.min(i,s-1);var a=r.leadingDigitsPatterns()[i];if(n.length<DR)try{return new D0e(a).match(n,{allowOverflow:!0})!==void 0}catch(o){return console.error(o),!0}return new RegExp("^(".concat(a,")")).test(n)}},{key:"getFormatFormat",value:function(r,n){return n?r.internationalFormat():r.format()}},{key:"chooseFormat",value:function(r){for(var n=this,i=function(){var u=o.value;return n.chosenFormat===u?0:Y0e.test(n.getFormatFormat(u,r.international))?n.createTemplateForFormat(u,r)?(n.chosenFormat=u,0):(n.matchingFormats=n.matchingFormats.filter(function(h){return h!==u}),1):1},s,a=RR(this.matchingFormats.slice()),o;!(o=a()).done&&(s=i(),s!==0););return this.chosenFormat||this.resetFormat(),this.chosenFormat}},{key:"createTemplateForFormat",value:function(r,n){if(!(r.pattern().indexOf("|")>=0)){var i=this.getTemplateForFormat(r,n);if(i)return this.setNationalNumberTemplate(i,n),!0}}},{key:"getSeparatorAfterNationalPrefix",value:function(r){return this.isNANP||r&&r.nationalPrefixFormattingRule()&&V0e.test(r.nationalPrefixFormattingRule())?" ":""}},{key:"getInternationalPrefixBeforeCountryCallingCode",value:function(r,n){var i=r.IDDPrefix,s=r.missingPlus;return i?n&&n.spacing===!1?i:i+" ":s?"":"+"}},{key:"getTemplate",value:function(r){if(this.template){for(var n=-1,i=0,s=r.international?this.getInternationalPrefixBeforeCountryCallingCode(r,{spacing:!1}):"";i<s.length+r.getDigitsWithoutInternationalPrefix().length;)n=this.template.indexOf(Vo,n+1),i++;return NR(this.template,n+1)}}},{key:"setNationalNumberTemplate",value:function(r,n){this.nationalNumberTemplate=r,this.populatedNationalNumberTemplate=r,this.populatedNationalNumberTemplatePosition=-1,n.international?this.template=this.getInternationalPrefixBeforeCountryCallingCode(n).replace(/[\d\+]/g,Vo)+n3(Vo,n.callingCode.length)+" "+r:this.template=r}},{key:"getTemplateForFormat",value:function(r,n){var i=n.nationalSignificantNumber,s=n.international,a=n.nationalPrefix,o=n.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,l=r.pattern();l=l.replace(G0e(),"\\d").replace(K0e(),"\\d");var u=H0e.match(l)[0];if(!(i.length>u.length)){var h=new RegExp("^"+l+"$"),f=i.replace(/\d/g,PC);h.test(f)&&(u=f);var g=this.getFormatFormat(r,s),y;if(this.shouldTryNationalPrefixFormattingRule(r,{international:s,nationalPrefix:a})){var b=g.replace(DV,r.nationalPrefixFormattingRule());if(Y3(r.nationalPrefixFormattingRule())===(a||"")+Y3("$1")&&(g=b,y=!0,a))for(var w=a.length;w>0;)g=g.replace(/\d/,Vo),w--}var x=u.replace(new RegExp(l),g).replace(new RegExp(PC,"g"),Vo);return y||(o?x=n3(Vo,o.length)+" "+x:a&&(x=n3(Vo,a.length)+this.getSeparatorAfterNationalPrefix(r)+x)),s&&(x=jV(x)),x}}},{key:"formatNextNationalNumberDigits",value:function(r){var n=y0e(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition,r);if(!n){this.resetFormat();return}return this.populatedNationalNumberTemplate=n[0],this.populatedNationalNumberTemplatePosition=n[1],NR(this.populatedNationalNumberTemplate,this.populatedNationalNumberTemplatePosition+1)}},{key:"shouldTryNationalPrefixFormattingRule",value:function(r,n){var i=n.international,s=n.nationalPrefix;if(r.nationalPrefixFormattingRule()){var a=r.usesNationalPrefix();if(a&&s||!a&&!i)return!0}}}])}();function S2(t){"@babel/helpers - typeof";return S2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},S2(t)}function WV(t,e){return ege(t)||J0e(t,e)||X0e(t,e)||Q0e()}function Q0e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function X0e(t,e){if(t){if(typeof t=="string")return UR(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?UR(t,e):void 0}}function UR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function J0e(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function ege(t){if(Array.isArray(t))return t}function tge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,ige(n.key),n)}}function nge(t,e,r){return e&&rge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function ige(t){var e=sge(t,"string");return S2(e)=="symbol"?e:e+""}function sge(t,e){if(S2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(S2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var age="["+rl+Ts+"]+",oge=new RegExp("^"+age+"$","i"),lge="(?:["+E6+"]["+rl+Ts+"]*|["+rl+Ts+"]+)",cge=new RegExp("[^"+rl+Ts+"]+.*$"),uge=/[^\d\[\]]/,dge=function(){function t(e){var r=e.defaultCountry,n=e.defaultCallingCode,i=e.metadata,s=e.onNationalSignificantNumberChange;tge(this,t),this.defaultCountry=r,this.defaultCallingCode=n,this.metadata=i,this.onNationalSignificantNumberChange=s}return nge(t,[{key:"input",value:function(r,n){var i=pge(r),s=WV(i,2),a=s[0],o=s[1],l=Y3(a),u;return o&&(n.digits||(n.startInternationalNumber(void 0,void 0),l||(u=!0))),l&&this.inputDigits(l,n),{digits:l,justLeadingPlus:u}}},{key:"inputDigits",value:function(r,n){var i=n.digits,s=i.length<3&&i.length+r.length>=3;if(n.appendDigits(r),s&&this.extractIddPrefix(n),this.isWaitingForCountryCallingCode(n)){if(!this.extractCountryCallingCode(n))return}else n.appendNationalSignificantNumberDigits(r);n.international||this.hasExtractedNationalSignificantNumber||this.extractNationalSignificantNumber(n.getNationalDigits(),function(a){return n.update(a)})}},{key:"isWaitingForCountryCallingCode",value:function(r){var n=r.international,i=r.callingCode;return n&&!i}},{key:"extractCountryCallingCode",value:function(r){var n=Wk("+"+r.getDigitsWithoutInternationalPrefix(),r.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=n.countryCallingCode,s=n.number;if(i)return r.setCallingCode(i),r.update({nationalSignificantNumber:s}),!0}},{key:"reset",value:function(r){if(r){this.hasSelectedNumberingPlan=!0;var n=r._nationalPrefixForParsing();this.couldPossiblyExtractAnotherNationalSignificantNumber=n&&uge.test(n)}else this.hasSelectedNumberingPlan=void 0,this.couldPossiblyExtractAnotherNationalSignificantNumber=void 0}},{key:"extractNationalSignificantNumber",value:function(r,n){if(this.hasSelectedNumberingPlan){var i=AC(r,this.metadata),s=i.nationalPrefix,a=i.nationalNumber,o=i.carrierCode;if(a!==r)return this.onExtractedNationalNumber(s,o,a,r,n),!0}}},{key:"extractAnotherNationalSignificantNumber",value:function(r,n,i){if(!this.hasExtractedNationalSignificantNumber)return this.extractNationalSignificantNumber(r,i);if(this.couldPossiblyExtractAnotherNationalSignificantNumber){var s=AC(r,this.metadata),a=s.nationalPrefix,o=s.nationalNumber,l=s.carrierCode;if(o!==n)return this.onExtractedNationalNumber(a,l,o,r,i),!0}}},{key:"onExtractedNationalNumber",value:function(r,n,i,s,a){var o=!1,l,u=s.lastIndexOf(i);if(u<0||u!==s.length-i.length)o=!0;else{var h=s.slice(0,u);h&&h!==r&&(l=h)}a({nationalPrefix:r,carrierCode:n,nationalSignificantNumber:i,nationalSignificantNumberIsModified:o,prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix:l}),this.hasExtractedNationalSignificantNumber=!0,this.onNationalSignificantNumberChange()}},{key:"reExtractNationalSignificantNumber",value:function(r){if(this.extractAnotherNationalSignificantNumber(r.getNationalDigits(),r.nationalSignificantNumber,function(n){return r.update(n)}))return!0;if(this.extractIddPrefix(r))return this.extractCallingCodeAndNationalSignificantNumber(r),!0;if(this.fixMissingPlus(r))return this.extractCallingCodeAndNationalSignificantNumber(r),!0}},{key:"extractIddPrefix",value:function(r){var n=r.international,i=r.IDDPrefix,s=r.digits;if(r.nationalSignificantNumber,!(n||i)){var a=OV(s,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata);if(a!==void 0&&a!==s)return r.update({IDDPrefix:s.slice(0,s.length-a.length)}),this.startInternationalNumber(r,{country:void 0,callingCode:void 0}),!0}}},{key:"fixMissingPlus",value:function(r){if(!r.international){var n=RV(r.digits,r.country,this.defaultCountry,this.defaultCallingCode,this.metadata.metadata),i=n.countryCallingCode;if(i)return r.update({missingPlus:!0}),this.startInternationalNumber(r,{country:r.country,callingCode:i}),!0}}},{key:"startInternationalNumber",value:function(r,n){var i=n.country,s=n.callingCode;r.startInternationalNumber(i,s),r.nationalSignificantNumber&&(r.resetNationalSignificantNumber(),this.onNationalSignificantNumberChange(),this.hasExtractedNationalSignificantNumber=void 0)}},{key:"extractCallingCodeAndNationalSignificantNumber",value:function(r){this.extractCountryCallingCode(r)&&this.extractNationalSignificantNumber(r.getNationalDigits(),function(n){return r.update(n)})}}])}();function hge(t){var e=t.search(lge);if(!(e<0)){t=t.slice(e);var r;return t[0]==="+"&&(r=!0,t=t.slice(1)),t=t.replace(cge,""),r&&(t="+"+t),t}}function fge(t){var e=hge(t)||"";return e[0]==="+"?[e.slice(1),!0]:[e]}function pge(t){var e=fge(t),r=WV(e,2),n=r[0],i=r[1];return oge.test(n)||(n=""),[n,i]}function k2(t){"@babel/helpers - typeof";return k2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k2(t)}function gge(t,e){return wge(t)||bge(t,e)||yge(t,e)||mge()}function mge(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function yge(t,e){if(t){if(typeof t=="string")return BR(t,e);var r={}.toString.call(t).slice(8,-1);return r==="Object"&&t.constructor&&(r=t.constructor.name),r==="Map"||r==="Set"?Array.from(t):r==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?BR(t,e):void 0}}function BR(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=Array(e);r<e;r++)n[r]=t[r];return n}function bge(t,e){var r=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r!=null){var n,i,s,a,o=[],l=!0,u=!1;try{if(s=(r=r.call(t)).next,e!==0)for(;!(l=(n=s.call(r)).done)&&(o.push(n.value),o.length!==e);l=!0);}catch(h){u=!0,i=h}finally{try{if(!l&&r.return!=null&&(a=r.return(),Object(a)!==a))return}finally{if(u)throw i}}return o}}function wge(t){if(Array.isArray(t))return t}function vge(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function xge(t,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,_ge(n.key),n)}}function Ege(t,e,r){return e&&xge(t.prototype,e),Object.defineProperty(t,"prototype",{writable:!1}),t}function _ge(t){var e=Cge(t,"string");return k2(e)=="symbol"?e:e+""}function Cge(t,e){if(k2(t)!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(k2(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(t)}var qV=function(){function t(e,r){vge(this,t),this.metadata=new bi(r);var n=this.getCountryAndCallingCode(e),i=gge(n,2),s=i[0],a=i[1];this.defaultCountry=s,this.defaultCallingCode=a,this.reset()}return Ege(t,[{key:"getCountryAndCallingCode",value:function(r){var n,i;return r&&(gf(r)?(n=r.defaultCountry,i=r.defaultCallingCode):n=r),n&&!this.metadata.hasCountry(n)&&(n=void 0),[n,i]}},{key:"input",value:function(r){var n=this.parser.input(r,this.state),i=n.digits,s=n.justLeadingPlus;if(s)this.formattedOutput="+";else if(i){this.determineTheCountryIfNeeded(),this.state.nationalSignificantNumber&&this.formatter.narrowDownMatchingFormats(this.state);var a;if(this.metadata.hasSelectedNumberingPlan()&&(a=this.formatter.format(i,this.state)),a===void 0&&this.parser.reExtractNationalSignificantNumber(this.state)){this.determineTheCountryIfNeeded();var o=this.state.getNationalDigits();o&&(a=this.formatter.format(o,this.state))}this.formattedOutput=a?this.getFullNumber(a):this.getNonFormattedNumber()}return this.formattedOutput}},{key:"reset",value:function(){var r=this;return this.state=new f0e({onCountryChange:function(i){r.country=i},onCallingCodeChange:function(i,s){r.metadata.selectNumberingPlan(s,i),r.formatter.reset(r.metadata.numberingPlan,r.state),r.parser.reset(r.metadata.numberingPlan)}}),this.formatter=new Z0e({state:this.state,metadata:this.metadata}),this.parser=new dge({defaultCountry:this.defaultCountry,defaultCallingCode:this.defaultCallingCode,metadata:this.metadata,state:this.state,onNationalSignificantNumberChange:function(){r.determineTheCountryIfNeeded(),r.formatter.reset(r.metadata.numberingPlan,r.state)}}),this.state.reset({country:this.defaultCountry,callingCode:this.defaultCallingCode}),this.formattedOutput="",this}},{key:"isInternational",value:function(){return this.state.international}},{key:"getCallingCode",value:function(){if(this.isInternational())return this.state.callingCode}},{key:"getCountryCallingCode",value:function(){return this.getCallingCode()}},{key:"getCountry",value:function(){var r=this.state.digits;if(r)return this._getCountry()}},{key:"_getCountry",value:function(){var r=this.state.country;return r}},{key:"determineTheCountryIfNeeded",value:function(){(!this.state.country||this.isCountryCallingCodeAmbiguous())&&this.determineTheCountry()}},{key:"getFullNumber",value:function(r){var n=this;if(this.isInternational()){var i=function(o){return n.formatter.getInternationalPrefixBeforeCountryCallingCode(n.state,{spacing:!!o})+o},s=this.state.callingCode;return i(s?r?"".concat(s," ").concat(r):s:"".concat(this.state.getDigitsWithoutInternationalPrefix()))}return r}},{key:"getNonFormattedNationalNumberWithPrefix",value:function(){var r=this.state,n=r.nationalSignificantNumber,i=r.prefixBeforeNationalSignificantNumberThatIsNotNationalPrefix,s=r.nationalPrefix,a=n,o=i||s;return o&&(a=o+a),a}},{key:"getNonFormattedNumber",value:function(){var r=this.state.nationalSignificantNumberIsModified;return this.getFullNumber(r?this.state.getNationalDigits():this.getNonFormattedNationalNumberWithPrefix())}},{key:"getNonFormattedTemplate",value:function(){var r=this.getNonFormattedNumber();if(r)return r.replace(/[\+\d]/g,Vo)}},{key:"isCountryCallingCodeAmbiguous",value:function(){var r=this.state.callingCode,n=this.metadata.getCountryCodesForCallingCode(r);return n&&n.length>1}},{key:"determineTheCountry",value:function(){this.state.setCountry(zk(this.isInternational()?this.state.callingCode:this.defaultCallingCode,{nationalNumber:this.state.nationalSignificantNumber,metadata:this.metadata}))}},{key:"getNumberValue",value:function(){var r=this.state,n=r.digits,i=r.callingCode,s=r.country,a=r.nationalSignificantNumber;if(n){if(this.isInternational())return i?"+"+i+a:"+"+n;if(s||i){var o=s?this.metadata.countryCallingCode():i;return"+"+o+a}}}},{key:"getNumber",value:function(){var r=this.state,n=r.nationalSignificantNumber,i=r.carrierCode,s=r.callingCode,a=this._getCountry();if(n&&!(!a&&!s)){if(a&&a===this.defaultCountry){var o=new bi(this.metadata.metadata);o.selectNumberingPlan(a);var l=o.numberingPlan.callingCode(),u=this.metadata.getCountryCodesForCallingCode(l);if(u.length>1){var h=MV(n,{countries:u,metadata:this.metadata.metadata});h&&(a=h)}}var f=new qk(a||s,n,this.metadata.metadata);return i&&(f.carrierCode=i),f}}},{key:"isPossible",value:function(){var r=this.getNumber();return r?r.isPossible():!1}},{key:"isValid",value:function(){var r=this.getNumber();return r?r.isValid():!1}},{key:"getNationalNumber",value:function(){return this.state.nationalSignificantNumber}},{key:"getChars",value:function(){return(this.state.international?"+":"")+this.state.digits}},{key:"getTemplate",value:function(){return this.formatter.getTemplate(this.state)||this.getNonFormattedTemplate()||""}}])}();function Age(t){return new bi(t).getCountries()}function Sge(t,e,r){if(e[t])return new qk(t,e[t],r)}function _6(t,{method:e}){var n,i;const r={};return t.transport.type==="fallback"&&((i=(n=t.transport).onResponse)==null||i.call(n,({method:s,response:a,status:o,transport:l})=>{o==="success"&&e===s&&(r[a]=l.request)})),s=>r[s]||t.request}async function HV(t,e){const{address:r,abi:n,args:i,eventName:s,fromBlock:a,strict:o,toBlock:l}=e,u=_6(t,{method:"eth_newFilter"}),h=s?sb({abi:n,args:i,eventName:s}):void 0,f=await t.request({method:"eth_newFilter",params:[{address:r,fromBlock:typeof a=="bigint"?It(a):a,toBlock:typeof l=="bigint"?It(l):l,topics:h}]});return{abi:n,args:i,eventName:s,id:f,request:u(f),strict:!!o,type:"event"}}class kge extends ze{constructor(){super("`baseFeeMultiplier` must be greater than 1.",{name:"BaseFeeScalarError"})}}class Vk extends ze{constructor(){super("Chain does not support EIP-1559 fees.",{name:"Eip1559FeesNotSupportedError"})}}class $ge extends ze{constructor({maxPriorityFeePerGas:e}){super(`\`maxFeePerGas\` cannot be less than the \`maxPriorityFeePerGas\` (${Js(e)} gwei).`,{name:"MaxFeePerGasTooLowError"})}}class VV extends ze{constructor({blockHash:e,blockNumber:r}){let n="Block";e&&(n=`Block at hash "${e}"`),r&&(n=`Block at number "${r}"`),super(`${n} could not be found.`,{name:"BlockNotFoundError"})}}async function tc(t,{blockHash:e,blockNumber:r,blockTag:n=t.experimental_blockTag??"latest",includeTransactions:i}={}){var u,h,f;const s=i??!1,a=r!==void 0?It(r):void 0;let o=null;if(e?o=await t.request({method:"eth_getBlockByHash",params:[e,s]},{dedupe:!0}):o=await t.request({method:"eth_getBlockByNumber",params:[a||n,s]},{dedupe:!!a}),!o)throw new VV({blockHash:e,blockNumber:r});return(((f=(h=(u=t.chain)==null?void 0:u.formatters)==null?void 0:h.block)==null?void 0:f.format)||KH)(o)}async function Gk(t){const e=await t.request({method:"eth_gasPrice"});return BigInt(e)}async function Tge(t,e){return GV(t,e)}async function GV(t,e){var s,a;const{block:r,chain:n=t.chain,request:i}=e||{};try{const o=((s=n==null?void 0:n.fees)==null?void 0:s.maxPriorityFeePerGas)??((a=n==null?void 0:n.fees)==null?void 0:a.defaultPriorityFee);if(typeof o=="function"){const u=r||await Ot(t,tc,"getBlock")({}),h=await o({block:u,client:t,request:i});if(h===null)throw new Error;return h}if(typeof o<"u")return o;const l=await t.request({method:"eth_maxPriorityFeePerGas"});return Oa(l)}catch{const[o,l]=await Promise.all([r?Promise.resolve(r):Ot(t,tc,"getBlock")({}),Ot(t,Gk,"getGasPrice")({})]);if(typeof o.baseFeePerGas!="bigint")throw new Vk;const u=l-o.baseFeePerGas;return u<0n?0n:u}}async function Ige(t,e){return OC(t,e)}async function OC(t,e){var g,y;const{block:r,chain:n=t.chain,request:i,type:s="eip1559"}=e||{},a=await(async()=>{var b,w;return typeof((b=n==null?void 0:n.fees)==null?void 0:b.baseFeeMultiplier)=="function"?n.fees.baseFeeMultiplier({block:r,client:t,request:i}):((w=n==null?void 0:n.fees)==null?void 0:w.baseFeeMultiplier)??1.2})();if(a<1)throw new kge;const l=10**(((g=a.toString().split(".")[1])==null?void 0:g.length)??0),u=b=>b*BigInt(Math.ceil(a*l))/BigInt(l),h=r||await Ot(t,tc,"getBlock")({});if(typeof((y=n==null?void 0:n.fees)==null?void 0:y.estimateFeesPerGas)=="function"){const b=await n.fees.estimateFeesPerGas({block:r,client:t,multiply:u,request:i,type:s});if(b!==null)return b}if(s==="eip1559"){if(typeof h.baseFeePerGas!="bigint")throw new Vk;const b=typeof(i==null?void 0:i.maxPriorityFeePerGas)=="bigint"?i.maxPriorityFeePerGas:await GV(t,{block:h,chain:n,request:i}),w=u(h.baseFeePerGas);return{maxFeePerGas:(i==null?void 0:i.maxFeePerGas)??w+b,maxPriorityFeePerGas:b}}return{gasPrice:(i==null?void 0:i.gasPrice)??u(await Ot(t,Gk,"getGasPrice")({}))}}async function Bg(t){const e=await t.request({method:"eth_chainId"},{dedupe:!0});return ol(e)}const KV=["blobVersionedHashes","chainId","fees","gas","nonce","type"],LR=new Map;async function C6(t,e){const{account:r=t.account,blobs:n,chain:i,gas:s,kzg:a,nonce:o,nonceManager:l,parameters:u=KV,type:h}=e,f=r&&Kn(r),g={...e,...f?{from:f==null?void 0:f.address}:{}};let y;async function b(){return y||(y=await Ot(t,tc,"getBlock")({blockTag:"latest"}),y)}let w;async function x(){return w||(i?i.id:typeof e.chainId<"u"?e.chainId:(w=await Ot(t,Bg,"getChainId")({}),w))}if(u.includes("nonce")&&typeof o>"u"&&f)if(l){const E=await x();g.nonce=await l.consume({address:f.address,chainId:E,client:t})}else g.nonce=await Ot(t,Nk,"getTransactionCount")({address:f.address,blockTag:"pending"});if((u.includes("blobVersionedHashes")||u.includes("sidecars"))&&n&&a){const E=cH({blobs:n,kzg:a});if(u.includes("blobVersionedHashes")){const S=sce({commitments:E,to:"hex"});g.blobVersionedHashes=S}if(u.includes("sidecars")){const S=uH({blobs:n,commitments:E,kzg:a}),_=cce({blobs:n,commitments:E,proofs:S,to:"hex"});g.sidecars=_}}if(u.includes("chainId")&&(g.chainId=await x()),(u.includes("fees")||u.includes("type"))&&typeof h>"u")try{g.type=fce(g)}catch{let E=LR.get(t.uid);if(typeof E>"u"){const S=await b();E=typeof(S==null?void 0:S.baseFeePerGas)=="bigint",LR.set(t.uid,E)}g.type=E?"eip1559":"legacy"}if(u.includes("fees"))if(g.type!=="legacy"&&g.type!=="eip2930"){if(typeof g.maxFeePerGas>"u"||typeof g.maxPriorityFeePerGas>"u"){const E=await b(),{maxFeePerGas:S,maxPriorityFeePerGas:_}=await OC(t,{block:E,chain:i,request:g});if(typeof e.maxPriorityFeePerGas>"u"&&e.maxFeePerGas&&e.maxFeePerGas<_)throw new $ge({maxPriorityFeePerGas:_});g.maxPriorityFeePerGas=_,g.maxFeePerGas=S}}else{if(typeof e.maxFeePerGas<"u"||typeof e.maxPriorityFeePerGas<"u")throw new Vk;if(typeof e.gasPrice>"u"){const E=await b(),{gasPrice:S}=await OC(t,{block:E,chain:i,request:g,type:"legacy"});g.gasPrice=S}}return u.includes("gas")&&typeof s>"u"&&(g.gas=await Ot(t,Kk,"estimateGas")({...g,account:f&&{address:f.address,type:"json-rpc"}})),Gf(g),delete g.parameters,g}async function Kk(t,e){var i,s,a;const{account:r=t.account}=e,n=r?Kn(r):void 0;try{const{accessList:o,authorizationList:l,blobs:u,blobVersionedHashes:h,blockNumber:f,blockTag:g,data:y,gas:b,gasPrice:w,maxFeePerBlobGas:x,maxFeePerGas:E,maxPriorityFeePerGas:S,nonce:_,value:I,stateOverride:A,...O}=await C6(t,{...e,parameters:(n==null?void 0:n.type)==="local"?void 0:["blobVersionedHashes"]}),H=(typeof f=="bigint"?It(f):void 0)||g,L=Ik(A),z=await(async()=>{if(O.to)return O.to;if(l&&l.length>0)return await vk({authorization:l[0]}).catch(()=>{throw new ze("`to` is required. Could not infer from `authorizationList`")})})();Gf(e);const V=(a=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionRequest)==null?void 0:a.format,B=(V||Ug)({...p6(O,{format:V}),from:n==null?void 0:n.address,accessList:o,authorizationList:l,blobs:u,blobVersionedHashes:h,data:y,gas:b,gasPrice:w,maxFeePerBlobGas:x,maxFeePerGas:E,maxPriorityFeePerGas:S,nonce:_,to:z,value:I});return BigInt(await t.request({method:"eth_estimateGas",params:L?[B,H??t.experimental_blockTag??"latest",L]:H?[B,H]:[B]}))}catch(o){throw wue(o,{...e,account:n,chain:t.chain})}}async function Nge(t,e){const{abi:r,address:n,args:i,functionName:s,dataSuffix:a,...o}=e,l=ia({abi:r,args:i,functionName:s});try{return await Ot(t,Kk,"estimateGas")({data:`${l}${a?a.replace("0x",""):""}`,to:n,...o})}catch(u){const h=o.account?Kn(o.account):void 0;throw kf(u,{abi:r,address:n,args:i,docsPath:"/docs/contract/estimateContractGas",functionName:s,sender:h==null?void 0:h.address})}}async function Yk(t,{address:e,blockHash:r,fromBlock:n,toBlock:i,event:s,events:a,args:o,strict:l}={}){const u=l??!1,h=a??(s?[s]:void 0);let f=[];h&&(f=[h.flatMap(w=>sb({abi:[w],eventName:w.name,args:a?void 0:o}))],s&&(f=f[0]));let g;r?g=await t.request({method:"eth_getLogs",params:[{address:e,topics:f,blockHash:r}]}):g=await t.request({method:"eth_getLogs",params:[{address:e,topics:f,fromBlock:typeof n=="bigint"?It(n):n,toBlock:typeof i=="bigint"?It(i):i}]});const y=g.map(b=>vu(b));return h?wk({abi:h,args:o,logs:y,strict:u}):y}async function YV(t,e){const{abi:r,address:n,args:i,blockHash:s,eventName:a,fromBlock:o,toBlock:l,strict:u}=e,h=a?qf({abi:r,name:a}):void 0,f=h?void 0:r.filter(g=>g.type==="event");return Ot(t,Yk,"getLogs")({address:n,args:i,blockHash:s,event:h,events:f,fromBlock:o,toBlock:l,strict:u})}async function hl(t,e){const{abi:r,address:n,args:i,functionName:s,...a}=e,o=ia({abi:r,args:i,functionName:s});try{const{data:l}=await Ot(t,g6,"call")({...a,data:o,to:n});return Hf({abi:r,args:i,functionName:s,data:l||"0x"})}catch(l){throw kf(l,{abi:r,address:n,args:i,docsPath:"/docs/contract/readContract",functionName:s})}}async function Pge(t,e){const{abi:r,address:n,args:i,dataSuffix:s,functionName:a,...o}=e,l=o.account?Kn(o.account):t.account,u=ia({abi:r,args:i,functionName:a});try{const{data:h}=await Ot(t,g6,"call")({batch:!1,data:`${u}${s?s.replace("0x",""):""}`,to:n,...o,account:l}),f=Hf({abi:r,args:i,functionName:a,data:h||"0x"}),g=r.filter(y=>"name"in y&&y.name===e.functionName);return{result:f,request:{abi:g,address:n,args:i,dataSuffix:s,functionName:a,...o,account:l}}}catch(h){throw kf(h,{abi:r,address:n,args:i,docsPath:"/docs/contract/simulateContract",functionName:a,sender:l==null?void 0:l.address})}}const U9=new Map,FR=new Map;let Oge=0;function Eu(t,e,r){const n=++Oge,i=()=>U9.get(t)||[],s=()=>{const h=i();U9.set(t,h.filter(f=>f.id!==n))},a=()=>{const h=i();if(!h.some(g=>g.id===n))return;const f=FR.get(t);if(h.length===1&&f){const g=f();g instanceof Promise&&g.catch(()=>{})}s()},o=i();if(U9.set(t,[...o,{id:n,fns:e}]),o&&o.length>0)return a;const l={};for(const h in e)l[h]=(...f)=>{var y,b;const g=i();if(g.length!==0)for(const w of g)(b=(y=w.fns)[h])==null||b.call(y,...f)};const u=r(l);return typeof u=="function"&&FR.set(t,u),a}function Lg(t,{emitOnBegin:e,initialWaitTime:r,interval:n}){let i=!0;const s=()=>i=!1;return(async()=>{let o;e&&(o=await t({unpoll:s}));const l=await(r==null?void 0:r(o))??n;await fC(l);const u=async()=>{i&&(await t({unpoll:s}),await fC(n),u())};u()})(),s}const Mge=new Map,Rge=new Map;function jge(t){const e=(i,s)=>({clear:()=>s.delete(i),get:()=>s.get(i),set:a=>s.set(i,a)}),r=e(t,Mge),n=e(t,Rge);return{clear:()=>{r.clear(),n.clear()},promise:r,response:n}}async function Dge(t,{cacheKey:e,cacheTime:r=Number.POSITIVE_INFINITY}){const n=jge(e),i=n.response.get();if(i&&r>0&&Date.now()-i.created.getTime()<r)return i.data;let s=n.promise.get();s||(s=t(),n.promise.set(s));try{const a=await s;return n.response.set({created:new Date,data:a}),a}finally{n.promise.clear()}}const Uge=t=>`blockNumber.${t}`;async function hb(t,{cacheTime:e=t.cacheTime}={}){const r=await Dge(()=>t.request({method:"eth_blockNumber"}),{cacheKey:Uge(t.uid),cacheTime:e});return BigInt(r)}async function A6(t,{filter:e}){const r="strict"in e&&e.strict,n=await e.request({method:"eth_getFilterChanges",params:[e.id]});if(typeof n[0]=="string")return n;const i=n.map(s=>vu(s));return!("abi"in e)||!e.abi?i:wk({abi:e.abi,logs:i,strict:r})}async function S6(t,{filter:e}){return e.request({method:"eth_uninstallFilter",params:[e.id]})}function Bge(t,e){const{abi:r,address:n,args:i,batch:s=!0,eventName:a,fromBlock:o,onError:l,onLogs:u,poll:h,pollingInterval:f=t.pollingInterval,strict:g}=e;return(typeof h<"u"?h:typeof o=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")))?(()=>{const x=g??!1,E=mi(["watchContractEvent",n,i,s,t.uid,a,f,x,o]);return Eu(E,{onLogs:u,onError:l},S=>{let _;o!==void 0&&(_=o-1n);let I,A=!1;const O=Lg(async()=>{var F;if(!A){try{I=await Ot(t,HV,"createContractEventFilter")({abi:r,address:n,args:i,eventName:a,strict:x,fromBlock:o})}catch{}A=!0;return}try{let H;if(I)H=await Ot(t,A6,"getFilterChanges")({filter:I});else{const L=await Ot(t,hb,"getBlockNumber")({});_&&_<L?H=await Ot(t,YV,"getContractEvents")({abi:r,address:n,args:i,eventName:a,fromBlock:_+1n,toBlock:L,strict:x}):H=[],_=L}if(H.length===0)return;if(s)S.onLogs(H);else for(const L of H)S.onLogs([L])}catch(H){I&&H instanceof Cf&&(A=!1),(F=S.onError)==null||F.call(S,H)}},{emitOnBegin:!0,interval:f});return async()=>{I&&await Ot(t,S6,"uninstallFilter")({filter:I}),O()}})})():(()=>{const x=g??!1,E=mi(["watchContractEvent",n,i,s,t.uid,a,f,x]);let S=!0,_=()=>S=!1;return Eu(E,{onLogs:u,onError:l},I=>((async()=>{try{const A=(()=>{if(t.transport.type==="fallback"){const H=t.transport.transports.find(L=>L.config.type==="webSocket"||L.config.type==="ipc");return H?H.value:t.transport}return t.transport})(),O=a?sb({abi:r,eventName:a,args:i}):[],{unsubscribe:F}=await A.subscribe({params:["logs",{address:n,topics:O}],onData(H){var z;if(!S)return;const L=H.result;try{const{eventName:V,args:K}=bk({abi:r,data:L.data,topics:L.topics,strict:g}),B=vu(L,{args:K,eventName:V});I.onLogs([B])}catch(V){let K,B;if(V instanceof Vy||V instanceof a6){if(g)return;K=V.abiItem.name,B=(z=V.abiItem.inputs)==null?void 0:z.some(k=>!("name"in k&&k.name))}const C=vu(L,{args:B?[]:{},eventName:K});I.onLogs([C])}},onError(H){var L;(L=I.onError)==null||L.call(I,H)}});_=F,S||_()}catch(A){l==null||l(A)}})(),()=>_()))})()}class Kf extends ze{constructor({docsPath:e}={}){super(["Could not find an Account to execute with this Action.","Please provide an Account with the `account` argument on the Action, or by supplying an `account` to the Client."].join(`
`),{docsPath:e,docsSlug:"account",name:"AccountNotFoundError"})}}class i3 extends ze{constructor({docsPath:e,metaMessages:r,type:n}){super(`Account type "${n}" is not supported.`,{docsPath:e,metaMessages:r,name:"AccountTypeNotSupportedError"})}}async function Zk(t,{serializedTransaction:e}){return t.request({method:"eth_sendRawTransaction",params:[e]},{retryCount:0})}const B9=new i6(128);async function k6(t,e){var S,_,I,A;const{account:r=t.account,chain:n=t.chain,accessList:i,authorizationList:s,blobs:a,data:o,gas:l,gasPrice:u,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:g,nonce:y,type:b,value:w,...x}=e;if(typeof r>"u")throw new Kf({docsPath:"/docs/actions/wallet/sendTransaction"});const E=r?Kn(r):null;try{Gf(e);const O=await(async()=>{if(e.to)return e.to;if(e.to!==null&&s&&s.length>0)return await vk({authorization:s[0]}).catch(()=>{throw new ze("`to` is required. Could not infer from `authorizationList`.")})})();if((E==null?void 0:E.type)==="json-rpc"||E===null){let F;n!==null&&(F=await Ot(t,Bg,"getChainId")({}),qH({currentChainId:F,chain:n}));const H=(I=(_=(S=t.chain)==null?void 0:S.formatters)==null?void 0:_.transactionRequest)==null?void 0:I.format,z=(H||Ug)({...p6(x,{format:H}),accessList:i,authorizationList:s,blobs:a,chainId:F,data:o,from:E==null?void 0:E.address,gas:l,gasPrice:u,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:g,nonce:y,to:O,type:b,value:w}),V=B9.get(t.uid),K=V?"wallet_sendTransaction":"eth_sendTransaction";try{return await t.request({method:K,params:[z]},{retryCount:0})}catch(B){if(V===!1)throw B;const C=B;if(C.name==="InvalidInputRpcError"||C.name==="InvalidParamsRpcError"||C.name==="MethodNotFoundRpcError"||C.name==="MethodNotSupportedRpcError")return await t.request({method:"wallet_sendTransaction",params:[z]},{retryCount:0}).then(k=>(B9.set(t.uid,!0),k)).catch(k=>{const N=k;throw N.name==="MethodNotFoundRpcError"||N.name==="MethodNotSupportedRpcError"?(B9.set(t.uid,!1),C):N});throw C}}if((E==null?void 0:E.type)==="local"){const F=await Ot(t,C6,"prepareTransactionRequest")({account:E,accessList:i,authorizationList:s,blobs:a,chain:n,data:o,gas:l,gasPrice:u,maxFeePerBlobGas:h,maxFeePerGas:f,maxPriorityFeePerGas:g,nonce:y,nonceManager:E.nonceManager,parameters:[...KV,"sidecars"],type:b,value:w,...x,to:O}),H=(A=n==null?void 0:n.serializers)==null?void 0:A.transaction,L=await E.signTransaction(F,{serializer:H});return await Ot(t,Zk,"sendRawTransaction")({serializedTransaction:L})}throw(E==null?void 0:E.type)==="smart"?new i3({metaMessages:["Consider using the `sendUserOperation` Action instead."],docsPath:"/docs/actions/bundler/sendUserOperation",type:"smart"}):new i3({docsPath:"/docs/actions/wallet/sendTransaction",type:E==null?void 0:E.type})}catch(O){throw O instanceof i3?O:HH(O,{...e,account:E,chain:e.chain||void 0})}}async function Lge(t,e){const{abi:r,account:n=t.account,address:i,args:s,dataSuffix:a,functionName:o,...l}=e;if(typeof n>"u")throw new Kf({docsPath:"/docs/contract/writeContract"});const u=n?Kn(n):null,h=ia({abi:r,args:s,functionName:o});try{return await Ot(t,k6,"sendTransaction")({data:`${h}${a?a.replace("0x",""):""}`,to:i,account:u,...l})}catch(f){throw kf(f,{abi:r,address:i,args:s,docsPath:"/docs/contract/writeContract",functionName:o,sender:u==null?void 0:u.address})}}class Fge extends ze{constructor(e){super(`Call bundle failed with status: ${e.statusCode}`,{name:"BundleFailedError"}),Object.defineProperty(this,"result",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.result=e}}const ZV="0x5792579257925792579257925792579257925792579257925792579257925792",QV=It(0,{size:32});async function zge(t,e){const{account:r=t.account,capabilities:n,chain:i=t.chain,experimental_fallback:s,experimental_fallbackDelay:a=32,forceAtomic:o=!1,id:l,version:u="2.0.0"}=e,h=r?Kn(r):null,f=e.calls.map(g=>{const y=g,b=y.abi?ia({abi:y.abi,functionName:y.functionName,args:y.args}):y.data;return{data:y.dataSuffix&&b?bo([b,y.dataSuffix]):b,to:y.to,value:y.value?It(y.value):void 0}});try{const g=await t.request({method:"wallet_sendCalls",params:[{atomicRequired:o,calls:f,capabilities:n,chainId:It(i.id),from:h==null?void 0:h.address,id:l,version:u}]},{retryCount:0});return typeof g=="string"?{id:g}:g}catch(g){const y=g;if(s&&(y.name==="MethodNotFoundRpcError"||y.name==="MethodNotSupportedRpcError"||y.name==="UnknownRpcError"||y.details.toLowerCase().includes("does not exist / is not available")||y.details.toLowerCase().includes("missing or invalid. request()")||y.details.toLowerCase().includes("did not match any variant of untagged enum")||y.details.toLowerCase().includes("account upgraded to unsupported contract")||y.details.toLowerCase().includes("eip-7702 not supported")||y.details.toLowerCase().includes("unsupported wc_ method")||y.details.toLowerCase().includes("feature toggled misconfigured"))){if(n&&Object.values(n).some(S=>!S.optional)){const S="non-optional `capabilities` are not supported on fallback to `eth_sendTransaction`.";throw new hg(new ze(S,{details:S}))}if(o&&f.length>1){const E="`forceAtomic` is not supported on fallback to `eth_sendTransaction`.";throw new fg(new ze(E,{details:E}))}const b=[];for(const E of f){const S=k6(t,{account:h,chain:i,data:E.data,to:E.to,value:E.value?Oa(E.value):void 0});b.push(S),a>0&&await new Promise(_=>setTimeout(_,a))}const w=await Promise.allSettled(b);if(w.every(E=>E.status==="rejected"))throw w[0].reason;const x=w.map(E=>E.status==="fulfilled"?E.value:QV);return{id:bo([...x,It(i.id,{size:32}),ZV])}}throw HH(g,{...e,account:h,chain:e.chain})}}async function XV(t,e){async function r(h){if(h.endsWith(ZV.slice(2))){const g=fu(tC(h,-64,-32)),y=tC(h,0,-64).slice(2).match(/.{1,64}/g),b=await Promise.all(y.map(x=>QV.slice(2)!==x?t.request({method:"eth_getTransactionReceipt",params:[`0x${x}`]},{dedupe:!0}):void 0)),w=b.some(x=>x===null)?100:b.every(x=>(x==null?void 0:x.status)==="0x1")?200:b.every(x=>(x==null?void 0:x.status)==="0x0")?500:600;return{atomic:!1,chainId:ol(g),receipts:b.filter(Boolean),status:w,version:"2.0.0"}}return t.request({method:"wallet_getCallsStatus",params:[h]})}const{atomic:n=!1,chainId:i,receipts:s,version:a="2.0.0",...o}=await r(e.id),[l,u]=(()=>{const h=o.status;return h>=100&&h<200?["pending",h]:h>=200&&h<300?["success",h]:h>=300&&h<700?["failure",h]:h==="CONFIRMED"?["success",200]:h==="PENDING"?["pending",100]:[void 0,h]})();return{...o,atomic:n,chainId:i?ol(i):void 0,receipts:(s==null?void 0:s.map(h=>({...h,blockNumber:Oa(h.blockNumber),gasUsed:Oa(h.gasUsed),status:YH[h.status]})))??[],statusCode:u,status:l,version:a}}async function Wge(t,e){const{id:r,pollingInterval:n=t.pollingInterval,status:i=({statusCode:w})=>w===200||w>=300,retryCount:s=4,retryDelay:a=({count:w})=>~~(1<<w)*200,timeout:o=6e4,throwOnFailure:l=!1}=e,u=mi(["waitForCallsStatus",t.uid,r]),{promise:h,resolve:f,reject:g}=Tk();let y;const b=Eu(u,{resolve:f,reject:g},w=>{const x=Lg(async()=>{const E=S=>{clearTimeout(y),x(),S(),b()};try{const S=await q3(async()=>{const _=await Ot(t,XV,"getCallsStatus")({id:r});if(l&&_.status==="failure")throw new Fge(_);return _},{retryCount:s,delay:a});if(!i(S))return;E(()=>w.resolve(S))}catch(S){E(()=>w.reject(S))}},{interval:n,emitOnBegin:!0});return x});return y=o?setTimeout(()=>{b(),clearTimeout(y),g(new qge({id:r}))},o):void 0,await h}class qge extends ze{constructor({id:e}){super(`Timed out while waiting for call bundle with id "${e}" to be confirmed.`,{name:"WaitForCallsStatusTimeoutError"})}}const MC=256;let av=MC,ov;function JV(t=11){if(!ov||av+t>MC*2){ov="",av=0;for(let e=0;e<MC;e++)ov+=(256+Math.random()*256|0).toString(16).substring(1)}return ov.substring(av,av+++t)}function eG(t){const{batch:e,chain:r,ccipRead:n,key:i="base",name:s="Base Client",type:a="base"}=t,o=t.experimental_blockTag??(typeof(r==null?void 0:r.experimental_preconfirmationTime)=="number"?"pending":void 0),l=(r==null?void 0:r.blockTime)??12e3,u=Math.min(Math.max(Math.floor(l/2),500),4e3),h=t.pollingInterval??u,f=t.cacheTime??h,g=t.account?Kn(t.account):void 0,{config:y,request:b,value:w}=t.transport({chain:r,pollingInterval:h}),x={...y,...w},E={account:g,batch:e,cacheTime:f,ccipRead:n,chain:r,key:i,name:s,pollingInterval:h,request:b,transport:x,type:a,uid:JV(),...o?{experimental_blockTag:o}:{}};function S(_){return I=>{const A=I(_);for(const F in E)delete A[F];const O={..._,...A};return Object.assign(O,{extend:S(O)})}}return Object.assign(E,{extend:S(E)})}function Qk(t){var r,n,i,s,a,o;if(!(t instanceof ze))return!1;const e=t.walk(l=>l instanceof yC);return e instanceof yC?((r=e.data)==null?void 0:r.errorName)==="HttpError"||((n=e.data)==null?void 0:n.errorName)==="ResolverError"||((i=e.data)==null?void 0:i.errorName)==="ResolverNotContract"||((s=e.data)==null?void 0:s.errorName)==="ResolverNotFound"||((a=e.data)==null?void 0:a.errorName)==="ReverseAddressMismatch"||((o=e.data)==null?void 0:o.errorName)==="UnsupportedResolverProfile":!1}function tG(t){if(t.length!==66||t.indexOf("[")!==0||t.indexOf("]")!==65)return null;const e=`0x${t.slice(1,65)}`;return ds(e)?e:null}function RC(t){let e=new Uint8Array(32).fill(0);if(!t)return yi(e);const r=t.split(".");for(let n=r.length-1;n>=0;n-=1){const i=tG(r[n]),s=i?Mg(i):Hi(ff(r[n]),"bytes");e=Hi(bo([e,s]),"bytes")}return yi(e)}function Hge(t){return`[${t.slice(2)}]`}function Vge(t){const e=new Uint8Array(32).fill(0);return t?tG(t)||Hi(ff(t)):yi(e)}function Xk(t){const e=t.replace(/^\.|\.$/gm,"");if(e.length===0)return new Uint8Array(1);const r=new Uint8Array(ff(e).byteLength+2);let n=0;const i=e.split(".");for(let s=0;s<i.length;s++){let a=ff(i[s]);a.byteLength>255&&(a=ff(Hge(Vge(i[s])))),r[n]=a.length,r.set(a,n+1),n+=a.length+1}return r.byteLength!==n+1?r.slice(0,n+1):r}async function Gge(t,e){const{blockNumber:r,blockTag:n,coinType:i,name:s,gatewayUrls:a,strict:o}=e,{chain:l}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return Dg({blockNumber:r,chain:l,contract:"ensUniversalResolver"})})(),h=l==null?void 0:l.ensTlds;if(h&&!h.some(g=>s.endsWith(g)))return null;const f=i!=null?[RC(s),BigInt(i)]:[RC(s)];try{const g=ia({abi:qM,functionName:"addr",args:f}),y={address:u,abi:jH,functionName:"resolveWithGateways",args:[qn(Xk(s)),g,a??[m6]],blockNumber:r,blockTag:n},w=await Ot(t,hl,"readContract")(y);if(w[0]==="0x")return null;const x=Hf({abi:qM,args:f,functionName:"addr",data:w[0]});return x==="0x"||fu(x)==="0x00"?null:x}catch(g){if(o)throw g;if(Qk(g))return null;throw g}}class Kge extends ze{constructor({data:e}){super("Unable to extract image from metadata. The metadata may be malformed or invalid.",{metaMessages:["- Metadata must be a JSON object with at least an `image`, `image_url` or `image_data` property.","",`Provided data: ${JSON.stringify(e)}`],name:"EnsAvatarInvalidMetadataError"})}}class a1 extends ze{constructor({reason:e}){super(`ENS NFT avatar URI is invalid. ${e}`,{name:"EnsAvatarInvalidNftUriError"})}}class Jk extends ze{constructor({uri:e}){super(`Unable to resolve ENS avatar URI "${e}". The URI may be malformed, invalid, or does not respond with a valid image.`,{name:"EnsAvatarUriResolutionError"})}}class Yge extends ze{constructor({namespace:e}){super(`ENS NFT avatar namespace "${e}" is not supported. Must be "erc721" or "erc1155".`,{name:"EnsAvatarUnsupportedNamespaceError"})}}const Zge=/(?<protocol>https?:\/\/[^/]*|ipfs:\/|ipns:\/|ar:\/)?(?<root>\/)?(?<subpath>ipfs\/|ipns\/)?(?<target>[\w\-.]+)(?<subtarget>\/.*)?/,Qge=/^(Qm[1-9A-HJ-NP-Za-km-z]{44,}|b[A-Za-z2-7]{58,}|B[A-Z2-7]{58,}|z[1-9A-HJ-NP-Za-km-z]{48,}|F[0-9A-F]{50,})(\/(?<target>[\w\-.]+))?(?<subtarget>\/.*)?$/,Xge=/^data:([a-zA-Z\-/+]*);base64,([^"].*)/,Jge=/^data:([a-zA-Z\-/+]*)?(;[a-zA-Z0-9].*?)?(,)/;async function eme(t){try{const e=await fetch(t,{method:"HEAD"});if(e.status===200){const r=e.headers.get("content-type");return r==null?void 0:r.startsWith("image/")}return!1}catch(e){return typeof e=="object"&&typeof e.response<"u"||!Object.hasOwn(globalThis,"Image")?!1:new Promise(r=>{const n=new Image;n.onload=()=>{r(!0)},n.onerror=()=>{r(!1)},n.src=t})}}function zR(t,e){return t?t.endsWith("/")?t.slice(0,-1):t:e}function rG({uri:t,gatewayUrls:e}){const r=Xge.test(t);if(r)return{uri:t,isOnChain:!0,isEncoded:r};const n=zR(e==null?void 0:e.ipfs,"https://ipfs.io"),i=zR(e==null?void 0:e.arweave,"https://arweave.net"),s=t.match(Zge),{protocol:a,subpath:o,target:l,subtarget:u=""}=(s==null?void 0:s.groups)||{},h=a==="ipns:/"||o==="ipns/",f=a==="ipfs:/"||o==="ipfs/"||Qge.test(t);if(t.startsWith("http")&&!h&&!f){let y=t;return e!=null&&e.arweave&&(y=t.replace(/https:\/\/arweave.net/g,e==null?void 0:e.arweave)),{uri:y,isOnChain:!1,isEncoded:!1}}if((h||f)&&l)return{uri:`${n}/${h?"ipns":"ipfs"}/${l}${u}`,isOnChain:!1,isEncoded:!1};if(a==="ar:/"&&l)return{uri:`${i}/${l}${u||""}`,isOnChain:!1,isEncoded:!1};let g=t.replace(Jge,"");if(g.startsWith("<svg")&&(g=`data:image/svg+xml;base64,${btoa(g)}`),g.startsWith("data:")||g.startsWith("{"))return{uri:g,isOnChain:!0,isEncoded:!1};throw new Jk({uri:t})}function nG(t){if(typeof t!="object"||!("image"in t)&&!("image_url"in t)&&!("image_data"in t))throw new Kge({data:t});return t.image||t.image_url||t.image_data}async function tme({gatewayUrls:t,uri:e}){try{const r=await fetch(e).then(i=>i.json());return await e$({gatewayUrls:t,uri:nG(r)})}catch{throw new Jk({uri:e})}}async function e$({gatewayUrls:t,uri:e}){const{uri:r,isOnChain:n}=rG({uri:e,gatewayUrls:t});if(n||await eme(r))return r;throw new Jk({uri:e})}function rme(t){let e=t;e.startsWith("did:nft:")&&(e=e.replace("did:nft:","").replace(/_/g,"/"));const[r,n,i]=e.split("/"),[s,a]=r.split(":"),[o,l]=n.split(":");if(!s||s.toLowerCase()!=="eip155")throw new a1({reason:"Only EIP-155 supported"});if(!a)throw new a1({reason:"Chain ID not found"});if(!l)throw new a1({reason:"Contract address not found"});if(!i)throw new a1({reason:"Token ID not found"});if(!o)throw new a1({reason:"ERC namespace not found"});return{chainID:Number.parseInt(a,10),namespace:o.toLowerCase(),contractAddress:l,tokenID:i}}async function nme(t,{nft:e}){if(e.namespace==="erc721")return hl(t,{address:e.contractAddress,abi:[{name:"tokenURI",type:"function",stateMutability:"view",inputs:[{name:"tokenId",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"tokenURI",args:[BigInt(e.tokenID)]});if(e.namespace==="erc1155")return hl(t,{address:e.contractAddress,abi:[{name:"uri",type:"function",stateMutability:"view",inputs:[{name:"_id",type:"uint256"}],outputs:[{name:"",type:"string"}]}],functionName:"uri",args:[BigInt(e.tokenID)]});throw new Yge({namespace:e.namespace})}async function ime(t,{gatewayUrls:e,record:r}){return/eip155:/i.test(r)?sme(t,{gatewayUrls:e,record:r}):e$({uri:r,gatewayUrls:e})}async function sme(t,{gatewayUrls:e,record:r}){const n=rme(r),i=await nme(t,{nft:n}),{uri:s,isOnChain:a,isEncoded:o}=rG({uri:i,gatewayUrls:e});if(a&&(s.includes("data:application/json;base64,")||s.startsWith("{"))){const u=o?atob(s.replace("data:application/json;base64,","")):s,h=JSON.parse(u);return e$({uri:nG(h),gatewayUrls:e})}let l=n.tokenID;return n.namespace==="erc1155"&&(l=l.replace("0x","").padStart(64,"0")),tme({gatewayUrls:e,uri:s.replace(/(?:0x)?{id}/,l)})}async function iG(t,e){const{blockNumber:r,blockTag:n,key:i,name:s,gatewayUrls:a,strict:o}=e,{chain:l}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return Dg({blockNumber:r,chain:l,contract:"ensUniversalResolver"})})(),h=l==null?void 0:l.ensTlds;if(h&&!h.some(f=>s.endsWith(f)))return null;try{const f={address:u,abi:jH,args:[qn(Xk(s)),ia({abi:WM,functionName:"text",args:[RC(s),i]}),a??[m6]],functionName:"resolveWithGateways",blockNumber:r,blockTag:n},y=await Ot(t,hl,"readContract")(f);if(y[0]==="0x")return null;const b=Hf({abi:WM,functionName:"text",data:y[0]});return b===""?null:b}catch(f){if(o)throw f;if(Qk(f))return null;throw f}}async function ame(t,{blockNumber:e,blockTag:r,assetGatewayUrls:n,name:i,gatewayUrls:s,strict:a,universalResolverAddress:o}){const l=await Ot(t,iG,"getEnsText")({blockNumber:e,blockTag:r,key:"avatar",name:i,universalResolverAddress:o,gatewayUrls:s,strict:a});if(!l)return null;try{return await ime(t,{record:l,gatewayUrls:n})}catch{return null}}async function ome(t,e){const{address:r,blockNumber:n,blockTag:i,coinType:s=60n,gatewayUrls:a,strict:o}=e,{chain:l}=t,u=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!l)throw new Error("client chain not configured. universalResolverAddress is required.");return Dg({blockNumber:n,chain:l,contract:"ensUniversalResolver"})})();try{const h={address:u,abi:Jce,args:[r,s,a??[m6]],functionName:"reverseWithGateways",blockNumber:n,blockTag:i},f=Ot(t,hl,"readContract"),[g]=await f(h);return g||null}catch(h){if(o)throw h;if(Qk(h))return null;throw h}}async function lme(t,e){const{blockNumber:r,blockTag:n,name:i}=e,{chain:s}=t,a=(()=>{if(e.universalResolverAddress)return e.universalResolverAddress;if(!s)throw new Error("client chain not configured. universalResolverAddress is required.");return Dg({blockNumber:r,chain:s,contract:"ensUniversalResolver"})})(),o=s==null?void 0:s.ensTlds;if(o&&!o.some(u=>i.endsWith(u)))throw new Error(`${i} is not a valid ENS TLD (${o==null?void 0:o.join(", ")}) for chain "${s.name}" (id: ${s.id}).`);const[l]=await Ot(t,hl,"readContract")({address:a,abi:[{inputs:[{type:"bytes"}],name:"findResolver",outputs:[{type:"address"},{type:"bytes32"},{type:"uint256"}],stateMutability:"view",type:"function"}],functionName:"findResolver",args:[qn(Xk(i))],blockNumber:r,blockTag:n});return l}async function sG(t,e){var x,E,S;const{account:r=t.account,blockNumber:n,blockTag:i="latest",blobs:s,data:a,gas:o,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,to:g,value:y,...b}=e,w=r?Kn(r):void 0;try{Gf(e);const I=(typeof n=="bigint"?It(n):void 0)||i,A=(S=(E=(x=t.chain)==null?void 0:x.formatters)==null?void 0:E.transactionRequest)==null?void 0:S.format,F=(A||Ug)({...p6(b,{format:A}),from:w==null?void 0:w.address,blobs:s,data:a,gas:o,gasPrice:l,maxFeePerBlobGas:u,maxFeePerGas:h,maxPriorityFeePerGas:f,to:g,value:y}),H=await t.request({method:"eth_createAccessList",params:[F,I]});return{accessList:H.accessList,gasUsed:BigInt(H.gasUsed)}}catch(_){throw FH(_,{...e,account:w,chain:t.chain})}}async function cme(t){const e=_6(t,{method:"eth_newBlockFilter"}),r=await t.request({method:"eth_newBlockFilter"});return{id:r,request:e(r),type:"block"}}async function aG(t,{address:e,args:r,event:n,events:i,fromBlock:s,strict:a,toBlock:o}={}){const l=i??(n?[n]:void 0),u=_6(t,{method:"eth_newFilter"});let h=[];l&&(h=[l.flatMap(y=>sb({abi:[y],eventName:y.name,args:r}))],n&&(h=h[0]));const f=await t.request({method:"eth_newFilter",params:[{address:e,fromBlock:typeof s=="bigint"?It(s):s,toBlock:typeof o=="bigint"?It(o):o,...h.length?{topics:h}:{}}]});return{abi:l,args:r,eventName:n?n.name:void 0,fromBlock:s,id:f,request:u(f),strict:!!a,toBlock:o,type:"event"}}async function oG(t){const e=_6(t,{method:"eth_newPendingTransactionFilter"}),r=await t.request({method:"eth_newPendingTransactionFilter"});return{id:r,request:e(r),type:"transaction"}}async function ume(t,{address:e,blockNumber:r,blockTag:n=t.experimental_blockTag??"latest"}){const i=typeof r=="bigint"?It(r):void 0,s=await t.request({method:"eth_getBalance",params:[e,i||n]});return BigInt(s)}async function dme(t){const e=await t.request({method:"eth_blobBaseFee"});return BigInt(e)}async function hme(t,{blockHash:e,blockNumber:r,blockTag:n="latest"}={}){const i=r!==void 0?It(r):void 0;let s;return e?s=await t.request({method:"eth_getBlockTransactionCountByHash",params:[e]},{dedupe:!0}):s=await t.request({method:"eth_getBlockTransactionCountByNumber",params:[i||n]},{dedupe:!!i}),ol(s)}async function jC(t,{address:e,blockNumber:r,blockTag:n="latest"}){const i=r!==void 0?It(r):void 0,s=await t.request({method:"eth_getCode",params:[e,i||n]},{dedupe:!!i});if(s!=="0x")return s}class fme extends ze{constructor({address:e}){super(`No EIP-712 domain found on contract "${e}".`,{metaMessages:["Ensure that:",`- The contract is deployed at the address "${e}".`,"- `eip712Domain()` function exists on the contract.","- `eip712Domain()` function matches signature to ERC-5267 specification."],name:"Eip712DomainNotFoundError"})}}async function pme(t,e){const{address:r,factory:n,factoryData:i}=e;try{const[s,a,o,l,u,h,f]=await Ot(t,hl,"readContract")({abi:gme,address:r,functionName:"eip712Domain",factory:n,factoryData:i});return{domain:{name:a,version:o,chainId:Number(l),verifyingContract:u,salt:h},extensions:f,fields:s}}catch(s){const a=s;throw a.name==="ContractFunctionExecutionError"&&a.cause.name==="ContractFunctionZeroDataError"?new fme({address:r}):a}}const gme=[{inputs:[],name:"eip712Domain",outputs:[{name:"fields",type:"bytes1"},{name:"name",type:"string"},{name:"version",type:"string"},{name:"chainId",type:"uint256"},{name:"verifyingContract",type:"address"},{name:"salt",type:"bytes32"},{name:"extensions",type:"uint256[]"}],stateMutability:"view",type:"function"}];function mme(t){var e;return{baseFeePerGas:t.baseFeePerGas.map(r=>BigInt(r)),gasUsedRatio:t.gasUsedRatio,oldestBlock:BigInt(t.oldestBlock),reward:(e=t.reward)==null?void 0:e.map(r=>r.map(n=>BigInt(n)))}}async function yme(t,{blockCount:e,blockNumber:r,blockTag:n="latest",rewardPercentiles:i}){const s=typeof r=="bigint"?It(r):void 0,a=await t.request({method:"eth_feeHistory",params:[It(e),s||n,i]},{dedupe:!!s});return mme(a)}async function bme(t,{filter:e}){const r=e.strict??!1,i=(await e.request({method:"eth_getFilterLogs",params:[e.id]})).map(s=>vu(s));return e.abi?wk({abi:e.abi,logs:i,strict:r}):i}function wme(t){return t.map(e=>({...e,value:BigInt(e.value)}))}function vme(t){return{...t,balance:t.balance?BigInt(t.balance):void 0,nonce:t.nonce?ol(t.nonce):void 0,storageProof:t.storageProof?wme(t.storageProof):void 0}}async function xme(t,{address:e,blockNumber:r,blockTag:n,storageKeys:i}){const s=n??"latest",a=r!==void 0?It(r):void 0,o=await t.request({method:"eth_getProof",params:[e,i,a||s]});return vme(o)}async function Eme(t,{address:e,blockNumber:r,blockTag:n="latest",slot:i}){const s=r!==void 0?It(r):void 0;return await t.request({method:"eth_getStorageAt",params:[e,i,s||n]})}async function t$(t,{blockHash:e,blockNumber:r,blockTag:n,hash:i,index:s}){var h,f,g;const a=n||"latest",o=r!==void 0?It(r):void 0;let l=null;if(i?l=await t.request({method:"eth_getTransactionByHash",params:[i]},{dedupe:!0}):e?l=await t.request({method:"eth_getTransactionByBlockHashAndIndex",params:[e,It(s)]},{dedupe:!0}):l=await t.request({method:"eth_getTransactionByBlockNumberAndIndex",params:[o||a,It(s)]},{dedupe:!!o}),!l)throw new oH({blockHash:e,blockNumber:r,blockTag:a,hash:i,index:s});return(((g=(f=(h=t.chain)==null?void 0:h.formatters)==null?void 0:f.transaction)==null?void 0:g.format)||GH)(l)}async function _me(t,{hash:e,transactionReceipt:r}){const[n,i]=await Promise.all([Ot(t,hb,"getBlockNumber")({}),e?Ot(t,t$,"getTransaction")({hash:e}):void 0]),s=(r==null?void 0:r.blockNumber)||(i==null?void 0:i.blockNumber);return s?n-s+1n:0n}async function s3(t,{hash:e}){var i,s,a;const r=await t.request({method:"eth_getTransactionReceipt",params:[e]},{dedupe:!0});if(!r)throw new lH({hash:e});return(((a=(s=(i=t.chain)==null?void 0:i.formatters)==null?void 0:s.transactionReceipt)==null?void 0:a.format)||xue)(r)}async function Cme(t,e){var S;const{account:r,authorizationList:n,allowFailure:i=!0,blockNumber:s,blockOverrides:a,blockTag:o,stateOverride:l}=e,u=e.contracts,{batchSize:h=e.batchSize??1024,deployless:f=e.deployless??!1}=typeof((S=t.batch)==null?void 0:S.multicall)=="object"?t.batch.multicall:{},g=(()=>{if(e.multicallAddress)return e.multicallAddress;if(f)return null;if(t.chain)return Dg({blockNumber:s,chain:t.chain,contract:"multicall3"});throw new Error("client chain not configured. multicallAddress is required.")})(),y=[[]];let b=0,w=0;for(let _=0;_<u.length;_++){const{abi:I,address:A,args:O,functionName:F}=u[_];try{const H=ia({abi:I,args:O,functionName:F});w+=(H.length-2)/2,h>0&&w>h&&y[b].length>0&&(b++,w=(H.length-2)/2,y[b]=[]),y[b]=[...y[b],{allowFailure:!0,callData:H,target:A}]}catch(H){const L=kf(H,{abi:I,address:A,args:O,docsPath:"/docs/contract/multicall",functionName:F,sender:r});if(!i)throw L;y[b]=[...y[b],{allowFailure:!0,callData:"0x",target:A}]}}const x=await Promise.allSettled(y.map(_=>Ot(t,hl,"readContract")({...g===null?{code:$k}:{address:g},abi:G3,account:r,args:[_],authorizationList:n,blockNumber:s,blockOverrides:a,blockTag:o,functionName:"aggregate3",stateOverride:l}))),E=[];for(let _=0;_<x.length;_++){const I=x[_];if(I.status==="rejected"){if(!i)throw I.reason;for(let O=0;O<y[_].length;O++)E.push({status:"failure",error:I.reason,result:void 0});continue}const A=I.value;for(let O=0;O<A.length;O++){const{returnData:F,success:H}=A[O],{callData:L}=y[_][O],{abi:z,address:V,functionName:K,args:B}=u[E.length];try{if(L==="0x")throw new nb;if(!H)throw new h6({data:F});const C=Hf({abi:z,args:B,data:F,functionName:K});E.push(i?{result:C,status:"success"}:C)}catch(C){const k=kf(C,{abi:z,address:V,args:B,docsPath:"/docs/contract/multicall",functionName:K});if(!i)throw k;E.push({error:k,result:void 0,status:"failure"})}}}if(E.length!==u.length)throw new ze("multicall results mismatch");return E}async function DC(t,e){const{blockNumber:r,blockTag:n=t.experimental_blockTag??"latest",blocks:i,returnFullTransactions:s,traceTransfers:a,validation:o}=e;try{const l=[];for(const g of i){const y=g.blockOverrides?MH(g.blockOverrides):void 0,b=g.calls.map(x=>{const E=x,S=E.account?Kn(E.account):void 0,_=E.abi?ia(E):E.data,I={...E,data:E.dataSuffix?bo([_||"0x",E.dataSuffix]):_,from:E.from??(S==null?void 0:S.address)};return Gf(I),Ug(I)}),w=g.stateOverrides?Ik(g.stateOverrides):void 0;l.push({blockOverrides:y,calls:b,stateOverrides:w})}const h=(typeof r=="bigint"?It(r):void 0)||n;return(await t.request({method:"eth_simulateV1",params:[{blockStateCalls:l,returnFullTransactions:s,traceTransfers:a,validation:o},h]})).map((g,y)=>({...KH(g),calls:g.calls.map((b,w)=>{var z,V;const{abi:x,args:E,functionName:S,to:_}=i[y].calls[w],I=((z=b.error)==null?void 0:z.data)??b.returnData,A=BigInt(b.gasUsed),O=(V=b.logs)==null?void 0:V.map(K=>vu(K)),F=b.status==="0x1"?"success":"failure",H=x&&F==="success"&&I!=="0x"?Hf({abi:x,data:I,functionName:S}):null,L=(()=>{var B;if(F==="success")return;let K;if(((B=b.error)==null?void 0:B.data)==="0x"?K=new nb:b.error&&(K=new h6(b.error)),!!K)return kf(K,{abi:x??[],address:_??"0x",args:E,functionName:S??"<unknown>"})})();return{data:I,gasUsed:A,logs:O,status:F,...F==="success"?{result:H}:{error:L}}})}))}catch(l){const u=l,h=f6(u,{});throw h instanceof lb?u:h}}function UC(t){let e=!0,r="",n=0,i="",s=!1;for(let a=0;a<t.length;a++){const o=t[a];if(["(",")",","].includes(o)&&(e=!0),o==="("&&n++,o===")"&&n--,!!e){if(n===0){if(o===" "&&["event","function","error",""].includes(i))i="";else if(i+=o,o===")"){s=!0;break}continue}if(o===" "){t[a-1]!==","&&r!==","&&r!==",("&&(r="",e=!1);continue}i+=o,r+=o}}if(!s)throw new Sr("Unable to normalize signature.");return i}function BC(t,e){const r=typeof t,n=e.type;switch(n){case"address":return bC(t,{strict:!1});case"bool":return r==="boolean";case"function":return r==="string";case"string":return r==="string";default:return n==="tuple"&&"components"in e?Object.values(e.components).every((i,s)=>BC(Object.values(t)[s],i)):/^u?int(8|16|24|32|40|48|56|64|72|80|88|96|104|112|120|128|136|144|152|160|168|176|184|192|200|208|216|224|232|240|248|256)?$/.test(n)?r==="number"||r==="bigint":/^bytes([1-9]|1[0-9]|2[0-9]|3[0-2])?$/.test(n)?r==="string"||t instanceof Uint8Array:/[a-z]+[1-9]{0,3}(\[[0-9]{0,}\])+$/.test(n)?Array.isArray(t)&&t.every(i=>BC(i,{...e,type:n.replace(/(\[[0-9]{0,}\])$/,"")})):!1}}function lG(t,e,r){for(const n in t){const i=t[n],s=e[n];if(i.type==="tuple"&&s.type==="tuple"&&"components"in i&&"components"in s)return lG(i.components,s.components,r[n]);const a=[i.type,s.type];if(a.includes("address")&&a.includes("bytes20")?!0:a.includes("address")&&a.includes("string")?bC(r[n],{strict:!1}):a.includes("address")&&a.includes("bytes")?bC(r[n],{strict:!1}):!1)return a}}function cG(t,e={}){const{prepare:r=!0}=e,n=Array.isArray(t)||typeof t=="string"?hM(t):t;return{...n,...r?{hash:P0(n)}:{}}}function $6(t,e,r){const{args:n=[],prepare:i=!0}=r??{},s=Yce(e,{strict:!1}),a=t.filter(u=>s?u.type==="function"||u.type==="error"?uG(u)===sc(e,0,4):u.type==="event"?P0(u)===e:!1:"name"in u&&u.name===e);if(a.length===0)throw new Z3({name:e});if(a.length===1)return{...a[0],...i?{hash:P0(a[0])}:{}};let o;for(const u of a){if(!("inputs"in u))continue;if(!n||n.length===0){if(!u.inputs||u.inputs.length===0)return{...u,...i?{hash:P0(u)}:{}};continue}if(!u.inputs||u.inputs.length===0||u.inputs.length!==n.length)continue;if(n.every((f,g)=>{const y="inputs"in u&&u.inputs[g];return y?BC(f,y):!1})){if(o&&"inputs"in o&&o.inputs){const f=lG(u.inputs,o.inputs,n);if(f)throw new Sme({abiItem:u,type:f[0]},{abiItem:o,type:f[1]})}o=u}}const l=(()=>{if(o)return o;const[u,...h]=a;return{...u,overloads:h}})();if(!l)throw new Z3({name:e});return{...l,...i?{hash:P0(l)}:{}}}function uG(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,n]=t;return $6(r,n)}return t[0]})();return sc(P0(e),0,4)}function Ame(...t){const e=(()=>{if(Array.isArray(t[0])){const[n,i]=t;return $6(n,i)}return t[0]})(),r=typeof e=="string"?e:F3(e);return UC(r)}function P0(...t){const e=(()=>{if(Array.isArray(t[0])){const[r,n]=t;return $6(r,n)}return t[0]})();return typeof e!="string"&&"hash"in e&&e.hash?e.hash:nV(kk(Ame(e)))}class Sme extends Sr{constructor(e,r){super("Found ambiguous types in overloaded ABI Items.",{metaMessages:[`\`${e.type}\` in \`${UC(F3(e.abiItem))}\`, and`,`\`${r.type}\` in \`${UC(F3(r.abiItem))}\``,"","These types encode differently and cannot be distinguished at runtime.","Remove one of the ambiguous items in the ABI."]}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.AmbiguityError"})}}class Z3 extends Sr{constructor({name:e,data:r,type:n="item"}){const i=e?` with name "${e}"`:r?` with data "${r}"`:"";super(`ABI ${n}${i} not found.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"AbiItem.NotFoundError"})}}function kme(...t){var s;const[e,r]=(()=>{if(Array.isArray(t[0])){const[a,o]=t;return[Tme(a),o]}return t})(),{bytecode:n,args:i}=r;return ul(n,(s=e.inputs)!=null&&s.length&&(i!=null&&i.length)?Rk(e.inputs,i):"0x")}function $me(t){return cG(t)}function Tme(t){const e=t.find(r=>r.type==="constructor");if(!e)throw new Z3({name:"constructor"});return e}function Ime(...t){const[e,r=[]]=(()=>{if(Array.isArray(t[0])){const[u,h,f]=t;return[WR(u,h,{args:f}),f]}const[o,l]=t;return[o,l]})(),{overloads:n}=e,i=n?WR([e,...n],e.name,{args:r}):e,s=Nme(i),a=r.length>0?Rk(i.inputs,r):void 0;return a?ul(s,a):s}function Zp(t,e={}){return cG(t,e)}function WR(t,e,r){const n=$6(t,e,r);if(n.type!=="function")throw new Z3({name:e,type:"function"});return n}function Nme(t){return uG(t)}const Pme="0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",Ml="0x0000000000000000000000000000000000000000",Ome="0x6080604052348015600e575f80fd5b5061016d8061001c5f395ff3fe608060405234801561000f575f80fd5b5060043610610029575f3560e01c8063f8b2cb4f1461002d575b5f80fd5b610047600480360381019061004291906100db565b61005d565b604051610054919061011e565b60405180910390f35b5f8173ffffffffffffffffffffffffffffffffffffffff16319050919050565b5f80fd5b5f73ffffffffffffffffffffffffffffffffffffffff82169050919050565b5f6100aa82610081565b9050919050565b6100ba816100a0565b81146100c4575f80fd5b50565b5f813590506100d5816100b1565b92915050565b5f602082840312156100f0576100ef61007d565b5b5f6100fd848285016100c7565b91505092915050565b5f819050919050565b61011881610106565b82525050565b5f6020820190506101315f83018461010f565b9291505056fea26469706673582212203b9fe929fe995c7cf9887f0bdba8a36dd78e8b73f149b17d2d9ad7cd09d2dc6264736f6c634300081a0033";async function Mme(t,e){const{blockNumber:r,blockTag:n,calls:i,stateOverrides:s,traceAssetChanges:a,traceTransfers:o,validation:l}=e,u=e.account?Kn(e.account):void 0;if(a&&!u)throw new ze("`account` is required when `traceAssetChanges` is true");const h=u?kme($me("constructor(bytes, bytes)"),{bytecode:UH,args:[Ome,Ime(Zp("function getBalance(address)"),[u.address])]}):void 0,f=a?await Promise.all(e.calls.map(async P=>{if(!P.data&&!P.abi)return;const{accessList:R}=await sG(t,{account:u.address,...P,data:P.abi?ia(P):P.data});return R.map(({address:j,storageKeys:W})=>W.length>0?j:null)})).then(P=>P.flat().filter(Boolean)):[],g=await DC(t,{blockNumber:r,blockTag:n,blocks:[...a?[{calls:[{data:h}],stateOverrides:s},{calls:f.map((P,R)=>({abi:[Zp("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:P,from:Ml,nonce:R})),stateOverrides:[{address:Ml,nonce:0}]}]:[],{calls:[...i,{}].map(P=>({...P,from:u==null?void 0:u.address})),stateOverrides:s},...a?[{calls:[{data:h}]},{calls:f.map((P,R)=>({abi:[Zp("function balanceOf(address) returns (uint256)")],functionName:"balanceOf",args:[u.address],to:P,from:Ml,nonce:R})),stateOverrides:[{address:Ml,nonce:0}]},{calls:f.map((P,R)=>({to:P,abi:[Zp("function decimals() returns (uint256)")],functionName:"decimals",from:Ml,nonce:R})),stateOverrides:[{address:Ml,nonce:0}]},{calls:f.map((P,R)=>({to:P,abi:[Zp("function tokenURI(uint256) returns (string)")],functionName:"tokenURI",args:[0n],from:Ml,nonce:R})),stateOverrides:[{address:Ml,nonce:0}]},{calls:f.map((P,R)=>({to:P,abi:[Zp("function symbol() returns (string)")],functionName:"symbol",from:Ml,nonce:R})),stateOverrides:[{address:Ml,nonce:0}]}]:[]],traceTransfers:o,validation:l}),y=a?g[2]:g[0],[b,w,,x,E,S,_,I]=a?g:[],{calls:A,...O}=y,F=A.slice(0,-1)??[],H=(b==null?void 0:b.calls)??[],L=(w==null?void 0:w.calls)??[],z=[...H,...L].map(P=>P.status==="success"?Oa(P.data):null),V=(x==null?void 0:x.calls)??[],K=(E==null?void 0:E.calls)??[],B=[...V,...K].map(P=>P.status==="success"?Oa(P.data):null),C=((S==null?void 0:S.calls)??[]).map(P=>P.status==="success"?P.result:null),k=((I==null?void 0:I.calls)??[]).map(P=>P.status==="success"?P.result:null),N=((_==null?void 0:_.calls)??[]).map(P=>P.status==="success"?P.result:null),D=[];for(const[P,R]of B.entries()){const j=z[P];if(typeof R!="bigint"||typeof j!="bigint")continue;const W=C[P-1],M=k[P-1],G=N[P-1],re=P===0?{address:Pme,decimals:18,symbol:"ETH"}:{address:f[P-1],decimals:G||W?Number(W??1):void 0,symbol:M??void 0};D.some(q=>q.token.address===re.address)||D.push({token:re,value:{pre:j,post:R,diff:R-j}})}return{assetChanges:D,block:O,results:F}}const dG="0x6492649264926492649264926492649264926492649264926492649264926492";function Rme(t){if(sc(t,-32)!==dG)throw new Ume(t)}function jme(t){const{data:e,signature:r,to:n}=t;return ul(Rk(aV("address, bytes, bytes"),[n,e,r]),dG)}function Dme(t){try{return Rme(t),!0}catch{return!1}}class Ume extends Sr{constructor(e){super(`Value \`${e}\` is an invalid ERC-6492 wrapped signature.`),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"SignatureErc6492.InvalidWrappedSignatureError"})}}function Bme({r:t,s:e,to:r="hex",v:n,yParity:i}){const s=(()=>{if(i===0||i===1)return i;if(n&&(n===27n||n===28n||n>=35n))return n%2n===0n?1:0;throw new Error("Invalid `v` or `yParity` value")})(),a=`0x${new _V.Signature(Oa(t),Oa(e)).toCompactHex()}${s===0?"1b":"1c"}`;return r==="hex"?a:ll(a)}async function T6(t,e){var o,l,u,h,f,g;const{address:r,hash:n,erc6492VerifierAddress:i=e.universalSignatureVerifierAddress??((u=(l=(o=t.chain)==null?void 0:o.contracts)==null?void 0:l.erc6492Verifier)==null?void 0:u.address),multicallAddress:s=e.multicallAddress??((g=(f=(h=t.chain)==null?void 0:h.contracts)==null?void 0:f.multicall3)==null?void 0:g.address)}=e,a=(()=>{const y=e.signature;return ds(y)?y:typeof y=="object"&&"r"in y&&"s"in y?Bme(y):yi(y)})();try{return Zde(a)?await Lme(t,{...e,multicallAddress:s,signature:a}):await Fme(t,{...e,verifierAddress:i,signature:a})}catch(y){try{if(ab(ei(r),await sH({hash:n,signature:a})))return!0}catch{}if(y instanceof $f)return!1;throw y}}async function Lme(t,e){var x;const{address:r,blockNumber:n,blockTag:i,hash:s,multicallAddress:a}=e,{authorization:o,data:l,signature:u,to:h}=Yde(e.signature);if(await jC(t,{address:r,blockNumber:n,blockTag:i})===Rg(["0xef0100",o.address]))return await zme(t,{address:r,blockNumber:n,blockTag:i,hash:s,signature:u});const g={address:o.address,chainId:Number(o.chainId),nonce:Number(o.nonce),r:It(o.r,{size:32}),s:It(o.s,{size:32}),yParity:o.yParity};if(!await pce({address:r,authorization:g}))throw new $f;const b=await Ot(t,hl,"readContract")({...a?{address:a}:{code:$k},authorizationList:[g],abi:G3,blockNumber:n,blockTag:"pending",functionName:"aggregate3",args:[[...l?[{allowFailure:!0,target:h??r,callData:l}]:[],{allowFailure:!0,target:r,callData:ia({abi:DH,functionName:"isValidSignature",args:[s,u]})}]]}),w=(x=b[b.length-1])==null?void 0:x.returnData;if(w!=null&&w.startsWith("0x1626ba7e"))return!0;throw new $f}async function Fme(t,e){const{address:r,factory:n,factoryData:i,hash:s,signature:a,verifierAddress:o,...l}=e,u=await(async()=>!n&&!i||Dme(a)?a:jme({data:i,signature:a,to:n}))(),h=o?{to:o,data:ia({abi:HM,functionName:"isValidSig",args:[r,s,u]}),...l}:{data:l6({abi:HM,args:[r,s,u],bytecode:rue}),...l},{data:f}=await Ot(t,g6,"call")(h).catch(g=>{throw g instanceof BH?new $f:g});if(aoe(f??"0x0"))return!0;throw new $f}async function zme(t,e){const{address:r,blockNumber:n,blockTag:i,hash:s,signature:a}=e;if((await Ot(t,hl,"readContract")({address:r,abi:DH,args:[s,a],blockNumber:n,blockTag:i,functionName:"isValidSignature"}).catch(l=>{throw l instanceof LH?new $f:l})).startsWith("0x1626ba7e"))return!0;throw new $f}class $f extends Error{}async function Wme(t,{address:e,message:r,factory:n,factoryData:i,signature:s,...a}){const o=ZH(r);return T6(t,{address:e,factory:n,factoryData:i,hash:o,signature:s,...a})}async function qme(t,e){const{address:r,factory:n,factoryData:i,signature:s,message:a,primaryType:o,types:l,domain:u,...h}=e,f=Pue({message:a,primaryType:o,types:l,domain:u});return T6(t,{address:r,factory:n,factoryData:i,hash:f,signature:s,...h})}function hG(t,{emitOnBegin:e=!1,emitMissed:r=!1,onBlockNumber:n,onError:i,poll:s,pollingInterval:a=t.pollingInterval}){const o=typeof s<"u"?s:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc"));let l;return o?(()=>{const f=mi(["watchBlockNumber",t.uid,e,r,a]);return Eu(f,{onBlockNumber:n,onError:i},g=>Lg(async()=>{var y;try{const b=await Ot(t,hb,"getBlockNumber")({cacheTime:0});if(l!==void 0){if(b===l)return;if(b-l>1&&r)for(let w=l+1n;w<b;w++)g.onBlockNumber(w,l),l=w}(l===void 0||b>l)&&(g.onBlockNumber(b,l),l=b)}catch(b){(y=g.onError)==null||y.call(g,b)}},{emitOnBegin:e,interval:a}))})():(()=>{const f=mi(["watchBlockNumber",t.uid,e,r]);return Eu(f,{onBlockNumber:n,onError:i},g=>{let y=!0,b=()=>y=!1;return(async()=>{try{const w=(()=>{if(t.transport.type==="fallback"){const E=t.transport.transports.find(S=>S.config.type==="webSocket"||S.config.type==="ipc");return E?E.value:t.transport}return t.transport})(),{unsubscribe:x}=await w.subscribe({params:["newHeads"],onData(E){var _;if(!y)return;const S=Oa((_=E.result)==null?void 0:_.number);g.onBlockNumber(S,l),l=S},onError(E){var S;(S=g.onError)==null||S.call(g,E)}});b=x,y||b()}catch(w){i==null||i(w)}})(),()=>b()})})()}async function Hme(t,e){const{checkReplacement:r=!0,confirmations:n=1,hash:i,onReplaced:s,retryCount:a=6,retryDelay:o=({count:A})=>~~(1<<A)*200,timeout:l=18e4}=e,u=mi(["waitForTransactionReceipt",t.uid,i]),h=(()=>{var A;return e.pollingInterval?e.pollingInterval:(A=t.chain)!=null&&A.experimental_preconfirmationTime?t.chain.experimental_preconfirmationTime:t.pollingInterval})();let f,g,y,b=!1,w,x;const{promise:E,resolve:S,reject:_}=Tk(),I=l?setTimeout(()=>{x==null||x(),w==null||w(),_(new Kle({hash:i}))},l):void 0;return w=Eu(u,{onReplaced:s,resolve:S,reject:_},async A=>{if(y=await Ot(t,s3,"getTransactionReceipt")({hash:i}).catch(()=>{}),y&&n<=1){clearTimeout(I),A.resolve(y),w==null||w();return}x=Ot(t,hG,"watchBlockNumber")({emitMissed:!0,emitOnBegin:!0,poll:!0,pollingInterval:h,async onBlockNumber(O){const F=L=>{clearTimeout(I),x==null||x(),L(),w==null||w()};let H=O;if(!b)try{if(y){if(n>1&&(!y.blockNumber||H-y.blockNumber+1n<n))return;F(()=>A.resolve(y));return}if(r&&!f&&(b=!0,await q3(async()=>{f=await Ot(t,t$,"getTransaction")({hash:i}),f.blockNumber&&(H=f.blockNumber)},{delay:o,retryCount:a}),b=!1),y=await Ot(t,s3,"getTransactionReceipt")({hash:i}),n>1&&(!y.blockNumber||H-y.blockNumber+1n<n))return;F(()=>A.resolve(y))}catch(L){if(L instanceof oH||L instanceof lH){if(!f){b=!1;return}try{g=f,b=!0;const z=await q3(()=>Ot(t,tc,"getBlock")({blockNumber:H,includeTransactions:!0}),{delay:o,retryCount:a,shouldRetry:({error:B})=>B instanceof VV});b=!1;const V=z.transactions.find(({from:B,nonce:C})=>B===g.from&&C===g.nonce);if(!V||(y=await Ot(t,s3,"getTransactionReceipt")({hash:V.hash}),n>1&&(!y.blockNumber||H-y.blockNumber+1n<n)))return;let K="replaced";V.to===g.to&&V.value===g.value&&V.input===g.input?K="repriced":V.from===V.to&&V.value===0n&&(K="cancelled"),F(()=>{var B;(B=A.onReplaced)==null||B.call(A,{reason:K,replacedTransaction:g,transaction:V,transactionReceipt:y}),A.resolve(y)})}catch(z){F(()=>A.reject(z))}}else F(()=>A.reject(L))}}})}),E}function Vme(t,{blockTag:e=t.experimental_blockTag??"latest",emitMissed:r=!1,emitOnBegin:n=!1,onBlock:i,onError:s,includeTransactions:a,poll:o,pollingInterval:l=t.pollingInterval}){const u=typeof o<"u"?o:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),h=a??!1;let f;return u?(()=>{const b=mi(["watchBlocks",t.uid,e,r,n,h,l]);return Eu(b,{onBlock:i,onError:s},w=>Lg(async()=>{var x;try{const E=await Ot(t,tc,"getBlock")({blockTag:e,includeTransactions:h});if(E.number!==null&&(f==null?void 0:f.number)!=null){if(E.number===f.number)return;if(E.number-f.number>1&&r)for(let S=(f==null?void 0:f.number)+1n;S<E.number;S++){const _=await Ot(t,tc,"getBlock")({blockNumber:S,includeTransactions:h});w.onBlock(_,f),f=_}}((f==null?void 0:f.number)==null||e==="pending"&&(E==null?void 0:E.number)==null||E.number!==null&&E.number>f.number)&&(w.onBlock(E,f),f=E)}catch(E){(x=w.onError)==null||x.call(w,E)}},{emitOnBegin:n,interval:l}))})():(()=>{let b=!0,w=!0,x=()=>b=!1;return(async()=>{try{n&&Ot(t,tc,"getBlock")({blockTag:e,includeTransactions:h}).then(_=>{b&&w&&(i(_,void 0),w=!1)}).catch(s);const E=(()=>{if(t.transport.type==="fallback"){const _=t.transport.transports.find(I=>I.config.type==="webSocket"||I.config.type==="ipc");return _?_.value:t.transport}return t.transport})(),{unsubscribe:S}=await E.subscribe({params:["newHeads"],async onData(_){var A;if(!b)return;const I=await Ot(t,tc,"getBlock")({blockNumber:(A=_.result)==null?void 0:A.number,includeTransactions:h}).catch(()=>{});b&&(i(I,f),w=!1,f=I)},onError(_){s==null||s(_)}});x=S,b||x()}catch(E){s==null||s(E)}})(),()=>x()})()}function Gme(t,{address:e,args:r,batch:n=!0,event:i,events:s,fromBlock:a,onError:o,onLogs:l,poll:u,pollingInterval:h=t.pollingInterval,strict:f}){const g=typeof u<"u"?u:typeof a=="bigint"?!0:!(t.transport.type==="webSocket"||t.transport.type==="ipc"||t.transport.type==="fallback"&&(t.transport.transports[0].config.type==="webSocket"||t.transport.transports[0].config.type==="ipc")),y=f??!1;return g?(()=>{const x=mi(["watchEvent",e,r,n,t.uid,i,h,a]);return Eu(x,{onLogs:l,onError:o},E=>{let S;a!==void 0&&(S=a-1n);let _,I=!1;const A=Lg(async()=>{var O;if(!I){try{_=await Ot(t,aG,"createEventFilter")({address:e,args:r,event:i,events:s,strict:y,fromBlock:a})}catch{}I=!0;return}try{let F;if(_)F=await Ot(t,A6,"getFilterChanges")({filter:_});else{const H=await Ot(t,hb,"getBlockNumber")({});S&&S!==H?F=await Ot(t,Yk,"getLogs")({address:e,args:r,event:i,events:s,fromBlock:S+1n,toBlock:H}):F=[],S=H}if(F.length===0)return;if(n)E.onLogs(F);else for(const H of F)E.onLogs([H])}catch(F){_&&F instanceof Cf&&(I=!1),(O=E.onError)==null||O.call(E,F)}},{emitOnBegin:!0,interval:h});return async()=>{_&&await Ot(t,S6,"uninstallFilter")({filter:_}),A()}})})():(()=>{let x=!0,E=()=>x=!1;return(async()=>{try{const S=(()=>{if(t.transport.type==="fallback"){const O=t.transport.transports.find(F=>F.config.type==="webSocket"||F.config.type==="ipc");return O?O.value:t.transport}return t.transport})(),_=s??(i?[i]:void 0);let I=[];_&&(I=[_.flatMap(F=>sb({abi:[F],eventName:F.name,args:r}))],i&&(I=I[0]));const{unsubscribe:A}=await S.subscribe({params:["logs",{address:e,topics:I}],onData(O){var H;if(!x)return;const F=O.result;try{const{eventName:L,args:z}=bk({abi:_??[],data:F.data,topics:F.topics,strict:y}),V=vu(F,{args:z,eventName:L});l([V])}catch(L){let z,V;if(L instanceof Vy||L instanceof a6){if(f)return;z=L.abiItem.name,V=(H=L.abiItem.inputs)==null?void 0:H.some(B=>!("name"in B&&B.name))}const K=vu(F,{args:V?[]:{},eventName:z});l([K])}},onError(O){o==null||o(O)}});E=A,x||E()}catch(S){o==null||o(S)}})(),()=>E()})()}function Kme(t,{batch:e=!0,onError:r,onTransactions:n,poll:i,pollingInterval:s=t.pollingInterval}){return(typeof i<"u"?i:t.transport.type!=="webSocket"&&t.transport.type!=="ipc")?(()=>{const u=mi(["watchPendingTransactions",t.uid,e,s]);return Eu(u,{onTransactions:n,onError:r},h=>{let f;const g=Lg(async()=>{var y;try{if(!f)try{f=await Ot(t,oG,"createPendingTransactionFilter")({});return}catch(w){throw g(),w}const b=await Ot(t,A6,"getFilterChanges")({filter:f});if(b.length===0)return;if(e)h.onTransactions(b);else for(const w of b)h.onTransactions([w])}catch(b){(y=h.onError)==null||y.call(h,b)}},{emitOnBegin:!0,interval:s});return async()=>{f&&await Ot(t,S6,"uninstallFilter")({filter:f}),g()}})})():(()=>{let u=!0,h=()=>u=!1;return(async()=>{try{const{unsubscribe:f}=await t.transport.subscribe({params:["newPendingTransactions"],onData(g){if(!u)return;const y=g.result;n([y])},onError(g){r==null||r(g)}});h=f,u||h()}catch(f){r==null||r(f)}})(),()=>h()})()}function Yme(t){var f,g,y;const{scheme:e,statement:r,...n}=((f=t.match(Zme))==null?void 0:f.groups)??{},{chainId:i,expirationTime:s,issuedAt:a,notBefore:o,requestId:l,...u}=((g=t.match(Qme))==null?void 0:g.groups)??{},h=(y=t.split("Resources:")[1])==null?void 0:y.split(`
- `).slice(1);return{...n,...u,...i?{chainId:Number(i)}:{},...s?{expirationTime:new Date(s)}:{},...a?{issuedAt:new Date(a)}:{},...o?{notBefore:new Date(o)}:{},...l?{requestId:l}:{},...h?{resources:h}:{},...e?{scheme:e}:{},...r?{statement:r}:{}}}const Zme=/^(?:(?<scheme>[a-zA-Z][a-zA-Z0-9+-.]*):\/\/)?(?<domain>[a-zA-Z0-9+-.]*(?::[0-9]{1,5})?) (?:wants you to sign in with your Ethereum account:\n)(?<address>0x[a-fA-F0-9]{40})\n\n(?:(?<statement>.*)\n\n)?/,Qme=/(?:URI: (?<uri>.+))\n(?:Version: (?<version>.+))\n(?:Chain ID: (?<chainId>\d+))\n(?:Nonce: (?<nonce>[a-zA-Z0-9]+))\n(?:Issued At: (?<issuedAt>.+))(?:\nExpiration Time: (?<expirationTime>.+))?(?:\nNot Before: (?<notBefore>.+))?(?:\nRequest ID: (?<requestId>.+))?/;function Xme(t){const{address:e,domain:r,message:n,nonce:i,scheme:s,time:a=new Date}=t;if(r&&n.domain!==r||i&&n.nonce!==i||s&&n.scheme!==s||n.expirationTime&&a>=n.expirationTime||n.notBefore&&a<n.notBefore)return!1;try{if(!n.address||!ta(n.address,{strict:!1})||e&&!ab(n.address,e))return!1}catch{return!1}return!0}async function Jme(t,e){const{address:r,domain:n,message:i,nonce:s,scheme:a,signature:o,time:l=new Date,...u}=e,h=Yme(i);if(!h.address||!Xme({address:r,domain:n,message:h,nonce:s,scheme:a,time:l}))return!1;const g=ZH(i);return T6(t,{address:h.address,hash:g,signature:o,...u})}function r$(t){return{call:e=>g6(t,e),createAccessList:e=>sG(t,e),createBlockFilter:()=>cme(t),createContractEventFilter:e=>HV(t,e),createEventFilter:e=>aG(t,e),createPendingTransactionFilter:()=>oG(t),estimateContractGas:e=>Nge(t,e),estimateGas:e=>Kk(t,e),getBalance:e=>ume(t,e),getBlobBaseFee:()=>dme(t),getBlock:e=>tc(t,e),getBlockNumber:e=>hb(t,e),getBlockTransactionCount:e=>hme(t,e),getBytecode:e=>jC(t,e),getChainId:()=>Bg(t),getCode:e=>jC(t,e),getContractEvents:e=>YV(t,e),getEip712Domain:e=>pme(t,e),getEnsAddress:e=>Gge(t,e),getEnsAvatar:e=>ame(t,e),getEnsName:e=>ome(t,e),getEnsResolver:e=>lme(t,e),getEnsText:e=>iG(t,e),getFeeHistory:e=>yme(t,e),estimateFeesPerGas:e=>Ige(t,e),getFilterChanges:e=>A6(t,e),getFilterLogs:e=>bme(t,e),getGasPrice:()=>Gk(t),getLogs:e=>Yk(t,e),getProof:e=>xme(t,e),estimateMaxPriorityFeePerGas:e=>Tge(t,e),getStorageAt:e=>Eme(t,e),getTransaction:e=>t$(t,e),getTransactionConfirmations:e=>_me(t,e),getTransactionCount:e=>Nk(t,e),getTransactionReceipt:e=>s3(t,e),multicall:e=>Cme(t,e),prepareTransactionRequest:e=>C6(t,e),readContract:e=>hl(t,e),sendRawTransaction:e=>Zk(t,e),simulate:e=>DC(t,e),simulateBlocks:e=>DC(t,e),simulateCalls:e=>Mme(t,e),simulateContract:e=>Pge(t,e),verifyHash:e=>T6(t,e),verifyMessage:e=>Wme(t,e),verifySiweMessage:e=>Jme(t,e),verifyTypedData:e=>qme(t,e),uninstallFilter:e=>S6(t,e),waitForTransactionReceipt:e=>Hme(t,e),watchBlocks:e=>Vme(t,e),watchBlockNumber:e=>hG(t,e),watchContractEvent:e=>Bge(t,e),watchEvent:e=>Gme(t,e),watchPendingTransactions:e=>Kme(t,e)}}function _u(t){const{key:e="public",name:r="Public Client"}=t;return eG({...t,key:e,name:r,type:"publicClient"}).extend(r$)}async function e1e(t,{chain:e}){const{id:r,name:n,nativeCurrency:i,rpcUrls:s,blockExplorers:a}=e;await t.request({method:"wallet_addEthereumChain",params:[{chainId:It(r),chainName:n,nativeCurrency:i,rpcUrls:s.default.http,blockExplorerUrls:a?Object.values(a).map(({url:o})=>o):void 0}]},{dedupe:!0,retryCount:0})}function t1e(t,e){const{abi:r,args:n,bytecode:i,...s}=e,a=l6({abi:r,args:n,bytecode:i});return k6(t,{...s,...s.authorizationList?{to:null}:{},data:a})}async function r1e(t){var r;return((r=t.account)==null?void 0:r.type)==="local"?[t.account.address]:(await t.request({method:"eth_accounts"},{dedupe:!0})).map(n=>rb(n))}async function n1e(t,e={}){const{account:r=t.account,chainId:n}=e,i=r?Kn(r):void 0,s=n?[i==null?void 0:i.address,[It(n)]]:[i==null?void 0:i.address],a=await t.request({method:"wallet_getCapabilities",params:s}),o={};for(const[l,u]of Object.entries(a)){o[Number(l)]={};for(let[h,f]of Object.entries(u))h==="addSubAccount"&&(h="unstable_addSubAccount"),o[Number(l)][h]=f}return typeof n=="number"?o[n]:o}async function i1e(t){return await t.request({method:"wallet_getPermissions"},{dedupe:!0})}async function fG(t,e){var l;const{account:r=t.account,chainId:n,nonce:i}=e;if(!r)throw new Kf({docsPath:"/docs/eip7702/prepareAuthorization"});const s=Kn(r),a=(()=>{if(e.executor)return e.executor==="self"?e.executor:Kn(e.executor)})(),o={address:e.contractAddress??e.address,chainId:n,nonce:i};return typeof o.chainId>"u"&&(o.chainId=((l=t.chain)==null?void 0:l.id)??await Ot(t,Bg,"getChainId")({})),typeof o.nonce>"u"&&(o.nonce=await Ot(t,Nk,"getTransactionCount")({address:s.address,blockTag:"pending"}),(a==="self"||a!=null&&a.address&&ab(a.address,s.address))&&(o.nonce+=1)),o}async function s1e(t){return(await t.request({method:"eth_requestAccounts"},{dedupe:!0,retryCount:0})).map(r=>ei(r))}async function a1e(t,e){return t.request({method:"wallet_requestPermissions",params:[e]},{retryCount:0})}async function o1e(t,e){const{id:r}=e;await t.request({method:"wallet_showCallsStatus",params:[r]})}async function l1e(t,e){const{account:r=t.account}=e;if(!r)throw new Kf({docsPath:"/docs/eip7702/signAuthorization"});const n=Kn(r);if(!n.signAuthorization)throw new i3({docsPath:"/docs/eip7702/signAuthorization",metaMessages:["The `signAuthorization` Action does not support JSON-RPC Accounts."],type:n.type});const i=await fG(t,e);return n.signAuthorization(i)}async function c1e(t,{account:e=t.account,message:r}){if(!e)throw new Kf({docsPath:"/docs/actions/wallet/signMessage"});const n=Kn(e);if(n.signMessage)return n.signMessage({message:r});const i=typeof r=="string"?og(r):r.raw instanceof Uint8Array?qn(r.raw):r.raw;return t.request({method:"personal_sign",params:[i,n.address]},{retryCount:0})}async function u1e(t,e){var u,h,f,g;const{account:r=t.account,chain:n=t.chain,...i}=e;if(!r)throw new Kf({docsPath:"/docs/actions/wallet/signTransaction"});const s=Kn(r);Gf({account:s,...e});const a=await Ot(t,Bg,"getChainId")({});n!==null&&qH({currentChainId:a,chain:n});const o=(n==null?void 0:n.formatters)||((u=t.chain)==null?void 0:u.formatters),l=((h=o==null?void 0:o.transactionRequest)==null?void 0:h.format)||Ug;return s.signTransaction?s.signTransaction({...i,chainId:a},{serializer:(g=(f=t.chain)==null?void 0:f.serializers)==null?void 0:g.transaction}):await t.request({method:"eth_signTransaction",params:[{...l(i),chainId:It(a),from:s.address}]},{retryCount:0})}async function d1e(t,e){const{account:r=t.account,domain:n,message:i,primaryType:s}=e;if(!r)throw new Kf({docsPath:"/docs/actions/wallet/signTypedData"});const a=Kn(r),o={EIP712Domain:XH({domain:n}),...e.types};if(QH({domain:n,message:i,primaryType:s,types:o}),a.signTypedData)return a.signTypedData({domain:n,message:i,primaryType:s,types:o});const l=Iue({domain:n,message:i,primaryType:s,types:o});return t.request({method:"eth_signTypedData_v4",params:[a.address,l]},{retryCount:0})}async function h1e(t,{id:e}){await t.request({method:"wallet_switchEthereumChain",params:[{chainId:It(e)}]},{retryCount:0})}async function f1e(t,e){return await t.request({method:"wallet_watchAsset",params:e},{retryCount:0})}function p1e(t){return{addChain:e=>e1e(t,e),deployContract:e=>t1e(t,e),getAddresses:()=>r1e(t),getCallsStatus:e=>XV(t,e),getCapabilities:e=>n1e(t,e),getChainId:()=>Bg(t),getPermissions:()=>i1e(t),prepareAuthorization:e=>fG(t,e),prepareTransactionRequest:e=>C6(t,e),requestAddresses:()=>s1e(t),requestPermissions:e=>a1e(t,e),sendCalls:e=>zge(t,e),sendRawTransaction:e=>Zk(t,e),sendTransaction:e=>k6(t,e),showCallsStatus:e=>o1e(t,e),signAuthorization:e=>l1e(t,e),signMessage:e=>c1e(t,e),signTransaction:e=>u1e(t,e),signTypedData:e=>d1e(t,e),switchChain:e=>h1e(t,e),waitForCallsStatus:e=>Wge(t,e),watchAsset:e=>f1e(t,e),writeContract:e=>Lge(t,e)}}function pG(t){const{key:e="wallet",name:r="Wallet Client",transport:n}=t;return eG({...t,key:e,name:r,transport:n,type:"walletClient"}).extend(p1e)}function gG({key:t,methods:e,name:r,request:n,retryCount:i=3,retryDelay:s=150,timeout:a,type:o},l){const u=JV();return{config:{key:t,methods:e,name:r,request:n,retryCount:i,retryDelay:s,timeout:a,type:o},request:wce(n,{methods:e,retryCount:i,retryDelay:s,uid:u}),value:l}}function mG(t,e={}){const{key:r="custom",methods:n,name:i="Custom Provider",retryDelay:s}=e;return({retryCount:a})=>gG({key:r,methods:n,name:i,request:t.request.bind(t),retryCount:e.retryCount??a,retryDelay:s,type:"custom"})}class g1e extends ze{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Cu(t,e={}){const{batch:r,fetchFn:n,fetchOptions:i,key:s="http",methods:a,name:o="HTTP JSON-RPC",onFetchRequest:l,onFetchResponse:u,retryDelay:h,raw:f}=e;return({chain:g,retryCount:y,timeout:b})=>{const{batchSize:w=1e3,wait:x=0}=typeof r=="object"?r:{},E=e.retryCount??y,S=b??e.timeout??1e4,_=t||(g==null?void 0:g.rpcUrls.default.http[0]);if(!_)throw new g1e;const I=Cue(_,{fetchFn:n,fetchOptions:i,onRequest:l,onResponse:u,timeout:S});return gG({key:s,methods:a,name:o,async request({method:A,params:O}){const F={method:A,params:O},{schedule:H}=zH({id:_,wait:x,shouldSplitBatch(K){return K.length>w},fn:K=>I.request({body:K}),sort:(K,B)=>K.id-B.id}),L=async K=>r?H(K):[await I.request({body:K})],[{error:z,result:V}]=await L(F);if(f)return{error:z,result:V};if(z)throw new _k({body:F,error:z,url:_});return V},retryCount:E,retryDelay:h,timeout:S,type:"http"},{fetchOptions:i,url:_})}}let m1e=class{getConfig(){return this._privyInternal.config}async getSmartWalletConfig(){return this._smartWalletConfig||(this._smartWalletConfig=await this._privyInternal.fetch(Whe,{params:{app_id:this.appId}})),this._smartWalletConfig}get appId(){return this._privyInternal.appId}constructor(e){this._privyInternal=e}};const y1e=new TextEncoder,yG=new TextDecoder,b1e=t=>{let e=t;typeof e=="string"&&(e=y1e.encode(e));const r=32768,n=[];for(let i=0;i<e.length;i+=r)n.push(String.fromCharCode.apply(null,e.subarray(i,i+r)));return btoa(n.join(""))},w1e=t=>b1e(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_"),v1e=t=>{const e=atob(t),r=new Uint8Array(e.length);for(let n=0;n<e.length;n++)r[n]=e.charCodeAt(n);return r},x1e=t=>{let e=t;e instanceof Uint8Array&&(e=yG.decode(e)),e=e.replace(/-/g,"+").replace(/_/g,"/").replace(/\s/g,"");try{return v1e(e)}catch{throw new TypeError("The input to be decoded is not correctly encoded.")}};class E1e extends Error{static get code(){return"ERR_JOSE_GENERIC"}constructor(e){var r;super(e),this.code="ERR_JOSE_GENERIC",this.name=this.constructor.name,(r=Error.captureStackTrace)===null||r===void 0||r.call(Error,this,this.constructor)}}class Mh extends E1e{constructor(){super(...arguments),this.code="ERR_JWT_INVALID"}static get code(){return"ERR_JWT_INVALID"}}function _1e(t){return typeof t=="object"&&t!==null}function C1e(t){if(!_1e(t)||Object.prototype.toString.call(t)!=="[object Object]")return!1;if(Object.getPrototypeOf(t)===null)return!0;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}const Tf=w1e,A1e=x1e;function LC(t){if(typeof t!="string")throw new Mh("JWTs must use Compact JWS serialization, JWT must be a string");const{1:e,length:r}=t.split(".");if(r===5)throw new Mh("Only JWTs using Compact JWS serialization can be decoded");if(r!==3)throw new Mh("Invalid JWT");if(!e)throw new Mh("JWTs must contain a payload");let n;try{n=A1e(e)}catch{throw new Mh("Failed to base64url decode the payload")}let i;try{i=JSON.parse(yG.decode(n))}catch{throw new Mh("Failed to parse the decoded payload as JSON")}if(!C1e(i))throw new Mh("Invalid JWT Claims Set");return i}let ny=class bG{static parse(e){try{return new bG(e)}catch{return null}}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=LC(e)}},wG=class FC{async updateOnCrossAppAuthentication(e,r){let n=r.access_token,i=FC.providerAccessTokenStorageKey(e);await this._storage.put(i,n)}async getProviderAccessToken(e){let r=FC.providerAccessTokenStorageKey(e),n=await this._storage.get(r);if(typeof n!="string")return null;try{if(new ny(n).isExpired())throw Error("JWT is expired");return n}catch{return await this._storage.del(r),null}}async getCrossAppConnections(){return await this._privyInternal.fetch(ihe,{params:{app_id:this._privyInternal.appId}})}constructor(e,r){this._privyInternal=e,this._storage=r}};wG.providerAccessTokenStorageKey=t=>`privy:cross-app:${t}`;let S1e=class{async revoke(){await this._privyInternal.fetch(tfe,{})}constructor(e){this._privyInternal=e}};function k1e(t,e){return{...t,rpcUrls:{...t.rpcUrls,privy:{http:[e]}}}}const So={id:42161,name:"Arbitrum One",network:"arbitrum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-mainnet.rpc.privy.systems"]},alchemy:{http:["https://arb-mainnet.g.alchemy.com/v2"],webSocket:["wss://arb-mainnet.g.alchemy.com/v2"]},infura:{http:["https://arbitrum-mainnet.infura.io/v3"],webSocket:["wss://arbitrum-mainnet.infura.io/ws/v3"]},default:{http:["https://arb1.arbitrum.io/rpc"]},public:{http:["https://arb1.arbitrum.io/rpc"]}},blockExplorers:{etherscan:{name:"Arbiscan",url:"https://arbiscan.io"},default:{name:"Arbiscan",url:"https://arbiscan.io"}}},I6={id:421614,name:"Arbitrum Sepolia",network:"arbitrum-sepolia",nativeCurrency:{name:"Arbitrum Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://arbitrum-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia-rollup.arbitrum.io/rpc"]},public:{http:["https://sepolia-rollup.arbitrum.io/rpc"]}},blockExplorers:{default:{name:"Blockscout",url:"https://sepolia-explorer.arbitrum.io"}},testnet:!0},Fg={id:43114,name:"Avalanche",network:"avalanche",nativeCurrency:{decimals:18,name:"Avalanche",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax.network/ext/bc/C/rpc"]},public:{http:["https://api.avax.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://snowtrace.io"},default:{name:"SnowTrace",url:"https://snowtrace.io"}}},n$={id:43113,name:"Avalanche Fuji",network:"avalanche-fuji",nativeCurrency:{decimals:18,name:"Avalanche Fuji",symbol:"AVAX"},rpcUrls:{default:{http:["https://api.avax-test.network/ext/bc/C/rpc"]},public:{http:["https://api.avax-test.network/ext/bc/C/rpc"]}},blockExplorers:{etherscan:{name:"SnowTrace",url:"https://testnet.snowtrace.io"},default:{name:"SnowTrace",url:"https://testnet.snowtrace.io"}},testnet:!0},ko={id:8453,network:"base",name:"Base",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-mainnet.rpc.privy.systems"]},blast:{http:["https://base-mainnet.blastapi.io"],webSocket:["wss://base-mainnet.blastapi.io"]},default:{http:["https://mainnet.base.org"]},public:{http:["https://mainnet.base.org"]}},blockExplorers:{etherscan:{name:"Basescan",url:"https://basescan.org"},default:{name:"Basescan",url:"https://basescan.org"}}},N6={id:84532,network:"base-sepolia",name:"Base Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://base-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.base.org"]},public:{http:["https://sepolia.base.org"]}},blockExplorers:{default:{name:"Blockscout",url:"https://base-sepolia.blockscout.com"}},testnet:!0},$1e={id:80085,network:"berachain-artio",name:"Berachain Artio",nativeCurrency:{name:"BERA",symbol:"BERA",decimals:18},rpcUrls:{default:{http:["https://berachain-artio.rpc.privy.systems"]},public:{http:["https://berachain-artio.rpc.privy.systems"]}},blockExplorers:{default:{name:"Beratrail",url:"https://artio.beratrail.io"}},testnet:!0},P6={id:42220,name:"Celo Mainnet",network:"celo",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://forno.celo.org"]},infura:{http:["https://celo-mainnet.infura.io/v3"]},public:{http:["https://forno.celo.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/mainnet"},etherscan:{name:"CeloScan",url:"https://celoscan.io"}},testnet:!1},T1e={id:44787,name:"Celo Alfajores Testnet",network:"celo-alfajores",nativeCurrency:{decimals:18,name:"CELO",symbol:"CELO"},rpcUrls:{default:{http:["https://alfajores-forno.celo-testnet.org"]},infura:{http:["https://celo-alfajores.infura.io/v3"]},public:{http:["https://alfajores-forno.celo-testnet.org"]}},blockExplorers:{default:{name:"Celo Explorer",url:"https://explorer.celo.org/alfajores"},etherscan:{name:"CeloScan",url:"https://alfajores.celoscan.io/"}},testnet:!0},I1e={id:314,name:"Filecoin - Mainnet",network:"filecoin-mainnet",nativeCurrency:{decimals:18,name:"filecoin",symbol:"FIL"},rpcUrls:{default:{http:["https://api.node.glif.io/rpc/v1"]},public:{http:["https://api.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filfox",url:"https://filfox.info/en"},filscan:{name:"Filscan",url:"https://filscan.io"},filscout:{name:"Filscout",url:"https://filscout.io/en"},glif:{name:"Glif",url:"https://explorer.glif.io"}}},N1e={id:314159,name:"Filecoin - Calibration testnet",network:"filecoin-calibration",nativeCurrency:{decimals:18,name:"testnet filecoin",symbol:"tFIL"},rpcUrls:{default:{http:["https://api.calibration.node.glif.io/rpc/v1"]},public:{http:["https://api.calibration.node.glif.io/rpc/v1"]}},blockExplorers:{default:{name:"Filscan",url:"https://calibration.filscan.io"}}},P1e={id:17069,name:"Garnet Holesky",network:"garnet-holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.garnetchain.com"]},public:{http:["https://rpc.garnetchain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.garnetchain.com"}}},O1e={id:17e3,name:"Holesky",network:"holesky",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://ethereum-holesky.publicnode.com"]},public:{http:["https://ethereum-holesky.publicnode.com"]}},blockExplorers:{etherscan:{name:"EtherScan",url:"https://holesky.etherscan.io"},default:{name:"EtherScan",url:"https://holesky.etherscan.io"}}},vG={id:59144,network:"linea-mainnet",name:"Linea Mainnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]},public:{http:["https://rpc.linea.build"],webSocket:["wss://rpc.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://lineascan.build"},etherscan:{name:"Etherscan",url:"https://lineascan.build"}},testnet:!1},M1e={id:59140,network:"linea-testnet",name:"Linea Goerli Testnet",nativeCurrency:{name:"Linea Ether",symbol:"ETH",decimals:18},rpcUrls:{infura:{http:["https://linea-goerli.infura.io/v3"],webSocket:["wss://linea-goerli.infura.io/ws/v3"]},default:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]},public:{http:["https://rpc.goerli.linea.build"],webSocket:["wss://rpc.goerli.linea.build"]}},blockExplorers:{default:{name:"Etherscan",url:"https://goerli.lineascan.build"},etherscan:{name:"Etherscan",url:"https://goerli.lineascan.build"}},testnet:!0},R1e={id:42,network:"lukso",name:"LUKSO",nativeCurrency:{name:"LUKSO",symbol:"LYX",decimals:18},rpcUrls:{default:{http:["https://rpc.mainnet.lukso.network"],webSocket:["wss://ws-rpc.mainnet.lukso.network"]}},blockExplorers:{default:{name:"LUKSO Mainnet Explorer",url:"https://explorer.execution.mainnet.lukso.network"}}},$o={id:1,network:"homestead",name:"Ethereum",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://mainnet.rpc.privy.systems"]},alchemy:{http:["https://eth-mainnet.g.alchemy.com/v2"],webSocket:["wss://eth-mainnet.g.alchemy.com/v2"]},infura:{http:["https://mainnet.infura.io/v3"],webSocket:["wss://mainnet.infura.io/ws/v3"]},default:{http:["https://cloudflare-eth.com"]},public:{http:["https://cloudflare-eth.com"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://etherscan.io"},default:{name:"Etherscan",url:"https://etherscan.io"}}},yc={id:10,name:"OP Mainnet",network:"optimism",nativeCurrency:{name:"Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-mainnet.rpc.privy.systems"]},alchemy:{http:["https://opt-mainnet.g.alchemy.com/v2"],webSocket:["wss://opt-mainnet.g.alchemy.com/v2"]},infura:{http:["https://optimism-mainnet.infura.io/v3"],webSocket:["wss://optimism-mainnet.infura.io/ws/v3"]},default:{http:["https://mainnet.optimism.io"]},public:{http:["https://mainnet.optimism.io"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://optimistic.etherscan.io"},default:{name:"Optimism Explorer",url:"https://explorer.optimism.io"}}},O6={id:11155420,name:"Optimism Sepolia",network:"optimism-sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"ETH",decimals:18},rpcUrls:{privy:{http:["https://optimism-sepolia.rpc.privy.systems"]},default:{http:["https://sepolia.optimism.io"]},public:{http:["https://sepolia.optimism.io"]},infura:{http:["https://optimism-sepolia.infura.io/v3"]}},blockExplorers:{default:{name:"Blockscout",url:"https://optimism-sepolia.blockscout.com"}},testnet:!0},aa={id:137,name:"Polygon Mainnet",network:"polygon",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-mainnet.rpc.privy.systems"]},alchemy:{http:["https://polygon-mainnet.g.alchemy.com/v2"],webSocket:["wss://polygon-mainnet.g.alchemy.com/v2"]},infura:{http:["https://polygon-mainnet.infura.io/v3"],webSocket:["wss://polygon-mainnet.infura.io/ws/v3"]},default:{http:["https://polygon-rpc.com"]},public:{http:["https://polygon-rpc.com"]}},blockExplorers:{etherscan:{name:"PolygonScan",url:"https://polygonscan.com"},default:{name:"PolygonScan",url:"https://polygonscan.com"}}},fb={id:80002,name:"Polygon Amoy",network:"polygon-amoy",nativeCurrency:{name:"POL",symbol:"POL",decimals:18},rpcUrls:{privy:{http:["https://polygon-amoy.rpc.privy.systems"]},infura:{http:["https://polygon-amoy.infura.io/v3"],webSocket:["wss://polygon-amoy.infura.io/ws/v3"]},default:{http:["https://rpc-amoy.polygon.technology"]}},blockExplorers:{default:{name:"OK LINK",url:"https://www.oklink.com/amoy"}},testnet:!0},j1e={id:690,name:"Redstone",network:"redstone",nativeCurrency:{name:"ETH",symbol:"ETH",decimals:18},rpcUrls:{default:{http:["https://rpc.redstonechain.com"]},public:{http:["https://rpc.redstonechain.com"]}},blockExplorers:{default:{name:"Blockscout",url:"https://explorer.redstone.xyz/"}}},i$={id:11155111,network:"sepolia",name:"Sepolia",nativeCurrency:{name:"Sepolia Ether",symbol:"SEP",decimals:18},rpcUrls:{privy:{http:["https://sepolia.rpc.privy.systems"]},alchemy:{http:["https://eth-sepolia.g.alchemy.com/v2"],webSocket:["wss://eth-sepolia.g.alchemy.com/v2"]},infura:{http:["https://sepolia.infura.io/v3"],webSocket:["wss://sepolia.infura.io/ws/v3"]},default:{http:["https://rpc.sepolia.org"]},public:{http:["https://rpc.sepolia.org"]}},blockExplorers:{etherscan:{name:"Etherscan",url:"https://sepolia.etherscan.io"},default:{name:"Etherscan",url:"https://sepolia.etherscan.io"}},testnet:!0},s$={id:7777777,name:"Zora",network:"zora",nativeCurrency:{decimals:18,name:"Ether",symbol:"ETH"},rpcUrls:{default:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]},public:{http:["https://rpc.zora.energy"],webSocket:["wss://rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://explorer.zora.energy"}}},xG={id:999999999,name:"Zora Sepolia",network:"zora-sepolia",nativeCurrency:{decimals:18,name:"Zora Sepolia",symbol:"ETH"},rpcUrls:{default:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]},public:{http:["https://sepolia.rpc.zora.energy"],webSocket:["wss://sepolia.rpc.zora.energy"]}},blockExplorers:{default:{name:"Zora Sepolia Explorer",url:"https://sepolia.explorer.zora.energy/"}},testnet:!0},EG={id:999,name:"Zora Goerli Testnet",network:"zora-testnet",nativeCurrency:{decimals:18,name:"Zora Goerli",symbol:"ETH"},rpcUrls:{default:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]},public:{http:["https://testnet.rpc.zora.energy"],webSocket:["wss://testnet.rpc.zora.energy"]}},blockExplorers:{default:{name:"Explorer",url:"https://testnet.explorer.zora.energy"}},testnet:!0},pb=[$o,i$,O1e,So,I6,yc,O6,aa,fb,P6,T1e,I1e,N1e,ko,N6,$1e,R1e,vG,M1e,Fg,n$,s$,EG,xG,j1e,P1e],_G=new Set(pb.map(t=>t.id));function a$(t){let e=t.filter(r=>!_G.has(r.id));return pb.concat(e)}const CG=t=>t.map(e=>{var i;if(e.rpcUrls.privyWalletOverride)return e;let r=pb.find(s=>s.id===e.id),n=(i=r==null?void 0:r.rpcUrls.privy)==null?void 0:i.http[0];return n?k1e(e,n):e});let L9=class extends Error{constructor({error:e,code:r}){super(e),this.error=e,this.code=r}},Mr=class extends Error{constructor({error:e,code:r}){super(e),this.code=r,this.error=e}},D1e=class extends Error{constructor({error:e,code:r,response:n}){super(e),this.code=r,this.error=e,this.response=n}};const Rd=t=>!!t.id&&t.recovery_method==="privy-v2";let U1e=class{async sign({message:e}){return await this.request({method:"sign",params:{message:new TextDecoder("utf8").decode(e)}})}async signTransaction({psbt:e}){return await this.request({method:"signTransaction",params:{psbt:e}})}async request(e){if(Rd(this._account))throw new Mr({code:"unsupported_wallet_type",error:"Bitcoin wallet providers are only supported for on-device execution and this app uses TEE execution. Use the useSignRawHash hook from @privy-io/expo/extended-chains to sign over a hash with this wallet. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide"});if(!await this._privyInternal.getAccessToken())throw new Mr({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return this.handleIFrameRpc(e)}async handleIFrameRpc(e){try{let r=await this._privyInternal.getAccessToken();if(!r)throw Error("Missing access token. User must be authenticated.");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),(await this._proxy.rpcWallet({accessToken:r,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:this._account.chain_type})).response.data}catch(r){console.error(r);let n=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:n}),new Mr({code:"embedded_wallet_request_error",error:n})}}toJSON(){return`PrivyEmbeddedBitcoinProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:r,account:n,entropyId:i,entropyIdVerifier:s}){this._proxy=e,this._privyInternal=r,this._account=n,this._entropyId=i,this._entropyIdVerifier=s}};const B1e=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","mfa_timeout","missing_or_invalid_mfa","mfa_verification_max_attempts_reached"];var Rs;(Rs={}).MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",Rs.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",Rs.INVALID_DATA="invalid_data",Rs.LINKED_TO_ANOTHER_USER="linked_to_another_user",Rs.ALLOWLIST_REJECTED="allowlist_rejected",Rs.OAUTH_USER_DENIED="oauth_user_denied",Rs.UNKNOWN_AUTH_ERROR="unknown_auth_error",Rs.USER_EXITED_AUTH_FLOW="exited_auth_flow",Rs.MUST_BE_AUTHENTICATED="must_be_authenticated",Rs.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",Rs.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",Rs.CLIENT_REQUEST_TIMEOUT="client_request_timeout",Rs.INVALID_CREDENTIALS="invalid_credentials";let L1e=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,r,n){super(e),r instanceof Error&&(this.cause=r),this.privyErrorCode=n}},a3=class extends Error{constructor(e,r){super(r),this.type=e}},AG=class extends L1e{constructor(e,r,n){super(e,r,n),this.type="connector_error"}},qR=class extends Error{constructor(e,r,n){super(e),this.code=r,this.data=n}};const Xo={UNKNOWN_ERROR:{eipCode:0,message:"Unknown error",detail:"Unknown error",retryable:!0},E4001_DEFAULT_USER_REJECTED_REQUEST:{eipCode:4001,message:"User Rejected Request",detail:"The user rejected the request.",default:!0,retryable:!0},E4100_DEFAULT_UNAUTHORIZED:{eipCode:4100,message:"Unauthorized",detail:"The requested method and/or account has not been authorized by the user.",default:!0,retryable:!1},E4200_DEFAULT_UNSUPPORTED_METHOD:{eipCode:4200,message:"Unsupported Method",detail:"The Provider does not support the requested method.",default:!0,retryable:!1},E4900_DEFAULT_DISCONNECTED:{eipCode:4900,message:"Disconnected",detail:"The Provider is disconnected from all chains.",default:!0,retryable:!0},E4901_DEFAULT_CHAIN_DISCONNECTED:{eipCode:4901,message:"Chain Disconnected",detail:"The Provider is not connected to the requested chain.",default:!0,retryable:!0},E32700_DEFAULT_PARSE_ERROR:{eipCode:-32700,message:"Parse error",detail:"Invalid JSON",default:!0,retryable:!1},E32600_DEFAULT_INVALID_REQUEST:{eipCode:-32600,message:"Invalid request",detail:"JSON is not a valid request object",default:!0,retryable:!1},E32601_DEFAULT_METHOD_NOT_FOUND:{eipCode:-32601,message:"Method not found",detail:"Method does not exist",default:!0,retryable:!1},E32602_DEFAULT_INVALID_PARAMS:{eipCode:-32602,message:"Invalid params",detail:"Invalid method parameters",default:!0,retryable:!1},E32603_DEFAULT_INTERNAL_ERROR:{eipCode:-32603,message:"Internal error",detail:"Internal JSON-RPC error",default:!0,retryable:!0},E32000_DEFAULT_INVALID_INPUT:{eipCode:-32e3,message:"Invalid input",detail:"Missing or invalid parameters",default:!0,retryable:!1},E32001_DEFAULT_RESOURCE_NOT_FOUND:{eipCode:-32001,message:"Resource not found",detail:"Requested resource not found",default:!0,retryable:!1},E32002_DEFAULT_RESOURCE_UNAVAILABLE:{eipCode:-32002,message:"Resource unavailable",detail:"Requested resource not available",default:!0,retryable:!0},E32003_DEFAULT_TRANSACTION_REJECTED:{eipCode:-32003,message:"Transaction rejected",detail:"Transaction creation failed",default:!0,retryable:!0},E32004_DEFAULT_METHOD_NOT_SUPPORTED:{eipCode:-32004,message:"Method not supported",detail:"Method is not implemented",default:!0,retryable:!1},E32005_DEFAULT_LIMIT_EXCEEDED:{eipCode:-32005,message:"Limit exceeded",detail:"Request exceeds defined limit",default:!0,retryable:!1},E32006_DEFAULT_JSON_RPC_VERSION_NOT_SUPPORTED:{eipCode:-32006,message:"JSON-RPC version not supported",detail:"Version of JSON-RPC protocol is not supported",default:!0,retryable:!1},E32002_CONNECTION_ALREADY_PENDING:{eipCode:-32002,message:"Connection request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_REQUEST_ALREADY_PENDING:{eipCode:-32002,message:"Resource request already pending",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E32002_WALLET_LOCKED:{eipCode:-32002,message:"Wallet might be locked",detail:"Dont see your wallet? Check your other browser windows.",retryable:!1},E4001_USER_REJECTED_REQUEST:{eipCode:4001,message:"Signature rejected",detail:"Please try signing again.",retryable:!0}};function F1e(t){let e=t.type;return typeof e=="string"&&B1e.includes(e)}function o$(t){return F1e(t)&&t.type==="wallet_not_on_device"}async function zC(t,{request:e}){return await t.fetchPrivyRoute(efe,{body:e})}async function F9({context:t,chainType:e}){return{wallet:await zC(t,{request:{chain_type:e,owner_id:void 0}})}}const z1e="logger/5.8.0";let HR=!1,VR=!1;const o3={debug:1,default:2,info:2,warning:3,error:4,off:5};let GR=o3.default,z9=null;function W1e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const KR=W1e();var WC;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(WC||(WC={}));var Ko;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Ko||(Ko={}));const YR="0123456789abcdef";class Oe{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();o3[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(GR>o3[n])&&console.log.apply(console,r)}debug(...e){this._log(Oe.levels.DEBUG,e)}info(...e){this._log(Oe.levels.INFO,e)}warn(...e){this._log(Oe.levels.WARNING,e)}makeError(e,r,n){if(VR)return this.makeError("censored error",r,{});r||(r=Oe.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(l=>{const u=n[l];try{if(u instanceof Uint8Array){let h="";for(let f=0;f<u.length;f++)h+=YR[u[f]>>4],h+=YR[u[f]&15];i.push(l+"=Uint8Array(0x"+h+")")}else i.push(l+"="+JSON.stringify(u))}catch{i.push(l+"="+JSON.stringify(n[l].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let a="";switch(r){case Ko.NUMERIC_FAULT:{a="NUMERIC_FAULT";const l=e;switch(l){case"overflow":case"underflow":case"division-by-zero":a+="-"+l;break;case"negative-power":case"negative-width":a+="-unsupported";break;case"unbound-bitwise-result":a+="-unbound-result";break}break}case Ko.CALL_EXCEPTION:case Ko.INSUFFICIENT_FUNDS:case Ko.MISSING_NEW:case Ko.NONCE_EXPIRED:case Ko.REPLACEMENT_UNDERPRICED:case Ko.TRANSACTION_REPLACED:case Ko.UNPREDICTABLE_GAS_LIMIT:a=r;break}a&&(e+=" [ See: https://links.ethers.org/v5-errors-"+a+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const o=new Error(e);return o.reason=s,o.code=r,Object.keys(n).forEach(function(l){o[l]=n[l]}),o}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Oe.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){KR&&this.throwError("platform missing String.prototype.normalize",Oe.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:KR})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Oe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Oe.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Oe.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Oe.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Oe.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Oe.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Oe.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return z9||(z9=new Oe(z1e)),z9}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Oe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),HR){if(!e)return;this.globalLogger().throwError("error censorship permanent",Oe.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}VR=!!e,HR=!!r}static setLogLevel(e){const r=o3[e.toLowerCase()];if(r==null){Oe.globalLogger().warn("invalid log level - "+e);return}GR=r}static from(e){return new Oe(e)}}Oe.errors=Ko;Oe.levels=WC;const q1e="properties/5.8.0";var H1e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(h){try{u(n.next(h))}catch(f){a(f)}}function l(h){try{u(n.throw(h))}catch(f){a(f)}}function u(h){h.done?s(h.value):i(h.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const Q3=new Oe(q1e);function yr(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function iy(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function zi(t){return H1e(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function V1e(t,e){(!t||typeof t!="object")&&Q3.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||Q3.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function Qs(t){const e={};for(const r in t)e[r]=t[r];return e}const G1e={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function SG(t){if(t==null||G1e[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!SG(n))return!1}return!0}return Q3.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function K1e(t){if(SG(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>$2(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&yr(e,r,$2(n))}return e}return Q3.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function $2(t){return K1e(t)}class Y1e{constructor(e){for(const r in e)this[r]=$2(e[r])}}const Z1e="abstract-signer/5.8.0";var Uo=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(h){try{u(n.next(h))}catch(f){a(f)}}function l(h){try{u(n.throw(h))}catch(f){a(f)}}function u(h){h.done?s(h.value):i(h.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const so=new Oe(Z1e),Q1e=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],X1e=[Oe.errors.INSUFFICIENT_FUNDS,Oe.errors.NONCE_EXPIRED,Oe.errors.REPLACEMENT_UNDERPRICED];class M6{constructor(){so.checkAbstract(new.target,M6),yr(this,"_isSigner",!0)}getBalance(e){return Uo(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Uo(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Uo(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield zi(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return Uo(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield zi(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return Uo(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return Uo(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Uo(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Uo(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Uo(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)Q1e.indexOf(n)===-1&&so.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=Qs(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&so.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return Uo(this,void 0,void 0,function*(){const r=yield zi(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>Uo(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&so.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?so.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&so.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const s=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=s,r.maxPriorityFeePerGas=s}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&so.throwError("network does not support EIP-1559",Oe.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):so.throwError("failed to get consistent fee data",Oe.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(X1e.indexOf(i.code)>=0)throw i;return so.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Oe.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&so.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield zi(r)})}_checkProvider(e){this.provider||so.throwError("missing provider",Oe.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class l$ extends M6{constructor(e,r){super(),yr(this,"address",e),yr(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{so.throwError(e,Oe.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new l$(this.address,e)}}var l3={exports:{}};const J1e={},eye=Object.freeze(Object.defineProperty({__proto__:null,default:J1e},Symbol.toStringTag,{value:"Module"})),tye=pq(eye);var rye=l3.exports,ZR;function nye(){return ZR||(ZR=1,function(t){(function(e,r){function n(B,C){if(!B)throw new Error(C||"Assertion failed")}function i(B,C){B.super_=C;var k=function(){};k.prototype=C.prototype,B.prototype=new k,B.prototype.constructor=B}function s(B,C,k){if(s.isBN(B))return B;this.negative=0,this.words=null,this.length=0,this.red=null,B!==null&&((C==="le"||C==="be")&&(k=C,C=10),this._init(B||0,C||10,k||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var a;try{typeof window<"u"&&typeof window.Buffer<"u"?a=window.Buffer:a=tye.Buffer}catch{}s.isBN=function(C){return C instanceof s?!0:C!==null&&typeof C=="object"&&C.constructor.wordSize===s.wordSize&&Array.isArray(C.words)},s.max=function(C,k){return C.cmp(k)>0?C:k},s.min=function(C,k){return C.cmp(k)<0?C:k},s.prototype._init=function(C,k,N){if(typeof C=="number")return this._initNumber(C,k,N);if(typeof C=="object")return this._initArray(C,k,N);k==="hex"&&(k=16),n(k===(k|0)&&k>=2&&k<=36),C=C.toString().replace(/\s+/g,"");var D=0;C[0]==="-"&&(D++,this.negative=1),D<C.length&&(k===16?this._parseHex(C,D,N):(this._parseBase(C,k,D),N==="le"&&this._initArray(this.toArray(),k,N)))},s.prototype._initNumber=function(C,k,N){C<0&&(this.negative=1,C=-C),C<67108864?(this.words=[C&67108863],this.length=1):C<4503599627370496?(this.words=[C&67108863,C/67108864&67108863],this.length=2):(n(C<9007199254740992),this.words=[C&67108863,C/67108864&67108863,1],this.length=3),N==="le"&&this._initArray(this.toArray(),k,N)},s.prototype._initArray=function(C,k,N){if(n(typeof C.length=="number"),C.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(C.length/3),this.words=new Array(this.length);for(var D=0;D<this.length;D++)this.words[D]=0;var P,R,j=0;if(N==="be")for(D=C.length-1,P=0;D>=0;D-=3)R=C[D]|C[D-1]<<8|C[D-2]<<16,this.words[P]|=R<<j&67108863,this.words[P+1]=R>>>26-j&67108863,j+=24,j>=26&&(j-=26,P++);else if(N==="le")for(D=0,P=0;D<C.length;D+=3)R=C[D]|C[D+1]<<8|C[D+2]<<16,this.words[P]|=R<<j&67108863,this.words[P+1]=R>>>26-j&67108863,j+=24,j>=26&&(j-=26,P++);return this._strip()};function o(B,C){var k=B.charCodeAt(C);if(k>=48&&k<=57)return k-48;if(k>=65&&k<=70)return k-55;if(k>=97&&k<=102)return k-87;n(!1,"Invalid character in "+B)}function l(B,C,k){var N=o(B,k);return k-1>=C&&(N|=o(B,k-1)<<4),N}s.prototype._parseHex=function(C,k,N){this.length=Math.ceil((C.length-k)/6),this.words=new Array(this.length);for(var D=0;D<this.length;D++)this.words[D]=0;var P=0,R=0,j;if(N==="be")for(D=C.length-1;D>=k;D-=2)j=l(C,k,D)<<P,this.words[R]|=j&67108863,P>=18?(P-=18,R+=1,this.words[R]|=j>>>26):P+=8;else{var W=C.length-k;for(D=W%2===0?k+1:k;D<C.length;D+=2)j=l(C,k,D)<<P,this.words[R]|=j&67108863,P>=18?(P-=18,R+=1,this.words[R]|=j>>>26):P+=8}this._strip()};function u(B,C,k,N){for(var D=0,P=0,R=Math.min(B.length,k),j=C;j<R;j++){var W=B.charCodeAt(j)-48;D*=N,W>=49?P=W-49+10:W>=17?P=W-17+10:P=W,n(W>=0&&P<N,"Invalid character"),D+=P}return D}s.prototype._parseBase=function(C,k,N){this.words=[0],this.length=1;for(var D=0,P=1;P<=67108863;P*=k)D++;D--,P=P/k|0;for(var R=C.length-N,j=R%D,W=Math.min(R,R-j)+N,M=0,G=N;G<W;G+=D)M=u(C,G,G+D,k),this.imuln(P),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M);if(j!==0){var re=1;for(M=u(C,G,C.length,k),G=0;G<j;G++)re*=k;this.imuln(re),this.words[0]+M<67108864?this.words[0]+=M:this._iaddn(M)}this._strip()},s.prototype.copy=function(C){C.words=new Array(this.length);for(var k=0;k<this.length;k++)C.words[k]=this.words[k];C.length=this.length,C.negative=this.negative,C.red=this.red};function h(B,C){B.words=C.words,B.length=C.length,B.negative=C.negative,B.red=C.red}if(s.prototype._move=function(C){h(C,this)},s.prototype.clone=function(){var C=new s(null);return this.copy(C),C},s.prototype._expand=function(C){for(;this.length<C;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{s.prototype.inspect=f}else s.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var g=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],y=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],b=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(C,k){C=C||10,k=k|0||1;var N;if(C===16||C==="hex"){N="";for(var D=0,P=0,R=0;R<this.length;R++){var j=this.words[R],W=((j<<D|P)&16777215).toString(16);P=j>>>24-D&16777215,D+=2,D>=26&&(D-=26,R--),P!==0||R!==this.length-1?N=g[6-W.length]+W+N:N=W+N}for(P!==0&&(N=P.toString(16)+N);N.length%k!==0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}if(C===(C|0)&&C>=2&&C<=36){var M=y[C],G=b[C];N="";var re=this.clone();for(re.negative=0;!re.isZero();){var q=re.modrn(G).toString(C);re=re.idivn(G),re.isZero()?N=q+N:N=g[M-q.length]+q+N}for(this.isZero()&&(N="0"+N);N.length%k!==0;)N="0"+N;return this.negative!==0&&(N="-"+N),N}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var C=this.words[0];return this.length===2?C+=this.words[1]*67108864:this.length===3&&this.words[2]===1?C+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-C:C},s.prototype.toJSON=function(){return this.toString(16,2)},a&&(s.prototype.toBuffer=function(C,k){return this.toArrayLike(a,C,k)}),s.prototype.toArray=function(C,k){return this.toArrayLike(Array,C,k)};var w=function(C,k){return C.allocUnsafe?C.allocUnsafe(k):new C(k)};s.prototype.toArrayLike=function(C,k,N){this._strip();var D=this.byteLength(),P=N||Math.max(1,D);n(D<=P,"byte array longer than desired length"),n(P>0,"Requested array length <= 0");var R=w(C,P),j=k==="le"?"LE":"BE";return this["_toArrayLike"+j](R,D),R},s.prototype._toArrayLikeLE=function(C,k){for(var N=0,D=0,P=0,R=0;P<this.length;P++){var j=this.words[P]<<R|D;C[N++]=j&255,N<C.length&&(C[N++]=j>>8&255),N<C.length&&(C[N++]=j>>16&255),R===6?(N<C.length&&(C[N++]=j>>24&255),D=0,R=0):(D=j>>>24,R+=2)}if(N<C.length)for(C[N++]=D;N<C.length;)C[N++]=0},s.prototype._toArrayLikeBE=function(C,k){for(var N=C.length-1,D=0,P=0,R=0;P<this.length;P++){var j=this.words[P]<<R|D;C[N--]=j&255,N>=0&&(C[N--]=j>>8&255),N>=0&&(C[N--]=j>>16&255),R===6?(N>=0&&(C[N--]=j>>24&255),D=0,R=0):(D=j>>>24,R+=2)}if(N>=0)for(C[N--]=D;N>=0;)C[N--]=0},Math.clz32?s.prototype._countBits=function(C){return 32-Math.clz32(C)}:s.prototype._countBits=function(C){var k=C,N=0;return k>=4096&&(N+=13,k>>>=13),k>=64&&(N+=7,k>>>=7),k>=8&&(N+=4,k>>>=4),k>=2&&(N+=2,k>>>=2),N+k},s.prototype._zeroBits=function(C){if(C===0)return 26;var k=C,N=0;return k&8191||(N+=13,k>>>=13),k&127||(N+=7,k>>>=7),k&15||(N+=4,k>>>=4),k&3||(N+=2,k>>>=2),k&1||N++,N},s.prototype.bitLength=function(){var C=this.words[this.length-1],k=this._countBits(C);return(this.length-1)*26+k};function x(B){for(var C=new Array(B.bitLength()),k=0;k<C.length;k++){var N=k/26|0,D=k%26;C[k]=B.words[N]>>>D&1}return C}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var C=0,k=0;k<this.length;k++){var N=this._zeroBits(this.words[k]);if(C+=N,N!==26)break}return C},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(C){return this.negative!==0?this.abs().inotn(C).iaddn(1):this.clone()},s.prototype.fromTwos=function(C){return this.testn(C-1)?this.notn(C).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(C){for(;this.length<C.length;)this.words[this.length++]=0;for(var k=0;k<C.length;k++)this.words[k]=this.words[k]|C.words[k];return this._strip()},s.prototype.ior=function(C){return n((this.negative|C.negative)===0),this.iuor(C)},s.prototype.or=function(C){return this.length>C.length?this.clone().ior(C):C.clone().ior(this)},s.prototype.uor=function(C){return this.length>C.length?this.clone().iuor(C):C.clone().iuor(this)},s.prototype.iuand=function(C){var k;this.length>C.length?k=C:k=this;for(var N=0;N<k.length;N++)this.words[N]=this.words[N]&C.words[N];return this.length=k.length,this._strip()},s.prototype.iand=function(C){return n((this.negative|C.negative)===0),this.iuand(C)},s.prototype.and=function(C){return this.length>C.length?this.clone().iand(C):C.clone().iand(this)},s.prototype.uand=function(C){return this.length>C.length?this.clone().iuand(C):C.clone().iuand(this)},s.prototype.iuxor=function(C){var k,N;this.length>C.length?(k=this,N=C):(k=C,N=this);for(var D=0;D<N.length;D++)this.words[D]=k.words[D]^N.words[D];if(this!==k)for(;D<k.length;D++)this.words[D]=k.words[D];return this.length=k.length,this._strip()},s.prototype.ixor=function(C){return n((this.negative|C.negative)===0),this.iuxor(C)},s.prototype.xor=function(C){return this.length>C.length?this.clone().ixor(C):C.clone().ixor(this)},s.prototype.uxor=function(C){return this.length>C.length?this.clone().iuxor(C):C.clone().iuxor(this)},s.prototype.inotn=function(C){n(typeof C=="number"&&C>=0);var k=Math.ceil(C/26)|0,N=C%26;this._expand(k),N>0&&k--;for(var D=0;D<k;D++)this.words[D]=~this.words[D]&67108863;return N>0&&(this.words[D]=~this.words[D]&67108863>>26-N),this._strip()},s.prototype.notn=function(C){return this.clone().inotn(C)},s.prototype.setn=function(C,k){n(typeof C=="number"&&C>=0);var N=C/26|0,D=C%26;return this._expand(N+1),k?this.words[N]=this.words[N]|1<<D:this.words[N]=this.words[N]&~(1<<D),this._strip()},s.prototype.iadd=function(C){var k;if(this.negative!==0&&C.negative===0)return this.negative=0,k=this.isub(C),this.negative^=1,this._normSign();if(this.negative===0&&C.negative!==0)return C.negative=0,k=this.isub(C),C.negative=1,k._normSign();var N,D;this.length>C.length?(N=this,D=C):(N=C,D=this);for(var P=0,R=0;R<D.length;R++)k=(N.words[R]|0)+(D.words[R]|0)+P,this.words[R]=k&67108863,P=k>>>26;for(;P!==0&&R<N.length;R++)k=(N.words[R]|0)+P,this.words[R]=k&67108863,P=k>>>26;if(this.length=N.length,P!==0)this.words[this.length]=P,this.length++;else if(N!==this)for(;R<N.length;R++)this.words[R]=N.words[R];return this},s.prototype.add=function(C){var k;return C.negative!==0&&this.negative===0?(C.negative=0,k=this.sub(C),C.negative^=1,k):C.negative===0&&this.negative!==0?(this.negative=0,k=C.sub(this),this.negative=1,k):this.length>C.length?this.clone().iadd(C):C.clone().iadd(this)},s.prototype.isub=function(C){if(C.negative!==0){C.negative=0;var k=this.iadd(C);return C.negative=1,k._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(C),this.negative=1,this._normSign();var N=this.cmp(C);if(N===0)return this.negative=0,this.length=1,this.words[0]=0,this;var D,P;N>0?(D=this,P=C):(D=C,P=this);for(var R=0,j=0;j<P.length;j++)k=(D.words[j]|0)-(P.words[j]|0)+R,R=k>>26,this.words[j]=k&67108863;for(;R!==0&&j<D.length;j++)k=(D.words[j]|0)+R,R=k>>26,this.words[j]=k&67108863;if(R===0&&j<D.length&&D!==this)for(;j<D.length;j++)this.words[j]=D.words[j];return this.length=Math.max(this.length,j),D!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(C){return this.clone().isub(C)};function E(B,C,k){k.negative=C.negative^B.negative;var N=B.length+C.length|0;k.length=N,N=N-1|0;var D=B.words[0]|0,P=C.words[0]|0,R=D*P,j=R&67108863,W=R/67108864|0;k.words[0]=j;for(var M=1;M<N;M++){for(var G=W>>>26,re=W&67108863,q=Math.min(M,C.length-1),X=Math.max(0,M-B.length+1);X<=q;X++){var ne=M-X|0;D=B.words[ne]|0,P=C.words[X]|0,R=D*P+re,G+=R/67108864|0,re=R&67108863}k.words[M]=re|0,W=G|0}return W!==0?k.words[M]=W|0:k.length--,k._strip()}var S=function(C,k,N){var D=C.words,P=k.words,R=N.words,j=0,W,M,G,re=D[0]|0,q=re&8191,X=re>>>13,ne=D[1]|0,ee=ne&8191,ce=ne>>>13,be=D[2]|0,ve=be&8191,ge=be>>>13,Ee=D[3]|0,ye=Ee&8191,$e=Ee>>>13,we=D[4]|0,qe=we&8191,Ge=we>>>13,Ae=D[5]|0,je=Ae&8191,gt=Ae>>>13,Qt=D[6]|0,Ie=Qt&8191,pt=Qt>>>13,Ze=D[7]|0,ht=Ze&8191,bt=Ze>>>13,jt=D[8]|0,yt=jt&8191,Dt=jt>>>13,Qe=D[9]|0,Be=Qe&8191,Me=Qe>>>13,Xe=P[0]|0,vt=Xe&8191,st=Xe>>>13,ct=P[1]|0,We=ct&8191,St=ct>>>13,Jt=P[2]|0,Nt=Jt&8191,Le=Jt>>>13,gr=P[3]|0,Kt=gr&8191,Vt=gr>>>13,Un=P[4]|0,Y=Un&8191,Q=Un>>>13,oe=P[5]|0,ie=oe&8191,le=oe>>>13,pe=P[6]|0,Te=pe&8191,Ne=pe>>>13,Tt=P[7]|0,mt=Tt&8191,ut=Tt>>>13,At=P[8]|0,Ue=At&8191,tt=At>>>13,Je=P[9]|0,at=Je&8191,ot=Je>>>13;N.negative=C.negative^k.negative,N.length=19,W=Math.imul(q,vt),M=Math.imul(q,st),M=M+Math.imul(X,vt)|0,G=Math.imul(X,st);var qt=(j+W|0)+((M&8191)<<13)|0;j=(G+(M>>>13)|0)+(qt>>>26)|0,qt&=67108863,W=Math.imul(ee,vt),M=Math.imul(ee,st),M=M+Math.imul(ce,vt)|0,G=Math.imul(ce,st),W=W+Math.imul(q,We)|0,M=M+Math.imul(q,St)|0,M=M+Math.imul(X,We)|0,G=G+Math.imul(X,St)|0;var er=(j+W|0)+((M&8191)<<13)|0;j=(G+(M>>>13)|0)+(er>>>26)|0,er&=67108863,W=Math.imul(ve,vt),M=Math.imul(ve,st),M=M+Math.imul(ge,vt)|0,G=Math.imul(ge,st),W=W+Math.imul(ee,We)|0,M=M+Math.imul(ee,St)|0,M=M+Math.imul(ce,We)|0,G=G+Math.imul(ce,St)|0,W=W+Math.imul(q,Nt)|0,M=M+Math.imul(q,Le)|0,M=M+Math.imul(X,Nt)|0,G=G+Math.imul(X,Le)|0;var Rt=(j+W|0)+((M&8191)<<13)|0;j=(G+(M>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,W=Math.imul(ye,vt),M=Math.imul(ye,st),M=M+Math.imul($e,vt)|0,G=Math.imul($e,st),W=W+Math.imul(ve,We)|0,M=M+Math.imul(ve,St)|0,M=M+Math.imul(ge,We)|0,G=G+Math.imul(ge,St)|0,W=W+Math.imul(ee,Nt)|0,M=M+Math.imul(ee,Le)|0,M=M+Math.imul(ce,Nt)|0,G=G+Math.imul(ce,Le)|0,W=W+Math.imul(q,Kt)|0,M=M+Math.imul(q,Vt)|0,M=M+Math.imul(X,Kt)|0,G=G+Math.imul(X,Vt)|0;var kt=(j+W|0)+((M&8191)<<13)|0;j=(G+(M>>>13)|0)+(kt>>>26)|0,kt&=67108863,W=Math.imul(qe,vt),M=Math.imul(qe,st),M=M+Math.imul(Ge,vt)|0,G=Math.imul(Ge,st),W=W+Math.imul(ye,We)|0,M=M+Math.imul(ye,St)|0,M=M+Math.imul($e,We)|0,G=G+Math.imul($e,St)|0,W=W+Math.imul(ve,Nt)|0,M=M+Math.imul(ve,Le)|0,M=M+Math.imul(ge,Nt)|0,G=G+Math.imul(ge,Le)|0,W=W+Math.imul(ee,Kt)|0,M=M+Math.imul(ee,Vt)|0,M=M+Math.imul(ce,Kt)|0,G=G+Math.imul(ce,Vt)|0,W=W+Math.imul(q,Y)|0,M=M+Math.imul(q,Q)|0,M=M+Math.imul(X,Y)|0,G=G+Math.imul(X,Q)|0;var zt=(j+W|0)+((M&8191)<<13)|0;j=(G+(M>>>13)|0)+(zt>>>26)|0,zt&=67108863,W=Math.imul(je,vt),M=Math.imul(je,st),M=M+Math.imul(gt,vt)|0,G=Math.imul(gt,st),W=W+Math.imul(qe,We)|0,M=M+Math.imul(qe,St)|0,M=M+Math.imul(Ge,We)|0,G=G+Math.imul(Ge,St)|0,W=W+Math.imul(ye,Nt)|0,M=M+Math.imul(ye,Le)|0,M=M+Math.imul($e,Nt)|0,G=G+Math.imul($e,Le)|0,W=W+Math.imul(ve,Kt)|0,M=M+Math.imul(ve,Vt)|0,M=M+Math.imul(ge,Kt)|0,G=G+Math.imul(ge,Vt)|0,W=W+Math.imul(ee,Y)|0,M=M+Math.imul(ee,Q)|0,M=M+Math.imul(ce,Y)|0,G=G+Math.imul(ce,Q)|0,W=W+Math.imul(q,ie)|0,M=M+Math.imul(q,le)|0,M=M+Math.imul(X,ie)|0,G=G+Math.imul(X,le)|0;var jr=(j+W|0)+((M&8191)<<13)|0;j=(G+(M>>>13)|0)+(jr>>>26)|0,jr&=67108863,W=Math.imul(Ie,vt),M=Math.imul(Ie,st),M=M+Math.imul(pt,vt)|0,G=Math.imul(pt,st),W=W+Math.imul(je,We)|0,M=M+Math.imul(je,St)|0,M=M+Math.imul(gt,We)|0,G=G+Math.imul(gt,St)|0,W=W+Math.imul(qe,Nt)|0,M=M+Math.imul(qe,Le)|0,M=M+Math.imul(Ge,Nt)|0,G=G+Math.imul(Ge,Le)|0,W=W+Math.imul(ye,Kt)|0,M=M+Math.imul(ye,Vt)|0,M=M+Math.imul($e,Kt)|0,G=G+Math.imul($e,Vt)|0,W=W+Math.imul(ve,Y)|0,M=M+Math.imul(ve,Q)|0,M=M+Math.imul(ge,Y)|0,G=G+Math.imul(ge,Q)|0,W=W+Math.imul(ee,ie)|0,M=M+Math.imul(ee,le)|0,M=M+Math.imul(ce,ie)|0,G=G+Math.imul(ce,le)|0,W=W+Math.imul(q,Te)|0,M=M+Math.imul(q,Ne)|0,M=M+Math.imul(X,Te)|0,G=G+Math.imul(X,Ne)|0;var $n=(j+W|0)+((M&8191)<<13)|0;j=(G+(M>>>13)|0)+($n>>>26)|0,$n&=67108863,W=Math.imul(ht,vt),M=Math.imul(ht,st),M=M+Math.imul(bt,vt)|0,G=Math.imul(bt,st),W=W+Math.imul(Ie,We)|0,M=M+Math.imul(Ie,St)|0,M=M+Math.imul(pt,We)|0,G=G+Math.imul(pt,St)|0,W=W+Math.imul(je,Nt)|0,M=M+Math.imul(je,Le)|0,M=M+Math.imul(gt,Nt)|0,G=G+Math.imul(gt,Le)|0,W=W+Math.imul(qe,Kt)|0,M=M+Math.imul(qe,Vt)|0,M=M+Math.imul(Ge,Kt)|0,G=G+Math.imul(Ge,Vt)|0,W=W+Math.imul(ye,Y)|0,M=M+Math.imul(ye,Q)|0,M=M+Math.imul($e,Y)|0,G=G+Math.imul($e,Q)|0,W=W+Math.imul(ve,ie)|0,M=M+Math.imul(ve,le)|0,M=M+Math.imul(ge,ie)|0,G=G+Math.imul(ge,le)|0,W=W+Math.imul(ee,Te)|0,M=M+Math.imul(ee,Ne)|0,M=M+Math.imul(ce,Te)|0,G=G+Math.imul(ce,Ne)|0,W=W+Math.imul(q,mt)|0,M=M+Math.imul(q,ut)|0,M=M+Math.imul(X,mt)|0,G=G+Math.imul(X,ut)|0;var Et=(j+W|0)+((M&8191)<<13)|0;j=(G+(M>>>13)|0)+(Et>>>26)|0,Et&=67108863,W=Math.imul(yt,vt),M=Math.imul(yt,st),M=M+Math.imul(Dt,vt)|0,G=Math.imul(Dt,st),W=W+Math.imul(ht,We)|0,M=M+Math.imul(ht,St)|0,M=M+Math.imul(bt,We)|0,G=G+Math.imul(bt,St)|0,W=W+Math.imul(Ie,Nt)|0,M=M+Math.imul(Ie,Le)|0,M=M+Math.imul(pt,Nt)|0,G=G+Math.imul(pt,Le)|0,W=W+Math.imul(je,Kt)|0,M=M+Math.imul(je,Vt)|0,M=M+Math.imul(gt,Kt)|0,G=G+Math.imul(gt,Vt)|0,W=W+Math.imul(qe,Y)|0,M=M+Math.imul(qe,Q)|0,M=M+Math.imul(Ge,Y)|0,G=G+Math.imul(Ge,Q)|0,W=W+Math.imul(ye,ie)|0,M=M+Math.imul(ye,le)|0,M=M+Math.imul($e,ie)|0,G=G+Math.imul($e,le)|0,W=W+Math.imul(ve,Te)|0,M=M+Math.imul(ve,Ne)|0,M=M+Math.imul(ge,Te)|0,G=G+Math.imul(ge,Ne)|0,W=W+Math.imul(ee,mt)|0,M=M+Math.imul(ee,ut)|0,M=M+Math.imul(ce,mt)|0,G=G+Math.imul(ce,ut)|0,W=W+Math.imul(q,Ue)|0,M=M+Math.imul(q,tt)|0,M=M+Math.imul(X,Ue)|0,G=G+Math.imul(X,tt)|0;var Dr=(j+W|0)+((M&8191)<<13)|0;j=(G+(M>>>13)|0)+(Dr>>>26)|0,Dr&=67108863,W=Math.imul(Be,vt),M=Math.imul(Be,st),M=M+Math.imul(Me,vt)|0,G=Math.imul(Me,st),W=W+Math.imul(yt,We)|0,M=M+Math.imul(yt,St)|0,M=M+Math.imul(Dt,We)|0,G=G+Math.imul(Dt,St)|0,W=W+Math.imul(ht,Nt)|0,M=M+Math.imul(ht,Le)|0,M=M+Math.imul(bt,Nt)|0,G=G+Math.imul(bt,Le)|0,W=W+Math.imul(Ie,Kt)|0,M=M+Math.imul(Ie,Vt)|0,M=M+Math.imul(pt,Kt)|0,G=G+Math.imul(pt,Vt)|0,W=W+Math.imul(je,Y)|0,M=M+Math.imul(je,Q)|0,M=M+Math.imul(gt,Y)|0,G=G+Math.imul(gt,Q)|0,W=W+Math.imul(qe,ie)|0,M=M+Math.imul(qe,le)|0,M=M+Math.imul(Ge,ie)|0,G=G+Math.imul(Ge,le)|0,W=W+Math.imul(ye,Te)|0,M=M+Math.imul(ye,Ne)|0,M=M+Math.imul($e,Te)|0,G=G+Math.imul($e,Ne)|0,W=W+Math.imul(ve,mt)|0,M=M+Math.imul(ve,ut)|0,M=M+Math.imul(ge,mt)|0,G=G+Math.imul(ge,ut)|0,W=W+Math.imul(ee,Ue)|0,M=M+Math.imul(ee,tt)|0,M=M+Math.imul(ce,Ue)|0,G=G+Math.imul(ce,tt)|0,W=W+Math.imul(q,at)|0,M=M+Math.imul(q,ot)|0,M=M+Math.imul(X,at)|0,G=G+Math.imul(X,ot)|0;var Wt=(j+W|0)+((M&8191)<<13)|0;j=(G+(M>>>13)|0)+(Wt>>>26)|0,Wt&=67108863,W=Math.imul(Be,We),M=Math.imul(Be,St),M=M+Math.imul(Me,We)|0,G=Math.imul(Me,St),W=W+Math.imul(yt,Nt)|0,M=M+Math.imul(yt,Le)|0,M=M+Math.imul(Dt,Nt)|0,G=G+Math.imul(Dt,Le)|0,W=W+Math.imul(ht,Kt)|0,M=M+Math.imul(ht,Vt)|0,M=M+Math.imul(bt,Kt)|0,G=G+Math.imul(bt,Vt)|0,W=W+Math.imul(Ie,Y)|0,M=M+Math.imul(Ie,Q)|0,M=M+Math.imul(pt,Y)|0,G=G+Math.imul(pt,Q)|0,W=W+Math.imul(je,ie)|0,M=M+Math.imul(je,le)|0,M=M+Math.imul(gt,ie)|0,G=G+Math.imul(gt,le)|0,W=W+Math.imul(qe,Te)|0,M=M+Math.imul(qe,Ne)|0,M=M+Math.imul(Ge,Te)|0,G=G+Math.imul(Ge,Ne)|0,W=W+Math.imul(ye,mt)|0,M=M+Math.imul(ye,ut)|0,M=M+Math.imul($e,mt)|0,G=G+Math.imul($e,ut)|0,W=W+Math.imul(ve,Ue)|0,M=M+Math.imul(ve,tt)|0,M=M+Math.imul(ge,Ue)|0,G=G+Math.imul(ge,tt)|0,W=W+Math.imul(ee,at)|0,M=M+Math.imul(ee,ot)|0,M=M+Math.imul(ce,at)|0,G=G+Math.imul(ce,ot)|0;var vr=(j+W|0)+((M&8191)<<13)|0;j=(G+(M>>>13)|0)+(vr>>>26)|0,vr&=67108863,W=Math.imul(Be,Nt),M=Math.imul(Be,Le),M=M+Math.imul(Me,Nt)|0,G=Math.imul(Me,Le),W=W+Math.imul(yt,Kt)|0,M=M+Math.imul(yt,Vt)|0,M=M+Math.imul(Dt,Kt)|0,G=G+Math.imul(Dt,Vt)|0,W=W+Math.imul(ht,Y)|0,M=M+Math.imul(ht,Q)|0,M=M+Math.imul(bt,Y)|0,G=G+Math.imul(bt,Q)|0,W=W+Math.imul(Ie,ie)|0,M=M+Math.imul(Ie,le)|0,M=M+Math.imul(pt,ie)|0,G=G+Math.imul(pt,le)|0,W=W+Math.imul(je,Te)|0,M=M+Math.imul(je,Ne)|0,M=M+Math.imul(gt,Te)|0,G=G+Math.imul(gt,Ne)|0,W=W+Math.imul(qe,mt)|0,M=M+Math.imul(qe,ut)|0,M=M+Math.imul(Ge,mt)|0,G=G+Math.imul(Ge,ut)|0,W=W+Math.imul(ye,Ue)|0,M=M+Math.imul(ye,tt)|0,M=M+Math.imul($e,Ue)|0,G=G+Math.imul($e,tt)|0,W=W+Math.imul(ve,at)|0,M=M+Math.imul(ve,ot)|0,M=M+Math.imul(ge,at)|0,G=G+Math.imul(ge,ot)|0;var tn=(j+W|0)+((M&8191)<<13)|0;j=(G+(M>>>13)|0)+(tn>>>26)|0,tn&=67108863,W=Math.imul(Be,Kt),M=Math.imul(Be,Vt),M=M+Math.imul(Me,Kt)|0,G=Math.imul(Me,Vt),W=W+Math.imul(yt,Y)|0,M=M+Math.imul(yt,Q)|0,M=M+Math.imul(Dt,Y)|0,G=G+Math.imul(Dt,Q)|0,W=W+Math.imul(ht,ie)|0,M=M+Math.imul(ht,le)|0,M=M+Math.imul(bt,ie)|0,G=G+Math.imul(bt,le)|0,W=W+Math.imul(Ie,Te)|0,M=M+Math.imul(Ie,Ne)|0,M=M+Math.imul(pt,Te)|0,G=G+Math.imul(pt,Ne)|0,W=W+Math.imul(je,mt)|0,M=M+Math.imul(je,ut)|0,M=M+Math.imul(gt,mt)|0,G=G+Math.imul(gt,ut)|0,W=W+Math.imul(qe,Ue)|0,M=M+Math.imul(qe,tt)|0,M=M+Math.imul(Ge,Ue)|0,G=G+Math.imul(Ge,tt)|0,W=W+Math.imul(ye,at)|0,M=M+Math.imul(ye,ot)|0,M=M+Math.imul($e,at)|0,G=G+Math.imul($e,ot)|0;var wn=(j+W|0)+((M&8191)<<13)|0;j=(G+(M>>>13)|0)+(wn>>>26)|0,wn&=67108863,W=Math.imul(Be,Y),M=Math.imul(Be,Q),M=M+Math.imul(Me,Y)|0,G=Math.imul(Me,Q),W=W+Math.imul(yt,ie)|0,M=M+Math.imul(yt,le)|0,M=M+Math.imul(Dt,ie)|0,G=G+Math.imul(Dt,le)|0,W=W+Math.imul(ht,Te)|0,M=M+Math.imul(ht,Ne)|0,M=M+Math.imul(bt,Te)|0,G=G+Math.imul(bt,Ne)|0,W=W+Math.imul(Ie,mt)|0,M=M+Math.imul(Ie,ut)|0,M=M+Math.imul(pt,mt)|0,G=G+Math.imul(pt,ut)|0,W=W+Math.imul(je,Ue)|0,M=M+Math.imul(je,tt)|0,M=M+Math.imul(gt,Ue)|0,G=G+Math.imul(gt,tt)|0,W=W+Math.imul(qe,at)|0,M=M+Math.imul(qe,ot)|0,M=M+Math.imul(Ge,at)|0,G=G+Math.imul(Ge,ot)|0;var Ni=(j+W|0)+((M&8191)<<13)|0;j=(G+(M>>>13)|0)+(Ni>>>26)|0,Ni&=67108863,W=Math.imul(Be,ie),M=Math.imul(Be,le),M=M+Math.imul(Me,ie)|0,G=Math.imul(Me,le),W=W+Math.imul(yt,Te)|0,M=M+Math.imul(yt,Ne)|0,M=M+Math.imul(Dt,Te)|0,G=G+Math.imul(Dt,Ne)|0,W=W+Math.imul(ht,mt)|0,M=M+Math.imul(ht,ut)|0,M=M+Math.imul(bt,mt)|0,G=G+Math.imul(bt,ut)|0,W=W+Math.imul(Ie,Ue)|0,M=M+Math.imul(Ie,tt)|0,M=M+Math.imul(pt,Ue)|0,G=G+Math.imul(pt,tt)|0,W=W+Math.imul(je,at)|0,M=M+Math.imul(je,ot)|0,M=M+Math.imul(gt,at)|0,G=G+Math.imul(gt,ot)|0;var _l=(j+W|0)+((M&8191)<<13)|0;j=(G+(M>>>13)|0)+(_l>>>26)|0,_l&=67108863,W=Math.imul(Be,Te),M=Math.imul(Be,Ne),M=M+Math.imul(Me,Te)|0,G=Math.imul(Me,Ne),W=W+Math.imul(yt,mt)|0,M=M+Math.imul(yt,ut)|0,M=M+Math.imul(Dt,mt)|0,G=G+Math.imul(Dt,ut)|0,W=W+Math.imul(ht,Ue)|0,M=M+Math.imul(ht,tt)|0,M=M+Math.imul(bt,Ue)|0,G=G+Math.imul(bt,tt)|0,W=W+Math.imul(Ie,at)|0,M=M+Math.imul(Ie,ot)|0,M=M+Math.imul(pt,at)|0,G=G+Math.imul(pt,ot)|0;var Cl=(j+W|0)+((M&8191)<<13)|0;j=(G+(M>>>13)|0)+(Cl>>>26)|0,Cl&=67108863,W=Math.imul(Be,mt),M=Math.imul(Be,ut),M=M+Math.imul(Me,mt)|0,G=Math.imul(Me,ut),W=W+Math.imul(yt,Ue)|0,M=M+Math.imul(yt,tt)|0,M=M+Math.imul(Dt,Ue)|0,G=G+Math.imul(Dt,tt)|0,W=W+Math.imul(ht,at)|0,M=M+Math.imul(ht,ot)|0,M=M+Math.imul(bt,at)|0,G=G+Math.imul(bt,ot)|0;var hh=(j+W|0)+((M&8191)<<13)|0;j=(G+(M>>>13)|0)+(hh>>>26)|0,hh&=67108863,W=Math.imul(Be,Ue),M=Math.imul(Be,tt),M=M+Math.imul(Me,Ue)|0,G=Math.imul(Me,tt),W=W+Math.imul(yt,at)|0,M=M+Math.imul(yt,ot)|0,M=M+Math.imul(Dt,at)|0,G=G+Math.imul(Dt,ot)|0;var Al=(j+W|0)+((M&8191)<<13)|0;j=(G+(M>>>13)|0)+(Al>>>26)|0,Al&=67108863,W=Math.imul(Be,at),M=Math.imul(Be,ot),M=M+Math.imul(Me,at)|0,G=Math.imul(Me,ot);var Sl=(j+W|0)+((M&8191)<<13)|0;return j=(G+(M>>>13)|0)+(Sl>>>26)|0,Sl&=67108863,R[0]=qt,R[1]=er,R[2]=Rt,R[3]=kt,R[4]=zt,R[5]=jr,R[6]=$n,R[7]=Et,R[8]=Dr,R[9]=Wt,R[10]=vr,R[11]=tn,R[12]=wn,R[13]=Ni,R[14]=_l,R[15]=Cl,R[16]=hh,R[17]=Al,R[18]=Sl,j!==0&&(R[19]=j,N.length++),N};Math.imul||(S=E);function _(B,C,k){k.negative=C.negative^B.negative,k.length=B.length+C.length;for(var N=0,D=0,P=0;P<k.length-1;P++){var R=D;D=0;for(var j=N&67108863,W=Math.min(P,C.length-1),M=Math.max(0,P-B.length+1);M<=W;M++){var G=P-M,re=B.words[G]|0,q=C.words[M]|0,X=re*q,ne=X&67108863;R=R+(X/67108864|0)|0,ne=ne+j|0,j=ne&67108863,R=R+(ne>>>26)|0,D+=R>>>26,R&=67108863}k.words[P]=j,N=R,R=D}return N!==0?k.words[P]=N:k.length--,k._strip()}function I(B,C,k){return _(B,C,k)}s.prototype.mulTo=function(C,k){var N,D=this.length+C.length;return this.length===10&&C.length===10?N=S(this,C,k):D<63?N=E(this,C,k):D<1024?N=_(this,C,k):N=I(this,C,k),N},s.prototype.mul=function(C){var k=new s(null);return k.words=new Array(this.length+C.length),this.mulTo(C,k)},s.prototype.mulf=function(C){var k=new s(null);return k.words=new Array(this.length+C.length),I(this,C,k)},s.prototype.imul=function(C){return this.clone().mulTo(C,this)},s.prototype.imuln=function(C){var k=C<0;k&&(C=-C),n(typeof C=="number"),n(C<67108864);for(var N=0,D=0;D<this.length;D++){var P=(this.words[D]|0)*C,R=(P&67108863)+(N&67108863);N>>=26,N+=P/67108864|0,N+=R>>>26,this.words[D]=R&67108863}return N!==0&&(this.words[D]=N,this.length++),this.length=C===0?1:this.length,k?this.ineg():this},s.prototype.muln=function(C){return this.clone().imuln(C)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(C){var k=x(C);if(k.length===0)return new s(1);for(var N=this,D=0;D<k.length&&k[D]===0;D++,N=N.sqr());if(++D<k.length)for(var P=N.sqr();D<k.length;D++,P=P.sqr())k[D]!==0&&(N=N.mul(P));return N},s.prototype.iushln=function(C){n(typeof C=="number"&&C>=0);var k=C%26,N=(C-k)/26,D=67108863>>>26-k<<26-k,P;if(k!==0){var R=0;for(P=0;P<this.length;P++){var j=this.words[P]&D,W=(this.words[P]|0)-j<<k;this.words[P]=W|R,R=j>>>26-k}R&&(this.words[P]=R,this.length++)}if(N!==0){for(P=this.length-1;P>=0;P--)this.words[P+N]=this.words[P];for(P=0;P<N;P++)this.words[P]=0;this.length+=N}return this._strip()},s.prototype.ishln=function(C){return n(this.negative===0),this.iushln(C)},s.prototype.iushrn=function(C,k,N){n(typeof C=="number"&&C>=0);var D;k?D=(k-k%26)/26:D=0;var P=C%26,R=Math.min((C-P)/26,this.length),j=67108863^67108863>>>P<<P,W=N;if(D-=R,D=Math.max(0,D),W){for(var M=0;M<R;M++)W.words[M]=this.words[M];W.length=R}if(R!==0)if(this.length>R)for(this.length-=R,M=0;M<this.length;M++)this.words[M]=this.words[M+R];else this.words[0]=0,this.length=1;var G=0;for(M=this.length-1;M>=0&&(G!==0||M>=D);M--){var re=this.words[M]|0;this.words[M]=G<<26-P|re>>>P,G=re&j}return W&&G!==0&&(W.words[W.length++]=G),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(C,k,N){return n(this.negative===0),this.iushrn(C,k,N)},s.prototype.shln=function(C){return this.clone().ishln(C)},s.prototype.ushln=function(C){return this.clone().iushln(C)},s.prototype.shrn=function(C){return this.clone().ishrn(C)},s.prototype.ushrn=function(C){return this.clone().iushrn(C)},s.prototype.testn=function(C){n(typeof C=="number"&&C>=0);var k=C%26,N=(C-k)/26,D=1<<k;if(this.length<=N)return!1;var P=this.words[N];return!!(P&D)},s.prototype.imaskn=function(C){n(typeof C=="number"&&C>=0);var k=C%26,N=(C-k)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=N)return this;if(k!==0&&N++,this.length=Math.min(N,this.length),k!==0){var D=67108863^67108863>>>k<<k;this.words[this.length-1]&=D}return this._strip()},s.prototype.maskn=function(C){return this.clone().imaskn(C)},s.prototype.iaddn=function(C){return n(typeof C=="number"),n(C<67108864),C<0?this.isubn(-C):this.negative!==0?this.length===1&&(this.words[0]|0)<=C?(this.words[0]=C-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(C),this.negative=1,this):this._iaddn(C)},s.prototype._iaddn=function(C){this.words[0]+=C;for(var k=0;k<this.length&&this.words[k]>=67108864;k++)this.words[k]-=67108864,k===this.length-1?this.words[k+1]=1:this.words[k+1]++;return this.length=Math.max(this.length,k+1),this},s.prototype.isubn=function(C){if(n(typeof C=="number"),n(C<67108864),C<0)return this.iaddn(-C);if(this.negative!==0)return this.negative=0,this.iaddn(C),this.negative=1,this;if(this.words[0]-=C,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var k=0;k<this.length&&this.words[k]<0;k++)this.words[k]+=67108864,this.words[k+1]-=1;return this._strip()},s.prototype.addn=function(C){return this.clone().iaddn(C)},s.prototype.subn=function(C){return this.clone().isubn(C)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(C,k,N){var D=C.length+N,P;this._expand(D);var R,j=0;for(P=0;P<C.length;P++){R=(this.words[P+N]|0)+j;var W=(C.words[P]|0)*k;R-=W&67108863,j=(R>>26)-(W/67108864|0),this.words[P+N]=R&67108863}for(;P<this.length-N;P++)R=(this.words[P+N]|0)+j,j=R>>26,this.words[P+N]=R&67108863;if(j===0)return this._strip();for(n(j===-1),j=0,P=0;P<this.length;P++)R=-(this.words[P]|0)+j,j=R>>26,this.words[P]=R&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(C,k){var N=this.length-C.length,D=this.clone(),P=C,R=P.words[P.length-1]|0,j=this._countBits(R);N=26-j,N!==0&&(P=P.ushln(N),D.iushln(N),R=P.words[P.length-1]|0);var W=D.length-P.length,M;if(k!=="mod"){M=new s(null),M.length=W+1,M.words=new Array(M.length);for(var G=0;G<M.length;G++)M.words[G]=0}var re=D.clone()._ishlnsubmul(P,1,W);re.negative===0&&(D=re,M&&(M.words[W]=1));for(var q=W-1;q>=0;q--){var X=(D.words[P.length+q]|0)*67108864+(D.words[P.length+q-1]|0);for(X=Math.min(X/R|0,67108863),D._ishlnsubmul(P,X,q);D.negative!==0;)X--,D.negative=0,D._ishlnsubmul(P,1,q),D.isZero()||(D.negative^=1);M&&(M.words[q]=X)}return M&&M._strip(),D._strip(),k!=="div"&&N!==0&&D.iushrn(N),{div:M||null,mod:D}},s.prototype.divmod=function(C,k,N){if(n(!C.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var D,P,R;return this.negative!==0&&C.negative===0?(R=this.neg().divmod(C,k),k!=="mod"&&(D=R.div.neg()),k!=="div"&&(P=R.mod.neg(),N&&P.negative!==0&&P.iadd(C)),{div:D,mod:P}):this.negative===0&&C.negative!==0?(R=this.divmod(C.neg(),k),k!=="mod"&&(D=R.div.neg()),{div:D,mod:R.mod}):this.negative&C.negative?(R=this.neg().divmod(C.neg(),k),k!=="div"&&(P=R.mod.neg(),N&&P.negative!==0&&P.isub(C)),{div:R.div,mod:P}):C.length>this.length||this.cmp(C)<0?{div:new s(0),mod:this}:C.length===1?k==="div"?{div:this.divn(C.words[0]),mod:null}:k==="mod"?{div:null,mod:new s(this.modrn(C.words[0]))}:{div:this.divn(C.words[0]),mod:new s(this.modrn(C.words[0]))}:this._wordDiv(C,k)},s.prototype.div=function(C){return this.divmod(C,"div",!1).div},s.prototype.mod=function(C){return this.divmod(C,"mod",!1).mod},s.prototype.umod=function(C){return this.divmod(C,"mod",!0).mod},s.prototype.divRound=function(C){var k=this.divmod(C);if(k.mod.isZero())return k.div;var N=k.div.negative!==0?k.mod.isub(C):k.mod,D=C.ushrn(1),P=C.andln(1),R=N.cmp(D);return R<0||P===1&&R===0?k.div:k.div.negative!==0?k.div.isubn(1):k.div.iaddn(1)},s.prototype.modrn=function(C){var k=C<0;k&&(C=-C),n(C<=67108863);for(var N=(1<<26)%C,D=0,P=this.length-1;P>=0;P--)D=(N*D+(this.words[P]|0))%C;return k?-D:D},s.prototype.modn=function(C){return this.modrn(C)},s.prototype.idivn=function(C){var k=C<0;k&&(C=-C),n(C<=67108863);for(var N=0,D=this.length-1;D>=0;D--){var P=(this.words[D]|0)+N*67108864;this.words[D]=P/C|0,N=P%C}return this._strip(),k?this.ineg():this},s.prototype.divn=function(C){return this.clone().idivn(C)},s.prototype.egcd=function(C){n(C.negative===0),n(!C.isZero());var k=this,N=C.clone();k.negative!==0?k=k.umod(C):k=k.clone();for(var D=new s(1),P=new s(0),R=new s(0),j=new s(1),W=0;k.isEven()&&N.isEven();)k.iushrn(1),N.iushrn(1),++W;for(var M=N.clone(),G=k.clone();!k.isZero();){for(var re=0,q=1;!(k.words[0]&q)&&re<26;++re,q<<=1);if(re>0)for(k.iushrn(re);re-- >0;)(D.isOdd()||P.isOdd())&&(D.iadd(M),P.isub(G)),D.iushrn(1),P.iushrn(1);for(var X=0,ne=1;!(N.words[0]&ne)&&X<26;++X,ne<<=1);if(X>0)for(N.iushrn(X);X-- >0;)(R.isOdd()||j.isOdd())&&(R.iadd(M),j.isub(G)),R.iushrn(1),j.iushrn(1);k.cmp(N)>=0?(k.isub(N),D.isub(R),P.isub(j)):(N.isub(k),R.isub(D),j.isub(P))}return{a:R,b:j,gcd:N.iushln(W)}},s.prototype._invmp=function(C){n(C.negative===0),n(!C.isZero());var k=this,N=C.clone();k.negative!==0?k=k.umod(C):k=k.clone();for(var D=new s(1),P=new s(0),R=N.clone();k.cmpn(1)>0&&N.cmpn(1)>0;){for(var j=0,W=1;!(k.words[0]&W)&&j<26;++j,W<<=1);if(j>0)for(k.iushrn(j);j-- >0;)D.isOdd()&&D.iadd(R),D.iushrn(1);for(var M=0,G=1;!(N.words[0]&G)&&M<26;++M,G<<=1);if(M>0)for(N.iushrn(M);M-- >0;)P.isOdd()&&P.iadd(R),P.iushrn(1);k.cmp(N)>=0?(k.isub(N),D.isub(P)):(N.isub(k),P.isub(D))}var re;return k.cmpn(1)===0?re=D:re=P,re.cmpn(0)<0&&re.iadd(C),re},s.prototype.gcd=function(C){if(this.isZero())return C.abs();if(C.isZero())return this.abs();var k=this.clone(),N=C.clone();k.negative=0,N.negative=0;for(var D=0;k.isEven()&&N.isEven();D++)k.iushrn(1),N.iushrn(1);do{for(;k.isEven();)k.iushrn(1);for(;N.isEven();)N.iushrn(1);var P=k.cmp(N);if(P<0){var R=k;k=N,N=R}else if(P===0||N.cmpn(1)===0)break;k.isub(N)}while(!0);return N.iushln(D)},s.prototype.invm=function(C){return this.egcd(C).a.umod(C)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(C){return this.words[0]&C},s.prototype.bincn=function(C){n(typeof C=="number");var k=C%26,N=(C-k)/26,D=1<<k;if(this.length<=N)return this._expand(N+1),this.words[N]|=D,this;for(var P=D,R=N;P!==0&&R<this.length;R++){var j=this.words[R]|0;j+=P,P=j>>>26,j&=67108863,this.words[R]=j}return P!==0&&(this.words[R]=P,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(C){var k=C<0;if(this.negative!==0&&!k)return-1;if(this.negative===0&&k)return 1;this._strip();var N;if(this.length>1)N=1;else{k&&(C=-C),n(C<=67108863,"Number is too big");var D=this.words[0]|0;N=D===C?0:D<C?-1:1}return this.negative!==0?-N|0:N},s.prototype.cmp=function(C){if(this.negative!==0&&C.negative===0)return-1;if(this.negative===0&&C.negative!==0)return 1;var k=this.ucmp(C);return this.negative!==0?-k|0:k},s.prototype.ucmp=function(C){if(this.length>C.length)return 1;if(this.length<C.length)return-1;for(var k=0,N=this.length-1;N>=0;N--){var D=this.words[N]|0,P=C.words[N]|0;if(D!==P){D<P?k=-1:D>P&&(k=1);break}}return k},s.prototype.gtn=function(C){return this.cmpn(C)===1},s.prototype.gt=function(C){return this.cmp(C)===1},s.prototype.gten=function(C){return this.cmpn(C)>=0},s.prototype.gte=function(C){return this.cmp(C)>=0},s.prototype.ltn=function(C){return this.cmpn(C)===-1},s.prototype.lt=function(C){return this.cmp(C)===-1},s.prototype.lten=function(C){return this.cmpn(C)<=0},s.prototype.lte=function(C){return this.cmp(C)<=0},s.prototype.eqn=function(C){return this.cmpn(C)===0},s.prototype.eq=function(C){return this.cmp(C)===0},s.red=function(C){return new V(C)},s.prototype.toRed=function(C){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),C.convertTo(this)._forceRed(C)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(C){return this.red=C,this},s.prototype.forceRed=function(C){return n(!this.red,"Already a number in reduction context"),this._forceRed(C)},s.prototype.redAdd=function(C){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,C)},s.prototype.redIAdd=function(C){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,C)},s.prototype.redSub=function(C){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,C)},s.prototype.redISub=function(C){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,C)},s.prototype.redShl=function(C){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,C)},s.prototype.redMul=function(C){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.mul(this,C)},s.prototype.redIMul=function(C){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,C),this.red.imul(this,C)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(C){return n(this.red&&!C.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,C)};var A={k256:null,p224:null,p192:null,p25519:null};function O(B,C){this.name=B,this.p=new s(C,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}O.prototype._tmp=function(){var C=new s(null);return C.words=new Array(Math.ceil(this.n/13)),C},O.prototype.ireduce=function(C){var k=C,N;do this.split(k,this.tmp),k=this.imulK(k),k=k.iadd(this.tmp),N=k.bitLength();while(N>this.n);var D=N<this.n?-1:k.ucmp(this.p);return D===0?(k.words[0]=0,k.length=1):D>0?k.isub(this.p):k.strip!==void 0?k.strip():k._strip(),k},O.prototype.split=function(C,k){C.iushrn(this.n,0,k)},O.prototype.imulK=function(C){return C.imul(this.k)};function F(){O.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(F,O),F.prototype.split=function(C,k){for(var N=4194303,D=Math.min(C.length,9),P=0;P<D;P++)k.words[P]=C.words[P];if(k.length=D,C.length<=9){C.words[0]=0,C.length=1;return}var R=C.words[9];for(k.words[k.length++]=R&N,P=10;P<C.length;P++){var j=C.words[P]|0;C.words[P-10]=(j&N)<<4|R>>>22,R=j}R>>>=22,C.words[P-10]=R,R===0&&C.length>10?C.length-=10:C.length-=9},F.prototype.imulK=function(C){C.words[C.length]=0,C.words[C.length+1]=0,C.length+=2;for(var k=0,N=0;N<C.length;N++){var D=C.words[N]|0;k+=D*977,C.words[N]=k&67108863,k=D*64+(k/67108864|0)}return C.words[C.length-1]===0&&(C.length--,C.words[C.length-1]===0&&C.length--),C};function H(){O.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(H,O);function L(){O.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(L,O);function z(){O.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i(z,O),z.prototype.imulK=function(C){for(var k=0,N=0;N<C.length;N++){var D=(C.words[N]|0)*19+k,P=D&67108863;D>>>=26,C.words[N]=P,k=D}return k!==0&&(C.words[C.length++]=k),C},s._prime=function(C){if(A[C])return A[C];var k;if(C==="k256")k=new F;else if(C==="p224")k=new H;else if(C==="p192")k=new L;else if(C==="p25519")k=new z;else throw new Error("Unknown prime "+C);return A[C]=k,k};function V(B){if(typeof B=="string"){var C=s._prime(B);this.m=C.p,this.prime=C}else n(B.gtn(1),"modulus must be greater than 1"),this.m=B,this.prime=null}V.prototype._verify1=function(C){n(C.negative===0,"red works only with positives"),n(C.red,"red works only with red numbers")},V.prototype._verify2=function(C,k){n((C.negative|k.negative)===0,"red works only with positives"),n(C.red&&C.red===k.red,"red works only with red numbers")},V.prototype.imod=function(C){return this.prime?this.prime.ireduce(C)._forceRed(this):(h(C,C.umod(this.m)._forceRed(this)),C)},V.prototype.neg=function(C){return C.isZero()?C.clone():this.m.sub(C)._forceRed(this)},V.prototype.add=function(C,k){this._verify2(C,k);var N=C.add(k);return N.cmp(this.m)>=0&&N.isub(this.m),N._forceRed(this)},V.prototype.iadd=function(C,k){this._verify2(C,k);var N=C.iadd(k);return N.cmp(this.m)>=0&&N.isub(this.m),N},V.prototype.sub=function(C,k){this._verify2(C,k);var N=C.sub(k);return N.cmpn(0)<0&&N.iadd(this.m),N._forceRed(this)},V.prototype.isub=function(C,k){this._verify2(C,k);var N=C.isub(k);return N.cmpn(0)<0&&N.iadd(this.m),N},V.prototype.shl=function(C,k){return this._verify1(C),this.imod(C.ushln(k))},V.prototype.imul=function(C,k){return this._verify2(C,k),this.imod(C.imul(k))},V.prototype.mul=function(C,k){return this._verify2(C,k),this.imod(C.mul(k))},V.prototype.isqr=function(C){return this.imul(C,C.clone())},V.prototype.sqr=function(C){return this.mul(C,C)},V.prototype.sqrt=function(C){if(C.isZero())return C.clone();var k=this.m.andln(3);if(n(k%2===1),k===3){var N=this.m.add(new s(1)).iushrn(2);return this.pow(C,N)}for(var D=this.m.subn(1),P=0;!D.isZero()&&D.andln(1)===0;)P++,D.iushrn(1);n(!D.isZero());var R=new s(1).toRed(this),j=R.redNeg(),W=this.m.subn(1).iushrn(1),M=this.m.bitLength();for(M=new s(2*M*M).toRed(this);this.pow(M,W).cmp(j)!==0;)M.redIAdd(j);for(var G=this.pow(M,D),re=this.pow(C,D.addn(1).iushrn(1)),q=this.pow(C,D),X=P;q.cmp(R)!==0;){for(var ne=q,ee=0;ne.cmp(R)!==0;ee++)ne=ne.redSqr();n(ee<X);var ce=this.pow(G,new s(1).iushln(X-ee-1));re=re.redMul(ce),G=ce.redSqr(),q=q.redMul(G),X=ee}return re},V.prototype.invm=function(C){var k=C._invmp(this.m);return k.negative!==0?(k.negative=0,this.imod(k).redNeg()):this.imod(k)},V.prototype.pow=function(C,k){if(k.isZero())return new s(1).toRed(this);if(k.cmpn(1)===0)return C.clone();var N=4,D=new Array(1<<N);D[0]=new s(1).toRed(this),D[1]=C;for(var P=2;P<D.length;P++)D[P]=this.mul(D[P-1],C);var R=D[0],j=0,W=0,M=k.bitLength()%26;for(M===0&&(M=26),P=k.length-1;P>=0;P--){for(var G=k.words[P],re=M-1;re>=0;re--){var q=G>>re&1;if(R!==D[0]&&(R=this.sqr(R)),q===0&&j===0){W=0;continue}j<<=1,j|=q,W++,!(W!==N&&(P!==0||re!==0))&&(R=this.mul(R,D[j]),W=0,j=0)}M=26}return R},V.prototype.convertTo=function(C){var k=C.umod(this.m);return k===C?k.clone():k},V.prototype.convertFrom=function(C){var k=C.clone();return k.red=null,k},s.mont=function(C){return new K(C)};function K(B){V.call(this,B),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(K,V),K.prototype.convertTo=function(C){return this.imod(C.ushln(this.shift))},K.prototype.convertFrom=function(C){var k=this.imod(C.mul(this.rinv));return k.red=null,k},K.prototype.imul=function(C,k){if(C.isZero()||k.isZero())return C.words[0]=0,C.length=1,C;var N=C.imul(k),D=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),P=N.isub(D).iushrn(this.shift),R=P;return P.cmp(this.m)>=0?R=P.isub(this.m):P.cmpn(0)<0&&(R=P.iadd(this.m)),R._forceRed(this)},K.prototype.mul=function(C,k){if(C.isZero()||k.isZero())return new s(0)._forceRed(this);var N=C.mul(k),D=N.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),P=N.isub(D).iushrn(this.shift),R=P;return P.cmp(this.m)>=0?R=P.isub(this.m):P.cmpn(0)<0&&(R=P.iadd(this.m)),R._forceRed(this)},K.prototype.invm=function(C){var k=this.imod(C._invmp(this.m).mul(this.r2));return k._forceRed(this)}})(t,rye)}(l3)),l3.exports}var iye=nye();const Ht=ra(iye),sye="bytes/5.8.0",On=new Oe(sye);function kG(t){return!!t.toHexString}function K0(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return K0(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function c$(t){return en(t)&&!(t.length%2)||zg(t)}function QR(t){return typeof t=="number"&&t==t&&t%1===0}function zg(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!QR(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!QR(r)||r<0||r>=256)return!1}return!0}function ir(t,e){if(e||(e={}),typeof t=="number"){On.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),K0(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),kG(t)&&(t=t.toHexString()),en(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":On.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return K0(new Uint8Array(n))}return zg(t)?K0(new Uint8Array(t)):On.throwArgumentError("invalid arrayify value","value",t)}function nf(t){const e=t.map(i=>ir(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),K0(n)}function gg(t){let e=ir(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function aye(t,e){t=ir(t),t.length>e&&On.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),K0(r)}function en(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const W9="0123456789abcdef";function nr(t,e){if(e||(e={}),typeof t=="number"){On.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=W9[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),kG(t))return t.toHexString();if(en(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":On.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(zg(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=W9[(i&240)>>4]+W9[i&15]}return r}return On.throwArgumentError("invalid hexlify value","value",t)}function If(t){if(typeof t!="string")t=nr(t);else if(!en(t)||t.length%2)return null;return(t.length-2)/2}function ws(t,e,r){return typeof t!="string"?t=nr(t):(!en(t)||t.length%2)&&On.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Ia(t){let e="0x";return t.forEach(r=>{e+=nr(r).substring(2)}),e}function u$(t){const e=oye(nr(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function oye(t){typeof t!="string"&&(t=nr(t)),en(t)||On.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function Rn(t,e){for(typeof t!="string"?t=nr(t):en(t)||On.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&On.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function R6(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(c$(t)){let r=ir(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=nr(r.slice(0,32)),e.s=nr(r.slice(32,64))):r.length===65?(e.r=nr(r.slice(0,32)),e.s=nr(r.slice(32,64)),e.v=r[64]):On.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:On.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=nr(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=aye(ir(e._vs),32);e._vs=nr(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&On.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const a=nr(i);e.s==null?e.s=a:e.s!==a&&On.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?On.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&On.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!en(e.r)?On.throwArgumentError("signature missing or invalid r","signature",t):e.r=Rn(e.r,32),e.s==null||!en(e.s)?On.throwArgumentError("signature missing or invalid s","signature",t):e.s=Rn(e.s,32);const r=ir(e.s);r[0]>=128&&On.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=nr(r);e._vs&&(en(e._vs)||On.throwArgumentError("signature invalid _vs","signature",t),e._vs=Rn(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&On.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const $G="bignumber/5.8.0";var X3=Ht.BN;const tu=new Oe($G),q9={},lye=9007199254740991;function cye(t){return t!=null&&(dt.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||en(t)||typeof t=="bigint"||zg(t))}let XR=!1;class dt{constructor(e,r){e!==q9&&tu.throwError("cannot call constructor directly; use BigNumber.from",Oe.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return js(mr(this).fromTwos(e))}toTwos(e){return js(mr(this).toTwos(e))}abs(){return this._hex[0]==="-"?dt.from(this._hex.substring(1)):this}add(e){return js(mr(this).add(mr(e)))}sub(e){return js(mr(this).sub(mr(e)))}div(e){return dt.from(e).isZero()&&Qa("division-by-zero","div"),js(mr(this).div(mr(e)))}mul(e){return js(mr(this).mul(mr(e)))}mod(e){const r=mr(e);return r.isNeg()&&Qa("division-by-zero","mod"),js(mr(this).umod(r))}pow(e){const r=mr(e);return r.isNeg()&&Qa("negative-power","pow"),js(mr(this).pow(r))}and(e){const r=mr(e);return(this.isNegative()||r.isNeg())&&Qa("unbound-bitwise-result","and"),js(mr(this).and(r))}or(e){const r=mr(e);return(this.isNegative()||r.isNeg())&&Qa("unbound-bitwise-result","or"),js(mr(this).or(r))}xor(e){const r=mr(e);return(this.isNegative()||r.isNeg())&&Qa("unbound-bitwise-result","xor"),js(mr(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&Qa("negative-width","mask"),js(mr(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Qa("negative-width","shl"),js(mr(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Qa("negative-width","shr"),js(mr(this).shrn(e))}eq(e){return mr(this).eq(mr(e))}lt(e){return mr(this).lt(mr(e))}lte(e){return mr(this).lte(mr(e))}gt(e){return mr(this).gt(mr(e))}gte(e){return mr(this).gte(mr(e))}isNegative(){return this._hex[0]==="-"}isZero(){return mr(this).isZero()}toNumber(){try{return mr(this).toNumber()}catch{Qa("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return tu.throwError("this platform does not support BigInt",Oe.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?XR||(XR=!0,tu.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?tu.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Oe.errors.UNEXPECTED_ARGUMENT,{}):tu.throwError("BigNumber.toString does not accept parameters",Oe.errors.UNEXPECTED_ARGUMENT,{})),mr(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof dt)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new dt(q9,T2(e)):e.match(/^-?[0-9]+$/)?new dt(q9,T2(new X3(e))):tu.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Qa("underflow","BigNumber.from",e),(e>=lye||e<=-9007199254740991)&&Qa("overflow","BigNumber.from",e),dt.from(String(e));const r=e;if(typeof r=="bigint")return dt.from(r.toString());if(zg(r))return dt.from(nr(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return dt.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(en(n)||n[0]==="-"&&en(n.substring(1))))return dt.from(n)}return tu.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}}function T2(t){if(typeof t!="string")return T2(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&tu.throwArgumentError("invalid hex","value",t),t=T2(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function js(t){return dt.from(T2(t))}function mr(t){const e=dt.from(t).toHexString();return e[0]==="-"?new X3("-"+e.substring(3),16):new X3(e.substring(2),16)}function Qa(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),tu.throwError(t,Oe.errors.NUMERIC_FAULT,n)}function uye(t){return new X3(t,36).toString(16)}const xs=new Oe($G),xy={},TG=dt.from(0),IG=dt.from(-1);function NG(t,e,r,n){const i={fault:e,operation:r};return n!==void 0&&(i.value=n),xs.throwError(t,Oe.errors.NUMERIC_FAULT,i)}let Ey="0";for(;Ey.length<256;)Ey+=Ey;function d$(t){if(typeof t!="number")try{t=dt.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+Ey.substring(0,t):xs.throwArgumentError("invalid decimal size","decimals",t)}function H9(t,e){e==null&&(e=0);const r=d$(e);t=dt.from(t);const n=t.lt(TG);n&&(t=t.mul(IG));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(r).toString();return r.length===1?t=s:t=s+"."+i,n&&(t="-"+t),t}function ql(t,e){e==null&&(e=0);const r=d$(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&xs.throwArgumentError("invalid decimal value","value",t);const n=t.substring(0,1)==="-";n&&(t=t.substring(1)),t==="."&&xs.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&xs.throwArgumentError("too many decimal points","value",t);let s=i[0],a=i[1];for(s||(s="0"),a||(a="0");a[a.length-1]==="0";)a=a.substring(0,a.length-1);for(a.length>r.length-1&&NG("fractional component exceeds decimals","underflow","parseFixed"),a===""&&(a="0");a.length<r.length-1;)a+="0";const o=dt.from(s),l=dt.from(a);let u=o.mul(r).add(l);return n&&(u=u.mul(IG)),u}class Y0{constructor(e,r,n,i){e!==xy&&xs.throwError("cannot use FixedFormat constructor; use FixedFormat.from",Oe.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=d$(i),Object.freeze(this)}static from(e){if(e instanceof Y0)return e;typeof e=="number"&&(e=`fixed128x${e}`);let r=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")r=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||xs.throwArgumentError("invalid fixed format","format",e),r=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(a,o,l)=>e[a]==null?l:(typeof e[a]!==o&&xs.throwArgumentError("invalid fixed format ("+a+" not "+o+")","format."+a,e[a]),e[a]);r=s("signed","boolean",r),n=s("width","number",n),i=s("decimals","number",i)}return n%8&&xs.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&xs.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new Y0(xy,r,n,i)}}class Li{constructor(e,r,n,i){e!==xy&&xs.throwError("cannot use FixedNumber constructor; use FixedNumber.from",Oe.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&xs.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const r=ql(this._value,this.format.decimals),n=ql(e._value,e.format.decimals);return Li.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const r=ql(this._value,this.format.decimals),n=ql(e._value,e.format.decimals);return Li.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const r=ql(this._value,this.format.decimals),n=ql(e._value,e.format.decimals);return Li.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const r=ql(this._value,this.format.decimals),n=ql(e._value,e.format.decimals);return Li.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=Li.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(JR.toFormat(r.format))),r}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=Li.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(JR.toFormat(r.format))),r}round(e){e==null&&(e=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(e<0||e>80||e%1)&&xs.throwArgumentError("invalid decimal count","decimals",e),r[1].length<=e)return this;const n=Li.from("1"+Ey.substring(0,e),this.format),i=dye.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&xs.throwArgumentError("invalid byte width","width",e);const r=dt.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Rn(r,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return Li.fromString(this._value,e)}static fromValue(e,r,n){return n==null&&r!=null&&!cye(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),Li.fromString(H9(e,r),Y0.from(n))}static fromString(e,r){r==null&&(r="fixed");const n=Y0.from(r),i=ql(e,n.decimals);!n.signed&&i.lt(TG)&&NG("unsigned value cannot be negative","overflow","value",e);let s=null;n.signed?s=i.toTwos(n.width).toHexString():(s=i.toHexString(),s=Rn(s,n.width/8));const a=H9(i,n.decimals);return new Li(xy,s,a,n)}static fromBytes(e,r){r==null&&(r="fixed");const n=Y0.from(r);if(ir(e).length>n.width/8)throw new Error("overflow");let i=dt.from(e);n.signed&&(i=i.fromTwos(n.width));const s=i.toTwos((n.signed?0:1)+n.width).toHexString(),a=H9(i,n.decimals);return new Li(xy,s,a,n)}static from(e,r){if(typeof e=="string")return Li.fromString(e,r);if(zg(e))return Li.fromBytes(e,r);try{return Li.fromValue(e,0,r)}catch(n){if(n.code!==Oe.errors.INVALID_ARGUMENT)throw n}return xs.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const JR=Li.from(1),dye=Li.from("0.5"),hye="abstract-provider/5.8.0";var fye=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(h){try{u(n.next(h))}catch(f){a(f)}}function l(h){try{u(n.throw(h))}catch(f){a(f)}}function u(h){h.done?s(h.value):i(h.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const pye=new Oe(hye);class gye extends Y1e{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class h${constructor(){pye.checkAbstract(new.target,h$),yr(this,"_isProvider",!0)}getFeeData(){return fye(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield zi({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(a=>null)});let n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=dt.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const mye="networks/5.8.0",ej=new Oe(mye);function yye(t){return t&&typeof t.renetwork=="function"}function Yo(t){const e=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const a=new r.PocketProvider(t,n.pocket);a.network&&s.indexOf(a.network.name)===-1&&i.push(a)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const s=["ropsten"],a=new r.AnkrProvider(t,n.ankr);a.network&&s.indexOf(a.network.name)===-1&&i.push(a)}catch{}if(r.QuickNodeProvider&&n.quicknode!=="-")try{i.push(new r.QuickNodeProvider(t,n.quicknode))}catch{}if(i.length===0)return null;if(r.FallbackProvider){let s=1;return n.quorum!=null?s=n.quorum:t==="homestead"&&(s=2),new r.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(r){return Yo(r)},e}function J3(t,e){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return J3(t,n)},r}const tj={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Yo("homestead")},rj={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Yo("ropsten")},nj={chainId:63,name:"classicMordor",_defaultProvider:J3("https://www.ethercluster.com/mordor","classicMordor")},lv={unspecified:{chainId:0,name:"unspecified"},homestead:tj,mainnet:tj,morden:{chainId:2,name:"morden"},ropsten:rj,testnet:rj,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Yo("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Yo("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Yo("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:Yo("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:Yo("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:J3("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:nj,classicTestnet:nj,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:J3("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Yo("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:Yo("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:Yo("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function bye(t){if(t==null)return null;if(typeof t=="number"){for(const n in lv){const i=lv[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=lv[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=lv[t.name];if(!e)return typeof t.chainId!="number"&&ej.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&ej.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(yye(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}function PG(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return ir(e)}function OG(t){t=ir(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}class MG{constructor(e){yr(this,"alphabet",e),yr(this,"base",e.length),yr(this,"_alphabetMap",{}),yr(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=ir(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let a=r[s];for(let o=0;o<n.length;++o)a+=n[o]<<8,n[o]=a%this.base,a=a/this.base|0;for(;a>0;)n.push(a%this.base),a=a/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let a=0;a<r.length;++a)s+=r[a]*this.base,r[a]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return ir(new Uint8Array(r.reverse()))}}new MG("abcdefghijklmnopqrstuvwxyz234567");const qC=new MG("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),wye="0x0000000000000000000000000000000000000000",vye=dt.from(0),xye="0x0000000000000000000000000000000000000000000000000000000000000000";var V9={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */var ij;function Eye(){return ij||(ij=1,function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",a=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;a?i=Zo:s&&(i=self);var o=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,l=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",u="0123456789abcdef".split(""),h=[31,7936,2031616,520093696],f=[4,1024,262144,67108864],g=[1,256,65536,16777216],y=[6,1536,393216,100663296],b=[0,8,16,24],w=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],x=[224,256,384,512],E=[128,256],S=["hex","buffer","arrayBuffer","array","digest"],_={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(q){return Object.prototype.toString.call(q)==="[object Array]"}),l&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(q){return typeof q=="object"&&q.buffer&&q.buffer.constructor===ArrayBuffer});for(var I=function(q,X,ne){return function(ee){return new M(q,X,q).update(ee)[ne]()}},A=function(q,X,ne){return function(ee,ce){return new M(q,X,ce).update(ee)[ne]()}},O=function(q,X,ne){return function(ee,ce,be,ve){return C["cshake"+q].update(ee,ce,be,ve)[ne]()}},F=function(q,X,ne){return function(ee,ce,be,ve){return C["kmac"+q].update(ee,ce,be,ve)[ne]()}},H=function(q,X,ne,ee){for(var ce=0;ce<S.length;++ce){var be=S[ce];q[be]=X(ne,ee,be)}return q},L=function(q,X){var ne=I(q,X,"hex");return ne.create=function(){return new M(q,X,q)},ne.update=function(ee){return ne.create().update(ee)},H(ne,I,q,X)},z=function(q,X){var ne=A(q,X,"hex");return ne.create=function(ee){return new M(q,X,ee)},ne.update=function(ee,ce){return ne.create(ce).update(ee)},H(ne,A,q,X)},V=function(q,X){var ne=_[q],ee=O(q,X,"hex");return ee.create=function(ce,be,ve){return!be&&!ve?C["shake"+q].create(ce):new M(q,X,ce).bytepad([be,ve],ne)},ee.update=function(ce,be,ve,ge){return ee.create(be,ve,ge).update(ce)},H(ee,O,q,X)},K=function(q,X){var ne=_[q],ee=F(q,X,"hex");return ee.create=function(ce,be,ve){return new G(q,X,be).bytepad(["KMAC",ve],ne).bytepad([ce],ne)},ee.update=function(ce,be,ve,ge){return ee.create(ce,ve,ge).update(be)},H(ee,F,q,X)},B=[{name:"keccak",padding:g,bits:x,createMethod:L},{name:"sha3",padding:y,bits:x,createMethod:L},{name:"shake",padding:h,bits:E,createMethod:z},{name:"cshake",padding:f,bits:E,createMethod:V},{name:"kmac",padding:f,bits:E,createMethod:K}],C={},k=[],N=0;N<B.length;++N)for(var D=B[N],P=D.bits,R=0;R<P.length;++R){var j=D.name+"_"+P[R];if(k.push(j),C[j]=D.createMethod(P[R],D.padding),D.name!=="sha3"){var W=D.name+P[R];k.push(W),C[W]=C[j]}}function M(q,X,ne){this.blocks=[],this.s=[],this.padding=X,this.outputBits=ne,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(q<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=ne>>5,this.extraBytes=(ne&31)>>3;for(var ee=0;ee<50;++ee)this.s[ee]=0}M.prototype.update=function(q){if(this.finalized)throw new Error(r);var X,ne=typeof q;if(ne!=="string"){if(ne==="object"){if(q===null)throw new Error(e);if(l&&q.constructor===ArrayBuffer)q=new Uint8Array(q);else if(!Array.isArray(q)&&(!l||!ArrayBuffer.isView(q)))throw new Error(e)}else throw new Error(e);X=!0}for(var ee=this.blocks,ce=this.byteCount,be=q.length,ve=this.blockCount,ge=0,Ee=this.s,ye,$e;ge<be;){if(this.reset)for(this.reset=!1,ee[0]=this.block,ye=1;ye<ve+1;++ye)ee[ye]=0;if(X)for(ye=this.start;ge<be&&ye<ce;++ge)ee[ye>>2]|=q[ge]<<b[ye++&3];else for(ye=this.start;ge<be&&ye<ce;++ge)$e=q.charCodeAt(ge),$e<128?ee[ye>>2]|=$e<<b[ye++&3]:$e<2048?(ee[ye>>2]|=(192|$e>>6)<<b[ye++&3],ee[ye>>2]|=(128|$e&63)<<b[ye++&3]):$e<55296||$e>=57344?(ee[ye>>2]|=(224|$e>>12)<<b[ye++&3],ee[ye>>2]|=(128|$e>>6&63)<<b[ye++&3],ee[ye>>2]|=(128|$e&63)<<b[ye++&3]):($e=65536+(($e&1023)<<10|q.charCodeAt(++ge)&1023),ee[ye>>2]|=(240|$e>>18)<<b[ye++&3],ee[ye>>2]|=(128|$e>>12&63)<<b[ye++&3],ee[ye>>2]|=(128|$e>>6&63)<<b[ye++&3],ee[ye>>2]|=(128|$e&63)<<b[ye++&3]);if(this.lastByteIndex=ye,ye>=ce){for(this.start=ye-ce,this.block=ee[ve],ye=0;ye<ve;++ye)Ee[ye]^=ee[ye];re(Ee),this.reset=!0}else this.start=ye}return this},M.prototype.encode=function(q,X){var ne=q&255,ee=1,ce=[ne];for(q=q>>8,ne=q&255;ne>0;)ce.unshift(ne),q=q>>8,ne=q&255,++ee;return X?ce.push(ee):ce.unshift(ee),this.update(ce),ce.length},M.prototype.encodeString=function(q){var X,ne=typeof q;if(ne!=="string"){if(ne==="object"){if(q===null)throw new Error(e);if(l&&q.constructor===ArrayBuffer)q=new Uint8Array(q);else if(!Array.isArray(q)&&(!l||!ArrayBuffer.isView(q)))throw new Error(e)}else throw new Error(e);X=!0}var ee=0,ce=q.length;if(X)ee=ce;else for(var be=0;be<q.length;++be){var ve=q.charCodeAt(be);ve<128?ee+=1:ve<2048?ee+=2:ve<55296||ve>=57344?ee+=3:(ve=65536+((ve&1023)<<10|q.charCodeAt(++be)&1023),ee+=4)}return ee+=this.encode(ee*8),this.update(q),ee},M.prototype.bytepad=function(q,X){for(var ne=this.encode(X),ee=0;ee<q.length;++ee)ne+=this.encodeString(q[ee]);var ce=X-ne%X,be=[];return be.length=ce,this.update(be),this},M.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var q=this.blocks,X=this.lastByteIndex,ne=this.blockCount,ee=this.s;if(q[X>>2]|=this.padding[X&3],this.lastByteIndex===this.byteCount)for(q[0]=q[ne],X=1;X<ne+1;++X)q[X]=0;for(q[ne-1]|=2147483648,X=0;X<ne;++X)ee[X]^=q[X];re(ee)}},M.prototype.toString=M.prototype.hex=function(){this.finalize();for(var q=this.blockCount,X=this.s,ne=this.outputBlocks,ee=this.extraBytes,ce=0,be=0,ve="",ge;be<ne;){for(ce=0;ce<q&&be<ne;++ce,++be)ge=X[ce],ve+=u[ge>>4&15]+u[ge&15]+u[ge>>12&15]+u[ge>>8&15]+u[ge>>20&15]+u[ge>>16&15]+u[ge>>28&15]+u[ge>>24&15];be%q===0&&(re(X),ce=0)}return ee&&(ge=X[ce],ve+=u[ge>>4&15]+u[ge&15],ee>1&&(ve+=u[ge>>12&15]+u[ge>>8&15]),ee>2&&(ve+=u[ge>>20&15]+u[ge>>16&15])),ve},M.prototype.arrayBuffer=function(){this.finalize();var q=this.blockCount,X=this.s,ne=this.outputBlocks,ee=this.extraBytes,ce=0,be=0,ve=this.outputBits>>3,ge;ee?ge=new ArrayBuffer(ne+1<<2):ge=new ArrayBuffer(ve);for(var Ee=new Uint32Array(ge);be<ne;){for(ce=0;ce<q&&be<ne;++ce,++be)Ee[be]=X[ce];be%q===0&&re(X)}return ee&&(Ee[ce]=X[ce],ge=ge.slice(0,ve)),ge},M.prototype.buffer=M.prototype.arrayBuffer,M.prototype.digest=M.prototype.array=function(){this.finalize();for(var q=this.blockCount,X=this.s,ne=this.outputBlocks,ee=this.extraBytes,ce=0,be=0,ve=[],ge,Ee;be<ne;){for(ce=0;ce<q&&be<ne;++ce,++be)ge=be<<2,Ee=X[ce],ve[ge]=Ee&255,ve[ge+1]=Ee>>8&255,ve[ge+2]=Ee>>16&255,ve[ge+3]=Ee>>24&255;be%q===0&&re(X)}return ee&&(ge=be<<2,Ee=X[ce],ve[ge]=Ee&255,ee>1&&(ve[ge+1]=Ee>>8&255),ee>2&&(ve[ge+2]=Ee>>16&255)),ve};function G(q,X,ne){M.call(this,q,X,ne)}G.prototype=new M,G.prototype.finalize=function(){return this.encode(this.outputBits,!0),M.prototype.finalize.call(this)};var re=function(q){var X,ne,ee,ce,be,ve,ge,Ee,ye,$e,we,qe,Ge,Ae,je,gt,Qt,Ie,pt,Ze,ht,bt,jt,yt,Dt,Qe,Be,Me,Xe,vt,st,ct,We,St,Jt,Nt,Le,gr,Kt,Vt,Un,Y,Q,oe,ie,le,pe,Te,Ne,Tt,mt,ut,At,Ue,tt,Je,at,ot,qt,er,Rt,kt,zt;for(ee=0;ee<48;ee+=2)ce=q[0]^q[10]^q[20]^q[30]^q[40],be=q[1]^q[11]^q[21]^q[31]^q[41],ve=q[2]^q[12]^q[22]^q[32]^q[42],ge=q[3]^q[13]^q[23]^q[33]^q[43],Ee=q[4]^q[14]^q[24]^q[34]^q[44],ye=q[5]^q[15]^q[25]^q[35]^q[45],$e=q[6]^q[16]^q[26]^q[36]^q[46],we=q[7]^q[17]^q[27]^q[37]^q[47],qe=q[8]^q[18]^q[28]^q[38]^q[48],Ge=q[9]^q[19]^q[29]^q[39]^q[49],X=qe^(ve<<1|ge>>>31),ne=Ge^(ge<<1|ve>>>31),q[0]^=X,q[1]^=ne,q[10]^=X,q[11]^=ne,q[20]^=X,q[21]^=ne,q[30]^=X,q[31]^=ne,q[40]^=X,q[41]^=ne,X=ce^(Ee<<1|ye>>>31),ne=be^(ye<<1|Ee>>>31),q[2]^=X,q[3]^=ne,q[12]^=X,q[13]^=ne,q[22]^=X,q[23]^=ne,q[32]^=X,q[33]^=ne,q[42]^=X,q[43]^=ne,X=ve^($e<<1|we>>>31),ne=ge^(we<<1|$e>>>31),q[4]^=X,q[5]^=ne,q[14]^=X,q[15]^=ne,q[24]^=X,q[25]^=ne,q[34]^=X,q[35]^=ne,q[44]^=X,q[45]^=ne,X=Ee^(qe<<1|Ge>>>31),ne=ye^(Ge<<1|qe>>>31),q[6]^=X,q[7]^=ne,q[16]^=X,q[17]^=ne,q[26]^=X,q[27]^=ne,q[36]^=X,q[37]^=ne,q[46]^=X,q[47]^=ne,X=$e^(ce<<1|be>>>31),ne=we^(be<<1|ce>>>31),q[8]^=X,q[9]^=ne,q[18]^=X,q[19]^=ne,q[28]^=X,q[29]^=ne,q[38]^=X,q[39]^=ne,q[48]^=X,q[49]^=ne,Ae=q[0],je=q[1],le=q[11]<<4|q[10]>>>28,pe=q[10]<<4|q[11]>>>28,Me=q[20]<<3|q[21]>>>29,Xe=q[21]<<3|q[20]>>>29,er=q[31]<<9|q[30]>>>23,Rt=q[30]<<9|q[31]>>>23,Y=q[40]<<18|q[41]>>>14,Q=q[41]<<18|q[40]>>>14,St=q[2]<<1|q[3]>>>31,Jt=q[3]<<1|q[2]>>>31,gt=q[13]<<12|q[12]>>>20,Qt=q[12]<<12|q[13]>>>20,Te=q[22]<<10|q[23]>>>22,Ne=q[23]<<10|q[22]>>>22,vt=q[33]<<13|q[32]>>>19,st=q[32]<<13|q[33]>>>19,kt=q[42]<<2|q[43]>>>30,zt=q[43]<<2|q[42]>>>30,Ue=q[5]<<30|q[4]>>>2,tt=q[4]<<30|q[5]>>>2,Nt=q[14]<<6|q[15]>>>26,Le=q[15]<<6|q[14]>>>26,Ie=q[25]<<11|q[24]>>>21,pt=q[24]<<11|q[25]>>>21,Tt=q[34]<<15|q[35]>>>17,mt=q[35]<<15|q[34]>>>17,ct=q[45]<<29|q[44]>>>3,We=q[44]<<29|q[45]>>>3,yt=q[6]<<28|q[7]>>>4,Dt=q[7]<<28|q[6]>>>4,Je=q[17]<<23|q[16]>>>9,at=q[16]<<23|q[17]>>>9,gr=q[26]<<25|q[27]>>>7,Kt=q[27]<<25|q[26]>>>7,Ze=q[36]<<21|q[37]>>>11,ht=q[37]<<21|q[36]>>>11,ut=q[47]<<24|q[46]>>>8,At=q[46]<<24|q[47]>>>8,oe=q[8]<<27|q[9]>>>5,ie=q[9]<<27|q[8]>>>5,Qe=q[18]<<20|q[19]>>>12,Be=q[19]<<20|q[18]>>>12,ot=q[29]<<7|q[28]>>>25,qt=q[28]<<7|q[29]>>>25,Vt=q[38]<<8|q[39]>>>24,Un=q[39]<<8|q[38]>>>24,bt=q[48]<<14|q[49]>>>18,jt=q[49]<<14|q[48]>>>18,q[0]=Ae^~gt&Ie,q[1]=je^~Qt&pt,q[10]=yt^~Qe&Me,q[11]=Dt^~Be&Xe,q[20]=St^~Nt&gr,q[21]=Jt^~Le&Kt,q[30]=oe^~le&Te,q[31]=ie^~pe&Ne,q[40]=Ue^~Je&ot,q[41]=tt^~at&qt,q[2]=gt^~Ie&Ze,q[3]=Qt^~pt&ht,q[12]=Qe^~Me&vt,q[13]=Be^~Xe&st,q[22]=Nt^~gr&Vt,q[23]=Le^~Kt&Un,q[32]=le^~Te&Tt,q[33]=pe^~Ne&mt,q[42]=Je^~ot&er,q[43]=at^~qt&Rt,q[4]=Ie^~Ze&bt,q[5]=pt^~ht&jt,q[14]=Me^~vt&ct,q[15]=Xe^~st&We,q[24]=gr^~Vt&Y,q[25]=Kt^~Un&Q,q[34]=Te^~Tt&ut,q[35]=Ne^~mt&At,q[44]=ot^~er&kt,q[45]=qt^~Rt&zt,q[6]=Ze^~bt&Ae,q[7]=ht^~jt&je,q[16]=vt^~ct&yt,q[17]=st^~We&Dt,q[26]=Vt^~Y&St,q[27]=Un^~Q&Jt,q[36]=Tt^~ut&oe,q[37]=mt^~At&ie,q[46]=er^~kt&Ue,q[47]=Rt^~zt&tt,q[8]=bt^~Ae&gt,q[9]=jt^~je&Qt,q[18]=ct^~yt&Qe,q[19]=We^~Dt&Be,q[28]=Y^~St&Nt,q[29]=Q^~Jt&Le,q[38]=ut^~oe&le,q[39]=At^~ie&pe,q[48]=kt^~Ue&Je,q[49]=zt^~tt&at,q[0]^=w[ee],q[1]^=w[ee+1]};if(o)t.exports=C;else for(N=0;N<k.length;++N)i[k[N]]=C[k[N]]})()}(V9)),V9.exports}var _ye=Eye();const Cye=ra(_ye);function qi(t){return"0x"+Cye.keccak_256(ir(t))}const Aye="strings/5.8.0",RG=new Oe(Aye);var I2;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(I2||(I2={}));var Ca;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(Ca||(Ca={}));function Sye(t,e,r,n,i){return RG.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function jG(t,e,r,n,i){if(t===Ca.BAD_PREFIX||t===Ca.UNEXPECTED_CONTINUE){let s=0;for(let a=e+1;a<r.length&&r[a]>>6===2;a++)s++;return s}return t===Ca.OVERRUN?r.length-e-1:0}function kye(t,e,r,n,i){return t===Ca.OVERLONG?(n.push(i),0):(n.push(65533),jG(t,e,r))}const $ye=Object.freeze({error:Sye,ignore:jG,replace:kye});function DG(t,e){e==null&&(e=$ye.error),t=ir(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(!(i>>7)){r.push(i);continue}let s=null,a=null;if((i&224)===192)s=1,a=127;else if((i&240)===224)s=2,a=2047;else if((i&248)===240)s=3,a=65535;else{(i&192)===128?n+=e(Ca.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(Ca.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(Ca.OVERRUN,n-1,t,r);continue}let o=i&(1<<8-s-1)-1;for(let l=0;l<s;l++){let u=t[n];if((u&192)!=128){n+=e(Ca.MISSING_CONTINUE,n,t,r),o=null;break}o=o<<6|u&63,n++}if(o!==null){if(o>1114111){n+=e(Ca.OUT_OF_RANGE,n-1-s,t,r,o);continue}if(o>=55296&&o<=57343){n+=e(Ca.UTF16_SURROGATE,n-1-s,t,r,o);continue}if(o<=a){n+=e(Ca.OVERLONG,n-1-s,t,r,o);continue}r.push(o)}}return r}function Au(t,e=I2.current){e!=I2.current&&(RG.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const a=65536+((i&1023)<<10)+(s&1023);r.push(a>>18|240),r.push(a>>12&63|128),r.push(a>>6&63|128),r.push(a&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return ir(r)}function Tye(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function j6(t,e){return Tye(DG(t,e))}function Iye(t,e=I2.current){return DG(Au(t,e))}function UG(t){return qi(Au(t))}const BG="hash/5.8.0";function LG(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(s,a){n.call(s,function(o){a>0&&Array.isArray(o)?i(o,a-1):r.push(o)})};return i(t,e),r}function Nye(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function Pye(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let A=1;A<n;A++)s.push(i+=r());let a=r(),o=e;e+=a;let l=0,u=0;function h(){return l==0&&(u=u<<8|t[e++],l=8),u>>--l&1}const f=31,g=Math.pow(2,f),y=g>>>1,b=y>>1,w=g-1;let x=0;for(let A=0;A<f;A++)x=x<<1|h();let E=[],S=0,_=g;for(;;){let A=Math.floor(((x-S+1)*i-1)/_),O=0,F=n;for(;F-O>1;){let z=O+F>>>1;A<s[z]?F=z:O=z}if(O==0)break;E.push(O);let H=S+Math.floor(_*s[O]/i),L=S+Math.floor(_*s[O+1]/i)-1;for(;!((H^L)&y);)x=x<<1&w|h(),H=H<<1&w,L=L<<1&w|1;for(;H&~L&b;)x=x&y|x<<1&w>>>1|h(),H=H<<1^y,L=(L^y)<<1|y|1;S=H,_=1+L-H}let I=n-4;return E.map(A=>{switch(A-I){case 3:return I+65792+(t[o++]<<16|t[o++]<<8|t[o++]);case 2:return I+256+(t[o++]<<8|t[o++]);case 1:return I+t[o++];default:return A-1}})}function Oye(t){let e=0;return()=>t[e++]}function Mye(t){return Oye(Pye(t))}function Rye(t){return t&1?~t>>1:t>>1}function jye(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function sj(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function Dye(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=Rye(e());return r}function e5(t,e){let r=sj(t(),t),n=t(),i=sj(n,t),s=jye(n,t);for(let a=0;a<n;a++)for(let o=0;o<s[a];o++)r.push(i[a]+o);return e?r.map(a=>e[a]):r}function Uye(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(Lye(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(Fye(r,t))}return Nye(LG(e))}function Bye(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function FG(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)Dye(t,r).forEach((s,a)=>n[a].push(s));return n}function Lye(t,e){let r=1+e(),n=e(),i=Bye(e),s=FG(i.length,1+t,e);return LG(s.map((a,o)=>{const l=a[0],u=a.slice(1);return Array(i[o]).fill(void 0).map((h,f)=>{let g=f*n;return[l+f*r,u.map(y=>y+g)]})}))}function Fye(t,e){let r=1+e();return FG(r,1+t,e).map(i=>[i[0],i.slice(1)])}function zye(t){let e=e5(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let u=e5(t,e);if(u.length==0)break;n.push({set:new Set(u),node:r()})}n.sort((u,h)=>h.set.size-u.set.size);let i=t(),s=i%3;i=i/3|0;let a=!!(i&1);i>>=1;let o=i==1,l=i==2;return{branches:n,valid:s,fe0f:a,save:o,check:l}}}function Wye(){return Mye(PG("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const D6=Wye(),qye=new Set(e5(D6)),Hye=new Set(e5(D6)),Vye=Uye(D6),Gye=zye(D6),aj=45,oj=95;function zG(t){return Iye(t)}function Kye(t){return t.filter(e=>e!=65039)}function WG(t){for(let e of t.split(".")){let r=zG(e);try{for(let n=r.lastIndexOf(oj)-1;n>=0;n--)if(r[n]!==oj)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===aj&&r[3]===aj)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function Yye(t){return WG(Zye(t,Kye))}function Zye(t,e){let r=zG(t).reverse(),n=[];for(;r.length;){let i=Xye(r);if(i){n.push(...e(i));continue}let s=r.pop();if(qye.has(s)){n.push(s);continue}if(Hye.has(s))continue;let a=Vye[s];if(a){n.push(...a);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return WG(Qye(String.fromCodePoint(...n)))}function Qye(t){return t.normalize("NFC")}function Xye(t,e){var r;let n=Gye,i,s,a=[],o=t.length;for(;o;){let l=t[--o];if(n=(r=n.branches.find(u=>u.set.has(l)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=l;else if(n.check&&l===s)break;a.push(l),n.fe0f&&(a.push(65039),o>0&&t[o-1]==65039&&o--),n.valid&&(i=a.slice(),n.valid==2&&i.splice(1,1),t.length=o)}return i}const Jye=new Oe(BG),qG=new Uint8Array(32);qG.fill(0);function lj(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function HG(t){const e=Au(Yye(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(lj(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(lj(e.slice(n))),r}function c3(t){typeof t!="string"&&Jye.throwArgumentError("invalid ENS name; not a string","name",t);let e=qG;const r=HG(t);for(;r.length;)e=qi(nf([e,qi(r.pop())]));return nr(e)}function e2e(t){return nr(nf(HG(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}const t2e="rlp/5.8.0",Zl=new Oe(t2e);function cj(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function uj(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function VG(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(VG(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=cj(n.length);return i.unshift(247+i.length),i.concat(n)}c$(t)||Zl.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(ir(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=cj(e.length);return r.unshift(183+r.length),r.concat(e)}function U6(t){return nr(VG(t))}function dj(t,e,r,n){const i=[];for(;r<e+1+n;){const s=GG(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&Zl.throwError("child data too short",Oe.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function GG(t,e){if(t.length===0&&Zl.throwError("data too short",Oe.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&Zl.throwError("data short segment too short",Oe.errors.BUFFER_OVERRUN,{});const n=uj(t,e+1,r);return e+1+r+n>t.length&&Zl.throwError("data long segment too short",Oe.errors.BUFFER_OVERRUN,{}),dj(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&Zl.throwError("data array too short",Oe.errors.BUFFER_OVERRUN,{}),dj(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&Zl.throwError("data array too short",Oe.errors.BUFFER_OVERRUN,{});const n=uj(t,e+1,r);e+1+r+n>t.length&&Zl.throwError("data array too short",Oe.errors.BUFFER_OVERRUN,{});const i=nr(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&Zl.throwError("data too short",Oe.errors.BUFFER_OVERRUN,{});const n=nr(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:nr(t[e])}}function f$(t){const e=ir(t),r=GG(e,0);return r.consumed!==e.length&&Zl.throwArgumentError("invalid rlp data","data",t),r.result}const r2e="address/5.8.0",O0=new Oe(r2e);function hj(t){en(t,20)||O0.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=ir(qi(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const n2e=9007199254740991;function i2e(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const p$={};for(let t=0;t<10;t++)p$[String(t)]=String(t);for(let t=0;t<26;t++)p$[String.fromCharCode(65+t)]=String(10+t);const fj=Math.floor(i2e(n2e));function s2e(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>p$[n]).join("");for(;e.length>=fj;){let n=e.substring(0,fj);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function fl(t){let e=null;if(typeof t!="string"&&O0.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=hj(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&O0.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==s2e(t)&&O0.throwArgumentError("bad icap checksum","address",t),e=uye(t.substring(4));e.length<40;)e="0"+e;e=hj("0x"+e)}else O0.throwArgumentError("invalid address","address",t);return e}function a2e(t){let e=null;try{e=fl(t.from)}catch{O0.throwArgumentError("missing from address","transaction",t)}const r=gg(ir(dt.from(t.nonce).toHexString()));return fl(ws(qi(U6([e,r])),12))}var o2e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(h){try{u(n.next(h))}catch(f){a(f)}}function l(h){try{u(n.throw(h))}catch(f){a(f)}}function u(h){h.done?s(h.value):i(h.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const kn=new Oe(BG),KG=new Uint8Array(32);KG.fill(0);const l2e=dt.from(-1),YG=dt.from(0),ZG=dt.from(1),c2e=dt.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function u2e(t){const e=ir(t),r=e.length%32;return r?Ia([e,KG.slice(r)]):nr(e)}const d2e=Rn(ZG.toHexString(),32),h2e=Rn(YG.toHexString(),32),pj={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},G9=["name","version","chainId","verifyingContract","salt"];function gj(t){return function(e){return typeof e!="string"&&kn.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const f2e={name:gj("name"),version:gj("version"),chainId:function(t){try{return dt.from(t).toString()}catch{}return kn.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return fl(t).toLowerCase()}catch{}return kn.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=ir(t);if(e.length!==32)throw new Error("bad length");return nr(e)}catch{}return kn.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function K9(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&kn.throwArgumentError("invalid numeric width","type",t);const i=c2e.mask(r?n-1:n),s=r?i.add(ZG).mul(l2e):YG;return function(a){const o=dt.from(a);return(o.lt(s)||o.gt(i))&&kn.throwArgumentError(`value out-of-bounds for ${t}`,"value",a),Rn(o.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&kn.throwArgumentError("invalid bytes width","type",t),function(n){return ir(n).length!==r&&kn.throwArgumentError(`invalid length for ${t}`,"value",n),u2e(n)}}}switch(t){case"address":return function(e){return Rn(fl(e),32)};case"bool":return function(e){return e?d2e:h2e};case"bytes":return function(e){return qi(e)};case"string":return function(e){return UG(e)}}return null}function mj(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class xa{constructor(e){yr(this,"types",Object.freeze($2(e))),yr(this,"_encoderCache",{}),yr(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(o=>{r[o]={},n[o]=[],i[o]={}});for(const o in e){const l={};e[o].forEach(u=>{l[u.name]&&kn.throwArgumentError(`duplicate variable name ${JSON.stringify(u.name)} in ${JSON.stringify(o)}`,"types",e),l[u.name]=!0;const h=u.type.match(/^([^\x5b]*)(\x5b|$)/)[1];h===o&&kn.throwArgumentError(`circular type reference to ${JSON.stringify(h)}`,"types",e),!K9(h)&&(n[h]||kn.throwArgumentError(`unknown type ${JSON.stringify(h)}`,"types",e),n[h].push(o),r[o][h]=!0)})}const s=Object.keys(n).filter(o=>n[o].length===0);s.length===0?kn.throwArgumentError("missing primary type","types",e):s.length>1&&kn.throwArgumentError(`ambiguous primary types or unused types: ${s.map(o=>JSON.stringify(o)).join(", ")}`,"types",e),yr(this,"primaryType",s[0]);function a(o,l){l[o]&&kn.throwArgumentError(`circular type reference to ${JSON.stringify(o)}`,"types",e),l[o]=!0,Object.keys(r[o]).forEach(u=>{n[u]&&(a(u,l),Object.keys(l).forEach(h=>{i[h][u]=!0}))}),delete l[o]}a(this.primaryType,{});for(const o in i){const l=Object.keys(i[o]);l.sort(),this._types[o]=mj(o,e[o])+l.map(u=>mj(u,e[u])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=K9(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],s=this.getEncoder(i),a=parseInt(r[3]);return o=>{a>=0&&o.length!==a&&kn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",o);let l=o.map(s);return this._types[i]&&(l=l.map(qi)),qi(Ia(l))}}const n=this.types[e];if(n){const i=UG(this._types[e]);return s=>{const a=n.map(({name:o,type:l})=>{const u=this.getEncoder(l)(s[o]);return this._types[l]?qi(u):u});return a.unshift(i),Ia(a)}}return kn.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||kn.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return qi(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(K9(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const a=i[1],o=parseInt(i[3]);return o>=0&&r.length!==o&&kn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(l=>this._visit(a,l,n))}const s=this.types[e];return s?s.reduce((a,{name:o,type:l})=>(a[o]=this._visit(l,r[o],n),a),{}):kn.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new xa(e)}static getPrimaryType(e){return xa.from(e).primaryType}static hashStruct(e,r,n){return xa.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=pj[n];i||kn.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>G9.indexOf(n.name)-G9.indexOf(i.name)),xa.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return Ia(["0x1901",xa.hashDomain(e),xa.from(r).hash(n)])}static hash(e,r,n){return qi(xa.encode(e,r,n))}static resolveNames(e,r,n,i){return o2e(this,void 0,void 0,function*(){e=Qs(e);const s={};e.verifyingContract&&!en(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const a=xa.from(r);a.visit(n,(o,l)=>(o==="address"&&!en(l,20)&&(s[l]="0x"),l));for(const o in s)s[o]=yield i(o);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=a.visit(n,(o,l)=>o==="address"&&s[l]?s[l]:l),{domain:e,value:n}})}static getPayload(e,r,n){xa.hashDomain(e);const i={},s=[];G9.forEach(l=>{const u=e[l];u!=null&&(i[l]=f2e[l](u),s.push({name:l,type:pj[l]}))});const a=xa.from(r),o=Qs(r);return o.EIP712Domain?kn.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):o.EIP712Domain=s,a.encode(n),{types:o,domain:i,primaryType:a.primaryType,message:a.visit(n,(l,u)=>{if(l.match(/^bytes(\d*)/))return nr(ir(u));if(l.match(/^u?int/))return dt.from(u).toString();switch(l){case"address":return u.toLowerCase();case"bool":return!!u;case"string":return typeof u!="string"&&kn.throwArgumentError("invalid string","value",u),u}return kn.throwArgumentError("unsupported type","type",l)})}}}var Y9={},Vr={},Z9,yj;function gb(){if(yj)return Z9;yj=1,Z9=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},Z9}var cv={exports:{}},bj;function p2e(){return bj||(bj=1,typeof Object.create=="function"?cv.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:cv.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),cv.exports}var wj;function bc(){if(wj)return Vr;wj=1;var t=gb(),e=p2e();Vr.inherits=e;function r(K,B){return(K.charCodeAt(B)&64512)!==55296||B<0||B+1>=K.length?!1:(K.charCodeAt(B+1)&64512)===56320}function n(K,B){if(Array.isArray(K))return K.slice();if(!K)return[];var C=[];if(typeof K=="string")if(B){if(B==="hex")for(K=K.replace(/[^a-z0-9]+/ig,""),K.length%2!==0&&(K="0"+K),N=0;N<K.length;N+=2)C.push(parseInt(K[N]+K[N+1],16))}else for(var k=0,N=0;N<K.length;N++){var D=K.charCodeAt(N);D<128?C[k++]=D:D<2048?(C[k++]=D>>6|192,C[k++]=D&63|128):r(K,N)?(D=65536+((D&1023)<<10)+(K.charCodeAt(++N)&1023),C[k++]=D>>18|240,C[k++]=D>>12&63|128,C[k++]=D>>6&63|128,C[k++]=D&63|128):(C[k++]=D>>12|224,C[k++]=D>>6&63|128,C[k++]=D&63|128)}else for(N=0;N<K.length;N++)C[N]=K[N]|0;return C}Vr.toArray=n;function i(K){for(var B="",C=0;C<K.length;C++)B+=o(K[C].toString(16));return B}Vr.toHex=i;function s(K){var B=K>>>24|K>>>8&65280|K<<8&16711680|(K&255)<<24;return B>>>0}Vr.htonl=s;function a(K,B){for(var C="",k=0;k<K.length;k++){var N=K[k];B==="little"&&(N=s(N)),C+=l(N.toString(16))}return C}Vr.toHex32=a;function o(K){return K.length===1?"0"+K:K}Vr.zero2=o;function l(K){return K.length===7?"0"+K:K.length===6?"00"+K:K.length===5?"000"+K:K.length===4?"0000"+K:K.length===3?"00000"+K:K.length===2?"000000"+K:K.length===1?"0000000"+K:K}Vr.zero8=l;function u(K,B,C,k){var N=C-B;t(N%4===0);for(var D=new Array(N/4),P=0,R=B;P<D.length;P++,R+=4){var j;k==="big"?j=K[R]<<24|K[R+1]<<16|K[R+2]<<8|K[R+3]:j=K[R+3]<<24|K[R+2]<<16|K[R+1]<<8|K[R],D[P]=j>>>0}return D}Vr.join32=u;function h(K,B){for(var C=new Array(K.length*4),k=0,N=0;k<K.length;k++,N+=4){var D=K[k];B==="big"?(C[N]=D>>>24,C[N+1]=D>>>16&255,C[N+2]=D>>>8&255,C[N+3]=D&255):(C[N+3]=D>>>24,C[N+2]=D>>>16&255,C[N+1]=D>>>8&255,C[N]=D&255)}return C}Vr.split32=h;function f(K,B){return K>>>B|K<<32-B}Vr.rotr32=f;function g(K,B){return K<<B|K>>>32-B}Vr.rotl32=g;function y(K,B){return K+B>>>0}Vr.sum32=y;function b(K,B,C){return K+B+C>>>0}Vr.sum32_3=b;function w(K,B,C,k){return K+B+C+k>>>0}Vr.sum32_4=w;function x(K,B,C,k,N){return K+B+C+k+N>>>0}Vr.sum32_5=x;function E(K,B,C,k){var N=K[B],D=K[B+1],P=k+D>>>0,R=(P<k?1:0)+C+N;K[B]=R>>>0,K[B+1]=P}Vr.sum64=E;function S(K,B,C,k){var N=B+k>>>0,D=(N<B?1:0)+K+C;return D>>>0}Vr.sum64_hi=S;function _(K,B,C,k){var N=B+k;return N>>>0}Vr.sum64_lo=_;function I(K,B,C,k,N,D,P,R){var j=0,W=B;W=W+k>>>0,j+=W<B?1:0,W=W+D>>>0,j+=W<D?1:0,W=W+R>>>0,j+=W<R?1:0;var M=K+C+N+P+j;return M>>>0}Vr.sum64_4_hi=I;function A(K,B,C,k,N,D,P,R){var j=B+k+D+R;return j>>>0}Vr.sum64_4_lo=A;function O(K,B,C,k,N,D,P,R,j,W){var M=0,G=B;G=G+k>>>0,M+=G<B?1:0,G=G+D>>>0,M+=G<D?1:0,G=G+R>>>0,M+=G<R?1:0,G=G+W>>>0,M+=G<W?1:0;var re=K+C+N+P+j+M;return re>>>0}Vr.sum64_5_hi=O;function F(K,B,C,k,N,D,P,R,j,W){var M=B+k+D+R+W;return M>>>0}Vr.sum64_5_lo=F;function H(K,B,C){var k=B<<32-C|K>>>C;return k>>>0}Vr.rotr64_hi=H;function L(K,B,C){var k=K<<32-C|B>>>C;return k>>>0}Vr.rotr64_lo=L;function z(K,B,C){return K>>>C}Vr.shr64_hi=z;function V(K,B,C){var k=K<<32-C|B>>>C;return k>>>0}return Vr.shr64_lo=V,Vr}var Q9={},vj;function mb(){if(vj)return Q9;vj=1;var t=bc(),e=gb();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return Q9.BlockHash=r,r.prototype.update=function(i,s){if(i=t.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var a=i.length%this._delta8;this.pending=i.slice(i.length-a,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-a,this.endian);for(var o=0;o<i.length;o+=this._delta32)this._update(i,o,o+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,a=s-(i+this.padLength)%s,o=new Array(a+this.padLength);o[0]=128;for(var l=1;l<a;l++)o[l]=0;if(i<<=3,this.endian==="big"){for(var u=8;u<this.padLength;u++)o[l++]=0;o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=i>>>24&255,o[l++]=i>>>16&255,o[l++]=i>>>8&255,o[l++]=i&255}else for(o[l++]=i&255,o[l++]=i>>>8&255,o[l++]=i>>>16&255,o[l++]=i>>>24&255,o[l++]=0,o[l++]=0,o[l++]=0,o[l++]=0,u=8;u<this.padLength;u++)o[l++]=0;return o},Q9}var Rh={},Rl={},xj;function QG(){if(xj)return Rl;xj=1;var t=bc(),e=t.rotr32;function r(h,f,g,y){if(h===0)return n(f,g,y);if(h===1||h===3)return s(f,g,y);if(h===2)return i(f,g,y)}Rl.ft_1=r;function n(h,f,g){return h&f^~h&g}Rl.ch32=n;function i(h,f,g){return h&f^h&g^f&g}Rl.maj32=i;function s(h,f,g){return h^f^g}Rl.p32=s;function a(h){return e(h,2)^e(h,13)^e(h,22)}Rl.s0_256=a;function o(h){return e(h,6)^e(h,11)^e(h,25)}Rl.s1_256=o;function l(h){return e(h,7)^e(h,18)^h>>>3}Rl.g0_256=l;function u(h){return e(h,17)^e(h,19)^h>>>10}return Rl.g1_256=u,Rl}var X9,Ej;function g2e(){if(Ej)return X9;Ej=1;var t=bc(),e=mb(),r=QG(),n=t.rotl32,i=t.sum32,s=t.sum32_5,a=r.ft_1,o=e.BlockHash,l=[1518500249,1859775393,2400959708,3395469782];function u(){if(!(this instanceof u))return new u;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(u,o),X9=u,u.blockSize=512,u.outSize=160,u.hmacStrength=80,u.padLength=64,u.prototype._update=function(f,g){for(var y=this.W,b=0;b<16;b++)y[b]=f[g+b];for(;b<y.length;b++)y[b]=n(y[b-3]^y[b-8]^y[b-14]^y[b-16],1);var w=this.h[0],x=this.h[1],E=this.h[2],S=this.h[3],_=this.h[4];for(b=0;b<y.length;b++){var I=~~(b/20),A=s(n(w,5),a(I,x,E,S),_,y[b],l[I]);_=S,S=E,E=n(x,30),x=w,w=A}this.h[0]=i(this.h[0],w),this.h[1]=i(this.h[1],x),this.h[2]=i(this.h[2],E),this.h[3]=i(this.h[3],S),this.h[4]=i(this.h[4],_)},u.prototype._digest=function(f){return f==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},X9}var J9,_j;function XG(){if(_j)return J9;_j=1;var t=bc(),e=mb(),r=QG(),n=gb(),i=t.sum32,s=t.sum32_4,a=t.sum32_5,o=r.ch32,l=r.maj32,u=r.s0_256,h=r.s1_256,f=r.g0_256,g=r.g1_256,y=e.BlockHash,b=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function w(){if(!(this instanceof w))return new w;y.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=b,this.W=new Array(64)}return t.inherits(w,y),J9=w,w.blockSize=512,w.outSize=256,w.hmacStrength=192,w.padLength=64,w.prototype._update=function(E,S){for(var _=this.W,I=0;I<16;I++)_[I]=E[S+I];for(;I<_.length;I++)_[I]=s(g(_[I-2]),_[I-7],f(_[I-15]),_[I-16]);var A=this.h[0],O=this.h[1],F=this.h[2],H=this.h[3],L=this.h[4],z=this.h[5],V=this.h[6],K=this.h[7];for(n(this.k.length===_.length),I=0;I<_.length;I++){var B=a(K,h(L),o(L,z,V),this.k[I],_[I]),C=i(u(A),l(A,O,F));K=V,V=z,z=L,L=i(H,B),H=F,F=O,O=A,A=i(B,C)}this.h[0]=i(this.h[0],A),this.h[1]=i(this.h[1],O),this.h[2]=i(this.h[2],F),this.h[3]=i(this.h[3],H),this.h[4]=i(this.h[4],L),this.h[5]=i(this.h[5],z),this.h[6]=i(this.h[6],V),this.h[7]=i(this.h[7],K)},w.prototype._digest=function(E){return E==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},J9}var e7,Cj;function m2e(){if(Cj)return e7;Cj=1;var t=bc(),e=XG();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),e7=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},e7}var t7,Aj;function JG(){if(Aj)return t7;Aj=1;var t=bc(),e=mb(),r=gb(),n=t.rotr64_hi,i=t.rotr64_lo,s=t.shr64_hi,a=t.shr64_lo,o=t.sum64,l=t.sum64_hi,u=t.sum64_lo,h=t.sum64_4_hi,f=t.sum64_4_lo,g=t.sum64_5_hi,y=t.sum64_5_lo,b=e.BlockHash,w=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function x(){if(!(this instanceof x))return new x;b.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=w,this.W=new Array(160)}t.inherits(x,b),t7=x,x.blockSize=1024,x.outSize=512,x.hmacStrength=192,x.padLength=128,x.prototype._prepareBlock=function(C,k){for(var N=this.W,D=0;D<32;D++)N[D]=C[k+D];for(;D<N.length;D+=2){var P=V(N[D-4],N[D-3]),R=K(N[D-4],N[D-3]),j=N[D-14],W=N[D-13],M=L(N[D-30],N[D-29]),G=z(N[D-30],N[D-29]),re=N[D-32],q=N[D-31];N[D]=h(P,R,j,W,M,G,re,q),N[D+1]=f(P,R,j,W,M,G,re,q)}},x.prototype._update=function(C,k){this._prepareBlock(C,k);var N=this.W,D=this.h[0],P=this.h[1],R=this.h[2],j=this.h[3],W=this.h[4],M=this.h[5],G=this.h[6],re=this.h[7],q=this.h[8],X=this.h[9],ne=this.h[10],ee=this.h[11],ce=this.h[12],be=this.h[13],ve=this.h[14],ge=this.h[15];r(this.k.length===N.length);for(var Ee=0;Ee<N.length;Ee+=2){var ye=ve,$e=ge,we=F(q,X),qe=H(q,X),Ge=E(q,X,ne,ee,ce),Ae=S(q,X,ne,ee,ce,be),je=this.k[Ee],gt=this.k[Ee+1],Qt=N[Ee],Ie=N[Ee+1],pt=g(ye,$e,we,qe,Ge,Ae,je,gt,Qt,Ie),Ze=y(ye,$e,we,qe,Ge,Ae,je,gt,Qt,Ie);ye=A(D,P),$e=O(D,P),we=_(D,P,R,j,W),qe=I(D,P,R,j,W,M);var ht=l(ye,$e,we,qe),bt=u(ye,$e,we,qe);ve=ce,ge=be,ce=ne,be=ee,ne=q,ee=X,q=l(G,re,pt,Ze),X=u(re,re,pt,Ze),G=W,re=M,W=R,M=j,R=D,j=P,D=l(pt,Ze,ht,bt),P=u(pt,Ze,ht,bt)}o(this.h,0,D,P),o(this.h,2,R,j),o(this.h,4,W,M),o(this.h,6,G,re),o(this.h,8,q,X),o(this.h,10,ne,ee),o(this.h,12,ce,be),o(this.h,14,ve,ge)},x.prototype._digest=function(C){return C==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function E(B,C,k,N,D){var P=B&k^~B&D;return P<0&&(P+=4294967296),P}function S(B,C,k,N,D,P){var R=C&N^~C&P;return R<0&&(R+=4294967296),R}function _(B,C,k,N,D){var P=B&k^B&D^k&D;return P<0&&(P+=4294967296),P}function I(B,C,k,N,D,P){var R=C&N^C&P^N&P;return R<0&&(R+=4294967296),R}function A(B,C){var k=n(B,C,28),N=n(C,B,2),D=n(C,B,7),P=k^N^D;return P<0&&(P+=4294967296),P}function O(B,C){var k=i(B,C,28),N=i(C,B,2),D=i(C,B,7),P=k^N^D;return P<0&&(P+=4294967296),P}function F(B,C){var k=n(B,C,14),N=n(B,C,18),D=n(C,B,9),P=k^N^D;return P<0&&(P+=4294967296),P}function H(B,C){var k=i(B,C,14),N=i(B,C,18),D=i(C,B,9),P=k^N^D;return P<0&&(P+=4294967296),P}function L(B,C){var k=n(B,C,1),N=n(B,C,8),D=s(B,C,7),P=k^N^D;return P<0&&(P+=4294967296),P}function z(B,C){var k=i(B,C,1),N=i(B,C,8),D=a(B,C,7),P=k^N^D;return P<0&&(P+=4294967296),P}function V(B,C){var k=n(B,C,19),N=n(C,B,29),D=s(B,C,6),P=k^N^D;return P<0&&(P+=4294967296),P}function K(B,C){var k=i(B,C,19),N=i(C,B,29),D=a(B,C,6),P=k^N^D;return P<0&&(P+=4294967296),P}return t7}var r7,Sj;function y2e(){if(Sj)return r7;Sj=1;var t=bc(),e=JG();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),r7=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},r7}var kj;function b2e(){return kj||(kj=1,Rh.sha1=g2e(),Rh.sha224=m2e(),Rh.sha256=XG(),Rh.sha384=y2e(),Rh.sha512=JG()),Rh}var n7={},$j;function w2e(){if($j)return n7;$j=1;var t=bc(),e=mb(),r=t.rotl32,n=t.sum32,i=t.sum32_3,s=t.sum32_4,a=e.BlockHash;function o(){if(!(this instanceof o))return new o;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(o,a),n7.ripemd160=o,o.blockSize=512,o.outSize=160,o.hmacStrength=192,o.padLength=64,o.prototype._update=function(x,E){for(var S=this.h[0],_=this.h[1],I=this.h[2],A=this.h[3],O=this.h[4],F=S,H=_,L=I,z=A,V=O,K=0;K<80;K++){var B=n(r(s(S,l(K,_,I,A),x[f[K]+E],u(K)),y[K]),O);S=O,O=A,A=r(I,10),I=_,_=B,B=n(r(s(F,l(79-K,H,L,z),x[g[K]+E],h(K)),b[K]),V),F=V,V=z,z=r(L,10),L=H,H=B}B=i(this.h[1],I,z),this.h[1]=i(this.h[2],A,V),this.h[2]=i(this.h[3],O,F),this.h[3]=i(this.h[4],S,H),this.h[4]=i(this.h[0],_,L),this.h[0]=B},o.prototype._digest=function(x){return x==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function l(w,x,E,S){return w<=15?x^E^S:w<=31?x&E|~x&S:w<=47?(x|~E)^S:w<=63?x&S|E&~S:x^(E|~S)}function u(w){return w<=15?0:w<=31?1518500249:w<=47?1859775393:w<=63?2400959708:2840853838}function h(w){return w<=15?1352829926:w<=31?1548603684:w<=47?1836072691:w<=63?2053994217:0}var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],g=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],y=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],b=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return n7}var i7,Tj;function v2e(){if(Tj)return i7;Tj=1;var t=bc(),e=gb();function r(n,i,s){if(!(this instanceof r))return new r(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,s))}return i7=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,s){return this.inner.update(i,s),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},i7}var Ij;function x2e(){return Ij||(Ij=1,function(t){var e=t;e.utils=bc(),e.common=mb(),e.sha=b2e(),e.ripemd=w2e(),e.hmac=v2e(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160}(Y9)),Y9}var E2e=x2e();const Gl=ra(E2e);function Nj(t){return"0x"+Gl.sha256().update(ir(t)).digest("hex")}const _2e="web/5.8.0";var C2e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(h){try{u(n.next(h))}catch(f){a(f)}}function l(h){try{u(n.throw(h))}catch(f){a(f)}}function u(h){h.done?s(h.value):i(h.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};function A2e(t,e){return C2e(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const a=e.fetchOptions;a.mode&&(r.mode=a.mode),a.cache&&(r.cache=a.cache),a.credentials&&(r.credentials=a.credentials),a.redirect&&(r.redirect=a.redirect),a.referrer&&(r.referrer=a.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((a,o)=>{s[o.toLowerCase()]=a}):n.headers.keys().forEach(a=>{s[a.toLowerCase()]=n.headers.get(a)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:ir(new Uint8Array(i))}})}var S2e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(h){try{u(n.next(h))}catch(f){a(f)}}function l(h){try{u(n.throw(h))}catch(f){a(f)}}function u(h){h.done?s(h.value):i(h.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const Wo=new Oe(_2e);function Pj(t){return new Promise(e=>{setTimeout(e,t)})}function hd(t,e){if(t==null)return null;if(typeof t=="string")return t;if(c$(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return j6(t)}catch{}return nr(t)}return t}function k2e(t){return Au(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function $2e(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;Wo.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;Wo.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const a=typeof t=="object"?!!t.errorPassThrough:!1,o={};let l=null;const u={method:"GET"};let h=!1,f=2*60*1e3;if(typeof t=="string")l=t;else if(typeof t=="object"){if((t==null||t.url==null)&&Wo.throwArgumentError("missing URL","connection.url",t),l=t.url,typeof t.timeout=="number"&&t.timeout>0&&(f=t.timeout),t.headers)for(const E in t.headers)o[E.toLowerCase()]={key:E,value:String(t.headers[E])},["if-none-match","if-modified-since"].indexOf(E.toLowerCase())>=0&&(h=!0);if(u.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){l.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&Wo.throwError("basic authentication requires a secure https url",Oe.errors.INVALID_ARGUMENT,{argument:"url",url:l,user:t.user,password:"[REDACTED]"});const E=t.user+":"+t.password;o.authorization={key:"Authorization",value:"Basic "+OG(Au(E))}}t.skipFetchSetup!=null&&(u.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(u.fetchOptions=Qs(t.fetchOptions))}const g=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),y=l?l.match(g):null;if(y)try{const E={statusCode:200,statusMessage:"OK",headers:{"content-type":y[1]||"text/plain"},body:y[2]?PG(y[3]):k2e(y[3])};let S=E.body;return r&&(S=r(E.body,E)),Promise.resolve(S)}catch(E){Wo.throwError("processing response error",Oe.errors.SERVER_ERROR,{body:hd(y[1],y[2]),error:E,requestBody:null,requestMethod:"GET",url:l})}e&&(u.method="POST",u.body=e,o["content-type"]==null&&(o["content-type"]={key:"Content-Type",value:"application/octet-stream"}),o["content-length"]==null&&(o["content-length"]={key:"Content-Length",value:String(e.length)}));const b={};Object.keys(o).forEach(E=>{const S=o[E];b[S.key]=S.value}),u.headers=b;const w=function(){let E=null;return{promise:new Promise(function(I,A){f&&(E=setTimeout(()=>{E!=null&&(E=null,A(Wo.makeError("timeout",Oe.errors.TIMEOUT,{requestBody:hd(u.body,b["content-type"]),requestMethod:u.method,timeout:f,url:l})))},f))}),cancel:function(){E!=null&&(clearTimeout(E),E=null)}}}(),x=function(){return S2e(this,void 0,void 0,function*(){for(let E=0;E<n;E++){let S=null;try{if(S=yield A2e(l,u),E<n){if(S.statusCode===301||S.statusCode===302){const I=S.headers.location||"";if(u.method==="GET"&&I.match(/^https:/)){l=S.headers.location;continue}}else if(S.statusCode===429){let I=!0;if(i&&(I=yield i(E,l)),I){let A=0;const O=S.headers["retry-after"];typeof O=="string"&&O.match(/^[1-9][0-9]*$/)?A=parseInt(O)*1e3:A=s*parseInt(String(Math.random()*Math.pow(2,E))),yield Pj(A);continue}}}}catch(I){S=I.response,S==null&&(w.cancel(),Wo.throwError("missing response",Oe.errors.SERVER_ERROR,{requestBody:hd(u.body,b["content-type"]),requestMethod:u.method,serverError:I,url:l}))}let _=S.body;if(h&&S.statusCode===304?_=null:!a&&(S.statusCode<200||S.statusCode>=300)&&(w.cancel(),Wo.throwError("bad response",Oe.errors.SERVER_ERROR,{status:S.statusCode,headers:S.headers,body:hd(_,S.headers?S.headers["content-type"]:null),requestBody:hd(u.body,b["content-type"]),requestMethod:u.method,url:l})),r)try{const I=yield r(_,S);return w.cancel(),I}catch(I){if(I.throttleRetry&&E<n){let A=!0;if(i&&(A=yield i(E,l)),A){const O=s*parseInt(String(Math.random()*Math.pow(2,E)));yield Pj(O);continue}}w.cancel(),Wo.throwError("processing response error",Oe.errors.SERVER_ERROR,{body:hd(_,S.headers?S.headers["content-type"]:null),error:I,requestBody:hd(u.body,b["content-type"]),requestMethod:u.method,url:l})}return w.cancel(),_}return Wo.throwError("failed response",Oe.errors.SERVER_ERROR,{requestBody:hd(u.body,b["content-type"]),requestMethod:u.method,url:l})})}();return Promise.race([w.promise,x])}function g$(t,e,r){let n=(s,a)=>{let o=null;if(s!=null)try{o=JSON.parse(j6(s))}catch(l){Wo.throwError("invalid JSON",Oe.errors.SERVER_ERROR,{body:s,error:l})}return r&&(o=r(o,a)),o},i=null;if(e!=null){i=Au(e);const s=typeof t=="string"?{url:t}:Qs(t);s.headers?Object.keys(s.headers).filter(o=>o.toLowerCase()==="content-type").length!==0||(s.headers=Qs(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return $2e(t,i,n)}function sy(t,e){return e||(e={}),e=Qs(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,s=!1;const a=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{a()&&n(new Error("timeout"))},e.timeout));const o=e.retryLimit;let l=0;function u(){return t().then(function(h){if(h!==void 0)a()&&r(h);else if(e.oncePoll)e.oncePoll.once("poll",u);else if(e.onceBlock)e.onceBlock.once("block",u);else if(!s){if(l++,l>o){a()&&n(new Error("retry limit reached"));return}let f=e.interval*parseInt(String(Math.random()*Math.pow(2,l)));f<e.floor&&(f=e.floor),f>e.ceiling&&(f=e.ceiling),setTimeout(u,f)}return null},function(h){a()&&n(h)})}u()})}var s7,Oj;function T2e(){if(Oj)return s7;Oj=1;for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",e={},r=0;r<t.length;r++){var n=t.charAt(r);if(e[n]!==void 0)throw new TypeError(n+" is ambiguous");e[n]=r}function i(w){var x=w>>25;return(w&33554431)<<5^-(x>>0&1)&996825010^-(x>>1&1)&642813549^-(x>>2&1)&513874426^-(x>>3&1)&1027748829^-(x>>4&1)&705979059}function s(w){for(var x=1,E=0;E<w.length;++E){var S=w.charCodeAt(E);if(S<33||S>126)return"Invalid prefix ("+w+")";x=i(x)^S>>5}for(x=i(x),E=0;E<w.length;++E){var _=w.charCodeAt(E);x=i(x)^_&31}return x}function a(w,x,E){if(E=E||90,w.length+7+x.length>E)throw new TypeError("Exceeds length limit");w=w.toLowerCase();var S=s(w);if(typeof S=="string")throw new Error(S);for(var _=w+"1",I=0;I<x.length;++I){var A=x[I];if(A>>5)throw new Error("Non 5-bit word");S=i(S)^A,_+=t.charAt(A)}for(I=0;I<6;++I)S=i(S);for(S^=1,I=0;I<6;++I){var O=S>>(5-I)*5&31;_+=t.charAt(O)}return _}function o(w,x){if(x=x||90,w.length<8)return w+" too short";if(w.length>x)return"Exceeds length limit";var E=w.toLowerCase(),S=w.toUpperCase();if(w!==E&&w!==S)return"Mixed-case string "+w;w=E;var _=w.lastIndexOf("1");if(_===-1)return"No separator character for "+w;if(_===0)return"Missing prefix for "+w;var I=w.slice(0,_),A=w.slice(_+1);if(A.length<6)return"Data too short";var O=s(I);if(typeof O=="string")return O;for(var F=[],H=0;H<A.length;++H){var L=A.charAt(H),z=e[L];if(z===void 0)return"Unknown character "+L;O=i(O)^z,!(H+6>=A.length)&&F.push(z)}return O!==1?"Invalid checksum for "+w:{prefix:I,words:F}}function l(){var w=o.apply(null,arguments);if(typeof w=="object")return w}function u(w){var x=o.apply(null,arguments);if(typeof x=="object")return x;throw new Error(x)}function h(w,x,E,S){for(var _=0,I=0,A=(1<<E)-1,O=[],F=0;F<w.length;++F)for(_=_<<x|w[F],I+=x;I>=E;)I-=E,O.push(_>>I&A);if(S)I>0&&O.push(_<<E-I&A);else{if(I>=x)return"Excess padding";if(_<<E-I&A)return"Non-zero padding"}return O}function f(w){var x=h(w,8,5,!0);if(Array.isArray(x))return x}function g(w){var x=h(w,8,5,!0);if(Array.isArray(x))return x;throw new Error(x)}function y(w){var x=h(w,5,8,!1);if(Array.isArray(x))return x}function b(w){var x=h(w,5,8,!1);if(Array.isArray(x))return x;throw new Error(x)}return s7={decodeUnsafe:l,decode:u,encode:a,toWordsUnsafe:f,toWords:g,fromWordsUnsafe:y,fromWords:b},s7}var I2e=T2e();const Mj=ra(I2e),B6="providers/5.8.0";function Wg(t,e,r){return r={path:e,exports:{},require:function(n,i){return N2e(n,i??r.path)}},t(r,r.exports),r.exports}function N2e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var m$=eK;function eK(t,e){if(!t)throw new Error(e||"Assertion failed")}eK.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var el=Wg(function(t,e){var r=e;function n(a,o){if(Array.isArray(a))return a.slice();if(!a)return[];var l=[];if(typeof a!="string"){for(var u=0;u<a.length;u++)l[u]=a[u]|0;return l}if(o==="hex"){a=a.replace(/[^a-z0-9]+/ig,""),a.length%2!==0&&(a="0"+a);for(var u=0;u<a.length;u+=2)l.push(parseInt(a[u]+a[u+1],16))}else for(var u=0;u<a.length;u++){var h=a.charCodeAt(u),f=h>>8,g=h&255;f?l.push(f,g):l.push(g)}return l}r.toArray=n;function i(a){return a.length===1?"0"+a:a}r.zero2=i;function s(a){for(var o="",l=0;l<a.length;l++)o+=i(a[l].toString(16));return o}r.toHex=s,r.encode=function(o,l){return l==="hex"?s(o):o}}),Ua=Wg(function(t,e){var r=e;r.assert=m$,r.toArray=el.toArray,r.zero2=el.zero2,r.toHex=el.toHex,r.encode=el.encode;function n(l,u,h){var f=new Array(Math.max(l.bitLength(),h)+1),g;for(g=0;g<f.length;g+=1)f[g]=0;var y=1<<u+1,b=l.clone();for(g=0;g<f.length;g++){var w,x=b.andln(y-1);b.isOdd()?(x>(y>>1)-1?w=(y>>1)-x:w=x,b.isubn(w)):w=0,f[g]=w,b.iushrn(1)}return f}r.getNAF=n;function i(l,u){var h=[[],[]];l=l.clone(),u=u.clone();for(var f=0,g=0,y;l.cmpn(-f)>0||u.cmpn(-g)>0;){var b=l.andln(3)+f&3,w=u.andln(3)+g&3;b===3&&(b=-1),w===3&&(w=-1);var x;b&1?(y=l.andln(7)+f&7,(y===3||y===5)&&w===2?x=-b:x=b):x=0,h[0].push(x);var E;w&1?(y=u.andln(7)+g&7,(y===3||y===5)&&b===2?E=-w:E=w):E=0,h[1].push(E),2*f===x+1&&(f=1-f),2*g===E+1&&(g=1-g),l.iushrn(1),u.iushrn(1)}return h}r.getJSF=i;function s(l,u,h){var f="_"+u;l.prototype[u]=function(){return this[f]!==void 0?this[f]:this[f]=h.call(this)}}r.cachedProperty=s;function a(l){return typeof l=="string"?r.toArray(l,"hex"):l}r.parseBytes=a;function o(l){return new Ht(l,"hex","le")}r.intFromLE=o}),t5=Ua.getNAF,P2e=Ua.getJSF,r5=Ua.assert;function nh(t,e){this.type=t,this.p=new Ht(e.p,16),this.red=e.prime?Ht.red(e.prime):Ht.mont(this.p),this.zero=new Ht(0).toRed(this.red),this.one=new Ht(1).toRed(this.red),this.two=new Ht(2).toRed(this.red),this.n=e.n&&new Ht(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Yf=nh;nh.prototype.point=function(){throw new Error("Not implemented")};nh.prototype.validate=function(){throw new Error("Not implemented")};nh.prototype._fixedNafMul=function(e,r){r5(e.precomputed);var n=e._getDoubles(),i=t5(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var a=[],o,l;for(o=0;o<i.length;o+=n.step){l=0;for(var u=o+n.step-1;u>=o;u--)l=(l<<1)+i[u];a.push(l)}for(var h=this.jpoint(null,null,null),f=this.jpoint(null,null,null),g=s;g>0;g--){for(o=0;o<a.length;o++)l=a[o],l===g?f=f.mixedAdd(n.points[o]):l===-g&&(f=f.mixedAdd(n.points[o].neg()));h=h.add(f)}return h.toP()};nh.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,a=t5(r,n,this._bitLength),o=this.jpoint(null,null,null),l=a.length-1;l>=0;l--){for(var u=0;l>=0&&a[l]===0;l--)u++;if(l>=0&&u++,o=o.dblp(u),l<0)break;var h=a[l];r5(h!==0),e.type==="affine"?h>0?o=o.mixedAdd(s[h-1>>1]):o=o.mixedAdd(s[-h-1>>1].neg()):h>0?o=o.add(s[h-1>>1]):o=o.add(s[-h-1>>1].neg())}return e.type==="affine"?o.toP():o};nh.prototype._wnafMulAdd=function(e,r,n,i,s){var a=this._wnafT1,o=this._wnafT2,l=this._wnafT3,u=0,h,f,g;for(h=0;h<i;h++){g=r[h];var y=g._getNAFPoints(e);a[h]=y.wnd,o[h]=y.points}for(h=i-1;h>=1;h-=2){var b=h-1,w=h;if(a[b]!==1||a[w]!==1){l[b]=t5(n[b],a[b],this._bitLength),l[w]=t5(n[w],a[w],this._bitLength),u=Math.max(l[b].length,u),u=Math.max(l[w].length,u);continue}var x=[r[b],null,null,r[w]];r[b].y.cmp(r[w].y)===0?(x[1]=r[b].add(r[w]),x[2]=r[b].toJ().mixedAdd(r[w].neg())):r[b].y.cmp(r[w].y.redNeg())===0?(x[1]=r[b].toJ().mixedAdd(r[w]),x[2]=r[b].add(r[w].neg())):(x[1]=r[b].toJ().mixedAdd(r[w]),x[2]=r[b].toJ().mixedAdd(r[w].neg()));var E=[-3,-1,-5,-7,0,7,5,1,3],S=P2e(n[b],n[w]);for(u=Math.max(S[0].length,u),l[b]=new Array(u),l[w]=new Array(u),f=0;f<u;f++){var _=S[0][f]|0,I=S[1][f]|0;l[b][f]=E[(_+1)*3+(I+1)],l[w][f]=0,o[b]=x}}var A=this.jpoint(null,null,null),O=this._wnafT4;for(h=u;h>=0;h--){for(var F=0;h>=0;){var H=!0;for(f=0;f<i;f++)O[f]=l[f][h]|0,O[f]!==0&&(H=!1);if(!H)break;F++,h--}if(h>=0&&F++,A=A.dblp(F),h<0)break;for(f=0;f<i;f++){var L=O[f];L!==0&&(L>0?g=o[f][L-1>>1]:L<0&&(g=o[f][-L-1>>1].neg()),g.type==="affine"?A=A.mixedAdd(g):A=A.add(g))}}for(h=0;h<i;h++)o[h]=null;return s?A:A.toP()};function To(t,e){this.curve=t,this.type=e,this.precomputed=null}nh.BasePoint=To;To.prototype.eq=function(){throw new Error("Not implemented")};To.prototype.validate=function(){return this.curve.validate(this)};nh.prototype.decodePoint=function(e,r){e=Ua.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?r5(e[e.length-1]%2===0):e[0]===7&&r5(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};To.prototype.encodeCompressed=function(e){return this.encode(e,!0)};To.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};To.prototype.encode=function(e,r){return Ua.encode(this._encode(r),e)};To.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};To.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};To.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var a=0;a<e;a++)i=i.dbl();n.push(i)}return{step:e,points:n}};To.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};To.prototype._getBeta=function(){return null};To.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var y$=Wg(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),O2e=Ua.assert;function Io(t){Yf.call(this,"short",t),this.a=new Ht(t.a,16).toRed(this.red),this.b=new Ht(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}y$(Io,Yf);var M2e=Io;Io.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new Ht(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new Ht(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],O2e(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var a;return e.basis?a=e.basis.map(function(o){return{a:new Ht(o.a,16),b:new Ht(o.b,16)}}):a=this._getEndoBasis(n),{beta:r,lambda:n,basis:a}}};Io.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:Ht.mont(e),n=new Ht(2).toRed(r).redInvm(),i=n.redNeg(),s=new Ht(3).toRed(r).redNeg().redSqrt().redMul(n),a=i.redAdd(s).fromRed(),o=i.redSub(s).fromRed();return[a,o]};Io.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new Ht(1),a=new Ht(0),o=new Ht(0),l=new Ht(1),u,h,f,g,y,b,w,x=0,E,S;n.cmpn(0)!==0;){var _=i.div(n);E=i.sub(_.mul(n)),S=o.sub(_.mul(s));var I=l.sub(_.mul(a));if(!f&&E.cmp(r)<0)u=w.neg(),h=s,f=E.neg(),g=S;else if(f&&++x===2)break;w=E,i=n,n=E,o=s,s=S,l=a,a=I}y=E.neg(),b=S;var A=f.sqr().add(g.sqr()),O=y.sqr().add(b.sqr());return O.cmp(A)>=0&&(y=u,b=h),f.negative&&(f=f.neg(),g=g.neg()),y.negative&&(y=y.neg(),b=b.neg()),[{a:f,b:g},{a:y,b}]};Io.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),a=n.b.neg().mul(e).divRound(this.n),o=s.mul(n.a),l=a.mul(i.a),u=s.mul(n.b),h=a.mul(i.b),f=e.sub(o).sub(l),g=u.add(h).neg();return{k1:f,k2:g}};Io.prototype.pointFromX=function(e,r){e=new Ht(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};Io.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Io.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,a=0;a<e.length;a++){var o=this._endoSplit(r[a]),l=e[a],u=l._getBeta();o.k1.negative&&(o.k1.ineg(),l=l.neg(!0)),o.k2.negative&&(o.k2.ineg(),u=u.neg(!0)),i[a*2]=l,i[a*2+1]=u,s[a*2]=o.k1,s[a*2+1]=o.k2}for(var h=this._wnafMulAdd(1,i,s,a*2,n),f=0;f<a*2;f++)i[f]=null,s[f]=null;return h};function Ii(t,e,r,n){Yf.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new Ht(e,16),this.y=new Ht(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}y$(Ii,Yf.BasePoint);Io.prototype.point=function(e,r,n){return new Ii(this,e,r,n)};Io.prototype.pointFromJSON=function(e,r){return Ii.fromJSON(this,e,r)};Ii.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Ii.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Ii.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(o){return e.point(o[0],o[1],n)}var a=r[2];return i.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[i].concat(a.doubles.points.map(s))},naf:a.naf&&{wnd:a.naf.wnd,points:[i].concat(a.naf.points.map(s))}},i};Ii.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Ii.prototype.isInfinity=function(){return this.inf};Ii.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Ii.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),a=s.redSqr().redISub(this.x.redAdd(this.x)),o=s.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,o)};Ii.prototype.getX=function(){return this.x.fromRed()};Ii.prototype.getY=function(){return this.y.fromRed()};Ii.prototype.mul=function(e){return e=new Ht(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Ii.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Ii.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Ii.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Ii.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Ii.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function Vi(t,e,r,n){Yf.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Ht(0)):(this.x=new Ht(e,16),this.y=new Ht(r,16),this.z=new Ht(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}y$(Vi,Yf.BasePoint);Io.prototype.jpoint=function(e,r,n){return new Vi(this,e,r,n)};Vi.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};Vi.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};Vi.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),a=this.y.redMul(r.redMul(e.z)),o=e.y.redMul(n.redMul(this.z)),l=i.redSub(s),u=a.redSub(o);if(l.cmpn(0)===0)return u.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var h=l.redSqr(),f=h.redMul(l),g=i.redMul(h),y=u.redSqr().redIAdd(f).redISub(g).redISub(g),b=u.redMul(g.redISub(y)).redISub(a.redMul(f)),w=this.z.redMul(e.z).redMul(l);return this.curve.jpoint(y,b,w)};Vi.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,a=e.y.redMul(r).redMul(this.z),o=n.redSub(i),l=s.redSub(a);if(o.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),h=u.redMul(o),f=n.redMul(u),g=l.redSqr().redIAdd(h).redISub(f).redISub(f),y=l.redMul(f.redISub(g)).redISub(s.redMul(h)),b=this.z.redMul(o);return this.curve.jpoint(g,y,b)};Vi.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,a=this.x,o=this.y,l=this.z,u=l.redSqr().redSqr(),h=o.redAdd(o);for(r=0;r<e;r++){var f=a.redSqr(),g=h.redSqr(),y=g.redSqr(),b=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(u)),w=a.redMul(g),x=b.redSqr().redISub(w.redAdd(w)),E=w.redISub(x),S=b.redMul(E);S=S.redIAdd(S).redISub(y);var _=h.redMul(l);r+1<e&&(u=u.redMul(y)),a=x,l=_,h=S}return this.curve.jpoint(a,h.redMul(s),l)};Vi.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};Vi.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),o=this.x.redAdd(s).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);var l=i.redAdd(i).redIAdd(i),u=l.redSqr().redISub(o).redISub(o),h=a.redIAdd(a);h=h.redIAdd(h),h=h.redIAdd(h),e=u,r=l.redMul(o.redISub(u)).redISub(h),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),g=this.y.redSqr(),y=g.redSqr(),b=this.x.redAdd(g).redSqr().redISub(f).redISub(y);b=b.redIAdd(b);var w=f.redAdd(f).redIAdd(f),x=w.redSqr(),E=y.redIAdd(y);E=E.redIAdd(E),E=E.redIAdd(E),e=x.redISub(b).redISub(b),r=w.redMul(b.redISub(e)).redISub(E),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};Vi.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),a=s.redSqr(),o=this.x.redAdd(s).redSqr().redISub(i).redISub(a);o=o.redIAdd(o);var l=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),u=l.redSqr().redISub(o).redISub(o);e=u;var h=a.redIAdd(a);h=h.redIAdd(h),h=h.redIAdd(h),r=l.redMul(o.redISub(u)).redISub(h),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),g=this.y.redSqr(),y=this.x.redMul(g),b=this.x.redSub(f).redMul(this.x.redAdd(f));b=b.redAdd(b).redIAdd(b);var w=y.redIAdd(y);w=w.redIAdd(w);var x=w.redAdd(w);e=b.redSqr().redISub(x),n=this.y.redAdd(this.z).redSqr().redISub(g).redISub(f);var E=g.redSqr();E=E.redIAdd(E),E=E.redIAdd(E),E=E.redIAdd(E),r=b.redMul(w.redISub(e)).redISub(E)}return this.curve.jpoint(e,r,n)};Vi.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),a=r.redSqr(),o=n.redSqr(),l=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(s)),u=r.redAdd(r);u=u.redIAdd(u);var h=u.redMul(o),f=l.redSqr().redISub(h.redAdd(h)),g=h.redISub(f),y=o.redSqr();y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var b=l.redMul(g).redISub(y),w=n.redAdd(n).redMul(i);return this.curve.jpoint(f,b,w)};Vi.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),a=s.redSqr(),o=this.x.redAdd(r).redSqr().redISub(e).redISub(i);o=o.redIAdd(o),o=o.redAdd(o).redIAdd(o),o=o.redISub(a);var l=o.redSqr(),u=i.redIAdd(i);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var h=s.redIAdd(o).redSqr().redISub(a).redISub(l).redISub(u),f=r.redMul(h);f=f.redIAdd(f),f=f.redIAdd(f);var g=this.x.redMul(l).redISub(f);g=g.redIAdd(g),g=g.redIAdd(g);var y=this.y.redMul(h.redMul(u.redISub(h)).redISub(o.redMul(l)));y=y.redIAdd(y),y=y.redIAdd(y),y=y.redIAdd(y);var b=this.z.redAdd(o).redSqr().redISub(n).redISub(l);return this.curve.jpoint(g,y,b)};Vi.prototype.mul=function(e,r){return e=new Ht(e,r),this.curve._wnafMul(this,e)};Vi.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};Vi.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};Vi.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};Vi.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var u3=Wg(function(t,e){var r=e;r.base=Yf,r.short=M2e,r.mont=null,r.edwards=null}),d3=Wg(function(t,e){var r=e,n=Ua.assert;function i(o){o.type==="short"?this.curve=new u3.short(o):o.type==="edwards"?this.curve=new u3.edwards(o):this.curve=new u3.mont(o),this.g=this.curve.g,this.n=this.curve.n,this.hash=o.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(o,l){Object.defineProperty(r,o,{configurable:!0,enumerable:!0,get:function(){var u=new i(l);return Object.defineProperty(r,o,{configurable:!0,enumerable:!0,value:u}),u}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Gl.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Gl.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Gl.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Gl.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Gl.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Gl.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:Gl.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var a;try{a=null.crash()}catch{a=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Gl.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",a]})});function Qd(t){if(!(this instanceof Qd))return new Qd(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=el.toArray(t.entropy,t.entropyEnc||"hex"),r=el.toArray(t.nonce,t.nonceEnc||"hex"),n=el.toArray(t.pers,t.persEnc||"hex");m$(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var tK=Qd;Qd.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};Qd.prototype._hmac=function(){return new Gl.hmac(this.hash,this.K)};Qd.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};Qd.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=el.toArray(e,r),n=el.toArray(n,i),m$(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};Qd.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=el.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var a=s.slice(0,e);return this._update(n),this._reseed++,el.encode(a,r)};var HC=Ua.assert;function hs(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var b$=hs;hs.fromPublic=function(e,r,n){return r instanceof hs?r:new hs(e,{pub:r,pubEnc:n})};hs.fromPrivate=function(e,r,n){return r instanceof hs?r:new hs(e,{priv:r,privEnc:n})};hs.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};hs.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};hs.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};hs.prototype._importPrivate=function(e,r){this.priv=new Ht(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};hs.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?HC(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&HC(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};hs.prototype.derive=function(e){return e.validate()||HC(e.validate(),"public point not validated"),e.mul(this.priv).getX()};hs.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};hs.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};hs.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var R2e=Ua.assert;function L6(t,e){if(t instanceof L6)return t;this._importDER(t,e)||(R2e(t.r&&t.s,"Signature without r or s"),this.r=new Ht(t.r,16),this.s=new Ht(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var F6=L6;function j2e(){this.place=0}function a7(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,a=e.place;s<n;s++,a++)i<<=8,i|=t[a],i>>>=0;return i<=127?!1:(e.place=a,i)}function Rj(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}L6.prototype._importDER=function(e,r){e=Ua.toArray(e,r);var n=new j2e;if(e[n.place++]!==48)return!1;var i=a7(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=a7(e,n);if(s===!1||e[n.place]&128)return!1;var a=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var o=a7(e,n);if(o===!1||e.length!==o+n.place||e[n.place]&128)return!1;var l=e.slice(n.place,o+n.place);if(a[0]===0)if(a[1]&128)a=a.slice(1);else return!1;if(l[0]===0)if(l[1]&128)l=l.slice(1);else return!1;return this.r=new Ht(a),this.s=new Ht(l),this.recoveryParam=null,!0};function o7(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}L6.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=Rj(r),n=Rj(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];o7(i,r.length),i=i.concat(r),i.push(2),o7(i,n.length);var s=i.concat(n),a=[48];return o7(a,s.length),a=a.concat(s),Ua.encode(a,e)};var D2e=function(){throw new Error("unsupported")},Kh=Ua.assert;function wo(t){if(!(this instanceof wo))return new wo(t);typeof t=="string"&&(Kh(Object.prototype.hasOwnProperty.call(d3,t),"Unknown curve "+t),t=d3[t]),t instanceof d3.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var U2e=wo;wo.prototype.keyPair=function(e){return new b$(this,e)};wo.prototype.keyFromPrivate=function(e,r){return b$.fromPrivate(this,e,r)};wo.prototype.keyFromPublic=function(e,r){return b$.fromPublic(this,e,r)};wo.prototype.genKeyPair=function(e){e||(e={});for(var r=new tK({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||D2e(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new Ht(2));;){var s=new Ht(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};wo.prototype._truncateToN=function(e,r,n){var i;if(Ht.isBN(e)||typeof e=="number")e=new Ht(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new Ht(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new Ht(s,16)}typeof n!="number"&&(n=i*8);var a=n-this.n.bitLength();return a>0&&(e=e.ushrn(a)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};wo.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!Ht.isBN(e)){Kh(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),Kh(e.length>>>0===e.length);for(var s=0;s<e.length;s++)Kh((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),Kh(!e.isNeg(),"Can not sign a negative message");var a=this.n.byteLength(),o=r.getPrivate().toArray("be",a),l=e.toArray("be",a);Kh(new Ht(l).eq(e),"Can not sign message");for(var u=new tK({hash:this.hash,entropy:o,nonce:l,pers:i.pers,persEnc:i.persEnc||"utf8"}),h=this.n.sub(new Ht(1)),f=0;;f++){var g=i.k?i.k(f):new Ht(u.generate(this.n.byteLength()));if(g=this._truncateToN(g,!0),!(g.cmpn(1)<=0||g.cmp(h)>=0)){var y=this.g.mul(g);if(!y.isInfinity()){var b=y.getX(),w=b.umod(this.n);if(w.cmpn(0)!==0){var x=g.invm(this.n).mul(w.mul(r.getPrivate()).iadd(e));if(x=x.umod(this.n),x.cmpn(0)!==0){var E=(y.getY().isOdd()?1:0)|(b.cmp(w)!==0?2:0);return i.canonical&&x.cmp(this.nh)>0&&(x=this.n.sub(x),E^=1),new F6({r:w,s:x,recoveryParam:E})}}}}}};wo.prototype.verify=function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new F6(r,"hex");var a=r.r,o=r.s;if(a.cmpn(1)<0||a.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var l=o.invm(this.n),u=l.mul(e).umod(this.n),h=l.mul(a).umod(this.n),f;return this.curve._maxwellTrick?(f=this.g.jmulAdd(u,n.getPublic(),h),f.isInfinity()?!1:f.eqXToP(a)):(f=this.g.mulAdd(u,n.getPublic(),h),f.isInfinity()?!1:f.getX().umod(this.n).cmp(a)===0)};wo.prototype.recoverPubKey=function(t,e,r,n){Kh((3&r)===r,"The recovery param is more than two bits"),e=new F6(e,n);var i=this.n,s=new Ht(t),a=e.r,o=e.s,l=r&1,u=r>>1;if(a.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");u?a=this.curve.pointFromX(a.add(this.curve.n),l):a=this.curve.pointFromX(a,l);var h=e.r.invm(i),f=i.sub(s).mul(h).umod(i),g=o.mul(h).umod(i);return this.g.mulAdd(f,a,g)};wo.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new F6(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var B2e=Wg(function(t,e){var r=e;r.version="6.6.1",r.utils=Ua,r.rand=function(){throw new Error("unsupported")},r.curve=u3,r.curves=d3,r.ec=U2e,r.eddsa=null}),L2e=B2e.ec;const F2e="signing-key/5.8.0",VC=new Oe(F2e);let l7=null;function Td(){return l7||(l7=new L2e("secp256k1")),l7}class z2e{constructor(e){yr(this,"curve","secp256k1"),yr(this,"privateKey",nr(e)),If(this.privateKey)!==32&&VC.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=Td().keyFromPrivate(ir(this.privateKey));yr(this,"publicKey","0x"+r.getPublic(!1,"hex")),yr(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),yr(this,"_isSigningKey",!0)}_addPoint(e){const r=Td().keyFromPublic(ir(this.publicKey)),n=Td().keyFromPublic(ir(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=Td().keyFromPrivate(ir(this.privateKey)),n=ir(e);n.length!==32&&VC.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return R6({recoveryParam:i.recoveryParam,r:Rn("0x"+i.r.toString(16),32),s:Rn("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=Td().keyFromPrivate(ir(this.privateKey)),n=Td().keyFromPublic(ir(rK(e)));return Rn("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function W2e(t,e){const r=R6(e),n={r:ir(r.r),s:ir(r.s)};return"0x"+Td().recoverPubKey(ir(t),n,r.recoveryParam).encode("hex",!1)}function rK(t,e){const r=ir(t);return r.length===32?new z2e(r).publicKey:r.length===33?"0x"+Td().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?nr(r):VC.throwArgumentError("invalid public or private key","key","[REDACTED]")}const q2e="transactions/5.8.0",Ou=new Oe(q2e);var jj;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(jj||(jj={}));function w$(t){return t==="0x"?null:fl(t)}function ls(t){return t==="0x"?vye:dt.from(t)}function H2e(t){const e=rK(t);return fl(ws(qi(ws(e,1)),12))}function nK(t,e){return H2e(W2e(ir(t),e))}function Aa(t,e){const r=gg(dt.from(t).toHexString());return r.length>32&&Ou.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function c7(t,e){return{address:fl(t),storageKeys:(e||[]).map((r,n)=>(If(r)!==32&&Ou.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function yb(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&Ou.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),c7(r[0],r[1])):c7(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return c7(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function iK(t){return yb(t).map(e=>[e.address,e.storageKeys])}function V2e(t,e){if(t.gasPrice!=null){const n=dt.from(t.gasPrice),i=dt.from(t.maxFeePerGas||0);n.eq(i)||Ou.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[Aa(t.chainId||0,"chainId"),Aa(t.nonce||0,"nonce"),Aa(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),Aa(t.maxFeePerGas||0,"maxFeePerGas"),Aa(t.gasLimit||0,"gasLimit"),t.to!=null?fl(t.to):"0x",Aa(t.value||0,"value"),t.data||"0x",iK(t.accessList||[])];if(e){const n=R6(e);r.push(Aa(n.recoveryParam,"recoveryParam")),r.push(gg(n.r)),r.push(gg(n.s))}return Ia(["0x02",U6(r)])}function G2e(t,e){const r=[Aa(t.chainId||0,"chainId"),Aa(t.nonce||0,"nonce"),Aa(t.gasPrice||0,"gasPrice"),Aa(t.gasLimit||0,"gasLimit"),t.to!=null?fl(t.to):"0x",Aa(t.value||0,"value"),t.data||"0x",iK(t.accessList||[])];if(e){const n=R6(e);r.push(Aa(n.recoveryParam,"recoveryParam")),r.push(gg(n.r)),r.push(gg(n.s))}return Ia(["0x01",U6(r)])}function sK(t,e,r){try{const n=ls(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{Ou.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=Rn(e[1],32),t.s=Rn(e[2],32);try{const n=qi(r(t));t.from=nK(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function K2e(t){const e=f$(t.slice(1));e.length!==9&&e.length!==12&&Ou.throwArgumentError("invalid component count for transaction type: 2","payload",nr(t));const r=ls(e[2]),n=ls(e[3]),i={type:2,chainId:ls(e[0]).toNumber(),nonce:ls(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:ls(e[4]),to:w$(e[5]),value:ls(e[6]),data:e[7],accessList:yb(e[8])};return e.length===9||(i.hash=qi(t),sK(i,e.slice(9),V2e)),i}function Y2e(t){const e=f$(t.slice(1));e.length!==8&&e.length!==11&&Ou.throwArgumentError("invalid component count for transaction type: 1","payload",nr(t));const r={type:1,chainId:ls(e[0]).toNumber(),nonce:ls(e[1]).toNumber(),gasPrice:ls(e[2]),gasLimit:ls(e[3]),to:w$(e[4]),value:ls(e[5]),data:e[6],accessList:yb(e[7])};return e.length===8||(r.hash=qi(t),sK(r,e.slice(8),G2e)),r}function Z2e(t){const e=f$(t);e.length!==9&&e.length!==6&&Ou.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:ls(e[0]).toNumber(),gasPrice:ls(e[1]),gasLimit:ls(e[2]),to:w$(e[3]),value:ls(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=dt.from(e[6]).toNumber()}catch{return r}if(r.r=Rn(e[7],32),r.s=Rn(e[8],32),dt.from(r.r).isZero()&&dt.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(nr(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const s=qi(U6(i));try{r.from=nK(s,{r:nr(r.r),s:nr(r.s),recoveryParam:n})}catch{}r.hash=qi(t)}return r.type=null,r}function Q2e(t){const e=ir(t);if(e[0]>127)return Z2e(e);switch(e[0]){case 1:return Y2e(e);case 2:return K2e(e)}return Ou.throwError(`unsupported transaction type: ${e[0]}`,Oe.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const o1=new Oe(B6);class Ct{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),a=this.hash.bind(this),o=this.hex.bind(this),l=this.number.bind(this),u=this.type.bind(this),h=f=>this.data(f,!0);return e.transaction={hash:a,type:u,accessList:Ct.allowNull(this.accessList.bind(this),null),blockHash:Ct.allowNull(a,null),blockNumber:Ct.allowNull(l,null),transactionIndex:Ct.allowNull(l,null),confirmations:Ct.allowNull(l,null),from:r,gasPrice:Ct.allowNull(n),maxPriorityFeePerGas:Ct.allowNull(n),maxFeePerGas:Ct.allowNull(n),gasLimit:n,to:Ct.allowNull(r,null),value:n,nonce:l,data:s,r:Ct.allowNull(this.uint256),s:Ct.allowNull(this.uint256),v:Ct.allowNull(l),creates:Ct.allowNull(r,null),raw:Ct.allowNull(s)},e.transactionRequest={from:Ct.allowNull(r),nonce:Ct.allowNull(l),gasLimit:Ct.allowNull(n),gasPrice:Ct.allowNull(n),maxPriorityFeePerGas:Ct.allowNull(n),maxFeePerGas:Ct.allowNull(n),to:Ct.allowNull(r),value:Ct.allowNull(n),data:Ct.allowNull(h),type:Ct.allowNull(l),accessList:Ct.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:l,blockNumber:l,transactionHash:a,address:r,topics:Ct.arrayOf(a),data:s,logIndex:l,blockHash:a},e.receipt={to:Ct.allowNull(this.address,null),from:Ct.allowNull(this.address,null),contractAddress:Ct.allowNull(r,null),transactionIndex:l,root:Ct.allowNull(o),gasUsed:n,logsBloom:Ct.allowNull(s),blockHash:a,transactionHash:a,logs:Ct.arrayOf(this.receiptLog.bind(this)),blockNumber:l,confirmations:Ct.allowNull(l,null),cumulativeGasUsed:n,effectiveGasPrice:Ct.allowNull(n),status:Ct.allowNull(l),type:u},e.block={hash:Ct.allowNull(a),parentHash:a,number:l,timestamp:l,nonce:Ct.allowNull(o),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:Ct.allowNull(r),extraData:s,transactions:Ct.allowNull(Ct.arrayOf(a)),baseFeePerGas:Ct.allowNull(n)},e.blockWithTransactions=Qs(e.block),e.blockWithTransactions.transactions=Ct.allowNull(Ct.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:Ct.allowNull(i,void 0),toBlock:Ct.allowNull(i,void 0),blockHash:Ct.allowNull(a,void 0),address:Ct.allowNull(r,void 0),topics:Ct.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:Ct.allowNull(l),blockHash:Ct.allowNull(a),transactionIndex:l,removed:Ct.allowNull(this.boolean.bind(this)),address:r,data:Ct.allowFalsish(s,"0x"),topics:Ct.arrayOf(a),transactionHash:a,logIndex:l},e}accessList(e){return yb(e||[])}number(e){return e==="0x"?0:dt.from(e).toNumber()}type(e){return e==="0x"||e==null?0:dt.from(e).toNumber()}bigNumber(e){return dt.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),en(e))?e.toLowerCase():o1.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return fl(e)}callAddress(e){if(!en(e,32))return null;const r=fl(ws(e,12));return r===wye?null:r}contractAddress(e){return a2e(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||en(e))return u$(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return If(n)!==32?o1.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=dt.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!en(e))throw new Error("invalid uint256");return Rn(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=Ct.check(r,e);return i._difficulty=n==null?null:dt.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return Ct.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&dt.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=Ct.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;en(n)&&(n=dt.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),en(n)&&(n=dt.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return Q2e(e)}receiptLog(e){return Ct.check(this.formats.receiptLog,e)}receipt(e){const r=Ct.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=dt.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&o1.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):o1.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&o1.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return Ct.check(this.formats.filter,e)}filterLog(e){return Ct.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const s=e[i](r[i]);s!==void 0&&(n[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=r[i],s}return n}static allowNull(e,r){return function(n){return n==null?r:e(n)}}static allowFalsish(e,r){return function(n){return n?e(n):r}}static arrayOf(e){return function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n}}}var Zt=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(h){try{u(n.next(h))}catch(f){a(f)}}function l(h){try{u(n.throw(h))}catch(f){a(f)}}function u(h){h.done?s(h.value):i(h.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const hr=new Oe(B6),X2e=10;function Dj(t){return t==null?"null":(If(t)!==32&&hr.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function Uj(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[Dj(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return Dj(e)}).join("&")}function J2e(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function Qp(t){if(typeof t=="string"){if(t=t.toLowerCase(),If(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+Uj(t);if(gye.isForkEvent(t))throw hr.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+Uj(t.topics||[])}throw new Error("invalid event - "+t)}function l1(){return new Date().getTime()}function Bj(t){return new Promise(e=>{setTimeout(e,t)})}const ebe=["block","network","pending","poll"];let tbe=class{constructor(e,r,n){yr(this,"tag",e),yr(this,"listener",r),yr(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=J2e(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||ebe.indexOf(this.tag)>=0}};const rbe={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function u7(t){return Rn(dt.from(t).toHexString(),32)}function Lj(t){return qC.encode(nf([t,ws(Nj(Nj(t)),0,4)]))}const aK=new RegExp("^(ipfs)://(.*)$","i"),Fj=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),aK,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function h3(t,e){try{return j6(N2(t,e))}catch{}return null}function N2(t,e){if(t==="0x")return null;const r=dt.from(ws(t,e,e+32)).toNumber(),n=dt.from(ws(t,r,r+32)).toNumber();return ws(t,r+32,r+32+n)}function d7(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):hr.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function zj(t){const e=ir(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function nbe(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function oK(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=ir(t[n]);e[n]=zj(r),e.push(zj(i.length)),e.push(nbe(i)),r+=32+Math.ceil(i.length/32)*32}return Ia(e)}class Wj{constructor(e,r,n,i){yr(this,"provider",e),yr(this,"name",n),yr(this,"address",e.formatter.address(r)),yr(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>dt.from(e).eq(1)).catch(e=>{if(e.code===Oe.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return Zt(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:Ia([e,c3(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=Ia(["0x9061b923",oK([e2e(this.name),n.data])]));try{let s=yield this.provider.call(n);return ir(s).length%32===4&&hr.throwError("resolver threw error",Oe.errors.CALL_EXCEPTION,{transaction:n,data:s}),i&&(s=N2(s,0)),s}catch(s){if(s.code===Oe.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,r){return Zt(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?N2(n,0):null})}_getAddress(e,r){const n=rbe[String(e)];if(n==null&&hr.throwError(`unsupported coin type: ${e}`,Oe.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=ir(r);if(n.p2pkh!=null){const s=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const a=parseInt(s[1],16);if(s[2].length===a*2&&a>=1&&a<=75)return Lj(nf([[n.p2pkh],"0x"+s[2]]))}}if(n.p2sh!=null){const s=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const a=parseInt(s[1],16);if(s[2].length===a*2&&a>=1&&a<=75)return Lj(nf([[n.p2sh],"0x"+s[2]]))}}if(n.prefix!=null){const s=i[1];let a=i[0];if(a===0?s!==20&&s!==32&&(a=-1):a=-1,a>=0&&i.length===2+s&&s>=1&&s<=75){const o=Mj.toWords(i.slice(2));return o.unshift(a),Mj.encode(n.prefix,o)}}return null}getAddress(e){return Zt(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===xye?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===Oe.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",u7(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&hr.throwError("invalid or unsupported coin data",Oe.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return Zt(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<Fj.length;n++){const i=r.match(Fj[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:d7(r)};case"erc721":case"erc1155":{const a=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:r});const o=this._resolvedAddress||(yield this.getAddress()),l=(i[2]||"").split("/");if(l.length!==2)return null;const u=yield this.provider.formatter.address(l[0]),h=Rn(dt.from(l[1]).toHexString(),32);if(s==="erc721"){const w=this.provider.formatter.callAddress(yield this.provider.call({to:u,data:Ia(["0x6352211e",h])}));if(o!==w)return null;e.push({type:"owner",content:w})}else if(s==="erc1155"){const w=dt.from(yield this.provider.call({to:u,data:Ia(["0x00fdd58e",Rn(o,32),h])}));if(w.isZero())return null;e.push({type:"balance",content:w.toString()})}const f={to:this.provider.formatter.address(l[0]),data:Ia([a,h])};let g=h3(yield this.provider.call(f),0);if(g==null)return null;e.push({type:"metadata-url-base",content:g}),s==="erc1155"&&(g=g.replace("{id}",h.substring(2)),e.push({type:"metadata-url-expanded",content:g})),g.match(/^ipfs:/i)&&(g=d7(g)),e.push({type:"metadata-url",content:g});const y=yield g$(g);if(!y)return null;e.push({type:"metadata",content:JSON.stringify(y)});let b=y.image;if(typeof b!="string")return null;if(!b.match(/^(https:\/\/|data:)/i)){if(b.match(aK)==null)return null;e.push({type:"url-ipfs",content:b}),b=d7(b)}return e.push({type:"url",content:b}),{linkage:e,url:b}}}}}catch{}return null})}getContentHash(){return Zt(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const a=parseInt(r[3],16);if(r[4].length===a*2)return"ipfs://"+qC.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const a=parseInt(n[3],16);if(n[4].length===a*2)return"ipns://"+qC.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===32*2)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===34*2){const a={"=":"","+":"-","/":"_"};return"sia://"+OG("0x"+s[1]).replace(/[=+\/]/g,l=>a[l])}return hr.throwError("invalid or unsupported content hash data",Oe.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return Zt(this,void 0,void 0,function*(){let r=Au(e);r=nf([u7(64),u7(r.length),r]),r.length%32!==0&&(r=nf([r,Rn("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",nr(r));return n==null||n==="0x"?null:j6(n)})}}let h7=null,ibe=1;class sbe extends h${constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),yr(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=iy(new.target,"getNetwork")(e);r?(yr(this,"_network",r),this.emit("network",r,null)):hr.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Zt(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||hr.throwError("no network detected",Oe.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:yr(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return sy(()=>this._ready().then(e=>e,e=>{if(!(e.code===Oe.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return h7==null&&(h7=new Ct),h7}static getNetwork(e){return bye(e??"homestead")}ccipReadFetch(e,r,n){return Zt(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),s=r.toLowerCase(),a=[];for(let o=0;o<n.length;o++){const l=n[o],u=l.replace("{sender}",i).replace("{data}",s),h=l.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),f=yield g$({url:u,errorPassThrough:!0},h,(y,b)=>(y.status=b.statusCode,y));if(f.data)return f.data;const g=f.message||"unknown error";if(f.status>=400&&f.status<500)return hr.throwError(`response not found during CCIP fetch: ${g}`,Oe.errors.SERVER_ERROR,{url:l,errorMessage:g});a.push(g)}return hr.throwError(`error encountered during CCIP fetch: ${a.map(o=>JSON.stringify(o)).join(", ")}`,Oe.errors.SERVER_ERROR,{urls:n,errorMessages:a})})}_getInternalBlockNumber(e){return Zt(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(l1()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=l1(),n=zi({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),s;const a=l1();return i=dt.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:a}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return Zt(this,void 0,void 0,function*(){const e=ibe++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)hr.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",hr.makeError("network block skew detected",Oe.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&n-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let a=this.getTransactionReceipt(s).then(o=>(!o||o.blockNumber==null||(this._emitted["t:"+s]=o.blockNumber,this.emit(s,o)),null)).catch(o=>{this.emit("error",o)});r.push(a);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=n;const a=s.toBlock-this._maxFilterBlockRange;a>s.fromBlock&&(s.fromBlock=a),s.fromBlock<0&&(s.fromBlock=0);const o=this.getLogs(s).then(l=>{i._inflight=!1,l.length!==0&&l.forEach(u=>{u.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=u.blockNumber),this._emitted["b:"+u.blockHash]=u.blockNumber,this._emitted["t:"+u.transactionHash]=u.blockNumber,this.emit(s,u)})}).catch(l=>{this.emit("error",l),i._inflight=!1});r.push(o)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Zt(this,void 0,void 0,function*(){return hr.throwError("provider does not support network detection",Oe.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return Zt(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield Bj(0),this._network;const n=hr.makeError("underlying network changed",Oe.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=l1();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=l1(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return Zt(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return Zt(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=r?s:new Promise((a,o)=>{const l=[];let u=!1;const h=function(){return u?!0:(u=!0,l.forEach(g=>{g()}),!1)},f=g=>{g.confirmations<r||h()||a(g)};if(this.on(e,f),l.push(()=>{this.removeListener(e,f)}),i){let g=i.startBlock,y=null;const b=w=>Zt(this,void 0,void 0,function*(){u||(yield Bj(1e3),this.getTransactionCount(i.from).then(x=>Zt(this,void 0,void 0,function*(){if(!u){if(x<=i.nonce)g=w;else{{const E=yield this.getTransaction(e);if(E&&E.blockNumber!=null)return}for(y==null&&(y=g-3,y<i.startBlock&&(y=i.startBlock));y<=w;){if(u)return;const E=yield this.getBlockWithTransactions(y);for(let S=0;S<E.transactions.length;S++){const _=E.transactions[S];if(_.hash===e)return;if(_.from===i.from&&_.nonce===i.nonce){if(u)return;const I=yield this.waitForTransaction(_.hash,r);if(h())return;let A="replaced";_.data===i.data&&_.to===i.to&&_.value.eq(i.value)?A="repriced":_.data==="0x"&&_.from===_.to&&_.value.isZero()&&(A="cancelled"),o(hr.makeError("transaction was replaced",Oe.errors.TRANSACTION_REPLACED,{cancelled:A==="replaced"||A==="cancelled",reason:A,replacement:this._wrapTransaction(_),hash:e,receipt:I}));return}}y++}}u||this.once("block",b)}}),x=>{u||this.once("block",b)}))});if(u)return;this.once("block",b),l.push(()=>{this.removeListener("block",b)})}if(typeof n=="number"&&n>0){const g=setTimeout(()=>{h()||o(hr.makeError("timeout exceeded",Oe.errors.TIMEOUT,{timeout:n}))},n);g.unref&&g.unref(),l.push(()=>{clearTimeout(g)})}})})}getBlockNumber(){return Zt(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return Zt(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return dt.from(e)}catch(r){return hr.throwError("bad result from backend",Oe.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return Zt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield zi({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return dt.from(i)}catch(s){return hr.throwError("bad result from backend",Oe.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:s})}})}getTransactionCount(e,r){return Zt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield zi({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return dt.from(i).toNumber()}catch(s){return hr.throwError("bad result from backend",Oe.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:s})}})}getCode(e,r){return Zt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield zi({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return nr(i)}catch(s){return hr.throwError("bad result from backend",Oe.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:s})}})}getStorageAt(e,r,n){return Zt(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield zi({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(a=>u$(a))}),s=yield this.perform("getStorageAt",i);try{return nr(s)}catch(a){return hr.throwError("bad result from backend",Oe.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:a})}})}_wrapTransaction(e,r,n){if(r!=null&&If(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&hr.throwError("Transaction hash mismatch from Provider.sendTransaction.",Oe.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(s,a)=>Zt(this,void 0,void 0,function*(){s==null&&(s=1),a==null&&(a=0);let o;s!==0&&n!=null&&(o={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const l=yield this._waitForTransaction(e.hash,s,a,o);return l==null&&s===0?null:(this._emitted["t:"+e.hash]=l.blockNumber,l.status===0&&hr.throwError("transaction failed",Oe.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:l}),l)}),i}sendTransaction(e){return Zt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(s=>nr(s)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,s,i)}catch(s){throw s.transaction=n,s.transactionHash=n.hash,s}})}_getTransactionRequest(e){return Zt(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?dt.from(s):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?nr(s):null))}),this.formatter.transactionRequest(yield zi(n))})}_getFilter(e){return Zt(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield zi(r))})}_call(e,r,n){return Zt(this,void 0,void 0,function*(){n>=X2e&&hr.throwError("CCIP read exceeded maximum redirections",Oe.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&If(s)%32===4)try{const a=ws(s,4),o=ws(a,0,32);dt.from(o).eq(i)||hr.throwError("CCIP Read sender did not match",Oe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const l=[],u=dt.from(ws(a,32,64)).toNumber(),h=dt.from(ws(a,u,u+32)).toNumber(),f=ws(a,u+32);for(let E=0;E<h;E++){const S=h3(f,E*32);S==null&&hr.throwError("CCIP Read contained corrupt URL string",Oe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),l.push(S)}const g=N2(a,64);dt.from(ws(a,100,128)).isZero()||hr.throwError("CCIP Read callback selector included junk",Oe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const y=ws(a,96,100),b=N2(a,128),w=yield this.ccipReadFetch(e,g,l);w==null&&hr.throwError("CCIP Read disabled or provided no URLs",Oe.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const x={to:i,data:Ia([y,oK([w,b])])};return this._call(x,r,n+1)}catch(a){if(a.code===Oe.errors.SERVER_ERROR)throw a}try{return nr(s)}catch(a){return hr.throwError("bad result from backend",Oe.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:s,error:a})}})}call(e,r){return Zt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield zi({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return Zt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield zi({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return dt.from(n)}catch(i){return hr.throwError("bad result from backend",Oe.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return Zt(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&hr.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&hr.throwError("ENS name not configured",Oe.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return Zt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(en(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),en(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{hr.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return sy(()=>Zt(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let a=null;for(let l=0;l<s.transactions.length;l++){const u=s.transactions[l];if(u.blockNumber==null)u.confirmations=0;else if(u.confirmations==null){a==null&&(a=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let h=a-u.blockNumber+1;h<=0&&(h=1),u.confirmations=h}}const o=this.formatter.blockWithTransactions(s);return o.transactions=o.transactions.map(l=>this._wrapTransaction(l)),o}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Zt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return sy(()=>Zt(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let a=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;a<=0&&(a=1),i.confirmations=a}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return Zt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return sy(()=>Zt(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let a=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;a<=0&&(a=1),i.confirmations=a}return i}),{oncePoll:this})})}getLogs(e){return Zt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield zi({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),Ct.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return Zt(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return Zt(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&hr.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return Zt(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new Wj(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return Zt(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||hr.throwError("network does not support ENS",Oe.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+c3(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return Zt(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(en(e))throw n}typeof e!="string"&&hr.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return Zt(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=h3(yield this.call({to:n,data:"0x691f3431"+c3(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return Zt(this,void 0,void 0,function*(){let r=null;if(en(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",a=yield this._getResolver(s,"getAvatar");if(!a)return null;r=new Wj(this,a,s);try{const o=yield r.getAvatar();if(o)return o.url}catch(o){if(o.code!==Oe.errors.CALL_EXCEPTION)throw o}try{const o=h3(yield this.call({to:a,data:"0x691f3431"+c3(s).substring(2)}),0);r=yield this.getResolver(o)}catch(o){if(o.code!==Oe.errors.CALL_EXCEPTION)throw o;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return hr.throwError(e+" not implemented",Oe.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new tbe(Qp(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],s=Qp(e);return this._events=this._events.filter(a=>a.tag!==s?!0:(setTimeout(()=>{a.listener.apply(this,r)},0),n=!0,a.once?(i.push(a),!1):!0)),i.forEach(a=>{this._stopEvent(a)}),n}listenerCount(e){if(!e)return this._events.length;let r=Qp(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=Qp(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,s=Qp(e);return this._events=this._events.filter(a=>a.tag!==s||a.listener!=r||i?!0:(i=!0,n.push(a),!1)),n.forEach(a=>{this._stopEvent(a)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=Qp(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var ru=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(h){try{u(n.next(h))}catch(f){a(f)}}function l(h){try{u(n.throw(h))}catch(f){a(f)}}function u(h){h.done?s(h.value):i(h.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const ti=new Oe(B6),abe=["call","estimateGas"];function _y(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=en(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=_y(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return _y(JSON.parse(t),e)}catch{}return null}function lK(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const s=_y(e,!0);if(s)return s.data;ti.throwError("missing revert data in call exception; Transaction reverted without a reason string",Oe.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let s=_y(e.body,!1);s==null&&(s=_y(e,!1)),s&&ti.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Oe.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===Oe.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&ti.throwError("insufficient funds for intrinsic transaction cost",Oe.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&ti.throwError("nonce has already been used",Oe.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&ti.throwError("replacement fee too low",Oe.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&ti.throwError("legacy pre-eip-155 transactions not supported",Oe.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),abe.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&ti.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",Oe.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function qj(t){return new Promise(function(e){setTimeout(e,t)})}function obe(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function c1(t){return t&&t.toLowerCase()}const GC={};class cK extends M6{constructor(e,r,n){if(super(),e!==GC)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");yr(this,"provider",r),n==null&&(n=0),typeof n=="string"?(yr(this,"_address",this.provider.formatter.address(n)),yr(this,"_index",null)):typeof n=="number"?(yr(this,"_index",n),yr(this,"_address",null)):ti.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return ti.throwError("cannot alter JSON-RPC Signer connection",Oe.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new lbe(GC,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&ti.throwError("unknown account #"+this._index,Oe.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Qs(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=Qs(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>ru(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&ti.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),zi({tx:zi(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&ti.throwArgumentError("from address mismatch","transaction",e):n.from=i;const s=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(a=>a,a=>(typeof a.message=="string"&&a.message.match(/user denied/i)&&ti.throwError("user rejected transaction",Oe.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),lK("sendTransaction",a,s)))})}signTransaction(e){return ti.throwError("signing transactions is unsupported",Oe.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return ru(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield sy(()=>ru(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return ru(this,void 0,void 0,function*(){const r=typeof e=="string"?Au(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[nr(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&ti.throwError("user rejected signing",Oe.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return ru(this,void 0,void 0,function*(){const r=typeof e=="string"?Au(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),nr(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&ti.throwError("user rejected signing",Oe.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return ru(this,void 0,void 0,function*(){const i=yield xa.resolveNames(e,r,n,a=>this.provider.resolveName(a)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(xa.getPayload(i.domain,r,i.value))])}catch(a){throw typeof a.message=="string"&&a.message.match(/user denied/i)&&ti.throwError("user rejected signing",Oe.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:r,value:i.value}}),a}})}unlock(e){return ru(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class lbe extends cK{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const cbe={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class ube extends sbe{constructor(e,r){let n=r;n==null&&(n=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(a=>{i(a)},a=>{s(a)})},0)})),super(n),e||(e=iy(this.constructor,"defaultUrl")()),typeof e=="string"?yr(this,"connection",Object.freeze({url:e})):yr(this,"connection",Object.freeze(Qs(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return ru(this,void 0,void 0,function*(){yield qj(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=iy(this.constructor,"getNetwork");try{return r(dt.from(e).toNumber())}catch(n){return ti.throwError("could not detect network",Oe.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return ti.throwError("could not detect network",Oe.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new cK(GC,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:$2(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=g$(this.connection,JSON.stringify(n),obe).then(a=>(this.emit("debug",{action:"response",request:n,response:a,provider:this}),a),a=>{throw this.emit("debug",{action:"response",error:a,request:n,provider:this}),a});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[c1(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[c1(r.address),r.blockTag]];case"getCode":return["eth_getCode",[c1(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[c1(r.address),Rn(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[iy(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[iy(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=c1(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return ru(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&dt.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(r=Qs(r),r.transaction=Qs(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&ti.throwError(e+" not implemented",Oe.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return lK(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(s){if(e._pendingFilter!=r)return null;let a=Promise.resolve();return s.forEach(function(o){e._emitted["t:"+o.toLowerCase()]="pending",a=a.then(function(){return e.getTransaction(o).then(function(l){return e.emit("pending",l),null})})}),a.then(function(){return qj(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=Qs(cbe);if(r)for(const s in r)r[s]&&(n[s]=!0);V1e(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const a=u$(dt.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=a}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=nr(e[s]))}),e.accessList&&(i.accessList=yb(e.accessList)),i}}var dbe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(h){try{u(n.next(h))}catch(f){a(f)}}function l(h){try{u(n.throw(h))}catch(f){a(f)}}function u(h){h.done?s(h.value):i(h.value).then(o,l)}u((n=n.apply(t,e||[])).next())})};const hbe=new Oe(B6);class fbe extends ube{detectNetwork(){const e=Object.create(null,{detectNetwork:{get:()=>super.detectNetwork}});return dbe(this,void 0,void 0,function*(){let r=this.network;return r==null&&(r=yield e.detectNetwork.call(this),r||hbe.throwError("no network detected",Oe.errors.UNKNOWN_ERROR,{}),this._network==null&&(yr(this,"_network",r),this.emit("network",r,null))),r})}}function KC(t){if(typeof t=="number"||typeof t=="bigint"||typeof t=="string")return t;if(typeof t.toHexString=="function")return t.toHexString();throw Error(`Expected numeric value but received ${t}`)}const uK=t=>[So.id,I6.id].includes(t),pbe=async(t,e)=>{if(!uK(t.chainId))throw Error("Invalid chain ID for Arbitrum gas estimation.");if(t.type===void 0&&(t.type=2),t.maxFeePerGas)return t;try{let{lastBaseFeePerGas:r}=await e.getFeeData();if(r){let n=r.mul(dt.from(120)).div(dt.from(100));t.maxFeePerGas=KC(n),t.maxPriorityFeePerGas=KC(dt.from(0))}}catch(r){throw Error(`Failed to set gas price for Arbitrum transaction: ${r}.`)}return t},dK=t=>[56,97].includes(t),gbe=async(t,e)=>{var r;if(!dK(t.chainId))throw Error("Invalid chain ID for BSC gas estimation.");if(t.type===void 0?t.type=0:(t.type==1||t.type==2)&&console.warn("Transaction request type specified is incompatible for chain and will result in undefined behavior.  Please use transaction type 0."),!t.gasPrice){let n=await e.getFeeData();t.gasPrice=(r=n.gasPrice)==null?void 0:r.toHexString()}return t},hK=t=>[ko.id,N6.id,yc.id,O6.id,s$.id,EG.id,xG.id,81457,168587773].includes(t),mbe=async(t,e)=>{if(!hK(t.chainId))throw Error("Invalid chain ID for OP Stack gas estimation.");if(t.type===void 0&&(t.type=2),t.gasPrice&&(console.warn("`gasPrice` is not supported on this chain and will be ignored. Use `maxPriorityFeePerGas` and/or `maxFeePerGas` instead."),delete t.gasPrice),t.maxPriorityFeePerGas&&t.maxFeePerGas)return t;try{if(!t.maxPriorityFeePerGas){let r=await e.send("eth_maxPriorityFeePerGas",[]);t.maxPriorityFeePerGas=r}if(t.maxFeePerGas&&(console.warn("maxFeePerGas is specified without maxPriorityFeePerGas - this can result in hung transactions."),t.maxPriorityFeePerGas>=t.maxFeePerGas))throw Error("Overridden maxFeePerGas is less than or equal to the calculated maxPriorityFeePerGas. Please set both values or maxPriorityFeePerGas alone for correct gas estimation.");if(!t.maxFeePerGas){let{lastBaseFeePerGas:r}=await e.getFeeData();if(!r)throw Error("Unable to fetch baseFee for last block.");let n=dt.from(r).mul(dt.from(126)).div(dt.from(100)).add(dt.from(t.maxPriorityFeePerGas));t.maxFeePerGas=KC(n)}}catch(r){throw Error(`Failed to set gas price for OP stack transaction: ${r}.`)}return t},ybe="units/5.8.0",bbe=new Oe(ybe),wbe=["wei","kwei","mwei","gwei","szabo","finney","ether"];function Hj(t,e){if(typeof t!="string"&&bbe.throwArgumentError("value must be a string","value",t),typeof e=="string"){const r=wbe.indexOf(e);r!==-1&&(e=3*r)}return ql(t,e??18)}var f3={exports:{}},vbe=f3.exports,Vj;function xbe(){return Vj||(Vj=1,function(t,e){(function(r,n){t.exports=n()})(vbe,function(){var r=function(s,a){if(a=a||{},typeof s!="function")throw new i("fetch must be a function");if(typeof a!="object")throw new i("defaults must be an object");if(a.retries!==void 0&&!n(a.retries))throw new i("retries must be a positive integer");if(a.retryDelay!==void 0&&!n(a.retryDelay)&&typeof a.retryDelay!="function")throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(a.retryOn!==void 0&&!Array.isArray(a.retryOn)&&typeof a.retryOn!="function")throw new i("retryOn property expects an array or function");var o={retries:3,retryDelay:1e3,retryOn:[]};return a=Object.assign(o,a),function(u,h){var f=a.retries,g=a.retryDelay,y=a.retryOn;if(h&&h.retries!==void 0)if(n(h.retries))f=h.retries;else throw new i("retries must be a positive integer");if(h&&h.retryDelay!==void 0)if(n(h.retryDelay)||typeof h.retryDelay=="function")g=h.retryDelay;else throw new i("retryDelay must be a positive integer or a function returning a positive integer");if(h&&h.retryOn)if(Array.isArray(h.retryOn)||typeof h.retryOn=="function")y=h.retryOn;else throw new i("retryOn property expects an array or function");return new Promise(function(b,w){var x=function(S){var _=typeof Request<"u"&&u instanceof Request?u.clone():u;s(_,h).then(function(I){if(Array.isArray(y)&&y.indexOf(I.status)===-1)b(I);else if(typeof y=="function")try{return Promise.resolve(y(S,null,I)).then(function(A){A?E(S,null,I):b(I)}).catch(w)}catch(A){w(A)}else S<f?E(S,null,I):b(I)}).catch(function(I){if(typeof y=="function")try{Promise.resolve(y(S,I,null)).then(function(A){A?E(S,I,null):w(I)}).catch(function(A){w(A)})}catch(A){w(A)}else S<f?E(S,I,null):w(I)})};function E(S,_,I){var A=typeof g=="function"?g(S,_,I):g;setTimeout(function(){x(++S)},A)}x(0)})}};function n(s){return Number.isInteger(s)&&s>=0}function i(s){this.name="ArgumentError",this.message=s}return r})}(f3)),f3.exports}var Ebe=xbe();const v$=ra(Ebe);let _be=v$(fetch,{retries:3,retryDelay:500});const fK=t=>[aa.id,fb.id].includes(t);let f7=t=>({maxPriorityFee:Hj(t.maxPriorityFee.toFixed(9),"gwei").toHexString(),maxFee:Hj(t.maxFee.toFixed(9),"gwei").toHexString()}),Cbe=t=>({safeLow:f7(t.safeLow),standard:f7(t.standard),fast:f7(t.fast)});const Abe=async t=>{let e="";switch(t){case aa.id:e="https://gasstation.polygon.technology/v2";break;case fb.id:e="https://gasstation.polygon.technology/amoy";break;default:throw Error(`chainId ${t} does not support polygon gas stations`)}let r=await _be(e),n=await r.json();if(r.status>399)throw n;return Cbe(n)};async function Sbe(t){if(!fK(t.chainId))throw Error("Invalid chain ID for Polygon gas estimation.");if(t.type===void 0&&(t.type=2),t.maxPriorityFeePerGas&&t.maxFeePerGas)return t;try{let{standard:e}=await Abe(t.chainId);t.maxPriorityFeePerGas||(t.maxPriorityFeePerGas=e.maxPriorityFee),t.maxFeePerGas||(t.maxFeePerGas=e.maxFee),t.gasPrice&&(console.warn("`gasPrice` is not supported on this chain and will be ignored. Use `maxPriorityFeePerGas` and/or `maxFeePerGas` instead."),delete t.gasPrice)}catch(e){throw Error(`Failed to set gas prices from Polygon gas station with error: ${e}.`)}return t}const kbe=async(t,e)=>{var r,n,i;if(t.type===void 0&&(t.type=2),t.type===2){if(!t.maxFeePerGas||!t.maxPriorityFeePerGas){let s=await e.getFeeData();t.maxFeePerGas||(t.maxFeePerGas=(r=s.maxFeePerGas)==null?void 0:r.toHexString()),t.maxPriorityFeePerGas||(t.maxPriorityFeePerGas=(n=s.maxPriorityFeePerGas)==null?void 0:n.toHexString())}}else if(!t.gasPrice){let s=await e.getFeeData();t.gasPrice=(i=s.gasPrice)==null?void 0:i.toHexString()}return t};async function $be(t,e){try{return(await e.estimateGas(t)).toHexString()}catch(r){let n;if("message"in r&&r.message.includes("insufficient funds")&&(console.warn(`Gas estimation failed with error: ${r}. Retrying gas estimation by omitting the 'value'`),n=await async function({txRequest:i,provider:s}){try{let a={...i,value:void 0};return(await s.estimateGas(a)).toHexString()}catch(a){return console.warn(`Gas estimation failed with error: ${a} when omitting the 'value'`),null}}({txRequest:t,provider:e})),n||(console.warn(`Gas estimation failed with error: ${r}. Retrying gas estimation by omitting the 'from'`),n=await async function({txRequest:i,provider:s}){try{let a={...i,from:void 0};return(await s.estimateGas(a)).toHexString()}catch(a){return console.warn(`Gas estimation failed with error: ${a} when omitting the 'from' address`),null}}({txRequest:t,provider:e})),!n)throw r;return n}}const Gj=(t,e,r,n)=>{var a,o,l,u;let i=Number(t),s=e.find(h=>h.id===i);if(!s)throw new AG(`Unsupported chainId ${t}`,4901);return new fbe(s.rpcUrls.privyWalletOverride&&s.rpcUrls.privyWalletOverride.http[0]?s.rpcUrls.privyWalletOverride.http[0]:r.rpcUrls&&r.rpcUrls[i]?r.rpcUrls[i]:(a=s.rpcUrls.privy)!=null&&a.http[0]?{url:s.rpcUrls.privy.http[0],headers:{"privy-app-id":n.appId}}:(o=s.rpcUrls.public)!=null&&o.http[0]?(l=s.rpcUrls.public)==null?void 0:l.http[0]:(u=s.rpcUrls.default)==null?void 0:u.http[0])},Tbe=(t,e,r)=>{var a,o,l;let n,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])n=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])n=e.rpcUrls[s];else if((a=t.rpcUrls.privy)!=null&&a.http[0]){let u=new URL(t.rpcUrls.privy.http[0]);u.searchParams.append("privyAppId",r),n=u.toString()}else n=(o=t.rpcUrls.public)!=null&&o.http[0]?t.rpcUrls.public.http[0]:(l=t.rpcUrls.default)==null?void 0:l.http[0];if(!n)throw new AG(`No RPC url found for ${i}`);return n};function pK(t){return/^-?0x[a-f0-9]+$/i.test(t)}function Ibe(t){for(let e of["gasLimit","gasPrice","value","maxPriorityFeePerGas","maxFeePerGas"]){let r=t[e];if(r!==void 0&&!function(n){let i=typeof n=="number",s=typeof n=="bigint",a=typeof n=="string"&&pK(n);return i||s||a}(r))throw Error(`Transaction request property '${e}' must be a valid number, bigint, or hex string representing a quantity`)}if(typeof t.chainId!="number")throw Error("Transaction request property 'chainId' must be a number")}async function Kj(t,e,r){if(e.chainId=Number(e.chainId),Ibe(e),e.from||(e.from=t),!e.nonce){let n=new l$(t,r);e.nonce=await n.getTransactionCount("pending")}return e.gasLimit||(e.gas?(e.gasLimit=e.gas,delete e.gas):e.gasLimit=await $be(e,r)),typeof e.type=="string"&&pK(e.type)&&(e.type=Number(e.type)),[23294,23295].includes(e.chainId)&&(e.type=0),(e=fK(e.chainId)?await Sbe(e):uK(e.chainId)?await pbe(e,r):hK(e.chainId)?await mbe(e,r):dK(e.chainId)?await gbe(e,r):await kbe(e,r)).type===0&&delete e.accessList,e.type!==2&&(delete e.maxPriorityFeePerGas,delete e.maxFeePerGas),e}function Nbe({currentRecoveryMethod:t,upgradeToRecoveryMethod:e}){switch(t){case"privy":case"user-passcode":case"recovery-encryption-key":return!0;case"icloud":case"google-drive":if(t===e)throw Error("Cannot upgrade to the existing cloud platform");return!0;default:throw Error("Unknown recovery method")}}function gK(t){return new Promise(e=>{setTimeout(()=>{e()},t)})}let Pbe=class{enqueue(e,r){this.callbacks[e]=r}dequeue(e,r){let n=this.callbacks[r];if(!n)throw Error(`cannot dequeue ${e} event: no event found for id ${r}`);switch(delete this.callbacks[r],e){case"privy:iframe:ready":case"privy:wallets:create":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:wallet:connect":case"privy:wallet:recover":case"privy:wallet:rpc":case"privy:solana-wallet:create":case"privy:solana-wallet:create-additional":case"privy:solana-wallet:connect":case"privy:solana-wallet:recover":case"privy:solana-wallet:rpc":case"privy:delegated-actions:consent":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":return n;default:throw Error(`invalid wallet event type ${e}`)}}constructor(){this.callbacks={}}};async function Obe(t,e,r,n,i=!1,s,a){var h,f,g;let o=i,l=async y=>{var b;if(o){y===(i?0:1)?n():(b=r.current)==null||b.reject(new a3("missing_or_invalid_mfa","MFA verification failed, retry."));let w=await new Promise((x,E)=>{e.current={resolve:x,reject:E},setTimeout(()=>{var _;let S=new a3("mfa_timeout","Timed out waiting for MFA code");(_=r.current)==null||_.reject(S),E(S)},a)});return await t(w)}return await t()},u=null;for(let y=0;y<s;y++)try{u=await l(y),(h=r.current)==null||h.resolve(void 0);break}catch(b){if(b.type!=="missing_or_invalid_mfa")throw(f=r.current)==null||f.resolve(void 0),b;o=!0}if(u===null){let y=new a3("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw(g=r.current)==null||g.reject(y),y}return u}var Yj;let Mbe=(Yj=0,()=>"id-"+Yj++),Rbe=(t,e)=>typeof e=="bigint"?e.toString():e,fd=(t,{ms:e,msg:r})=>Promise.race([t,gK(e??15e3).then(()=>Promise.reject(Error(r)))]),Zj=new Pbe,Qj=class{invokeWithMfa(e,r){return fd(Obe(n=>fd(this.waitForReady().then(()=>e(n)),{msg:r.timeoutMsg,ms:r.timeoutMs}),this.mfa.rootPromise,this.mfa.submitPromise,()=>this.mfa.emit("mfaRequired"),r.mfaAlwaysRequired??!1,4,3e5),{msg:"Operation reached timeout: MFA verification",ms:126e4})}reload(){return this.ready=!1,this._embeddedWalletMessagePoster.reload()}ping(e=15e3){return fd(this.invoke("privy:iframe:ready",{}),{msg:"Ping reached timeout",ms:e})}create(e){return fd(this.waitForReady().then(()=>this.invoke("privy:wallet:create",e)),{msg:"Operation reached timeout: create"})}rpc(e){return this.invokeWithMfa(r=>this.invoke("privy:wallet:rpc",{...r,...e}),{timeoutMsg:"Operation reached timeout: rpc"})}createSolana(e){return this.invokeWithMfa(r=>this.invoke("privy:solana-wallet:create",{...r,...e}),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}createAdditionalSolana(e){return fd(this.waitForReady().then(()=>this.invoke("privy:solana-wallet:create-additional",e)),{msg:"Operation reached timeout: create"})}solanaRpc(e){return this.invokeWithMfa(r=>this.invoke("privy:solana-wallet:rpc",{...r,...e}),{timeoutMsg:"Operation reached timeout: solana-rpc"})}delegateWallets(e){return this.invokeWithMfa(r=>this.invoke("privy:delegated-actions:consent",{...r,...e}),{timeoutMsg:"Operation reached timeout: delegated-actions:consent"})}verifyMfa(e){return this.invokeWithMfa(r=>this.invoke("privy:mfa:verify",{...r,...e}),{timeoutMsg:"Operation reached timeout: mfa:verify",mfaAlwaysRequired:!0})}initEnrollMfa(e){return this.invokeWithMfa(r=>this.invoke("privy:mfa:init-enrollment",{...r,...e}),{timeoutMsg:"Operation reached timeout: mfa:init-enrollment"})}submitEnrollMfa(e){return this.invokeWithMfa(r=>this.invoke("privy:mfa:submit-enrollment",{...r,...e}),{timeoutMsg:"Operation reached timeout: mfa:submit-enrollment"})}unenrollMfa(e){return this.invokeWithMfa(r=>this.invoke("privy:mfa:unenroll",{...r,...e}),{timeoutMsg:"Operation reached timeout: mfa:unenroll",mfaAlwaysRequired:!0})}clearMfa(e){return fd(this.waitForReady().then(()=>this.invoke("privy:mfa:clear",e)),{msg:"Operation reached timeout: mfa:clear"})}createWallet(e){return this.invokeWithMfa(r=>this.invoke("privy:wallets:create",{...r,...e}),{timeoutMsg:"Operation reached timeout: create",timeoutMs:6e4})}signWithUserSigner(e){return this.invokeWithMfa(r=>this.invoke("privy:user-signer:sign",{...r,...e}),{timeoutMsg:"Operation reached timeout: user-signer:sign"})}addWallet(e){return fd(this.waitForReady().then(()=>this.invoke("privy:wallets:add",e)),{msg:"Operation reached timeout: wallets:add"})}setRecovery(e){return this.invokeWithMfa(r=>this.invoke("privy:wallets:set-recovery",{...r,...e}),{timeoutMsg:"Operation reached timeout: wallets:set-recovery",timeoutMs:6e4})}connect(e){return fd(this.waitForReady().then(()=>this.invoke("privy:wallets:connect",e)),{msg:"Operation reached timeout: wallets:connect"})}recover(e){return this.invokeWithMfa(r=>this.invoke("privy:wallets:recover",{...r,...e}),{timeoutMsg:"Operation reached timeout: wallets:recover",timeoutMs:6e4})}rpcWallet(e){return this.invokeWithMfa(r=>this.invoke("privy:wallets:rpc",{...r,...e}),{timeoutMsg:"Operation reached timeout: wallets:rpc"})}handleEmbeddedWalletMessages(e){let{reject:r,resolve:n}=Zj.dequeue(e.event,e.id);return e.error!==void 0?r(new a3(e.error.type,e.error.message)):n(e.data)}waitForReady(){return this.ready?Promise.resolve():new Promise(async(e,r)=>{for(;!this.ready;)this.invoke("privy:iframe:ready",{}).then(()=>{this.ready=!0,e()}).catch(r),await gK(150)})}invoke(e,r){let n=((s,a)=>`${s}${JSON.stringify(a,Rbe)}`)(e,r);if(e==="privy:wallet:create"||e==="privy:solana-wallet:create"){let s=this.cache.get(n);if(s)return s}let i=new Promise((s,a)=>{let o=Mbe();Zj.enqueue(o,{resolve:s,reject:a}),this._embeddedWalletMessagePoster.postMessage(JSON.stringify({id:o,event:e,data:r}),"*")}).finally(()=>{this.cache.delete(n)});return this.cache.set(n,i),i}constructor(e,r){this.ready=!1,this.cache=new Map,this._embeddedWalletMessagePoster=e,this.mfa=r}};var p7={exports:{}},Xj;function jbe(){return Xj||(Xj=1,function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,h){this.fn=l,this.context=u,this.once=h||!1}function s(l,u,h,f,g){if(typeof h!="function")throw new TypeError("The listener must be a function");var y=new i(h,f||l,g),b=r?r+u:u;return l._events[b]?l._events[b].fn?l._events[b]=[l._events[b],y]:l._events[b].push(y):(l._events[b]=y,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],h,f;if(this._eventsCount===0)return u;for(f in h=this._events)e.call(h,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(h)):u},o.prototype.listeners=function(u){var h=r?r+u:u,f=this._events[h];if(!f)return[];if(f.fn)return[f.fn];for(var g=0,y=f.length,b=new Array(y);g<y;g++)b[g]=f[g].fn;return b},o.prototype.listenerCount=function(u){var h=r?r+u:u,f=this._events[h];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,h,f,g,y,b){var w=r?r+u:u;if(!this._events[w])return!1;var x=this._events[w],E=arguments.length,S,_;if(x.fn){switch(x.once&&this.removeListener(u,x.fn,void 0,!0),E){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,h),!0;case 3:return x.fn.call(x.context,h,f),!0;case 4:return x.fn.call(x.context,h,f,g),!0;case 5:return x.fn.call(x.context,h,f,g,y),!0;case 6:return x.fn.call(x.context,h,f,g,y,b),!0}for(_=1,S=new Array(E-1);_<E;_++)S[_-1]=arguments[_];x.fn.apply(x.context,S)}else{var I=x.length,A;for(_=0;_<I;_++)switch(x[_].once&&this.removeListener(u,x[_].fn,void 0,!0),E){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,h);break;case 3:x[_].fn.call(x[_].context,h,f);break;case 4:x[_].fn.call(x[_].context,h,f,g);break;default:if(!S)for(A=1,S=new Array(E-1);A<E;A++)S[A-1]=arguments[A];x[_].fn.apply(x[_].context,S)}}return!0},o.prototype.on=function(u,h,f){return s(this,u,h,f,!1)},o.prototype.once=function(u,h,f){return s(this,u,h,f,!0)},o.prototype.removeListener=function(u,h,f,g){var y=r?r+u:u;if(!this._events[y])return this;if(!h)return a(this,y),this;var b=this._events[y];if(b.fn)b.fn===h&&(!g||b.once)&&(!f||b.context===f)&&a(this,y);else{for(var w=0,x=[],E=b.length;w<E;w++)(b[w].fn!==h||g&&!b[w].once||f&&b[w].context!==f)&&x.push(b[w]);x.length?this._events[y]=x.length===1?x[0]:x:a(this,y)}return this},o.prototype.removeAllListeners=function(u){var h;return u?(h=r?r+u:u,this._events[h]&&a(this,h)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o}(p7)),p7.exports}var Dbe=jbe();const ih=ra(Dbe);let Ube=["eth_sign","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];const Bbe=t=>Ube.includes(t),n5=t=>/^0x[0-9a-fA-F]*$/.test(t),i5=t=>Buffer.from(t,"utf8"),P2=t=>`0x${t.toString("hex")}`;var g7,Jj;function Lbe(){return Jj||(Jj=1,g7=function t(e){if(typeof e=="number"&&isNaN(e))throw new Error("NaN is not allowed");if(typeof e=="number"&&!isFinite(e))throw new Error("Infinity is not allowed");return e===null||typeof e!="object"?JSON.stringify(e):e.toJSON instanceof Function?t(e.toJSON()):Array.isArray(e)?`[${e.reduce((i,s,a)=>`${i}${a===0?"":","}${t(s===void 0||typeof s=="symbol"?null:s)}`,"")}]`:`{${Object.keys(e).sort().reduce((n,i)=>{if(e[i]===void 0||typeof e[i]=="symbol")return n;const s=n.length===0?"":",";return`${n}${s}${t(i)}:${t(e[i])}`},"")}}`}),g7}var Fbe=Lbe();const zbe=ra(Fbe);async function Wbe(t,e){let r=zbe(e);if(r===void 0)throw new Mr({error:"Failed to prepare the payload for signing",code:"invalid_input"});let n=Buffer.from(r).toString("base64"),{signature:i}=await t({message:n});return{signature:i}}async function Qo(t,e,{wallet_id:r,...n}){let i={version:1,url:t.getCompiledPath(O9,{params:{wallet_id:r}}),method:O9.method,headers:{"privy-app-id":t.app.appId},body:{...n}},{signature:s}=await Wbe(e,i);return await t.fetchPrivyRoute(O9,{body:n,params:{wallet_id:r},headers:{"privy-authorization-signature":s}})}function qbe(t){return{from:t.from,to:t.to,nonce:jh(t.nonce),chain_id:jh(t.chainId),data:function(e){if(e!==void 0)return typeof e=="string"?n5(e)?e:P2(i5(e)):P2(Buffer.from(Uint8Array.from(e)))}(t.data),value:jh(t.value),type:t.type,gas_limit:jh(t.gasLimit),gas_price:jh(t.gasPrice),max_fee_per_gas:jh(t.maxFeePerGas),max_priority_fee_per_gas:jh(t.maxPriorityFeePerGas)}}function jh(t){if(typeof t=="number"||typeof t=="bigint")return`0x${BigInt(t).toString(16)}`;if(typeof t=="string")return n5(t)?t:P2(i5(t))}function Hbe(t){return typeof t=="string"&&(t=JSON.parse(t)),{types:t.types,primary_type:String(t.primaryType),domain:t.domain,message:t.message}}async function mK({context:t,account:e,rpcRequest:r}){switch(r.chainType){case"ethereum":return async function({context:n,account:i,rpcRequest:s}){switch(s.method){case"personal_sign":{let[a]=s.params,o=await Qo(n,n.signRequest,{chain_type:"ethereum",method:"personal_sign",wallet_id:i.id,params:a.startsWith("0x")?{message:a.slice(2),encoding:"hex"}:{message:a,encoding:"utf-8"}});if(o.method!=="personal_sign")throw Error("Unable to sign message");return{data:o.data.signature}}case"eth_signTransaction":{let[a]=s.params,o=await Qo(n,n.signRequest,{chain_type:"ethereum",method:"eth_signTransaction",wallet_id:i.id,params:{transaction:qbe(a)}});if(o.method!=="eth_signTransaction")throw Error("Unable to sign transaction");return{data:o.data.signed_transaction}}case"eth_signTypedData_v4":{let[,a]=s.params,o=await Qo(n,n.signRequest,{chain_type:"ethereum",method:s.method,wallet_id:i.id,params:{typed_data:Hbe(a)}});if(o.method!=="eth_signTypedData_v4")throw Error("Unable to sign typed data");return{data:o.data.signature}}case"eth_sign":{let[,a]=s.params,o=await Qo(n,n.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:n5(a)?a:P2(i5(a))}});if(o.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:o.data.signature}}case"secp256k1_sign":{let[a]=s.params,o=await Qo(n,n.signRequest,{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:i.id,params:{hash:n5(a)?a:P2(i5(a))}});if(o.method!=="secp256k1_sign")throw Error("Unable to sign message");return{data:o.data.signature}}case"csw_signUserOperation":case"eth_sendTransaction":case"eth_populateTransactionRequest":throw Error(`This wallet does not support the method: ${s.method}`)}}({context:t,account:e,rpcRequest:r.request});case"solana":return async function({context:n,account:i,rpcRequest:s}){if(s.method==="signMessage"){let{message:a}=s.params,o=await Qo(n,n.signRequest,{chain_type:"solana",method:"signMessage",wallet_id:i.id,params:{message:a,encoding:"base64"}});if(o.method!=="signMessage")throw Error("Unable to sign message");return{data:o.data.signature}}}({context:t,account:e,rpcRequest:r.request})}}let m7=class extends ih{async request(e){var r,n;if(Bbe(e.method))return this.handleIFrameRpc(e);switch(e.method){case"eth_accounts":case"eth_requestAccounts":return this._account.address?[this._account.address]:[];case"eth_chainId":return`0x${this._chainId.toString(16)}`;case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":{let i=(r=e.params)==null?void 0:r[0];return this.handleSendTransaction(i)}case"eth_populateTransactionRequest":{let i=(n=e.params)==null?void 0:n[0];return this.handlePopulateTransaction(i)}default:return this.handleJsonRpc(e)}}ensureChainId(e){let r={chainId:this._chainId,...e};return this.internalSwitchEthereumChain(r.chainId),r}internalSwitchEthereumChain(e){e&&Number(e)!==this._chainId&&(this._chainId=Number(e),this._jsonRpcProvider=Gj(this._chainId,this._chains,{rpcUrls:[]},{appId:this._privyInternal.appId}),this.emit("chainChanged",e))}async handlePopulateTransaction(e){let r=this.ensureChainId(e);return Kj(this._account.address,r,this._jsonRpcProvider)}async handleSendTransaction(e){let r=this.ensureChainId(e),n=await Kj(this._account.address,r,this._jsonRpcProvider),i=await this.handleIFrameRpc({method:"eth_signTransaction",params:[n]});return await this.handleJsonRpc({method:"eth_sendRawTransaction",params:[i]})}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let r={...e.params[0],chainId:`0x${this._chainId.toString(16)}`};this.internalSwitchEthereumChain(r.chainId);try{return await this._jsonRpcProvider.send("eth_estimateGas",[r])}catch(n){console.warn(`Gas estimation failed with error: ${n}. Retrying gas estimation by omitting the 'from' address`);try{return delete r.from,await this._jsonRpcProvider.send("eth_estimateGas",[r])}catch(i){throw console.warn(`Gas estimation failed with error: ${i} when omitting the 'from' address`),n}}}handleSwitchEthereumChain(e){let r;if(!e.params||!Array.isArray(e.params))throw new qR(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")r=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new qR(`Invalid params for ${e.method}`,4200);r=e.params[0].chainId}this.internalSwitchEthereumChain(r)}async handleIFrameRpc(e){try{let r=await this._privyInternal.getAccessToken();if(!r)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address});let n=this._account;if(Rd(n)){let{data:i}=await mK({context:{app:this._appApi,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._walletProxy.signWithUserSigner({accessToken:r,message:s})},account:n,rpcRequest:{chainType:"ethereum",request:e}});return i}try{await this._walletProxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:r})}catch(i){let s=o$(i);if(s&&this._account.recovery_method==="privy")await this._walletProxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:r});else{if(!s||!this._onNeedsRecovery)throw i;{let a;await new Promise(async(o,l)=>{var u;a=setTimeout(()=>l(new Mr({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"})),12e4),await((u=this._onNeedsRecovery)==null?void 0:u.call(this,{recoveryMethod:this._account.recovery_method,onRecovered:()=>o(!0)}))}).finally(()=>clearTimeout(a))}}}return(await this._walletProxy.rpcWallet({accessToken:r,request:e,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,hdWalletIndex:this._account.wallet_index,chainType:"ethereum"})).response.data}catch(r){console.error(r);let n=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:n}),new Mr({code:"embedded_wallet_request_error",error:n})}}async handleJsonRpc(e){return this._jsonRpcProvider.send(e.method,e.params??[])}toJSON(){return`PrivyEIP1193Provider { address: '${this._account.address}', chainId: ${this._chainId}, request: [Function] }`}constructor({walletProxy:e,privyInternal:r,account:n,entropyId:i,entropyIdVerifier:s,chains:a,onNeedsRecovery:o,chainId:l=a[0].id,appApi:u}){super(),this._walletProxy=e,this._privyInternal=r,this._account=n,this._entropyId=i,this._entropyIdVerifier=s,this._chainId=l,this._chains=a,this._onNeedsRecovery=o,this._jsonRpcProvider=Gj(l,a,{rpcUrls:[]},{appId:u.appId}),this._appApi=u}};function YC(t){return"version"in t}function eD(t,e){let r=(YC(t)?t.message:t.compileMessage()).staticAccountKeys.find(n=>n.toBase58()===e);if(!r)throw Error(`Transaction does not contain public key ${e}`);return r}let Vbe=class{async request(e){if(!await this._privyInternal.getAccessToken())throw new Mr({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});switch(e.method){case"signAndSendTransaction":return await this.handleSignAndSendTransaction(e);case"signTransaction":return await this.handleSignTransaction(e);default:return await this.handleIFrameRpc(e)}}get _publicKey(){return this._account.address}async connectAndRecover(e){if(this._account.recovery_method!=="privy-v2")try{await this._proxy.connect({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e})}catch(r){let n=o$(r);if(n&&this._account.recovery_method==="privy")await this._proxy.recover({entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier,accessToken:e});else{if(!n||!this._onNeedsRecovery)throw r;{let i;await new Promise(async(s,a)=>{var o;i=setTimeout(()=>a(new Mr({code:"embedded_wallet_recovery_error",error:"User-owned recovery timed out"})),12e4),await((o=this._onNeedsRecovery)==null?void 0:o.call(this,{recoveryMethod:this._account.recovery_method,onRecovered:()=>s(!0)}))}).finally(()=>clearTimeout(i))}}}}async signMessageRpc(e,r){let n=this._account;if(!Rd(n))return(await this._proxy.rpcWallet({accessToken:r,request:e,chainType:"solana",hdWalletIndex:this._account.wallet_index,entropyId:this._entropyId,entropyIdVerifier:this._entropyIdVerifier})).response.data;{let{data:i}=await mK({context:{app:this._app,fetchPrivyRoute:(...s)=>this._privyInternal.fetch(...s),getCompiledPath:(...s)=>this._privyInternal.getPath(...s),signRequest:({message:s})=>this._proxy.signWithUserSigner({accessToken:r,message:s})},account:n,rpcRequest:{chainType:"solana",request:e}});return{signature:i}}}async handleIFrameRpc(e){try{let r=await this._privyInternal.getAccessToken();if(!r)throw Error("Missing privy token. User must be logged in");return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(r),await this.signMessageRpc(e,r)}catch(r){console.error(r);let n=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:n}),new Mr({code:"embedded_wallet_request_error",error:n})}}async handleSignAndSendTransaction(e){try{let r=await this._privyInternal.getAccessToken();if(!r)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(r);let{transaction:n,connection:i,options:s}=e.params,a=eD(n,this._account.address),o=YC(n)?Buffer.from(n.message.serialize()):n.serializeMessage(),{signature:l}=await this.signMessageRpc({method:"signMessage",params:{message:o.toString("base64")}},r);return n.addSignature(a,Buffer.from(l,"base64")),{signature:await i.sendRawTransaction(n.serialize(),s)}}catch(r){console.error(r);let n=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.address,error:n}),new Mr({code:"embedded_wallet_request_error",error:n})}}async handleSignTransaction(e){try{let r=await this._privyInternal.getAccessToken();if(!r)throw Error("Missing privy token. User must be logged in");this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_started",{method:e.method,address:this._account.address}),await this.connectAndRecover(r);let{transaction:n}=e.params,i=eD(n,this._account.address),s=YC(n)?Buffer.from(n.message.serialize()):n.serializeMessage(),{signature:a}=await this.signMessageRpc({method:"signMessage",params:{message:s.toString("base64")}},r);return n.addSignature(i,Buffer.from(a,"base64")),{signedTransaction:n}}catch(r){console.error(r);let n=r instanceof Error?r.message:"Unable to make wallet request";throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_rpc_failed",{method:e.method,address:this._account.wallet_index,error:n}),new Mr({code:"embedded_wallet_request_error",error:n})}}toJSON(){return`PrivyEmbeddedSolanaProvider { address: '${this._account.address}', request: [Function] }`}constructor({proxy:e,privyInternal:r,account:n,entropyId:i,entropyIdVerifier:s,onNeedsRecovery:a,app:o}){this._proxy=e,this._privyInternal=r,this._account=n,this._entropyId=i,this._entropyIdVerifier=s,this._onNeedsRecovery=a,this._app=o}},Gbe=class{setMessagePoster(e){this._proxy=new Qj(e,this._mfaPromises),this._mfa.setProxy(this._proxy)}async signWithUserSigner(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let r=await this._privyInternal.getAccessToken();if(!r)throw new Mr({error:"User must be logged in to sign a message with the user signer",code:"user_signer_sign_error"});let{signature:n}=await this._proxy.signWithUserSigner({accessToken:r,message:e.message});return{signature:n}}async add(e){var n;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(((n=this._privyInternal.config)==null?void 0:n.embedded_wallet_config.mode)==="user-controlled-server-wallets-only")await F9({context:{app:this._appApi,fetchPrivyRoute:(...i)=>this._privyInternal.fetch(...i),getCompiledPath:(...i)=>this._privyInternal.getPath(...i)},chainType:e.chainType});else{let i=await this._privyInternal.getAccessToken();if(!i)throw new Mr({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.addWallet({accessToken:i,...e})}let{user:r}=await this._privyInternal.refreshSession();return{user:r}}async getBitcoinProvider({wallet:e,entropyId:r,entropyIdVerifier:n,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessToken())throw Error("User must be logged in to create an embedded wallet");return Rd(e)||await this._load({entropyId:r,entropyIdVerifier:n,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a}),new U1e({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:r,entropyIdVerifier:n})}async create({password:e,recoveryMethod:r,recoveryToken:n,recoveryKey:i,recoverySecretOverride:s,iCloudRecordNameOverride:a,solanaAccount:o,skipCallbacks:l}){var u,h;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(((u=this._privyInternal.config)==null?void 0:u.embedded_wallet_config.mode)==="user-controlled-server-wallets-only"){if(r&&!r.startsWith("privy"))throw new Mr({error:"User-controlled server wallets do not support custom recovery methods",code:"embedded_wallet_creation_error"});await F9({context:{app:this._appApi,fetchPrivyRoute:(...f)=>this._privyInternal.fetch(...f),getCompiledPath:(...f)=>this._privyInternal.getPath(...f)},chainType:"ethereum"})}else{let f;if(f=r||(e?"user-passcode":"privy"),e&&typeof e!="string")throw Error("Invalid recovery password, must be a string");if(f==="privy"&&((h=this._privyInternal.config)!=null&&h.embedded_wallet_config.require_user_password_on_create))throw Error("Password not provided yet is required by App configuration");let g=await this._privyInternal.getAccessToken();if(!g)throw Error("User must be logged in to create an embedded wallet");let{address:y}=await this._proxy.create({accessToken:g,recoveryMethod:f,recoveryKey:i,recoveryPassword:e,recoveryAccessToken:n,recoverySecretOverride:s,iCloudRecordNameOverride:a,solanaAddress:o==null?void 0:o.address});if(!y)throw Error("Failed to create wallet")}return await this._privyInternal.refreshSession(l)}async createSolana(e){var r,n;if(!this._proxy)throw new Mr({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});if(((r=this._privyInternal.config)==null?void 0:r.embedded_wallet_config.mode)==="user-controlled-server-wallets-only")await F9({context:{app:this._appApi,fetchPrivyRoute:(...i)=>this._privyInternal.fetch(...i),getCompiledPath:(...i)=>this._privyInternal.getPath(...i)},chainType:"solana"});else{let i=await this._privyInternal.getAccessToken();if(!i)throw new Mr({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});e!=null&&e.ethereumAccount&&await this.getProvider(e.ethereumAccount);let{publicKey:s}=await this._proxy.createSolana({accessToken:i,ethereumAddress:(n=e==null?void 0:e.ethereumAccount)==null?void 0:n.address});if(!s)throw new Mr({error:"Failed to create wallet",code:"embedded_wallet_creation_error"})}return await this._privyInternal.refreshSession()}async delegateWallets({delegatedWallets:e,rootWallet:r}){if(!this._proxy)throw new Mr({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_creation_error"});let n=await this._privyInternal.getAccessToken();if(!n)throw new Mr({error:"User must be logged in to create an embedded wallet",code:"embedded_wallet_creation_error"});await this._proxy.delegateWallets({accessToken:n,delegatedWallets:e,rootWallet:r})}async getProvider(e,r,n,i,s){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return Rd(e)||await this._load({wallet:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",recoveryPassword:r,recoveryKey:s,recoveryAccessToken:n,recoverySecretOverride:i}),new m7({account:e,entropyId:e.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}async getEthereumProvider({wallet:e,entropyId:r,entropyIdVerifier:n,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a,recoveryKey:o,onNeedsRecovery:l}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(!await this._privyInternal.getAccessToken())throw Error("User must be logged in to create an embedded wallet");return Rd(e)||(!l||i||s||a||o)&&await this._load({entropyId:r,entropyIdVerifier:n,wallet:e,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a,recoveryKey:o}),new m7({account:e,entropyId:r,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,onNeedsRecovery:l,appApi:this._appApi})}async getSolanaProvider(e,r,n,i,s,a,o){if(!this._proxy)throw new Mr({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return Rd(e)||(!o||i||s||a)&&await this._load({wallet:e,entropyId:r,entropyIdVerifier:n,recoveryPassword:i,recoveryAccessToken:s,recoverySecretOverride:a}),new Vbe({account:e,privyInternal:this._privyInternal,proxy:this._proxy,entropyId:r,entropyIdVerifier:n,onNeedsRecovery:o,app:this._appApi})}async setRecovery(e){let{wallet:r,...n}=e;if(!this._proxy)throw Error("Embedded wallet proxy not initialized");if(Rd(r))throw new Mr({error:"This wallet does not support setting recovery methods",code:"unsupported_recovery_method"});Nbe({currentRecoveryMethod:r.recovery_method,upgradeToRecoveryMethod:n.recoveryMethod==="icloud-native"?"icloud":n.recoveryMethod}),await this._load(r.chain_type==="solana"?{wallet:r,entropyId:r.address,entropyIdVerifier:"solana-address-verifier"}:{wallet:r,entropyId:r.address,entropyIdVerifier:"ethereum-address-verifier"});let i=await this._privyInternal.getAccessToken();if(!i)throw Error("User must be logged in to interact with embedded wallets");let s=r.recovery_method;this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_started",{address:r.address,target_recovery_method:n.recoveryMethod,existing_recovery_method:s});try{let a;if(n.recoveryMethod==="user-passcode")a={recoveryMethod:"user-passcode",recoveryPassword:n.password};else if(n.recoveryMethod==="google-drive")a={recoveryMethod:"google-drive",recoveryAccessToken:n.recoveryAccessToken};else if(n.recoveryMethod==="icloud")a={recoveryMethod:"icloud",recoveryAccessToken:n.recoveryAccessToken};else if(n.recoveryMethod==="icloud-native")a={recoveryMethod:"icloud-native",iCloudRecordNameOverride:n.iCloudRecordNameOverride,recoverySecretOverride:n.recoverySecretOverride};else if(n.recoveryMethod==="recovery-encryption-key")a={recoveryMethod:"recovery-encryption-key",recoveryKey:n.recoveryKey};else{if(n.recoveryMethod!=="privy")throw Error(`Unknown recovery method: ${n.recoveryMethod}`);a={recoveryMethod:"privy"}}await this._proxy.setRecovery({accessToken:i,entropyId:r.address,entropyIdVerifier:r.chain_type==="solana"?"solana-address-verifier":"ethereum-address-verifier",...a}),this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_completed",{address:r.address,target_recovery_method:n.recoveryMethod,existing_recovery_method:s});let{user:o}=await this._privyInternal.refreshSession();return{user:o,provider:r.chain_type!=="ethereum"?null:new m7({account:r,entropyId:r.address,entropyIdVerifier:"ethereum-address-verifier",privyInternal:this._privyInternal,chains:this._chains,walletProxy:this._proxy,appApi:this._appApi})}}catch(a){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_set_recovery_failed",{address:r.address,recovery_method:r.recovery_method,error:a instanceof Error?a.message:"Unable to recover wallet"}),a}}getURL(){let e=new URL(`${this._privyInternal.baseUrl}/apps/${this._privyInternal.appId}/embedded-wallets`);return this._privyInternal.caid&&e.searchParams.append("caid",this._privyInternal.caid),this._privyInternal.appClientId&&e.searchParams.append("client_id",this._privyInternal.appClientId),e.href}get chains(){return this._chains}onMessage(e){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return this._proxy.handleEmbeddedWalletMessages(e)}reload(){this._proxy?this._proxy.reload():console.warn("Attempted to reload proxy before initialized")}async ping(e){try{if(!this._proxy)throw Error("Embedded wallet proxy not initialized");return await this._proxy.ping(e),!0}catch(r){return console.error(r),!1}}async _load({entropyId:e,entropyIdVerifier:r,wallet:n,recoveryPassword:i,recoveryKey:s,recoveryAccessToken:a,recoverySecretOverride:o}){if(!this._proxy)throw Error("Embedded wallet proxy not initialized");let l=await this._privyInternal.getAccessToken();if(!l)throw Error("User must be logged in to interact with embedded wallets");try{return await this._proxy.connect({accessToken:l,entropyId:e,entropyIdVerifier:r}),e}catch(u){if(o$(u))try{if(n.recovery_method==="privy"){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:n.address,recovery_method:n.recovery_method});let h=await this._proxy.recover({accessToken:l,entropyId:e,entropyIdVerifier:r});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:n.address,recovery_method:n.recovery_method}),h.entropyId}if(n.recovery_method==="user-passcode"&&i){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:n.address,recovery_method:n.recovery_method});let h=await this._proxy.recover({accessToken:l,recoveryPassword:i,entropyId:e,entropyIdVerifier:r});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:n.address,recovery_method:n.recovery_method}),h.entropyId}if(["google-drive","icloud"].includes(n.recovery_method)&&a){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:n.address,recovery_method:n.recovery_method});let h=await this._proxy.recover({accessToken:l,recoveryAccessToken:a,entropyId:e,entropyIdVerifier:r});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:n.address,recovery_method:n.recovery_method}),h.entropyId}if(n.recovery_method==="icloud"&&o){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:n.address,recovery_method:"icloud-native"});let h=await this._proxy.recover({accessToken:l,recoverySecretOverride:o,entropyId:e,entropyIdVerifier:r});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:n.address,recovery_method:"icloud-native"}),h.entropyId}if(n.recovery_method==="recovery-encryption-key"&&s){this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_started",{address:n.address,recovery_method:n.recovery_method});let h=await this._proxy.recover({accessToken:l,recoveryKey:s,entropyId:e,entropyIdVerifier:r});return this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_completed",{address:n.address,recovery_method:n.recovery_method}),h.entropyId}}catch(h){throw this._privyInternal.createAnalyticsEvent("embedded_wallet_sdk_recovery_failed",{address:n.address,recovery_method:n.recovery_method,error:h instanceof Error?h.message:`Unable to recover wallet: ${e}`}),h}throw u}}constructor(e,r,n,i,s,a){if(this._chains=Array.from(pb),this._privyInternal=e,r&&(this._proxy=new Qj(r,s),i.setProxy(this._proxy)),n){let o=CG(n);this._chains=o}this._mfa=i,this._mfaPromises=s,this._appApi=a}},Kbe=class extends ih{constructor(){super(),this.rootPromise={current:null},this.submitPromise={current:null}}},uv;const Ybe=new Uint8Array(16);function Zbe(){if(!uv&&(uv=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!uv))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return uv(Ybe)}const Bi=[];for(let t=0;t<256;++t)Bi.push((t+256).toString(16).slice(1));function Qbe(t,e=0){return Bi[t[e+0]]+Bi[t[e+1]]+Bi[t[e+2]]+Bi[t[e+3]]+"-"+Bi[t[e+4]]+Bi[t[e+5]]+"-"+Bi[t[e+6]]+Bi[t[e+7]]+"-"+Bi[t[e+8]]+Bi[t[e+9]]+"-"+Bi[t[e+10]]+Bi[t[e+11]]+Bi[t[e+12]]+Bi[t[e+13]]+Bi[t[e+14]]+Bi[t[e+15]]}const Xbe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),tD={randomUUID:Xbe};function ZC(t,e,r){if(tD.randomUUID&&!t)return tD.randomUUID();t=t||{};const n=t.random||(t.rng||Zbe)();return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Qbe(n)}/*! js-cookie v3.0.5 | MIT */function dv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)t[n]=r[n]}return t}var Jbe={read:function(t){return t[0]==='"'&&(t=t.slice(1,-1)),t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent)},write:function(t){return encodeURIComponent(t).replace(/%(2[346BF]|3[AC-F]|40|5[BDE]|60|7[BCD])/g,decodeURIComponent)}};function QC(t,e){function r(i,s,a){if(!(typeof document>"u")){a=dv({},e,a),typeof a.expires=="number"&&(a.expires=new Date(Date.now()+a.expires*864e5)),a.expires&&(a.expires=a.expires.toUTCString()),i=encodeURIComponent(i).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape);var o="";for(var l in a)a[l]&&(o+="; "+l,a[l]!==!0&&(o+="="+a[l].split(";")[0]));return document.cookie=i+"="+t.write(s,i)+o}}function n(i){if(!(typeof document>"u"||arguments.length&&!i)){for(var s=document.cookie?document.cookie.split("; "):[],a={},o=0;o<s.length;o++){var l=s[o].split("="),u=l.slice(1).join("=");try{var h=decodeURIComponent(l[0]);if(a[h]=t.read(u,h),i===h)break}catch{}}return i?a[i]:a}}return Object.create({set:r,get:n,remove:function(i,s){r(i,"",dv({},s,{expires:-1}))},withAttributes:function(i){return QC(this.converter,dv({},this.attributes,i))},withConverter:function(i){return QC(dv({},this.converter,i),this.attributes)}},{attributes:{value:Object.freeze(e)},converter:{value:Object.freeze(t)}})}var Fn=QC(Jbe,{path:"/"});const rD=Promise.allSettled.bind(Promise)??(t=>Promise.all(t.map(e=>e.then(r=>({status:"fulfilled",value:r})).catch(r=>({status:"rejected",reason:r})))));let Xp="privy:token",y7="privy-token",hv="privy:refresh_token",b7="privy-refresh-token",Jp="privy:id-token",w7="privy-id-token",fv="privy-session",yK=class extends ih{set isUsingServerCookies(e){this._isUsingServerCookies=e}async getToken(){let e=await this._storage.get(Xp);try{return typeof e=="string"?new ny(e).value:null}catch(r){return console.error(r),await this.destroyLocalState({reason:"getToken_error"}),null}}async getRefreshToken(){let e=await this._storage.get(hv);return typeof e=="string"?e:null}async getIdentityToken(){let e=await this._storage.get(Jp);return typeof e=="string"?e:null}get mightHaveServerCookies(){try{let e=Fn.get(fv);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e,r){return this.mightHaveServerCookies||typeof e=="string"&&typeof r=="string"}tokenIsActive(e){if(!e)return!1;let r=ny.parse(e);return r!==null&&!r.isExpired(30)}async destroyLocalState(e){await rD([this._storage.del(Xp),this._storage.del(hv),this._storage.del(Jp),this._storage.del(this.GUEST_CREDENTIAL_STORAGE_KEY)]),Fn.remove(y7),Fn.remove(b7),Fn.remove(w7),Fn.remove(fv),e!=null&&e.reason&&this.emit("storage_cleared",{reason:e.reason})}async storeToken(e){var r;if(typeof e=="string"){let n=await this._storage.get(Xp);if(await this._storage.put(Xp,e),!this._isUsingServerCookies){let i=(r=ny.parse(e))==null?void 0:r.expiration;Fn.set(y7,e,{sameSite:"Strict",secure:!0,expires:i?new Date(1e3*i):void 0})}n!==e&&this.emit("token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let n=await this._storage.get(Xp);await this._storage.del(Xp),Fn.remove(y7),n!==null&&this.emit("token_cleared",{reason:"set_with_non_string_value"})}}async storeRefreshToken(e){typeof e=="string"?(await this._storage.put(hv,e),this._isUsingServerCookies||(Fn.set(fv,"t",{sameSite:"Strict",secure:!0,expires:30}),Fn.set(b7,e,{sameSite:"Strict",secure:!0,expires:30})),this.emit("refresh_token_stored",{cookiesEnabled:this._isUsingServerCookies})):(await this._storage.del(hv),Fn.remove(b7),Fn.remove(fv),this.emit("refresh_token_cleared",{reason:"set_with_non_string_value"}))}async updateWithTokensResponse(e){let r=(await rD([this.storeToken(e.token),this.storeRefreshToken(e.refresh_token),this.storeIdentityToken(e.identity_token),this.processOAuthTokens(e.oauth_tokens)])).filter(n=>n.status==="rejected");r.length>0&&this.emit("error_storing_tokens",r.map(n=>String(n.reason)).join(", "))}async processOAuthTokens(e){e&&this.emit("oauth_tokens_granted",e)}async storeIdentityToken(e){var r;if(typeof e=="string"){let n=await this._storage.get(Jp);if(await this._storage.put(Jp,e),!this._isUsingServerCookies){let i=(r=ny.parse(e))==null?void 0:r.expiration;Fn.set(w7,e,{sameSite:"Strict",secure:!0,expires:i?new Date(1e3*i):void 0})}n!==e&&this.emit("identity_token_stored",{cookiesEnabled:this._isUsingServerCookies})}else{let n=await this._storage.get(Jp);await this._storage.del(Jp),Fn.remove(w7),n!==null&&this.emit("identity_token_cleared",{reason:"set_with_non_string_value"})}}async getOrCreateGuestCredential(){let e=this._storage.get(this.GUEST_CREDENTIAL_STORAGE_KEY);if(e&&typeof e=="string")return e;let r=Tf(crypto.getRandomValues(new Uint8Array(32)));return await this._storage.put(this.GUEST_CREDENTIAL_STORAGE_KEY,r),r}constructor(e){super(),this._isUsingServerCookies=!1,this._storage=e.storage,this.GUEST_CREDENTIAL_STORAGE_KEY=`privy:guest:${e.appId}`}};yK.events=["storage_cleared","token_cleared","refresh_token_cleared","identity_token_cleared","token_stored","refresh_token_stored","identity_token_stored","oauth_tokens_granted","error_storing_tokens"];var ewe=t=>{let e=new AbortController;return setTimeout(()=>e.abort(),t),e.signal};function twe(t){let e=new URLSearchParams;for(let r in t)t[r]!=null&&e.append(r,String(t[r]));return Array.from(e).length?"?"+e.toString():""}const pv=()=>{};let pd={NONE:Number.NEGATIVE_INFINITY,ERROR:1,WARN:2,INFO:3,DEBUG:Number.POSITIVE_INFINITY};const rwe=({level:t}={level:"ERROR"})=>({get level(){return t},error:pd[t]>=pd.ERROR?console.error:pv,warn:pd[t]>=pd.WARN?console.warn:pv,info:pd[t]>=pd.INFO?console.info:pv,debug:pd[t]>=pd.DEBUG?console.debug:pv});let v7="privy:caid",nwe=class{setCallbacks(e){this.callbacks={...this.callbacks,...e}}get isReady(){return!!this._config}get config(){return this._config}get caid(){return this._analyticsId}async _initialize(){var e,r,n,i,s;if(this.isReady)(r=(e=this.callbacks)==null?void 0:e.setIsReady)==null||r.call(e,!0);else{if(!await this.isStorageAccessible())throw new Mr({code:"storage_error",error:"Unable to access storage"});this._config=await this.getAppConfig(),(n=this._config)!=null&&n.custom_api_url&&(this.baseUrl=this._config.custom_api_url,this.session.isUsingServerCookies=!0),(s=(i=this.callbacks)==null?void 0:i.setIsReady)==null||s.call(i,!0),this._sdkVersion.startsWith("react-auth:")||this.createAnalyticsEvent("sdk_initialize",{})}}getPath(e,{params:r,query:n}){return`${this.baseUrl}${Fhe(e.path,r)}${twe(n)}`}async fetch(e,{body:r,params:n,query:i,headers:s,onRequest:a=this._beforeRequest.bind(this)}){let o=new Request(this.getPath(e,{params:n,query:i}),{method:e.method,body:JSON.stringify(r),headers:s}),l=await a(o),u=await this._fetch(o,l),h=await u.json();if(u.status>299)throw new L9(h);return h}async _beforeRequestWithoutInitialize(e){let r=await this.session.getToken(),n=new Headers(e.headers);n.set("privy-app-id",this.appId),this.appClientId&&n.set("privy-client-id",this.appClientId),n.set("privy-client",this._sdkVersion),r&&n.set("Authorization",`Bearer ${r}`),n.set("Content-Type","application/json"),n.set("Accept","application/json");let i=await this._getOrGenerateClientAnalyticsId();return i&&n.set("privy-ca-id",i),this.nativeAppIdentifier&&n.set("x-native-app-identifier",this.nativeAppIdentifier),{signal:ewe(2e4),headers:n,credentials:"include"}}async beforeRequestWithoutRefresh(e){return await this._initialize(),this._beforeRequestWithoutInitialize(e)}async _beforeRequest(e){return await this._initialize(),await this.getAccessToken(),this.beforeRequestWithoutRefresh(e)}async getAppConfig(){return await this.fetch(the,{params:{app_id:this.appId},onRequest:this._beforeRequestWithoutInitialize.bind(this)})}async _getOrGenerateClientAnalyticsId(){if(this._analyticsId)return this._analyticsId;try{let e=await this._storage.get(v7);if(typeof e=="string"&&e.length>0)return this._analyticsId=e,e}catch(e){this.logger.error("Unable to load clientId",e)}try{this._analyticsId=ZC()}catch(e){this.logger.error("Unable to generate uuidv4",e)}if(!this._analyticsId)return null;try{await this._storage.put(v7,this._analyticsId)}catch(e){this.logger.error(`Unable to store clientId: ${this._analyticsId}`,e)}return this._analyticsId}async destroyClientAnalyticsId(){try{return await this._storage.del(v7)}catch(e){this.logger.error("Unable to delete clientId",e)}}async createAnalyticsEvent(e,r){try{await this.fetch(ehe,{body:{event_name:e,client_id:await this._getOrGenerateClientAnalyticsId(),payload:r},onRequest:this.beforeRequestWithoutRefresh.bind(this)})}catch{}}async refreshSession(e=!1){if(!await this.isStorageAccessible())throw new Mr({code:"storage_error",error:"Unable to access storage"});let r=await this.session.getRefreshToken()??void 0,n=r??"key",i=this._cache.get(n);if(i)return this.logger.debug("[privy:refresh] found in-flight session refresh request, deduping"),await i;let s=this._refreshSession(r,e);this._cache.set(n,s);try{return await s}finally{this._cache.delete(n)}}async _refreshSession(e,r){var i,s,a,o,l,u;let n=await this.session.getToken();if(!this.session.hasRefreshCredentials(n,e??null))throw this.logger.debug("[privy:refresh] missing tokens, skipping request"),await this._initialize(),new L9({code:aR.MISSING_OR_INVALID_TOKEN,error:"No tokens found in storage"});try{this.logger.debug(`[privy:refresh] fetching: ${sR.path}`);let h=await this.fetch(sR,{body:{refresh_token:e},onRequest:this.beforeRequestWithoutRefresh.bind(this)}),f=h.session_update_action;return this.logger.debug(`[privy:refresh] response: ${f}`),r||((s=(i=this.callbacks)==null?void 0:i.setUser)==null||s.call(i,h.user)),f==="set"&&(await this.session.updateWithTokensResponse(h),this.logger.debug("[privy:refresh] tokens stored")),f==="clear"&&(await this.session.destroyLocalState(),this.logger.debug("[privy:refresh] tokens cleared"),r||((o=(a=this.callbacks)==null?void 0:a.setUser)==null||o.call(a,null))),f==="ignore"&&h.token&&(await this.session.storeToken(h.token),this.logger.debug("[privy:refresh] access token stored"),h.identity_token&&(this.logger.debug("[privy:refresh] identity token stored"),await this.session.storeIdentityToken(h.identity_token))),this.logger.debug("[privy:refresh] returning response"),h}catch(h){throw this.logger.debug(`[privy:refresh] error: ${h.message??"unknown error"}`),h instanceof L9&&h.code===aR.MISSING_OR_INVALID_TOKEN&&(await this.session.destroyLocalState(),r||((u=(l=this.callbacks)==null?void 0:l.setUser)==null||u.call(l,null))),h}}async getAccessToken(){let[e,r]=await Promise.all([this.session.getToken(),this.session.getRefreshToken()]);if(!this.session.tokenIsActive(e)&&this.session.hasRefreshCredentials(e,r)){let n=await this.refreshSession(),i=await this.session.getToken();return n.token||this.logger.debug("[privy:getAccessToken] expected token received null"),n.token===e&&this.logger.debug("[privy:getAccessToken] expected new token in response received existing"),i===e&&this.logger.debug("[privy:getAccessToken] expected new token in storage received existing"),n.token??i}return e}async getIdentityToken(){return await this.session.getIdentityToken()}async isStorageAccessible(){try{let e=`privy:__storage__test-${ZC()}`,r="blobby";await this._storage.put(e,r);let n=await this._storage.get(e);return await this._storage.del(e),n===r}catch(e){return this.logger.error(e),!1}}constructor(e){this._sdkVersion="js-sdk-core:0.55.2",this._cache=new Map,this.logger=rwe({level:e.logLevel??"ERROR"}),this._storage=e.storage,this._analyticsId=null,this._getOrGenerateClientAnalyticsId(),this.baseUrl=e.baseUrl??"https://auth.privy.io",this.appId=e.appId,this.appClientId=e.appClientId,this._sdkVersion=e.sdkVersion??this._sdkVersion,this.callbacks=e.callbacks,this.nativeAppIdentifier=e.nativeAppIdentifier,this.session=new yK({storage:this._storage,isUsingServerCookies:!1,appId:e.appId}),this._fetch=v$(globalThis.fetch,{retries:3,retryDelay:r=>3**r*500,retryOn:[408,409,425,500,502,503,504]}),this.session.on("error_storing_tokens",r=>{this.createAnalyticsEvent("error_updating_tokens_in_storage",{reason:r})})}},iwe=class{async get(){let{user:e}=await this._privyInternal.refreshSession();return{user:e}}async acceptTerms(){return{user:await this._privyInternal.fetch(Xhe,{})}}constructor(e){this._privyInternal=e}};const bK=t=>t.type==="wallet"&&t.wallet_client_type==="privy"&&t.connector_type==="embedded",wK=t=>t?t.linked_accounts.filter(bK).filter(e=>e.chain_type==="ethereum").sort((e,r)=>e.wallet_index-r.wallet_index):[],nD=t=>wK(t).find(e=>e.wallet_index===0)??null,vK=t=>t?t.linked_accounts.filter(bK).filter(e=>e.chain_type==="solana").sort((e,r)=>e.wallet_index-r.wallet_index):[],swe=t=>vK(t).find(e=>e.wallet_index===0)??null,awe=(t,e)=>!(e==="off"||wK(t).length>0||t.linked_accounts.filter(r=>r.type==="wallet"&&r.chain_type==="ethereum").length>0&&e!=="all-users"),owe=(t,e)=>!(e==="off"||vK(t).length>0||t.linked_accounts.filter(r=>r.type==="wallet"&&r.chain_type==="solana").length>0&&e!=="all-users"),pl=async(t,e,r)=>{var s,a;let n=awe(e.user,((s=r==null?void 0:r.ethereum)==null?void 0:s.createOnLogin)??"off"),i=owe(e.user,((a=r==null?void 0:r.solana)==null?void 0:a.createOnLogin)??"off");if(n&&i){let o=await t.create({recoveryMethod:"privy",skipCallbacks:!0});return{...await t.createSolana({ethereumAccount:nD(o.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}}return n?{...await t.create({recoveryMethod:"privy",solanaAccount:swe(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:i?{...await t.createSolana({ethereumAccount:nD(e.user)??void 0}),is_new_user:e.is_new_user,oauth_tokens:e.oauth_tokens}:e};let lwe=class{async syncWithToken(e,r,n){var a,o;let i=await this._privyInternal.fetch(she,{body:{token:e,mode:n}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await pl(this._embedded,i,r==null?void 0:r.embedded);return(o=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||o.call(a,s.user),s}constructor(e,r){this._privyInternal=e,this._embedded=r}},cwe=class{async sendCode(e,r){return this._privyInternal.fetch(khe,{body:{email:e,token:r}})}async loginWithCode(e,r,n,i){var o,l;let s=await this._privyInternal.fetch(She,{body:{email:e,code:r,mode:n}});await this._privyInternal.session.updateWithTokensResponse(s);let a=await pl(this._embedded,s,i==null?void 0:i.embedded);return(l=(o=this._privyInternal.callbacks)==null?void 0:o.setUser)==null||l.call(o,a.user),a}async linkWithCode(e,r){await this._privyInternal.fetch($he,{body:{email:e,code:r}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async updateEmail({oldEmailAddress:e,newEmailAddress:r,code:n}){await this._privyInternal.fetch(Ihe,{body:{oldAddress:e,newAddress:r,code:n}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(The,{body:{address:e}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,r){this._privyInternal=e,this._embedded=r}},uwe=class{async initializeAuth({relyingParty:e,redirectUrl:r,token:n}){return await this._privyInternal.fetch(ahe,{body:{relying_party:e,redirect_url:r,token:n}})}async getFarcasterStatus({channel_token:e}){return await this._privyInternal.fetch(uhe,{headers:{"farcaster-channel-token":e}})}async authenticate({channel_token:e,message:r,signature:n,fid:i,mode:s},a){var u,h;let o=await this._privyInternal.fetch(ohe,{body:{channel_token:e,message:r,signature:n,fid:i,mode:s}});await this._privyInternal.session.updateWithTokensResponse(o);let l=await pl(this._embedded,o,a==null?void 0:a.embedded);return(h=(u=this._privyInternal.callbacks)==null?void 0:u.setUser)==null||h.call(u,l.user),l}async link({channel_token:e,message:r,signature:n,fid:i}){await this._privyInternal.fetch(lhe,{body:{channel_token:e,message:r,signature:n,fid:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async unlink({fid:e}){await this._privyInternal.fetch(che,{body:{fid:e}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,r){this._privyInternal=e,this._embedded=r}},dwe=class{async initializeAuth(){return await this._privyInternal.fetch(dhe,{body:{}})}async authenticate({message:e,signature:r,fid:n},i){var o,l;let s=await this._privyInternal.fetch(hhe,{body:{message:e,signature:r,fid:n}});await this._privyInternal.session.updateWithTokensResponse(s);let a=await pl(this._embedded,s,i==null?void 0:i.embedded);return(l=(o=this._privyInternal.callbacks)==null?void 0:o.setUser)==null||l.call(o,a.user),a}constructor(e,r){this._privyInternal=e,this._embedded=r}},hwe=class{async create(e){var s,a;let r=await this._privyInternal.session.getOrCreateGuestCredential(),n=await this._privyInternal.fetch(fhe,{body:{guest_credential:r}});await this._privyInternal.session.updateWithTokensResponse(n);let i=await pl(this._embedded,n,e==null?void 0:e.embedded);return(a=(s=this._privyInternal.callbacks)==null?void 0:s.setUser)==null||a.call(s,i.user),i}constructor(e,r){this._privyInternal=e,this._embedded=r}};const jd="privy:state_code",Dd="privy:code_verifier";async function fwe(t,e){let r=new TextEncoder().encode(t);return new Uint8Array(await e("SHA-256",r))}function pwe(t){return crypto.getRandomValues(new Uint8Array(t))}function x$(){return Tf(pwe(36))}function xK(){return x$()}async function EK({codeVerifier:t,method:e="S256",digest:r=crypto.subtle.digest.bind(crypto.subtle)}){if(e!="S256")return t;{let n=await fwe(t,r);return Tf(n)}}let gwe=class{async generateURL(e,r){var a;let n=x$(),i=xK(),s=await EK({codeVerifier:n,digest:(a=this._crypto)==null?void 0:a.digest});return await Promise.all([this._storage.put(Dd,n),this._storage.put(jd,i)]),this._privyInternal.fetch(yhe,{body:{redirect_to:r,provider:e,code_challenge:s,state_code:i}})}async loginWithCode(e,r,n,i,s,a){var f,g;let[o,l]=await Promise.all([this._storage.get(Dd),this._storage.get(jd)]);if(l!==r)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:n,storedStateCode:l??"",returnedStateCode:r??""}),new Mr({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let u=await this._privyInternal.fetch(mhe,{body:{authorization_code:e,code_type:i,state_code:l,code_verifier:o,mode:s}});await this._privyInternal.session.updateWithTokensResponse(u);let h=await pl(this._embedded,u,a==null?void 0:a.embedded);return await Promise.all([this._storage.del(Dd),this._storage.del(jd)]),(g=(f=this._privyInternal.callbacks)==null?void 0:f.setUser)==null||g.call(f,h.user),h}async linkWithCode(e,r,n,i){let[s,a]=await Promise.all([this._storage.get(Dd),this._storage.get(jd)]);if(a!==r)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"oauth",provider:n,storedStateCode:a??"",returnedStateCode:r??""}),new Mr({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let o=await this._privyInternal.fetch(bhe,{body:{authorization_code:e,code_type:i,state_code:a,code_verifier:s}});await this._privyInternal.session.processOAuthTokens(o.oauth_tokens);let l=await this._privyInternal.refreshSession();return await Promise.all([this._storage.del(Dd),this._storage.del(jd)]),{user:l.user,identity_token:l.identity_token}}async unlink(e,r){await this._privyInternal.fetch(whe,{body:{provider:e,subject:r}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}constructor(e,r,n,i){this._privyInternal=e,this._embedded=r,this._storage=n,this._crypto=i}},mwe=class{async generateRegistrationOptions(e){return await this._privyInternal.fetch(Ahe,{body:{relying_party:e}})}async generateAuthenticationOptions(e){return await this._privyInternal.fetch(_he,{body:{relying_party:e}})}async generateSignupOptions(e){return await this._privyInternal.fetch(Che,{body:{relying_party:e}})}async loginWithPasskey(e,r,n,i){var o,l;let s=await this._privyInternal.fetch(xhe,{body:{relying_party:n,challenge:r,authenticator_response:this._transformAuthenticationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(s);let a=await pl(this._embedded,s,i==null?void 0:i.embedded);return(l=(o=this._privyInternal.callbacks)==null?void 0:o.setUser)==null||l.call(o,a.user),a}async signupWithPasskey(e,r,n){var a,o;let i=await this._privyInternal.fetch(Ehe,{body:{relying_party:r,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});await this._privyInternal.session.updateWithTokensResponse(i);let s=await pl(this._embedded,i,n==null?void 0:n.embedded);return(o=(a=this._privyInternal.callbacks)==null?void 0:a.setUser)==null||o.call(a,s.user),s}async linkWithPasskey(e,r){await this._privyInternal.fetch(vhe,{body:{relying_party:r,authenticator_response:this._transformRegistrationResponseToSnakeCase(e)}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}_transformRegistrationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData||void 0,transports:e.response.transports||void 0,public_key:e.response.publicKey||void 0,public_key_algorithm:e.response.publicKeyAlgorithm||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}_transformAuthenticationResponseToSnakeCase(e){return{type:e.type,id:e.id,raw_id:e.rawId,response:{signature:e.response.signature,client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,user_handle:e.response.userHandle||void 0},authenticator_attachment:e.authenticatorAttachment||void 0,client_extension_results:{app_id:e.clientExtensionResults.appid||void 0,cred_props:e.clientExtensionResults.credProps||void 0,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret||void 0}}}constructor(e,r){this._privyInternal=e,this._embedded=r}},ywe=class{async sendCode(e,r){return this._privyInternal.fetch(Phe,{body:{phoneNumber:e,token:r}})}async loginWithCode(e,r,n,i){var o,l;let s=await this._privyInternal.fetch(Nhe,{body:{phoneNumber:e,code:r,mode:n}});await this._privyInternal.session.updateWithTokensResponse(s);let a=await pl(this._embedded,s,i==null?void 0:i.embedded);return(l=(o=this._privyInternal.callbacks)==null?void 0:o.setUser)==null||l.call(o,a.user),a}async linkWithCode(e,r){await this._privyInternal.fetch(Ohe,{body:{phoneNumber:e,code:r}});let n=await this._privyInternal.refreshSession();return{user:n.user,identity_token:n.identity_token}}async updatePhone({oldPhoneNumber:e,newPhoneNumber:r,code:n}){await this._privyInternal.fetch(Rhe,{body:{old_phone_number:e,new_phone_number:r,code:n}});let i=await this._privyInternal.refreshSession();return{user:i.user,identity_token:i.identity_token}}async unlink(e){await this._privyInternal.fetch(Mhe,{body:{phoneNumber:e}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}constructor(e,r){this._privyInternal=e,this._embedded=r}},bwe=class{async unlinkWallet(e){await this._privyInternal.fetch(Ghe,{body:{address:e}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async linkWithSiwe(e,r,n){let i=r||this._wallet,s=n||this._preparedMessage;if(!i)throw Error("A wallet must be provided in the init step or as an argument to linkWithSiwe");if(!s)throw Error("A message must be generated and signed before being used to link a wallet to privy");await this._privyInternal.fetch(Hhe,{body:{message:s,signature:e,chainId:i.chainId,walletClientType:i.walletClientType,connectorType:i.connectorType}});let a=await this._privyInternal.refreshSession();return{user:a.user,identity_token:a.identity_token}}async loginWithSiwe(e,r,n,i,s){var h,f;let a=r||this._wallet,o=n||this._preparedMessage;if(!a)throw Error("A wallet must be provided in the init step or as an argument to loginWithSiwe");if(!o)throw Error("A message must be generated and signed before being used to login to privy with a wallet");let l=await this._privyInternal.fetch(qhe,{body:{signature:e,message:o,chainId:a.chainId,walletClientType:a.walletClientType,connectorType:a.connectorType,mode:i}});await this._privyInternal.session.updateWithTokensResponse(l);let u=await pl(this._embedded,l,s==null?void 0:s.embedded);return(f=(h=this._privyInternal.callbacks)==null?void 0:h.setUser)==null||f.call(h,u.user),u}async init(e,r,n){var i;this._wallet=e;let{nonce:s}=await this._privyInternal.fetch(TV,{body:{address:e.address}}),a=`${(i={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:r,nonce:s,uri:n}).domain} wants you to sign in with your Ethereum account:
${i.address}

${i.statement}

URI: ${i.uri}
Version: 1
Chain ID: ${i.chainId}
Nonce: ${i.nonce}
Issued At: ${i.issuedAt}
Resources:
- https://privy.io`;return this._preparedMessage=a,{nonce:s,message:a}}constructor(e,r){this._wallet=void 0,this._privyInternal=e,this._embedded=r}},wwe=class{async unlink({address:e}){await this._privyInternal.fetch(Qhe,{body:{address:e}});let r=await this._privyInternal.refreshSession();return{user:r.user,identity_token:r.identity_token}}async link({message:e,signature:r,walletClientType:n,connectorType:i}){await this._privyInternal.fetch(Zhe,{body:{message:e,signature:r,walletClientType:n,connectorType:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async login({mode:e,message:r,signature:n,walletClientType:i,connectorType:s,opts:a}){var u,h;let o=await this._privyInternal.fetch(Yhe,{body:{signature:n,message:r,walletClientType:i,connectorType:s,mode:e}});await this._privyInternal.session.updateWithTokensResponse(o);let l=await pl(this._embedded,o,a==null?void 0:a.embedded);return(h=(u=this._privyInternal.callbacks)==null?void 0:u.setUser)==null||h.call(u,l.user),l}async fetchNonce({address:e}){let{nonce:r}=await this._privyInternal.fetch(Khe,{body:{address:e}});return{nonce:r}}constructor(e,r){this._privyInternal=e,this._embedded=r}},vwe=class{async link(e,r,n,i){await this._privyInternal.fetch(Vhe,{body:{message:e,signature:r,smart_wallet_type:n,smart_wallet_version:i}});let s=await this._privyInternal.refreshSession();return{user:s.user,identity_token:s.identity_token}}async init(e){var r;let{nonce:n}=await this._privyInternal.fetch(TV,{body:{address:e.address}});return{nonce:n,message:`${(r={chainId:e.chainId.toString().replace("eip155:",""),address:e.address,issuedAt:new Date().toISOString(),statement:"By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.",domain:"privy.io",uri:"https://auth.privy.io",nonce:n}).domain} wants you to sign in with your Ethereum account:
${r.address}

${r.statement}

URI: ${r.uri}
Version: 1
Chain ID: ${r.chainId}
Nonce: ${r.nonce}
Issued At: ${r.issuedAt}
Resources:
- https://privy.io`}}constructor(e){this._privyInternal=e}},xwe=class{async logout(){var e,r;try{let n=await this._privyInternal.session.getRefreshToken()??void 0;await this._privyInternal.fetch(zhe,{body:{refresh_token:n}})}catch{console.warn("Error destroying session")}await Promise.all([this._privyInternal.session.destroyLocalState({reason:"logout"}),this._privyInternal.destroyClientAnalyticsId()]),(r=(e=this._privyInternal.callbacks)==null?void 0:e.setUser)==null||r.call(e,null)}constructor(e,r,n,i){this._privyInternal=e,this.customProvider=new lwe(this._privyInternal,r),this.phone=new ywe(this._privyInternal,r),this.email=new cwe(this._privyInternal,r),this.oauth=new gwe(this._privyInternal,r,n,i),this.guest=new hwe(this._privyInternal,r),this.siwe=new bwe(this._privyInternal,r),this.siws=new wwe(this._privyInternal,r),this.smartWallet=new vwe(this._privyInternal),this.passkey=new mwe(this._privyInternal,r),this.farcaster=new uwe(this._privyInternal,r),this.farcasterV2=new dwe(this._privyInternal,r)}},Ewe=class{async initOnRampSession(e){return await this._privyInternal.fetch(rhe,{body:e})}async getStatus(e){return await this._privyInternal.fetch(nhe,{query:{partnerUserId:e}})}constructor(e){this._privyInternal=e}};const _we={prod:{url:"https://api.moonpay.com/v1",key:"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"},sandbox:{url:"https://api.moonpay.com/v1",key:"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI"}};let Cwe=new Set([$o.id,So.id,ko.id,aa.id,Fg.id,P6.id]),Awe=new Set([$o.id,So.id,yc.id,ko.id,aa.id]);function Swe(t,e){switch(e){case"native-currency":return Cwe.has(t);case"USDC":return Awe.has(t);default:return console.warn("Unknown asset passed to MoonPay Onramp"),!1}}function kwe(t,e){switch(t){case So.id:return e==="native-currency"?"ETH_ARBITRUM":"USDC_ARBITRUM";case Fg.id:return"AVAX_CCHAIN";case ko.id:return e==="native-currency"?"ETH_BASE":"USDC_BASE";case P6.id:return"CELO_CELO";case aa.id:return e==="native-currency"?"MATIC_POLYGON":"USDC_POLYGON";case $o.id:return e==="native-currency"?"ETH_ETHEREUM":"USDC_ETHEREUM";default:return console.warn(`Chain ${t} not supported by Moonpay, defaulting to Ethereum mainnet`),"ETH_ETHEREUM"}}let $we=class{async sign(e){return await this._privyInternal.fetch(Jhe,{body:e})}async getTransactionStatus({transactionId:e,useSandbox:r}){let{url:n,key:i}=_we[r?"sandbox":"prod"],s=await v$(fetch,{retries:3,retryDelay:500})(`${n}/transactions/ext/${e}?apiKey=${i}`);if(!s.ok)throw new D1e({error:`Failed to fetch transaction status for Transaction ${e}`,code:"failed_to_fetch_moonpay_transaction_status",response:s});let a=await s.json();return Array.isArray(a)?a.at(0):void 0}constructor(e){this._privyInternal=e}},Twe=class{constructor(e){this.moonpay=new $we(e),this.coinbase=new Ewe(e)}},Iwe=class{async generateAuthenticationOptions(e){return await this._privyInternal.fetch(phe,{body:e})}constructor(e){this._privyInternal=e}},Nwe=class{async sendCode(e){return await this._privyInternal.fetch(ghe,{body:e})}constructor(e){this._privyInternal=e}},Pwe=class{setProxy(e){this.proxy=e}async getAccessToken(){let e=await this.privyInternal.getAccessToken();if(!e)throw new Mr({error:"Missing access token",code:"attempted_rpc_call_before_logged_in"});return e}async verifyMfa(){if(!this.proxy)throw new Mr({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.verifyMfa({accessToken:await this.getAccessToken()})}async initEnrollMfa(e){if(!this.proxy)throw new Mr({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.initEnrollMfa({...e,accessToken:await this.getAccessToken()})}async submitEnrollMfa(e){if(!this.proxy)throw new Mr({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let r=await this.proxy.submitEnrollMfa({...e,accessToken:await this.getAccessToken()});return await this.privyInternal.refreshSession(),r}async unenrollMfa(e){if(!this.proxy)throw new Mr({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});let r=await this.proxy.unenrollMfa({method:e,accessToken:await this.getAccessToken()});return await this.privyInternal.refreshSession(),r}async clearMfa(e){if(!this.proxy)throw new Mr({error:"Embedded wallet proxy not initialized",code:"embedded_wallet_webview_not_loaded"});return await this.proxy.clearMfa(e)}constructor(e,r){this.proxy=r,this.privyInternal=e,this.sms=new Nwe(e),this.passkey=new Iwe(e)}},Owe=class{async init(e){return this._privyInternal.fetch(Bhe,{body:{client_type:e}})}async getICloudConfiguration(e){return this._privyInternal.fetch(Lhe,{body:{client_type:e}})}constructor(e){this._privyInternal=e}},Mwe=class{async generateURL(e){var s;let r=x$(),n=xK(),i=await EK({codeVerifier:r,digest:(s=this._crypto)==null?void 0:s.digest});return await Promise.all([this._storage.put(Dd,r),this._storage.put(jd,n)]),this._privyInternal.fetch(Dhe,{body:{redirect_to:e,code_challenge:i,state_code:n}})}async authorize(e,r){let[n,i]=await Promise.all([this._storage.get(Dd),this._storage.get(jd)]);if(i!==r)throw this._privyInternal.createAnalyticsEvent("possible_phishing_attempt",{flow:"recovery_oauth",storedStateCode:i??"",returnedStateCode:r??""}),new Mr({code:"pkce_state_code_mismatch",error:"Unexpected auth flow. This may be a phishing attempt."});let s=await this._privyInternal.fetch(Uhe,{body:{authorization_code:e,state_code:i,code_verifier:n}});return await Promise.all([this._storage.del(Dd),this._storage.del(jd)]),s}constructor(e,r,n){this._privyInternal=e,this._storage=r,this._crypto=n}},Rwe=class{async getRecoveryKeyMaterial(e,r){return this._privyInternal.fetch(jhe,{body:{chain_type:r},params:{address:e}})}constructor(e,r,n){this._privyInternal=e,this.auth=new Mwe(this._privyInternal,r,n),this.icloudAuth=new Owe(this._privyInternal)}},jwe=class{async initialize(){await this._privyInternal._initialize()}setMessagePoster(e){this.embeddedWallet.setMessagePoster(e)}addOAuthTokensListener(e){return this._privyInternal.session.on("oauth_tokens_granted",e),{unsubscribe:()=>{this._privyInternal.session.removeListener("oauth_tokens_granted",e)}}}setCallbacks(e){this._privyInternal.setCallbacks(e)}getAccessToken(){return this._privyInternal.getAccessToken()}getIdentityToken(){return this._privyInternal.getIdentityToken()}getCompiledPath(e,r){return this._privyInternal.getPath(e,r)}async fetchPrivyRoute(e,r){return this._privyInternal.fetch(e,r)}get logger(){return this._privyInternal.logger}constructor({clientId:e,...r}){this._privyInternal=new nwe({...r,appClientId:e}),this.mfa=new Pwe(this._privyInternal),this.mfaPromises=new Kbe,this.app=new m1e(this._privyInternal),this.embeddedWallet=new Gbe(this._privyInternal,r.embeddedWalletMessagePoster,r.supportedChains,this.mfa,this.mfaPromises,this.app),this.user=new iwe(this._privyInternal),this.auth=new xwe(this._privyInternal,this.embeddedWallet,r.storage,r.crypto),this.recovery=new Rwe(this._privyInternal,r.storage,r.crypto),this.funding=new Twe(this._privyInternal),this.delegated=new S1e(this._privyInternal),this.crossApp=new wG(this._privyInternal,r.storage)}};const Dwe={AC:"40123",AD:"312345",AE:"501234567",AF:"701234567",AG:"2684641234",AI:"2642351234",AL:"672123456",AM:"77123456",AO:"923123456",AR:"91123456789",AS:"6847331234",AT:"664123456",AU:"412345678",AW:"5601234",AX:"412345678",AZ:"401234567",BA:"61123456",BB:"2462501234",BD:"1812345678",BE:"470123456",BF:"70123456",BG:"43012345",BH:"36001234",BI:"79561234",BJ:"0195123456",BL:"690001234",BM:"4413701234",BN:"7123456",BO:"71234567",BQ:"3181234",BR:"11961234567",BS:"2423591234",BT:"17123456",BW:"71123456",BY:"294911911",BZ:"6221234",CA:"5062345678",CC:"412345678",CD:"991234567",CF:"70012345",CG:"061234567",CH:"781234567",CI:"0123456789",CK:"71234",CL:"221234567",CM:"671234567",CN:"13123456789",CO:"3211234567",CR:"83123456",CU:"51234567",CV:"9911234",CW:"95181234",CX:"412345678",CY:"96123456",CZ:"601123456",DE:"15123456789",DJ:"77831001",DK:"34412345",DM:"7672251234",DO:"8092345678",DZ:"551234567",EC:"991234567",EE:"51234567",EG:"1001234567",EH:"650123456",ER:"7123456",ES:"612345678",ET:"911234567",FI:"412345678",FJ:"7012345",FK:"51234",FM:"3501234",FO:"211234",FR:"612345678",GA:"06031234",GB:"7400123456",GD:"4734031234",GE:"555123456",GF:"694201234",GG:"7781123456",GH:"231234567",GI:"57123456",GL:"221234",GM:"3012345",GN:"601123456",GP:"690001234",GQ:"222123456",GR:"6912345678",GT:"51234567",GU:"6713001234",GW:"955012345",GY:"6091234",HK:"51234567",HN:"91234567",HR:"921234567",HT:"34101234",HU:"201234567",ID:"812345678",IE:"850123456",IL:"502345678",IM:"7924123456",IN:"8123456789",IO:"3801234",IQ:"7912345678",IR:"9123456789",IS:"6111234",IT:"3123456789",JE:"7797712345",JM:"8762101234",JO:"790123456",JP:"9012345678",KE:"712123456",KG:"700123456",KH:"91234567",KI:"72001234",KM:"3212345",KN:"8697652917",KP:"1921234567",KR:"1020000000",KW:"50012345",KY:"3453231234",KZ:"7710009998",LA:"2023123456",LB:"71123456",LC:"7582845678",LI:"660234567",LK:"712345678",LR:"770123456",LS:"50123456",LT:"61234567",LU:"628123456",LV:"21234567",LY:"912345678",MA:"650123456",MC:"612345678",MD:"62112345",ME:"60123456",MF:"690001234",MG:"321234567",MH:"2351234",MK:"72345678",ML:"65012345",MM:"92123456",MN:"88123456",MO:"66123456",MP:"6702345678",MQ:"696201234",MR:"22123456",MS:"6644923456",MT:"96961234",MU:"52512345",MV:"7712345",MW:"991234567",MX:"2221234567",MY:"123456789",MZ:"821234567",NA:"811234567",NC:"751234",NE:"93123456",NF:"381234",NG:"8021234567",NI:"81234567",NL:"612345678",NO:"40612345",NP:"9841234567",NR:"5551234",NU:"8884012",NZ:"211234567",OM:"92123456",PA:"61234567",PE:"912345678",PF:"87123456",PG:"70123456",PH:"9051234567",PK:"3012345678",PL:"512345678",PM:"551234",PR:"7872345678",PS:"599123456",PT:"912345678",PW:"6201234",PY:"961456789",QA:"33123456",RE:"692123456",RO:"712034567",RS:"601234567",RU:"9123456789",RW:"720123456",SA:"512345678",SB:"7421234",SC:"2510123",SD:"911231234",SE:"701234567",SG:"81234567",SH:"51234",SI:"31234567",SJ:"41234567",SK:"912123456",SL:"25123456",SM:"66661212",SN:"701234567",SO:"71123456",SR:"7412345",SS:"977123456",ST:"9812345",SV:"70123456",SX:"7215205678",SY:"944567890",SZ:"76123456",TA:"8999",TC:"6492311234",TD:"63012345",TG:"90112345",TH:"812345678",TJ:"917123456",TK:"7290",TL:"77212345",TM:"66123456",TN:"20123456",TO:"7715123",TR:"5012345678",TT:"8682911234",TV:"901234",TW:"912345678",TZ:"621234567",UA:"501234567",UG:"712345678",US:"2015550123",UY:"94231234",UZ:"912345678",VA:"3123456789",VC:"7844301234",VE:"4121234567",VG:"2843001234",VI:"3406421234",VN:"912345678",VU:"5912345",WF:"821234",WS:"7212345",XK:"43201234",YE:"712345678",YT:"639012345",ZA:"711234567",ZM:"955123456",ZW:"712345678"},_K={version:4,country_calling_codes:{1:["US","AG","AI","AS","BB","BM","BS","CA","DM","DO","GD","GU","JM","KN","KY","LC","MP","MS","PR","SX","TC","TT","VC","VG","VI"],7:["RU","KZ"],20:["EG"],27:["ZA"],30:["GR"],31:["NL"],32:["BE"],33:["FR"],34:["ES"],36:["HU"],39:["IT","VA"],40:["RO"],41:["CH"],43:["AT"],44:["GB","GG","IM","JE"],45:["DK"],46:["SE"],47:["NO","SJ"],48:["PL"],49:["DE"],51:["PE"],52:["MX"],53:["CU"],54:["AR"],55:["BR"],56:["CL"],57:["CO"],58:["VE"],60:["MY"],61:["AU","CC","CX"],62:["ID"],63:["PH"],64:["NZ"],65:["SG"],66:["TH"],81:["JP"],82:["KR"],84:["VN"],86:["CN"],90:["TR"],91:["IN"],92:["PK"],93:["AF"],94:["LK"],95:["MM"],98:["IR"],211:["SS"],212:["MA","EH"],213:["DZ"],216:["TN"],218:["LY"],220:["GM"],221:["SN"],222:["MR"],223:["ML"],224:["GN"],225:["CI"],226:["BF"],227:["NE"],228:["TG"],229:["BJ"],230:["MU"],231:["LR"],232:["SL"],233:["GH"],234:["NG"],235:["TD"],236:["CF"],237:["CM"],238:["CV"],239:["ST"],240:["GQ"],241:["GA"],242:["CG"],243:["CD"],244:["AO"],245:["GW"],246:["IO"],247:["AC"],248:["SC"],249:["SD"],250:["RW"],251:["ET"],252:["SO"],253:["DJ"],254:["KE"],255:["TZ"],256:["UG"],257:["BI"],258:["MZ"],260:["ZM"],261:["MG"],262:["RE","YT"],263:["ZW"],264:["NA"],265:["MW"],266:["LS"],267:["BW"],268:["SZ"],269:["KM"],290:["SH","TA"],291:["ER"],297:["AW"],298:["FO"],299:["GL"],350:["GI"],351:["PT"],352:["LU"],353:["IE"],354:["IS"],355:["AL"],356:["MT"],357:["CY"],358:["FI","AX"],359:["BG"],370:["LT"],371:["LV"],372:["EE"],373:["MD"],374:["AM"],375:["BY"],376:["AD"],377:["MC"],378:["SM"],380:["UA"],381:["RS"],382:["ME"],383:["XK"],385:["HR"],386:["SI"],387:["BA"],389:["MK"],420:["CZ"],421:["SK"],423:["LI"],500:["FK"],501:["BZ"],502:["GT"],503:["SV"],504:["HN"],505:["NI"],506:["CR"],507:["PA"],508:["PM"],509:["HT"],590:["GP","BL","MF"],591:["BO"],592:["GY"],593:["EC"],594:["GF"],595:["PY"],596:["MQ"],597:["SR"],598:["UY"],599:["CW","BQ"],670:["TL"],672:["NF"],673:["BN"],674:["NR"],675:["PG"],676:["TO"],677:["SB"],678:["VU"],679:["FJ"],680:["PW"],681:["WF"],682:["CK"],683:["NU"],685:["WS"],686:["KI"],687:["NC"],688:["TV"],689:["PF"],690:["TK"],691:["FM"],692:["MH"],850:["KP"],852:["HK"],853:["MO"],855:["KH"],856:["LA"],880:["BD"],886:["TW"],960:["MV"],961:["LB"],962:["JO"],963:["SY"],964:["IQ"],965:["KW"],966:["SA"],967:["YE"],968:["OM"],970:["PS"],971:["AE"],972:["IL"],973:["BH"],974:["QA"],975:["BT"],976:["MN"],977:["NP"],992:["TJ"],993:["TM"],994:["AZ"],995:["GE"],996:["KG"],998:["UZ"]},countries:{AC:["247","00","(?:[01589]\\d|[46])\\d{4}",[5,6]],AD:["376","00","(?:1|6\\d)\\d{7}|[135-9]\\d{5}",[6,8,9],[["(\\d{3})(\\d{3})","$1 $2",["[135-9]"]],["(\\d{4})(\\d{4})","$1 $2",["1"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]]],AE:["971","00","(?:[4-7]\\d|9[0-689])\\d{7}|800\\d{2,9}|[2-4679]\\d{7}",[5,6,7,8,9,10,11,12],[["(\\d{3})(\\d{2,9})","$1 $2",["60|8"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[236]|[479][2-8]"],"0$1"],["(\\d{3})(\\d)(\\d{5})","$1 $2 $3",["[479]"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"]],"0"],AF:["93","00","[2-7]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"]],"0"],AG:["1","011","(?:268|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([457]\\d{6})$|1","268$1",0,"268"],AI:["1","011","(?:264|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2457]\\d{6})$|1","264$1",0,"264"],AL:["355","00","(?:700\\d\\d|900)\\d{3}|8\\d{5,7}|(?:[2-5]|6\\d)\\d{7}",[6,7,8,9],[["(\\d{3})(\\d{3,4})","$1 $2",["80|9"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["4[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2358][2-5]|4"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["[23578]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["6"],"0$1"]],"0"],AM:["374","00","(?:[1-489]\\d|55|60|77)\\d{6}",[8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[89]0"],"0 $1"],["(\\d{3})(\\d{5})","$1 $2",["2|3[12]"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["1|47"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[3-9]"],"0$1"]],"0"],AO:["244","00","[29]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[29]"]]]],AR:["54","00","(?:11|[89]\\d\\d)\\d{8}|[2368]\\d{9}",[10,11],[["(\\d{4})(\\d{2})(\\d{4})","$1 $2-$3",["2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9])","2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8]))|2(?:2[24-9]|3[1-59]|47)","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5[56][46]|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|58|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|54(?:4|5[13-7]|6[89])|86[3-6]))|2(?:2[24-9]|3[1-59]|47)|38(?:[58][78]|7[378])|3(?:454|85[56])[46]|3(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["1"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[68]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2-$3",["[23]"],"0$1",1],["(\\d)(\\d{4})(\\d{2})(\\d{4})","$2 15-$3-$4",["9(?:2[2-469]|3[3-578])","9(?:2(?:2[024-9]|3[0-59]|47|6[245]|9[02-8])|3(?:3[28]|4[03-9]|5[2-46-8]|7[1-578]|8[2-9]))","9(?:2(?:[23]02|6(?:[25]|4[6-8])|9(?:[02356]|4[02568]|72|8[23]))|3(?:3[28]|4(?:[04679]|3[5-8]|5[4-68]|8[2379])|5(?:[2467]|3[237]|8[2-5])|7[1-578]|8(?:[2469]|3[2578]|5[4-8]|7[36-8]|8[5-8])))|92(?:2[24-9]|3[1-59]|47)","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3[78]|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8[23])|7[1-578]|8(?:[2469]|3[278]|5(?:[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4[35][56]|58[45]|8(?:[38]5|54|76))[4-6]","9(?:2(?:[23]02|6(?:[25]|4(?:64|[78]))|9(?:[02356]|4(?:[0268]|5[2-6])|72|8[23]))|3(?:3[28]|4(?:[04679]|3(?:5(?:4[0-25689]|[56])|[78])|5(?:4[46]|8)|8[2379])|5(?:[2467]|3[237]|8(?:[23]|4(?:[45]|60)|5(?:4[0-39]|5|64)))|7[1-578]|8(?:[2469]|3[278]|5(?:4(?:4|5[13-7]|6[89])|[56][46]|[78])|7[378]|8(?:6[3-6]|[78]))))|92(?:2[24-9]|3[1-59]|47)|93(?:4(?:36|5[56])|8(?:[38]5|76))[4-6]"],"0$1",0,"$1 $2 $3-$4"],["(\\d)(\\d{2})(\\d{4})(\\d{4})","$2 15-$3-$4",["91"],"0$1",0,"$1 $2 $3-$4"],["(\\d{3})(\\d{3})(\\d{5})","$1-$2-$3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{4})","$2 15-$3-$4",["9"],"0$1",0,"$1 $2 $3-$4"]],"0",0,"0?(?:(11|2(?:2(?:02?|[13]|2[13-79]|4[1-6]|5[2457]|6[124-8]|7[1-4]|8[13-6]|9[1267])|3(?:02?|1[467]|2[03-6]|3[13-8]|[49][2-6]|5[2-8]|[67])|4(?:7[3-578]|9)|6(?:[0136]|2[24-6]|4[6-8]?|5[15-8])|80|9(?:0[1-3]|[19]|2\\d|3[1-6]|4[02568]?|5[2-4]|6[2-46]|72?|8[23]?))|3(?:3(?:2[79]|6|8[2578])|4(?:0[0-24-9]|[12]|3[5-8]?|4[24-7]|5[4-68]?|6[02-9]|7[126]|8[2379]?|9[1-36-8])|5(?:1|2[1245]|3[237]?|4[1-46-9]|6[2-4]|7[1-6]|8[2-5]?)|6[24]|7(?:[069]|1[1568]|2[15]|3[145]|4[13]|5[14-8]|7[2-57]|8[126])|8(?:[01]|2[15-7]|3[2578]?|4[13-6]|5[4-8]?|6[1-357-9]|7[36-8]?|8[5-8]?|9[124])))15)?","9$1"],AS:["1","011","(?:[58]\\d\\d|684|900)\\d{7}",[10],0,"1",0,"([267]\\d{6})$|1","684$1",0,"684"],AT:["43","00","1\\d{3,12}|2\\d{6,12}|43(?:(?:0\\d|5[02-9])\\d{3,9}|2\\d{4,5}|[3467]\\d{4}|8\\d{4,6}|9\\d{4,7})|5\\d{4,12}|8\\d{7,12}|9\\d{8,12}|(?:[367]\\d|4[0-24-9])\\d{4,11}",[4,5,6,7,8,9,10,11,12,13],[["(\\d)(\\d{3,12})","$1 $2",["1(?:11|[2-9])"],"0$1"],["(\\d{3})(\\d{2})","$1 $2",["517"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["5[079]"],"0$1"],["(\\d{3})(\\d{3,10})","$1 $2",["(?:31|4)6|51|6(?:48|5[0-3579]|[6-9])|7(?:20|32|8)|[89]","(?:31|4)6|51|6(?:485|5[0-3579]|[6-9])|7(?:20|32|8)|[89]"],"0$1"],["(\\d{4})(\\d{3,9})","$1 $2",["[2-467]|5[2-6]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["5"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,7})","$1 $2 $3",["5"],"0$1"]],"0"],AU:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{7}(?:\\d(?:\\d{2})?)?|8[0-24-9]\\d{7})|[2-478]\\d{8}|1\\d{4,7}",[5,6,7,8,9,10,12],[["(\\d{2})(\\d{3,4})","$1 $2",["16"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,4})","$1 $2 $3",["16"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["14|4"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[2378]"],"(0$1)"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:30|[89])"]]],"0",0,"(183[12])|0",0,0,0,[["(?:(?:2(?:(?:[0-26-9]\\d|3[0-8]|5[0135-9])\\d|4(?:[02-9]\\d|10))|3(?:(?:[0-3589]\\d|6[1-9]|7[0-35-9])\\d|4(?:[0-578]\\d|90))|7(?:[013-57-9]\\d|2[0-8])\\d)\\d\\d|8(?:51(?:0(?:0[03-9]|[12479]\\d|3[2-9]|5[0-8]|6[1-9]|8[0-7])|1(?:[0235689]\\d|1[0-69]|4[0-589]|7[0-47-9])|2(?:0[0-79]|[18][13579]|2[14-9]|3[0-46-9]|[4-6]\\d|7[89]|9[0-4])|[34]\\d\\d)|(?:6[0-8]|[78]\\d)\\d{3}|9(?:[02-9]\\d{3}|1(?:(?:[0-58]\\d|6[0135-9])\\d|7(?:0[0-24-9]|[1-9]\\d)|9(?:[0-46-9]\\d|5[0-79])))))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,["163\\d{2,6}",[5,6,7,8,9]],["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],AW:["297","00","(?:[25-79]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[25-9]"]]]],AX:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","2\\d{4,9}|35\\d{4,5}|(?:60\\d\\d|800)\\d{4,6}|7\\d{5,11}|(?:[14]\\d|3[0-46-9]|50)\\d{4,8}",[5,6,7,8,9,10,11,12],0,"0",0,0,0,0,"18",0,"00"],AZ:["994","00","365\\d{6}|(?:[124579]\\d|60|88)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[28]|2|365|46","1[28]|2|365[45]|46","1[28]|2|365(?:4|5[02])|46"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[13-9]"],"0$1"]],"0"],BA:["387","00","6\\d{8}|(?:[35689]\\d|49|70)\\d{6}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["6[1-3]|[7-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2-$3",["[3-5]|6[56]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["6"],"0$1"]],"0"],BB:["1","011","(?:246|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","246$1",0,"246"],BD:["880","00","[1-469]\\d{9}|8[0-79]\\d{7,8}|[2-79]\\d{8}|[2-9]\\d{7}|[3-9]\\d{6}|[57-9]\\d{5}",[6,7,8,9,10],[["(\\d{2})(\\d{4,6})","$1-$2",["31[5-8]|[459]1"],"0$1"],["(\\d{3})(\\d{3,7})","$1-$2",["3(?:[67]|8[013-9])|4(?:6[168]|7|[89][18])|5(?:6[128]|9)|6(?:[15]|28|4[14])|7[2-589]|8(?:0[014-9]|[12])|9[358]|(?:3[2-5]|4[235]|5[2-578]|6[0389]|76|8[3-7]|9[24])1|(?:44|66)[01346-9]"],"0$1"],["(\\d{4})(\\d{3,6})","$1-$2",["[13-9]|2[23]"],"0$1"],["(\\d)(\\d{7,8})","$1-$2",["2"],"0$1"]],"0"],BE:["32","00","4\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:80|9)0"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[239]|4[23]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[15-8]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4"],"0$1"]],"0"],BF:["226","00","(?:[025-7]\\d|44)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[024-7]"]]]],BG:["359","00","00800\\d{7}|[2-7]\\d{6,7}|[89]\\d{6,8}|2\\d{5}",[6,7,8,9,12],[["(\\d)(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["43[1-6]|70[1-9]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["[356]|4[124-7]|7[1-9]|8[1-6]|9[1-7]"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["(?:70|8)0"],"0$1"],["(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3",["43[1-7]|7"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[48]|9[08]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"]],"0"],BH:["973","00","[136-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[13679]|8[02-4679]"]]]],BI:["257","00","(?:[267]\\d|31)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2367]"]]]],BJ:["229","00","(?:01\\d|[24-689])\\d{7}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["0"]]]],BL:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:2[7-9]|3[3-7]|5[12]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],BM:["1","011","(?:441|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","441$1",0,"441"],BN:["673","00","[2-578]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-578]"]]]],BO:["591","00(?:1\\d)?","8001\\d{5}|(?:[2-467]\\d|50)\\d{6}",[8,9],[["(\\d)(\\d{7})","$1 $2",["[235]|4[46]"]],["(\\d{8})","$1",["[67]"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["8"]]],"0",0,"0(1\\d)?"],BQ:["599","00","(?:[34]1|7\\d)\\d{5}",[7],0,0,0,0,0,0,"[347]"],BR:["55","00(?:1[245]|2[1-35]|31|4[13]|[56]5|99)","[1-467]\\d{9,10}|55[0-46-9]\\d{8}|[34]\\d{7}|55\\d{7,8}|(?:5[0-46-9]|[89]\\d)\\d{7,9}",[8,9,10,11],[["(\\d{4})(\\d{4})","$1-$2",["300|4(?:0[02]|37|86)","300|4(?:0(?:0|20)|370|864)"]],["(\\d{3})(\\d{2,3})(\\d{4})","$1 $2 $3",["(?:[358]|90)0"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2-$3",["(?:[14689][1-9]|2[12478]|3[1-578]|5[13-5]|7[13-579])[2-57]"],"($1)"],["(\\d{2})(\\d{5})(\\d{4})","$1 $2-$3",["[16][1-9]|[2-57-9]"],"($1)"]],"0",0,"(?:0|90)(?:(1[245]|2[1-35]|31|4[13]|[56]5|99)(\\d{10,11}))?","$2"],BS:["1","011","(?:242|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([3-8]\\d{6})$|1","242$1",0,"242"],BT:["975","00","[178]\\d{7}|[2-8]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[2-6]|7[246]|8[2-4]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[67]|[78]"]]]],BW:["267","00","(?:0800|(?:[37]|800)\\d)\\d{6}|(?:[2-6]\\d|90)\\d{5}",[7,8,10],[["(\\d{2})(\\d{5})","$1 $2",["90"]],["(\\d{3})(\\d{4})","$1 $2",["[24-6]|3[15-9]"]],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37]"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["8"]]]],BY:["375","810","(?:[12]\\d|33|44|902)\\d{7}|8(?:0[0-79]\\d{5,7}|[1-7]\\d{9})|8(?:1[0-489]|[5-79]\\d)\\d{7}|8[1-79]\\d{6,7}|8[0-79]\\d{5}|8\\d{5}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3})","$1 $2",["800"],"8 $1"],["(\\d{3})(\\d{2})(\\d{2,4})","$1 $2 $3",["800"],"8 $1"],["(\\d{4})(\\d{2})(\\d{3})","$1 $2-$3",["1(?:5[169]|6[3-5]|7[179])|2(?:1[35]|2[34]|3[3-5])","1(?:5[169]|6(?:3[1-3]|4|5[125])|7(?:1[3-9]|7[0-24-6]|9[2-7]))|2(?:1[35]|2[34]|3[3-5])"],"8 0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["1(?:[56]|7[467])|2[1-3]"],"8 0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-4]"],"8 0$1"],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["[89]"],"8 $1"]],"8",0,"0|80?",0,0,0,0,"8~10"],BZ:["501","00","(?:0800\\d|[2-8])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1-$2",["[2-8]"]],["(\\d)(\\d{3})(\\d{4})(\\d{3})","$1-$2-$3-$4",["0"]]]],CA:["1","011","[2-9]\\d{9}|3\\d{6}",[7,10],0,"1",0,0,0,0,0,[["(?:2(?:04|[23]6|[48]9|5[07]|63)|3(?:06|43|54|6[578]|82)|4(?:03|1[68]|[26]8|3[178]|50|74)|5(?:06|1[49]|48|79|8[147])|6(?:04|[18]3|39|47|72)|7(?:0[59]|42|53|78|8[02])|8(?:[06]7|19|25|7[39])|9(?:0[25]|42))[2-9]\\d{6}",[10]],["",[10]],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}",[10]],["900[2-9]\\d{6}",[10]],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|(?:5(?:2[125-9]|33|44|66|77|88)|6(?:22|33))[2-9]\\d{6}",[10]],0,["310\\d{4}",[7]],0,["600[2-9]\\d{6}",[10]]]],CC:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:02|31|60|89)|1(?:18|76)|223)|91(?:0(?:1[0-2]|29)|1(?:[28]2|50|79)|2(?:10|64)|3(?:[06]8|22)|4[29]8|62\\d|70[23]|959))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CD:["243","00","(?:(?:[189]|5\\d)\\d|2)\\d{7}|[1-68]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[1-6]"],"0$1"],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["5"],"0$1"]],"0"],CF:["236","00","(?:[27]\\d{3}|8776)\\d{4}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[278]"]]]],CG:["242","00","222\\d{6}|(?:0\\d|80)\\d{7}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[02]"]]]],CH:["41","00","8\\d{11}|[2-9]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8[047]|90"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]|81"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["8"],"0$1"]],"0"],CI:["225","00","[02]\\d{9}",[10],[["(\\d{2})(\\d{2})(\\d)(\\d{5})","$1 $2 $3 $4",["2"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3 $4",["0"]]]],CK:["682","00","[2-578]\\d{4}",[5],[["(\\d{2})(\\d{3})","$1 $2",["[2-578]"]]]],CL:["56","(?:0|1(?:1[0-69]|2[02-5]|5[13-58]|69|7[0167]|8[018]))0","12300\\d{6}|6\\d{9,10}|[2-9]\\d{8}",[9,10,11],[["(\\d{5})(\\d{4})","$1 $2",["219","2196"],"($1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["60|809"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["44"]],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2[1-36]"],"($1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["9(?:10|[2-9])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["3[2-5]|[47]|5[1-3578]|6[13-57]|8(?:0[1-8]|[1-9])"],"($1)"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["60|8"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{3})(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3 $4",["60"]]]],CM:["237","00","[26]\\d{8}|88\\d{6,7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["88"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[26]|88"]]]],CN:["86","00|1(?:[12]\\d|79)\\d\\d00","(?:(?:1[03-689]|2\\d)\\d\\d|6)\\d{8}|1\\d{10}|[126]\\d{6}(?:\\d(?:\\d{2})?)?|86\\d{5,6}|(?:[3-579]\\d|8[0-57-9])\\d{5,9}",[7,8,9,10,11,12],[["(\\d{2})(\\d{5,6})","$1 $2",["(?:10|2[0-57-9])[19]|3(?:[157]|35|49|9[1-68])|4(?:1[124-9]|2[179]|6[47-9]|7|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:07|1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3|4[13]|5[1-5]|7[0-79]|9[0-35-9])|(?:4[35]|59|85)[1-9]","(?:10|2[0-57-9])(?:1[02]|9[56])|8078|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))1","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|80781|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))12","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|807812|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123","10(?:1(?:0|23)|9[56])|2[0-57-9](?:1(?:00|23)|9[56])|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:1[124-9]|2[179]|[35][1-9]|6[47-9]|7\\d|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:078|1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|3\\d|4[13]|5[1-5]|7[0-79]|9[0-35-9]))123"],"0$1"],["(\\d{3})(\\d{5,6})","$1 $2",["3(?:[157]|35|49|9[1-68])|4(?:[17]|2[179]|6[47-9]|8[23])|5(?:[1357]|2[37]|4[36]|6[1-46]|80)|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]|4[13]|5[1-5])|(?:4[35]|59|85)[1-9]","(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[1-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))[19]","85[23](?:10|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:10|9[56])","85[23](?:100|95)|(?:3(?:[157]\\d|35|49|9[1-68])|4(?:[17]\\d|2[179]|[35][1-9]|6[47-9]|8[23])|5(?:[1357]\\d|2[37]|4[36]|6[1-46]|80|9[1-9])|6(?:3[1-5]|6[0238]|9[12])|7(?:01|[1579]\\d|2[248]|3[014-9]|4[3-6]|6[023689])|8(?:1[236-8]|2[5-7]|[37]\\d|5[14-9]|8[36-8]|9[1-8])|9(?:0[1-3689]|1[1-79]|[379]\\d|4[13]|5[1-5]))(?:100|9[56])"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["(?:4|80)0"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|2(?:[02-57-9]|1[1-9])","10|2(?:[02-57-9]|1[1-9])","10[0-79]|2(?:[02-57-9]|1[1-79])|(?:10|21)8(?:0[1-9]|[1-9])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["3(?:[3-59]|7[02-68])|4(?:[26-8]|3[3-9]|5[2-9])|5(?:3[03-9]|[468]|7[028]|9[2-46-9])|6|7(?:[0-247]|3[04-9]|5[0-4689]|6[2368])|8(?:[1-358]|9[1-7])|9(?:[013479]|5[1-5])|(?:[34]1|55|79|87)[02-9]"],"0$1",1],["(\\d{3})(\\d{7,8})","$1 $2",["9"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["80"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[3-578]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["1[3-9]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3 $4",["[12]"],"0$1",1]],"0",0,"(1(?:[12]\\d|79)\\d\\d)|0",0,0,0,0,"00"],CO:["57","00(?:4(?:[14]4|56)|[579])","(?:46|60\\d\\d)\\d{6}|(?:1\\d|[39])\\d{9}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["46"]],["(\\d{3})(\\d{7})","$1 $2",["6|90"],"($1)"],["(\\d{3})(\\d{7})","$1 $2",["3[0-357]|9[14]"]],["(\\d)(\\d{3})(\\d{7})","$1-$2-$3",["1"],"0$1",0,"$1 $2 $3"]],"0",0,"0([3579]|4(?:[14]4|56))?"],CR:["506","00","(?:8\\d|90)\\d{8}|(?:[24-8]\\d{3}|3005)\\d{4}",[8,10],[["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[3-9]"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["[89]"]]],0,0,"(19(?:0[0-2468]|1[09]|20|66|77|99))"],CU:["53","119","(?:[2-7]|8\\d\\d)\\d{7}|[2-47]\\d{6}|[34]\\d{5}",[6,7,8,10],[["(\\d{2})(\\d{4,6})","$1 $2",["2[1-4]|[34]"],"(0$1)"],["(\\d)(\\d{6,7})","$1 $2",["7"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["[56]"],"0$1"],["(\\d{3})(\\d{7})","$1 $2",["8"],"0$1"]],"0"],CV:["238","0","(?:[2-59]\\d\\d|800)\\d{4}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2-589]"]]]],CW:["599","00","(?:[34]1|60|(?:7|9\\d)\\d)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[3467]"]],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["9[4-8]"]]],0,0,0,0,0,"[69]"],CX:["61","001[14-689]|14(?:1[14]|34|4[17]|[56]6|7[47]|88)0011","1(?:[0-79]\\d{8}(?:\\d{2})?|8[0-24-9]\\d{7})|[148]\\d{8}|1\\d{5,7}",[6,7,8,9,10,12],0,"0",0,"([59]\\d{7})$|0","8$1",0,0,[["8(?:51(?:0(?:01|30|59|88)|1(?:17|46|75)|2(?:22|35))|91(?:00[6-9]|1(?:[28]1|49|78)|2(?:09|63)|3(?:12|26|75)|4(?:56|97)|64\\d|7(?:0[01]|1[0-2])|958))\\d{3}",[9]],["4(?:79[01]|83[0-389]|94[0-478])\\d{5}|4(?:[0-36]\\d|4[047-9]|[58][0-24-9]|7[02-8]|9[0-37-9])\\d{6}",[9]],["180(?:0\\d{3}|2)\\d{3}",[7,10]],["190[0-26]\\d{6}",[10]],0,0,0,0,["14(?:5(?:1[0458]|[23][458])|71\\d)\\d{4}",[9]],["13(?:00\\d{6}(?:\\d{2})?|45[0-4]\\d{3})|13\\d{4}",[6,8,10,12]]],"0011"],CY:["357","00","(?:[279]\\d|[58]0)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[257-9]"]]]],CZ:["420","00","(?:[2-578]\\d|60)\\d{7}|9\\d{8,11}",[9,10,11,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]|9[015-7]"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{2})","$1 $2 $3 $4",["96"]],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]]],DE:["49","00","[2579]\\d{5,14}|49(?:[34]0|69|8\\d)\\d\\d?|49(?:37|49|60|7[089]|9\\d)\\d{1,3}|49(?:2[024-9]|3[2-689]|7[1-7])\\d{1,8}|(?:1|[368]\\d|4[0-8])\\d{3,13}|49(?:[015]\\d|2[13]|31|[46][1-8])\\d{1,9}",[4,5,6,7,8,9,10,11,12,13,14,15],[["(\\d{2})(\\d{3,13})","$1 $2",["3[02]|40|[68]9"],"0$1"],["(\\d{3})(\\d{3,12})","$1 $2",["2(?:0[1-389]|1[124]|2[18]|3[14])|3(?:[35-9][15]|4[015])|906|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1","2(?:0[1-389]|12[0-8])|3(?:[35-9][15]|4[015])|906|2(?:[13][14]|2[18])|(?:2[4-9]|4[2-9]|[579][1-9]|[68][1-8])1"],"0$1"],["(\\d{4})(\\d{2,11})","$1 $2",["[24-6]|3(?:[3569][02-46-9]|4[2-4679]|7[2-467]|8[2-46-8])|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]","[24-6]|3(?:3(?:0[1-467]|2[127-9]|3[124578]|7[1257-9]|8[1256]|9[145])|4(?:2[135]|4[13578]|9[1346])|5(?:0[14]|2[1-3589]|6[1-4]|7[13468]|8[13568])|6(?:2[1-489]|3[124-6]|6[13]|7[12579]|8[1-356]|9[135])|7(?:2[1-7]|4[145]|6[1-5]|7[1-4])|8(?:21|3[1468]|6|7[1467]|8[136])|9(?:0[12479]|2[1358]|4[134679]|6[1-9]|7[136]|8[147]|9[1468]))|70[2-8]|8(?:0[2-9]|[1-8])|90[7-9]|[79][1-9]|3[68]4[1347]|3(?:47|60)[1356]|3(?:3[46]|46|5[49])[1246]|3[4579]3[1357]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["138"],"0$1"],["(\\d{5})(\\d{2,10})","$1 $2",["3"],"0$1"],["(\\d{3})(\\d{5,11})","$1 $2",["181"],"0$1"],["(\\d{3})(\\d)(\\d{4,10})","$1 $2 $3",["1(?:3|80)|9"],"0$1"],["(\\d{3})(\\d{7,8})","$1 $2",["1[67]"],"0$1"],["(\\d{3})(\\d{7,12})","$1 $2",["8"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["185","1850","18500"],"0$1"],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["18[68]"],"0$1"],["(\\d{4})(\\d{7})","$1 $2",["15[1279]"],"0$1"],["(\\d{5})(\\d{6})","$1 $2",["15[03568]","15(?:[0568]|3[13])"],"0$1"],["(\\d{3})(\\d{8})","$1 $2",["18"],"0$1"],["(\\d{3})(\\d{2})(\\d{7,8})","$1 $2 $3",["1(?:6[023]|7)"],"0$1"],["(\\d{4})(\\d{2})(\\d{7})","$1 $2 $3",["15[279]"],"0$1"],["(\\d{3})(\\d{2})(\\d{8})","$1 $2 $3",["15"],"0$1"]],"0"],DJ:["253","00","(?:2\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[27]"]]]],DK:["45","00","[2-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-9]"]]]],DM:["1","011","(?:[58]\\d\\d|767|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","767$1",0,"767"],DO:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,0,0,0,"8001|8[024]9"],DZ:["213","00","(?:[1-4]|[5-79]\\d|80)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["9"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-8]"],"0$1"]],"0"],EC:["593","00","1\\d{9,10}|(?:[2-7]|9\\d)\\d{7}",[8,9,10,11],[["(\\d)(\\d{3})(\\d{4})","$1 $2-$3",["[2-7]"],"(0$1)",0,"$1-$2-$3"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{3})(\\d{3,4})","$1 $2 $3",["1"]]],"0"],EE:["372","00","8\\d{9}|[4578]\\d{7}|(?:[3-8]\\d|90)\\d{5}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[369]|4[3-8]|5(?:[0-2]|5[0-478]|6[45])|7[1-9]|88","[369]|4[3-8]|5(?:[02]|1(?:[0-8]|95)|5[0-478]|6(?:4[0-4]|5[1-589]))|7[1-9]|88"]],["(\\d{4})(\\d{3,4})","$1 $2",["[45]|8(?:00|[1-49])","[45]|8(?:00[1-9]|[1-49])"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],EG:["20","00","[189]\\d{8,9}|[24-6]\\d{8}|[135]\\d{7}",[8,9,10],[["(\\d)(\\d{7,8})","$1 $2",["[23]"],"0$1"],["(\\d{2})(\\d{6,7})","$1 $2",["1[35]|[4-6]|8[2468]|9[235-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{8})","$1 $2",["1"],"0$1"]],"0"],EH:["212","00","[5-8]\\d{8}",[9],0,"0",0,0,0,0,"528[89]"],ER:["291","00","[178]\\d{6}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[178]"],"0$1"]],"0"],ES:["34","00","[5-9]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[89]00"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-9]"]]]],ET:["251","00","(?:11|[2-579]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-579]"],"0$1"]],"0"],FI:["358","00|99(?:[01469]|5(?:[14]1|3[23]|5[59]|77|88|9[09]))","[1-35689]\\d{4}|7\\d{10,11}|(?:[124-7]\\d|3[0-46-9])\\d{8}|[1-9]\\d{5,8}",[5,6,7,8,9,10,11,12],[["(\\d{5})","$1",["20[2-59]"],"0$1"],["(\\d{3})(\\d{3,7})","$1 $2",["(?:[1-3]0|[68])0|70[07-9]"],"0$1"],["(\\d{2})(\\d{4,8})","$1 $2",["[14]|2[09]|50|7[135]"],"0$1"],["(\\d{2})(\\d{6,10})","$1 $2",["7"],"0$1"],["(\\d)(\\d{4,9})","$1 $2",["(?:19|[2568])[1-8]|3(?:0[1-9]|[1-9])|9"],"0$1"]],"0",0,0,0,0,"1[03-79]|[2-9]",0,"00"],FJ:["679","0(?:0|52)","45\\d{5}|(?:0800\\d|[235-9])\\d{6}",[7,11],[["(\\d{3})(\\d{4})","$1 $2",["[235-9]|45"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]]],0,0,0,0,0,0,0,"00"],FK:["500","00","[2-7]\\d{4}",[5]],FM:["691","00","(?:[39]\\d\\d|820)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[389]"]]]],FO:["298","00","[2-9]\\d{5}",[6],[["(\\d{6})","$1",["[2-9]"]]],0,0,"(10(?:01|[12]0|88))"],FR:["33","00","[1-9]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0 $1"],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["[1-79]"],"0$1"]],"0"],GA:["241","00","(?:[067]\\d|11)\\d{6}|[2-7]\\d{6}",[7,8],[["(\\d)(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-7]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["11|[67]"],"0$1"]],0,0,"0(11\\d{6}|60\\d{6}|61\\d{6}|6[256]\\d{6}|7[467]\\d{6})","$1"],GB:["44","00","[1-357-9]\\d{9}|[18]\\d{8}|8\\d{6}",[7,9,10],[["(\\d{3})(\\d{4})","$1 $2",["800","8001","80011","800111","8001111"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["845","8454","84546","845464"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["800"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["1(?:38|5[23]|69|76|94)","1(?:(?:38|69)7|5(?:24|39)|768|946)","1(?:3873|5(?:242|39[4-6])|(?:697|768)[347]|9467)"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["1(?:[2-69][02-9]|[78])"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[25]|7(?:0|6[02-9])","[25]|7(?:0|6(?:[03-9]|2[356]))"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[1389]"],"0$1"]],"0",0,"0|180020",0,0,0,[["(?:1(?:1(?:3(?:[0-58]\\d\\d|73[0-35])|4(?:(?:[0-5]\\d|70)\\d|69[7-9])|(?:(?:5[0-26-9]|[78][0-49])\\d|6(?:[0-4]\\d|50))\\d)|(?:2(?:(?:0[024-9]|2[3-9]|3[3-79]|4[1-689]|[58][02-9]|6[0-47-9]|7[013-9]|9\\d)\\d|1(?:[0-7]\\d|8[0-3]))|(?:3(?:0\\d|1[0-8]|[25][02-9]|3[02-579]|[468][0-46-9]|7[1-35-79]|9[2-578])|4(?:0[03-9]|[137]\\d|[28][02-57-9]|4[02-69]|5[0-8]|[69][0-79])|5(?:0[1-35-9]|[16]\\d|2[024-9]|3[015689]|4[02-9]|5[03-9]|7[0-35-9]|8[0-468]|9[0-57-9])|6(?:0[034689]|1\\d|2[0-35689]|[38][013-9]|4[1-467]|5[0-69]|6[13-9]|7[0-8]|9[0-24578])|7(?:0[0246-9]|2\\d|3[0236-8]|4[03-9]|5[0-46-9]|6[013-9]|7[0-35-9]|8[024-9]|9[02-9])|8(?:0[35-9]|2[1-57-9]|3[02-578]|4[0-578]|5[124-9]|6[2-69]|7\\d|8[02-9]|9[02569])|9(?:0[02-589]|[18]\\d|2[02-689]|3[1-57-9]|4[2-9]|5[0-579]|6[2-47-9]|7[0-24578]|9[2-57]))\\d)\\d)|2(?:0[013478]|3[0189]|4[017]|8[0-46-9]|9[0-2])\\d{3})\\d{4}|1(?:2(?:0(?:46[1-4]|87[2-9])|545[1-79]|76(?:2\\d|3[1-8]|6[1-6])|9(?:7(?:2[0-4]|3[2-5])|8(?:2[2-8]|7[0-47-9]|8[3-5])))|3(?:6(?:38[2-5]|47[23])|8(?:47[04-9]|64[0157-9]))|4(?:044[1-7]|20(?:2[23]|8\\d)|6(?:0(?:30|5[2-57]|6[1-8]|7[2-8])|140)|8(?:052|87[1-3]))|5(?:2(?:4(?:3[2-79]|6\\d)|76\\d)|6(?:26[06-9]|686))|6(?:06(?:4\\d|7[4-79])|295[5-7]|35[34]\\d|47(?:24|61)|59(?:5[08]|6[67]|74)|9(?:55[0-4]|77[23]))|7(?:26(?:6[13-9]|7[0-7])|(?:442|688)\\d|50(?:2[0-3]|[3-68]2|76))|8(?:27[56]\\d|37(?:5[2-5]|8[239])|843[2-58])|9(?:0(?:0(?:6[1-8]|85)|52\\d)|3583|4(?:66[1-8]|9(?:2[01]|81))|63(?:23|3[1-4])|9561))\\d{3}",[9,10]],["7(?:457[0-57-9]|700[01]|911[028])\\d{5}|7(?:[1-3]\\d\\d|4(?:[0-46-9]\\d|5[0-689])|5(?:0[0-8]|[13-9]\\d|2[0-35-9])|7(?:0[1-9]|[1-7]\\d|8[02-9]|9[0-689])|8(?:[014-9]\\d|[23][0-8])|9(?:[024-9]\\d|1[02-9]|3[0-689]))\\d{6}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[2-49]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]],0," x"],GD:["1","011","(?:473|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","473$1",0,"473"],GE:["995","00","(?:[3-57]\\d\\d|800)\\d{6}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["32"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[57]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[348]"],"0$1"]],"0"],GF:["594","00","(?:[56]94\\d|7093)\\d{5}|(?:80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]|9[47]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[89]"],"0$1"]],"0"],GG:["44","00","(?:1481|[357-9]\\d{3})\\d{6}|8\\d{6}(?:\\d{2})?",[7,9,10],0,"0",0,"([25-9]\\d{5})$|0|180020","1481$1",0,0,[["1481[25-9]\\d{5}",[10]],["7(?:(?:781|839)\\d|911[17])\\d{5}",[10]],["80[08]\\d{7}|800\\d{6}|8001111"],["(?:8(?:4[2-5]|7[0-3])|9(?:[01]\\d|8[0-3]))\\d{7}|845464\\d",[7,10]],["70\\d{8}",[10]],0,["(?:3[0347]|55)\\d{8}",[10]],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}",[10]],["56\\d{8}",[10]]]],GH:["233","00","(?:[235]\\d{3}|800)\\d{5}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[235]"],"0$1"]],"0"],GI:["350","00","(?:[25]\\d|60)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["2"]]]],GL:["299","00","(?:19|[2-689]\\d|70)\\d{4}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["19|[2-9]"]]]],GM:["220","00","[2-9]\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],GN:["224","00","722\\d{6}|(?:3|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["3"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[67]"]]]],GP:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0",0,0,0,0,0,[["590(?:0[1-68]|[14][0-24-9]|2[0-68]|3[1-9]|5[3-579]|[68][0-689]|7[08]|9\\d)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],GQ:["240","00","222\\d{6}|(?:3\\d|55|[89]0)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235]"]],["(\\d{3})(\\d{6})","$1 $2",["[89]"]]]],GR:["30","00","5005000\\d{3}|8\\d{9,11}|(?:[269]\\d|70)\\d{8}",[10,11,12],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["21|7"]],["(\\d{4})(\\d{6})","$1 $2",["2(?:2|3[2-57-9]|4[2-469]|5[2-59]|6[2-9]|7[2-69]|8[2-49])|5"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2689]"]],["(\\d{3})(\\d{3,4})(\\d{5})","$1 $2 $3",["8"]]]],GT:["502","00","80\\d{6}|(?:1\\d{3}|[2-7])\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1 $2",["[2-8]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],GU:["1","011","(?:[58]\\d\\d|671|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","671$1",0,"671"],GW:["245","00","[49]\\d{8}|4\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["40"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"]]]],GY:["592","001","(?:[2-8]\\d{3}|9008)\\d{3}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],HK:["852","00(?:30|5[09]|[126-9]?)","8[0-46-9]\\d{6,7}|9\\d{4,7}|(?:[2-7]|9\\d{3})\\d{7}",[5,6,7,8,9,11],[["(\\d{3})(\\d{2,5})","$1 $2",["900","9003"]],["(\\d{4})(\\d{4})","$1 $2",["[2-7]|8[1-4]|9(?:0[1-9]|[1-8])"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{3})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["9"]]],0,0,0,0,0,0,0,"00"],HN:["504","00","8\\d{10}|[237-9]\\d{7}",[8,11],[["(\\d{4})(\\d{4})","$1-$2",["[237-9]"]]]],HR:["385","00","[2-69]\\d{8}|80\\d{5,7}|[1-79]\\d{7}|6\\d{6}",[7,8,9],[["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["6[01]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{4})(\\d{3})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6|7[245]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-57]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"]],"0"],HT:["509","00","[2-589]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[2-589]"]]]],HU:["36","00","[235-7]\\d{8}|[1-9]\\d{7}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27][2-9]|3[2-7]|4[24-9]|5[2-79]|6|8[2-57-9]|9[2-69]"],"(06 $1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"06 $1"]],"06"],ID:["62","00[89]","00[1-9]\\d{9,14}|(?:[1-36]|8\\d{5})\\d{6}|00\\d{9}|[1-9]\\d{8,10}|[2-9]\\d{7}",[7,8,9,10,11,12,13,14,15,16,17],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["15"]],["(\\d{2})(\\d{5,9})","$1 $2",["2[124]|[36]1"],"(0$1)"],["(\\d{3})(\\d{5,7})","$1 $2",["800"],"0$1"],["(\\d{3})(\\d{5,8})","$1 $2",["[2-79]"],"(0$1)"],["(\\d{3})(\\d{3,4})(\\d{3})","$1-$2-$3",["8[1-35-9]"],"0$1"],["(\\d{3})(\\d{6,8})","$1 $2",["1"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["804"],"0$1"],["(\\d{3})(\\d)(\\d{3})(\\d{3})","$1 $2 $3 $4",["80"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1-$2-$3",["8"],"0$1"]],"0"],IE:["353","00","(?:1\\d|[2569])\\d{6,8}|4\\d{6,9}|7\\d{8}|8\\d{8,9}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["2[24-9]|47|58|6[237-9]|9[35-9]"],"(0$1)"],["(\\d{3})(\\d{5})","$1 $2",["[45]0"],"(0$1)"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["1"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2569]|4[1-69]|7[14]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["70"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["81"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[78]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["4"],"(0$1)"],["(\\d{2})(\\d)(\\d{3})(\\d{4})","$1 $2 $3 $4",["8"],"0$1"]],"0"],IL:["972","0(?:0|1[2-9])","1\\d{6}(?:\\d{3,5})?|[57]\\d{8}|[1-489]\\d{7}",[7,8,9,10,11,12],[["(\\d{4})(\\d{3})","$1-$2",["125"]],["(\\d{4})(\\d{2})(\\d{2})","$1-$2-$3",["121"]],["(\\d)(\\d{3})(\\d{4})","$1-$2-$3",["[2-489]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1-$2-$3",["12"]],["(\\d{4})(\\d{6})","$1-$2",["159"]],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3-$4",["1[7-9]"]],["(\\d{3})(\\d{1,2})(\\d{3})(\\d{4})","$1-$2 $3-$4",["15"]]],"0"],IM:["44","00","1624\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([25-8]\\d{5})$|0|180020","1624$1",0,"74576|(?:16|7[56])24"],IN:["91","00","(?:000800|[2-9]\\d\\d)\\d{7}|1\\d{7,12}",[8,9,10,11,12,13],[["(\\d{8})","$1",["5(?:0|2[23]|3[03]|[67]1|88)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|888)","5(?:0|2(?:21|3)|3(?:0|3[23])|616|717|8888)"],0,1],["(\\d{4})(\\d{4,5})","$1 $2",["180","1800"],0,1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["140"],0,1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["11|2[02]|33|4[04]|79[1-7]|80[2-46]","11|2[02]|33|4[04]|79(?:[1-6]|7[19])|80(?:[2-4]|6[0-589])","11|2[02]|33|4[04]|79(?:[124-6]|3(?:[02-9]|1[0-24-9])|7(?:1|9[1-6]))|80(?:[2-4]|6[0-589])"],"0$1",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1(?:2[0-249]|3[0-25]|4[145]|[68]|7[1257])|2(?:1[257]|3[013]|4[01]|5[0137]|6[0158]|78|8[1568])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|5[12]|[78]1)|6(?:12|[2-4]1|5[17]|6[13]|80)|7(?:12|3[134]|4[47]|61|88)|8(?:16|2[014]|3[126]|6[136]|7[078]|8[34]|91)|(?:43|59|75)[15]|(?:1[59]|29|67|72)[14]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|674|7(?:(?:2[14]|3[34]|5[15])[2-6]|61[346]|88[0-8])|8(?:70[2-6]|84[235-7]|91[3-7])|(?:1(?:29|60|8[06])|261|552|6(?:12|[2-47]1|5[17]|6[13]|80)|7(?:12|31|4[47])|8(?:16|2[014]|3[126]|6[136]|7[78]|83))[2-7]","1(?:2[0-24]|3[0-25]|4[145]|[59][14]|6[1-9]|7[1257]|8[1-57-9])|2(?:1[257]|3[013]|4[01]|5[0137]|6[058]|78|8[1568]|9[14])|3(?:26|4[1-3]|5[34]|6[01489]|7[02-46]|8[159])|4(?:1[36]|2[1-47]|3[15]|5[12]|6[0-26-9]|7[0-24-9]|8[013-57]|9[014-7])|5(?:1[025]|22|[36][25]|4[28]|[578]1|9[15])|6(?:12(?:[2-6]|7[0-8])|74[2-7])|7(?:(?:2[14]|5[15])[2-6]|3171|61[346]|88(?:[2-7]|82))|8(?:70[2-6]|84(?:[2356]|7[19])|91(?:[3-6]|7[19]))|73[134][2-6]|(?:74[47]|8(?:16|2[014]|3[126]|6[136]|7[78]|83))(?:[2-6]|7[19])|(?:1(?:29|60|8[06])|261|552|6(?:[2-4]1|5[17]|6[13]|7(?:1|4[0189])|80)|7(?:12|88[01]))[2-7]"],"0$1",1],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2[2457-9]|3[2-5]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1[013-9]|28|3[129]|4[1-35689]|5[29]|6[02-5]|70)|807","1(?:[2-479]|5[0235-9])|[2-5]|6(?:1[1358]|2(?:[2457]|84|95)|3(?:[2-4]|55)|4[235-7]|5[2-689]|6[24578]|7[235689]|8[1-6])|7(?:1(?:[013-8]|9[6-9])|28[6-8]|3(?:17|2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4|5[0-367])|70[13-7])|807[19]","1(?:[2-479]|5(?:[0236-9]|5[013-9]))|[2-5]|6(?:2(?:84|95)|355|83)|73179|807(?:1|9[1-3])|(?:1552|6(?:1[1358]|2[2457]|3[2-4]|4[235-7]|5[2-689]|6[24578]|7[235689]|8[124-6])\\d|7(?:1(?:[013-8]\\d|9[6-9])|28[6-8]|3(?:2[0-49]|9[2-57])|4(?:1[2-4]|[29][0-7]|3[0-8]|[56]\\d|8[0-24-7])|5(?:2[1-3]|9[0-6])|6(?:0[5689]|2[5-9]|3[02-8]|4\\d|5[0-367])|70[13-7]))[2-7]"],"0$1",1],["(\\d{5})(\\d{5})","$1 $2",["[6-9]"],"0$1",1],["(\\d{4})(\\d{2,4})(\\d{4})","$1 $2 $3",["1(?:6|8[06])","1(?:6|8[06]0)"],0,1],["(\\d{4})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["18"],0,1]],"0"],IO:["246","00","3\\d{6}",[7],[["(\\d{3})(\\d{4})","$1 $2",["3"]]]],IQ:["964","00","(?:1|7\\d\\d)\\d{7}|[2-6]\\d{7,8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-6]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],IR:["98","00","[1-9]\\d{9}|(?:[1-8]\\d\\d|9)\\d{3,4}",[4,5,6,7,10],[["(\\d{4,5})","$1",["96"],"0$1"],["(\\d{2})(\\d{4,5})","$1 $2",["(?:1[137]|2[13-68]|3[1458]|4[145]|5[1468]|6[16]|7[1467]|8[13467])[12689]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["9"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["[1-8]"],"0$1"]],"0"],IS:["354","00|1(?:0(?:01|[12]0)|100)","(?:38\\d|[4-9])\\d{6}",[7,9],[["(\\d{3})(\\d{4})","$1 $2",["[4-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["3"]]],0,0,0,0,0,0,0,"00"],IT:["39","00","0\\d{5,11}|1\\d{8,10}|3(?:[0-8]\\d{7,10}|9\\d{7,8})|(?:43|55|70)\\d{8}|8\\d{5}(?:\\d{2,4})?",[6,7,8,9,10,11,12],[["(\\d{2})(\\d{4,6})","$1 $2",["0[26]"]],["(\\d{3})(\\d{3,6})","$1 $2",["0[13-57-9][0159]|8(?:03|4[17]|9[2-5])","0[13-57-9][0159]|8(?:03|4[17]|9(?:2|3[04]|[45][0-4]))"]],["(\\d{4})(\\d{2,6})","$1 $2",["0(?:[13-579][2-46-8]|8[236-8])"]],["(\\d{4})(\\d{4})","$1 $2",["894"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[26]|5"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["1(?:44|[679])|[378]|43"]],["(\\d{3})(\\d{3,4})(\\d{4})","$1 $2 $3",["0[13-57-9][0159]|14"]],["(\\d{2})(\\d{4})(\\d{5})","$1 $2 $3",["0[26]"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[03]"]]],0,0,0,0,0,0,[["0(?:669[0-79]\\d{1,6}|831\\d{2,8})|0(?:1(?:[0159]\\d|[27][1-5]|31|4[1-4]|6[1356]|8[2-57])|2\\d\\d|3(?:[0159]\\d|2[1-4]|3[12]|[48][1-6]|6[2-59]|7[1-7])|4(?:[0159]\\d|[23][1-9]|4[245]|6[1-5]|7[1-4]|81)|5(?:[0159]\\d|2[1-5]|3[2-6]|4[1-79]|6[4-6]|7[1-578]|8[3-8])|6(?:[0-57-9]\\d|6[0-8])|7(?:[0159]\\d|2[12]|3[1-7]|4[2-46]|6[13569]|7[13-6]|8[1-59])|8(?:[0159]\\d|2[3-578]|3[2356]|[6-8][1-5])|9(?:[0159]\\d|[238][1-5]|4[12]|6[1-8]|7[1-6]))\\d{2,7}"],["3[2-9]\\d{7,8}|(?:31|43)\\d{8}",[9,10]],["80(?:0\\d{3}|3)\\d{3}",[6,9]],["(?:0878\\d{3}|89(?:2\\d|3[04]|4(?:[0-4]|[5-9]\\d\\d)|5[0-4]))\\d\\d|(?:1(?:44|6[346])|89(?:38|5[5-9]|9))\\d{6}",[6,8,9,10]],["1(?:78\\d|99)\\d{6}",[9,10]],["3[2-8]\\d{9,10}",[11,12]],0,0,["55\\d{8}",[10]],["84(?:[08]\\d{3}|[17])\\d{3}",[6,9]]]],JE:["44","00","1534\\d{6}|(?:[3578]\\d|90)\\d{8}",[10],0,"0",0,"([0-24-8]\\d{5})$|0|180020","1534$1",0,0,[["1534[0-24-8]\\d{5}"],["7(?:(?:(?:50|82)9|937)\\d|7(?:00[378]|97\\d))\\d{5}"],["80(?:07(?:35|81)|8901)\\d{4}"],["(?:8(?:4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|90(?:066[59]|1810|71(?:07|55)))\\d{4}"],["701511\\d{4}"],0,["(?:3(?:0(?:07(?:35|81)|8901)|3\\d{4}|4(?:4(?:4(?:05|42|69)|703)|5(?:041|800))|7(?:0002|1206))|55\\d{4})\\d{4}"],["76(?:464|652)\\d{5}|76(?:0[0-28]|2[356]|34|4[01347]|5[49]|6[0-369]|77|8[14]|9[139])\\d{6}"],["56\\d{8}"]]],JM:["1","011","(?:[58]\\d\\d|658|900)\\d{7}",[10],0,"1",0,0,0,0,"658|876"],JO:["962","00","(?:(?:[2689]|7\\d)\\d|32|53)\\d{6}",[8,9],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2356]|87"],"(0$1)"],["(\\d{3})(\\d{5,6})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["70"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["7"],"0$1"]],"0"],JP:["81","010","00[1-9]\\d{6,14}|[25-9]\\d{9}|(?:00|[1-9]\\d\\d)\\d{6}",[8,9,10,11,12,13,14,15,16,17],[["(\\d{3})(\\d{3})(\\d{3})","$1-$2-$3",["(?:12|57|99)0"],"0$1"],["(\\d{4})(\\d)(\\d{4})","$1-$2-$3",["1(?:26|3[79]|4[56]|5[4-68]|6[3-5])|499|5(?:76|97)|746|8(?:3[89]|47|51)|9(?:80|9[16])","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:76|97)9|7468|8(?:3(?:8[7-9]|96)|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]","1(?:267|3(?:7[247]|9[278])|466|5(?:47|58|64)|6(?:3[245]|48|5[4-68]))|499[2468]|5(?:769|979[2-69])|7468|8(?:3(?:8[7-9]|96[2457-9])|477|51[2-9])|9(?:802|9(?:1[23]|69))|1(?:45|58)[67]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["60"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2-$3",["3|4(?:2[09]|7[01])|6[1-9]","3|4(?:2(?:0|9[02-69])|7(?:0[019]|1))|6[1-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["1(?:1|5[45]|77|88|9[69])|2(?:2[1-37]|3[0-269]|4[59]|5|6[24]|7[1-358]|8[1369]|9[0-38])|4(?:[28][1-9]|3[0-57]|[45]|6[248]|7[2-579]|9[29])|5(?:2|3[0459]|4[0-369]|5[29]|8[02389]|9[0-389])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9[2-6])|8(?:2[124589]|3[26-9]|49|51|6|7[0-468]|8[68]|9[019])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9[1-489])","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2(?:[127]|3[014-9])|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9[19])|62|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|8[1-9]|9[29])|5(?:2|3(?:[045]|9[0-8])|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0-2469])|3(?:[29]|60)|49|51|6(?:[0-24]|36|5[0-3589]|7[23]|9[01459])|7[0-468]|8[68])|9(?:[23][1-9]|4[15]|5[138]|6[1-3]|7[156]|8[189]|9(?:[1289]|3[34]|4[0178]))|(?:264|837)[016-9]|2(?:57|93)[015-9]|(?:25[0468]|422|838)[01]|(?:47[59]|59[89]|8(?:6[68]|9))[019]","1(?:1|5(?:4[018]|5[017])|77|88|9[69])|2(?:2[127]|3[0-269]|4[59]|5(?:[1-3]|5[0-69]|9(?:17|99))|6(?:2|4[016-9])|7(?:[1-35]|8[0189])|8(?:[16]|3[0134]|9[0-5])|9(?:[028]|17))|4(?:2(?:[13-79]|8[014-6])|3[0-57]|[45]|6[248]|7[2-47]|9[29])|5(?:2|3(?:[045]|9(?:[0-58]|6[4-9]|7[0-35689]))|4[0-369]|5[29]|8[02389]|9[0-3])|7(?:2[02-46-9]|34|[58]|6[0249]|7[57]|9(?:[23]|4[0-59]|5[01569]|6[0167]))|8(?:2(?:[1258]|4[0-39]|9[0169])|3(?:[29]|60|7(?:[017-9]|6[6-8]))|49|51|6(?:[0-24]|36[2-57-9]|5(?:[0-389]|5[23])|6(?:[01]|9[178])|7(?:2[2-468]|3[78])|9[0145])|7[0-468]|8[68])|9(?:4[15]|5[138]|7[156]|8[189]|9(?:[1289]|3(?:31|4[357])|4[0178]))|(?:8294|96)[1-3]|2(?:57|93)[015-9]|(?:223|8699)[014-9]|(?:25[0468]|422|838)[01]|(?:48|8292|9[23])[1-9]|(?:47[59]|59[89]|8(?:68|9))[019]"],"0$1"],["(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3",["[14]|[289][2-9]|5[3-9]|7[2-4679]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1-$2-$3",["800"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[25-9]"],"0$1"]],"0",0,"(000[2569]\\d{4,6})$|(?:(?:003768)0?)|0","$1"],KE:["254","000","(?:[17]\\d\\d|900)\\d{6}|(?:2|80)0\\d{6,7}|[4-6]\\d{6,8}",[7,8,9,10],[["(\\d{2})(\\d{5,7})","$1 $2",["[24-6]"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[17]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0"],KG:["996","00","8\\d{9}|[235-9]\\d{8}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["3(?:1[346]|[24-79])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-79]|88"],"0$1"],["(\\d{3})(\\d{3})(\\d)(\\d{2,3})","$1 $2 $3 $4",["8"],"0$1"]],"0"],KH:["855","00[14-9]","1\\d{9}|[1-9]\\d{7,8}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],KI:["686","00","(?:[37]\\d|6[0-79])\\d{6}|(?:[2-48]\\d|50)\\d{3}",[5,8],0,"0"],KM:["269","00","[3478]\\d{6}",[7],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[3478]"]]]],KN:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","869$1",0,"869"],KP:["850","00|99","85\\d{6}|(?:19\\d|[2-7])\\d{7}",[8,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2-7]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"]],"0"],KR:["82","00(?:[125689]|3(?:[46]5|91)|7(?:00|27|3|55|6[126]))","00[1-9]\\d{8,11}|(?:[12]|5\\d{3})\\d{7}|[13-6]\\d{9}|(?:[1-6]\\d|80)\\d{7}|[3-6]\\d{4,5}|(?:00|7)0\\d{8}",[5,6,8,9,10,11,12,13,14],[["(\\d{2})(\\d{3,4})","$1-$2",["(?:3[1-3]|[46][1-4]|5[1-5])1"],"0$1"],["(\\d{4})(\\d{4})","$1-$2",["1"]],["(\\d)(\\d{3,4})(\\d{4})","$1-$2-$3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1-$2-$3",["[36]0|8"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1-$2-$3",["[1346]|5[1-5]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2-$3",["[57]"],"0$1"],["(\\d{2})(\\d{5})(\\d{4})","$1-$2-$3",["5"],"0$1"]],"0",0,"0(8(?:[1-46-8]|5\\d\\d))?"],KW:["965","00","18\\d{5}|(?:[2569]\\d|41)\\d{6}",[7,8],[["(\\d{4})(\\d{3,4})","$1 $2",["[169]|2(?:[235]|4[1-35-9])|52"]],["(\\d{3})(\\d{5})","$1 $2",["[245]"]]]],KY:["1","011","(?:345|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","345$1",0,"345"],KZ:["7","810","(?:33622|8\\d{8})\\d{5}|[78]\\d{9}",[10,14],0,"8",0,0,0,0,"33622|7",0,"8~10"],LA:["856","00","[23]\\d{9}|3\\d{8}|(?:[235-8]\\d|41)\\d{6}",[8,9,10],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2[13]|3[14]|[4-8]"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["3"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[23]"],"0$1"]],"0"],LB:["961","00","[27-9]\\d{7}|[13-9]\\d{6}",[7,8],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[13-69]|7(?:[2-57]|62|8[0-6]|9[04-9])|8[02-9]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[27-9]"]]],"0"],LC:["1","011","(?:[58]\\d\\d|758|900)\\d{7}",[10],0,"1",0,"([2-8]\\d{6})$|1","758$1",0,"758"],LI:["423","00","[68]\\d{8}|(?:[2378]\\d|90)\\d{5}",[7,9],[["(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3",["[2379]|8(?:0[09]|7)","[2379]|8(?:0(?:02|9)|7)"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["69"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]]],"0",0,"(1001)|0"],LK:["94","00","[1-9]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[1-689]"],"0$1"]],"0"],LR:["231","00","(?:[2457]\\d|33|88)\\d{7}|(?:2\\d|[4-6])\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["4[67]|[56]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[2-578]"],"0$1"]],"0"],LS:["266","00","(?:[256]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2568]"]]]],LT:["370","00","(?:[3469]\\d|52|[78]0)\\d{6}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["52[0-7]"],"(0-$1)",1],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[7-9]"],"0 $1",1],["(\\d{2})(\\d{6})","$1 $2",["37|4(?:[15]|6[1-8])"],"(0-$1)",1],["(\\d{3})(\\d{5})","$1 $2",["[3-6]"],"(0-$1)",1]],"0",0,"[08]"],LU:["352","00","35[013-9]\\d{4,8}|6\\d{8}|35\\d{2,4}|(?:[2457-9]\\d|3[0-46-9])\\d{2,9}",[4,5,6,7,8,9,10,11],[["(\\d{2})(\\d{3})","$1 $2",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["2(?:0[2-689]|[2-9])|[3-57]|8(?:0[2-9]|[13-9])|9(?:0[89]|[2-579])"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["20[2-689]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4",["2(?:[0367]|4[3-8])"]],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["80[01]|90[015]"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3 $4",["20"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})(\\d{1,2})","$1 $2 $3 $4 $5",["2(?:[0367]|4[3-8])"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{1,5})","$1 $2 $3 $4",["[3-57]|8[13-9]|9(?:0[89]|[2-579])|(?:2|80)[2-9]"]]],0,0,"(15(?:0[06]|1[12]|[35]5|4[04]|6[26]|77|88|99)\\d)"],LV:["371","00","(?:[268]\\d|78|90)\\d{6}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2679]|8[01]"]]]],LY:["218","00","[2-9]\\d{8}",[9],[["(\\d{2})(\\d{7})","$1-$2",["[2-9]"],"0$1"]],"0"],MA:["212","00","[5-8]\\d{8}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5[45]"],"0$1"],["(\\d{4})(\\d{5})","$1-$2",["5(?:2[2-46-9]|3[3-9]|9)|8(?:0[89]|92)"],"0$1"],["(\\d{2})(\\d{7})","$1-$2",["8"],"0$1"],["(\\d{3})(\\d{6})","$1-$2",["[5-7]"],"0$1"]],"0",0,0,0,0,0,[["5(?:2(?:[0-25-79]\\d|3[1-578]|4[02-46-8]|8[0235-7])|3(?:[0-47]\\d|5[02-9]|6[02-8]|8[014-9]|9[3-9])|(?:4[067]|5[03])\\d)\\d{5}"],["(?:6(?:[0-79]\\d|8[0-247-9])|7(?:[0167]\\d|2[0-8]|5[0-5]|8[0-7]))\\d{6}"],["80[0-7]\\d{6}"],["89\\d{7}"],0,0,0,0,["(?:592(?:4[0-2]|93)|80[89]\\d\\d)\\d{4}"]]],MC:["377","00","(?:[3489]|6\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["4"],"0$1"],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[389]"]],["(\\d)(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4 $5",["6"],"0$1"]],"0"],MD:["373","00","(?:[235-7]\\d|[89]0)\\d{6}",[8],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["22|3"],"0$1"],["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["[25-7]"],"0$1"]],"0"],ME:["382","00","(?:20|[3-79]\\d)\\d{6}|80\\d{6,7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[2-9]"],"0$1"]],"0"],MF:["590","00","(?:590\\d|7090)\\d{5}|(?:69|80|9\\d)\\d{7}",[9],0,"0",0,0,0,0,0,[["590(?:0[079]|[14]3|[27][79]|3[03-7]|5[0-268]|87)\\d{4}"],["(?:69(?:0\\d\\d|1(?:2[2-9]|3[0-5])|4(?:0[89]|1[2-6]|9\\d)|6(?:1[016-9]|5[0-4]|[67]\\d))|7090[0-4])\\d{4}"],["80[0-5]\\d{6}"],0,0,0,0,0,["9(?:(?:39[5-7]|76[018])\\d|475[0-6])\\d{4}"]]],MG:["261","00","[23]\\d{8}",[9],[["(\\d{2})(\\d{2})(\\d{3})(\\d{2})","$1 $2 $3 $4",["[23]"],"0$1"]],"0",0,"([24-9]\\d{6})$|0","20$1"],MH:["692","011","329\\d{4}|(?:[256]\\d|45)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1-$2",["[2-6]"]]],"1"],MK:["389","00","[2-578]\\d{7}",[8],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2|34[47]|4(?:[37]7|5[47]|64)"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[347]"],"0$1"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["[58]"],"0$1"]],"0"],ML:["223","00","[24-9]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24-9]"]]]],MM:["95","00","1\\d{5,7}|95\\d{6}|(?:[4-7]|9[0-46-9])\\d{6,8}|(?:2|8\\d)\\d{5,8}",[6,7,8,9,10],[["(\\d)(\\d{2})(\\d{3})","$1 $2 $3",["16|2"],"0$1"],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["4(?:[2-46]|5[3-5])|5|6(?:[1-689]|7[235-7])|7(?:[0-4]|5[2-7])|8[1-5]|(?:60|86)[23]"],"0$1"],["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[12]|452|678|86","[12]|452|6788|86"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[4-7]|8[1-35]"],"0$1"],["(\\d)(\\d{3})(\\d{4,6})","$1 $2 $3",["9(?:2[0-4]|[35-9]|4[137-9])"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["92"],"0$1"],["(\\d)(\\d{5})(\\d{4})","$1 $2 $3",["9"],"0$1"]],"0"],MN:["976","001","[12]\\d{7,9}|[5-9]\\d{7}",[8,9,10],[["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["[12]1"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[5-9]"]],["(\\d{3})(\\d{5,6})","$1 $2",["[12]2[1-3]"],"0$1"],["(\\d{4})(\\d{5,6})","$1 $2",["[12](?:27|3[2-8]|4[2-68]|5[1-4689])","[12](?:27|3[2-8]|4[2-68]|5[1-4689])[0-3]"],"0$1"],["(\\d{5})(\\d{4,5})","$1 $2",["[12]"],"0$1"]],"0"],MO:["853","00","0800\\d{3}|(?:28|[68]\\d)\\d{6}",[7,8],[["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{4})(\\d{4})","$1 $2",["[268]"]]]],MP:["1","011","[58]\\d{9}|(?:67|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","670$1",0,"670"],MQ:["596","00","(?:596\\d|7091)\\d{5}|(?:69|[89]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-79]|8(?:0[6-9]|[36])"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],MR:["222","00","(?:[2-4]\\d\\d|800)\\d{5}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-48]"]]]],MS:["1","011","(?:[58]\\d\\d|664|900)\\d{7}",[10],0,"1",0,"([34]\\d{6})$|1","664$1",0,"664"],MT:["356","00","3550\\d{4}|(?:[2579]\\d\\d|800)\\d{5}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[2357-9]"]]]],MU:["230","0(?:0|[24-7]0|3[03])","(?:[57]|8\\d\\d)\\d{7}|[2-468]\\d{6}",[7,8,10],[["(\\d{3})(\\d{4})","$1 $2",["[2-46]|8[013]"]],["(\\d{4})(\\d{4})","$1 $2",["[57]"]],["(\\d{5})(\\d{5})","$1 $2",["8"]]],0,0,0,0,0,0,0,"020"],MV:["960","0(?:0|19)","(?:800|9[0-57-9]\\d)\\d{7}|[34679]\\d{6}",[7,10],[["(\\d{3})(\\d{4})","$1-$2",["[34679]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"]]],0,0,0,0,0,0,0,"00"],MW:["265","00","(?:[1289]\\d|31|77)\\d{7}|1\\d{6}",[7,9],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["1[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[137-9]"],"0$1"]],"0"],MX:["52","0[09]","[2-9]\\d{9}",[10],[["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["33|5[56]|81"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[2-9]"]]],0,0,0,0,0,0,0,"00"],MY:["60","00","1\\d{8,9}|(?:3\\d|[4-9])\\d{7}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1-$2 $3",["[4-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1-$2 $3",["1(?:[02469]|[378][1-9]|53)|8","1(?:[02469]|[37][1-9]|53|8(?:[1-46-9]|5[7-9]))|8"],"0$1"],["(\\d)(\\d{4})(\\d{4})","$1-$2 $3",["3"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{4})","$1-$2-$3-$4",["1(?:[367]|80)"]],["(\\d{3})(\\d{3})(\\d{4})","$1-$2 $3",["15"],"0$1"],["(\\d{2})(\\d{4})(\\d{4})","$1-$2 $3",["1"],"0$1"]],"0"],MZ:["258","00","(?:2|8\\d)\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2|8[2-79]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["8"]]]],NA:["264","00","[68]\\d{7,8}",[8,9],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["88"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["87"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],NC:["687","00","(?:050|[2-57-9]\\d\\d)\\d{3}",[6],[["(\\d{2})(\\d{2})(\\d{2})","$1.$2.$3",["[02-57-9]"]]]],NE:["227","00","[027-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["08"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[089]|2[013]|7[0467]"]]]],NF:["672","00","[13]\\d{5}",[6],[["(\\d{2})(\\d{4})","$1 $2",["1[0-3]"]],["(\\d)(\\d{5})","$1 $2",["[13]"]]],0,0,"([0-258]\\d{4})$","3$1"],NG:["234","009","(?:20|9\\d)\\d{8}|[78]\\d{9,13}",[10,11,12,13,14],[["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[7-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["20[129]"],"0$1"],["(\\d{4})(\\d{2})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{3})(\\d{4})(\\d{4,5})","$1 $2 $3",["[78]"],"0$1"],["(\\d{3})(\\d{5})(\\d{5,6})","$1 $2 $3",["[78]"],"0$1"]],"0"],NI:["505","00","(?:1800|[25-8]\\d{3})\\d{4}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[125-8]"]]]],NL:["31","00","(?:[124-7]\\d\\d|3(?:[02-9]\\d|1[0-8]))\\d{6}|8\\d{6,9}|9\\d{6,10}|1\\d{4,5}",[5,6,7,8,9,10,11],[["(\\d{3})(\\d{4,7})","$1 $2",["[89]0"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["66"],"0$1"],["(\\d)(\\d{8})","$1 $2",["6"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["1[16-8]|2[259]|3[124]|4[17-9]|5[124679]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-578]|91"],"0$1"],["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3",["9"],"0$1"]],"0"],NO:["47","00","(?:0|[2-9]\\d{3})\\d{4}",[5,8],[["(\\d{3})(\\d{2})(\\d{3})","$1 $2 $3",["8"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[2-79]"]]],0,0,0,0,0,"[02-689]|7[0-8]"],NP:["977","00","(?:1\\d|9)\\d{9}|[1-9]\\d{7}",[8,10,11],[["(\\d)(\\d{7})","$1-$2",["1[2-6]"],"0$1"],["(\\d{2})(\\d{6})","$1-$2",["1[01]|[2-8]|9(?:[1-59]|[67][2-6])"],"0$1"],["(\\d{3})(\\d{7})","$1-$2",["9"]]],"0"],NR:["674","00","(?:222|444|(?:55|8\\d)\\d|666|777|999)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[24-9]"]]]],NU:["683","00","(?:[4-7]|888\\d)\\d{3}",[4,7],[["(\\d{3})(\\d{4})","$1 $2",["8"]]]],NZ:["64","0(?:0|161)","[1289]\\d{9}|50\\d{5}(?:\\d{2,3})?|[27-9]\\d{7,8}|(?:[34]\\d|6[0-35-9])\\d{6}|8\\d{4,6}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,8})","$1 $2",["8[1-79]"],"0$1"],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["50[036-8]|8|90","50(?:[0367]|88)|8|90"],"0$1"],["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["24|[346]|7[2-57-9]|9[2-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:10|74)|[589]"],"0$1"],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["1|2[028]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,5})","$1 $2 $3",["2(?:[169]|7[0-35-9])|7"],"0$1"]],"0",0,0,0,0,0,0,"00"],OM:["968","00","(?:1505|[279]\\d{3}|500)\\d{4}|800\\d{5,6}",[7,8,9],[["(\\d{3})(\\d{4,6})","$1 $2",["[58]"]],["(\\d{2})(\\d{6})","$1 $2",["2"]],["(\\d{4})(\\d{4})","$1 $2",["[179]"]]]],PA:["507","00","(?:00800|8\\d{3})\\d{6}|[68]\\d{7}|[1-57-9]\\d{6}",[7,8,10,11],[["(\\d{3})(\\d{4})","$1-$2",["[1-57-9]"]],["(\\d{4})(\\d{4})","$1-$2",["[68]"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]]],PE:["51","00|19(?:1[124]|77|90)00","(?:[14-8]|9\\d)\\d{7}",[8,9],[["(\\d{3})(\\d{5})","$1 $2",["80"],"(0$1)"],["(\\d)(\\d{7})","$1 $2",["1"],"(0$1)"],["(\\d{2})(\\d{6})","$1 $2",["[4-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["9"]]],"0",0,0,0,0,0,0,"00"," Anexo "],PF:["689","00","4\\d{5}(?:\\d{2})?|8\\d{7,8}",[6,8,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["44"]],["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["4|8[7-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],PG:["675","00|140[1-3]","(?:180|[78]\\d{3})\\d{4}|(?:[2-589]\\d|64)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["18|[2-69]|85"]],["(\\d{4})(\\d{4})","$1 $2",["[78]"]]],0,0,0,0,0,0,0,"00"],PH:["63","00","(?:[2-7]|9\\d)\\d{8}|2\\d{5}|(?:1800|8)\\d{7,9}",[6,8,9,10,11,12,13],[["(\\d)(\\d{5})","$1 $2",["2"],"(0$1)"],["(\\d{4})(\\d{4,6})","$1 $2",["3(?:23|39|46)|4(?:2[3-6]|[35]9|4[26]|76)|544|88[245]|(?:52|64|86)2","3(?:230|397|461)|4(?:2(?:35|[46]4|51)|396|4(?:22|63)|59[347]|76[15])|5(?:221|446)|642[23]|8(?:622|8(?:[24]2|5[13]))"],"(0$1)"],["(\\d{5})(\\d{4})","$1 $2",["346|4(?:27|9[35])|883","3469|4(?:279|9(?:30|56))|8834"],"(0$1)"],["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["2"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|8[2-8]"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]],["(\\d{4})(\\d{1,2})(\\d{3})(\\d{4})","$1 $2 $3 $4",["1"]]],"0"],PK:["92","00","122\\d{6}|[24-8]\\d{10,11}|9(?:[013-9]\\d{8,10}|2(?:[01]\\d\\d|2(?:[06-8]\\d|1[01]))\\d{7})|(?:[2-8]\\d{3}|92(?:[0-7]\\d|8[1-9]))\\d{6}|[24-9]\\d{8}|[89]\\d{7}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,7})","$1 $2 $3",["[89]0"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["1"]],["(\\d{3})(\\d{6,7})","$1 $2",["2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:2[2-8]|3[27-9]|4[2-6]|6[3569]|9[25-8])","9(?:2[3-8]|98)|(?:2(?:3[2358]|4[2-4]|9[2-8])|45[3479]|54[2-467]|60[468]|72[236]|8(?:2[2-689]|3[23578]|4[3478]|5[2356])|9(?:22|3[27-9]|4[2-6]|6[3569]|9[25-7]))[2-9]"],"(0$1)"],["(\\d{2})(\\d{7,8})","$1 $2",["(?:2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91)[2-9]"],"(0$1)"],["(\\d{5})(\\d{5})","$1 $2",["58"],"(0$1)"],["(\\d{3})(\\d{7})","$1 $2",["3"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["2[125]|4[0-246-9]|5[1-35-7]|6[1-8]|7[14]|8[16]|91"],"(0$1)"],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[24-9]"],"(0$1)"]],"0"],PL:["48","00","(?:6|8\\d\\d)\\d{7}|[1-9]\\d{6}(?:\\d{2})?|[26]\\d{5}",[6,7,8,9,10],[["(\\d{5})","$1",["19"]],["(\\d{3})(\\d{3})","$1 $2",["11|20|64"]],["(\\d{2})(\\d{2})(\\d{3})","$1 $2 $3",["(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])1","(?:1[2-8]|2[2-69]|3[2-4]|4[1-468]|5[24-689]|6[1-3578]|7[14-7]|8[1-79]|9[145])19"]],["(\\d{3})(\\d{2})(\\d{2,3})","$1 $2 $3",["64"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["21|39|45|5[0137]|6[0469]|7[02389]|8(?:0[14]|8)"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["1[2-8]|[2-7]|8[1-79]|9[145]"]],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["8"]]]],PM:["508","00","[45]\\d{5}|(?:708|8\\d\\d)\\d{6}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[45]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"],"0$1"]],"0"],PR:["1","011","(?:[589]\\d\\d|787)\\d{7}",[10],0,"1",0,0,0,0,"787|939"],PS:["970","00","[2489]2\\d{6}|(?:1\\d|5)\\d{8}",[8,9,10],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["[2489]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["5"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],PT:["351","00","1693\\d{5}|(?:[26-9]\\d|30)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["2[12]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["16|[236-9]"]]]],PW:["680","01[12]","(?:[24-8]\\d\\d|345|900)\\d{4}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[2-9]"]]]],PY:["595","00","59\\d{4,6}|9\\d{5,10}|(?:[2-46-8]\\d|5[0-8])\\d{4,7}",[6,7,8,9,10,11],[["(\\d{3})(\\d{3,6})","$1 $2",["[2-9]0"],"0$1"],["(\\d{2})(\\d{5})","$1 $2",["[26]1|3[289]|4[1246-8]|7[1-3]|8[1-36]"],"(0$1)"],["(\\d{3})(\\d{4,5})","$1 $2",["2[279]|3[13-5]|4[359]|5|6(?:[34]|7[1-46-8])|7[46-8]|85"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["2[14-68]|3[26-9]|4[1246-8]|6(?:1|75)|7[1-35]|8[1-36]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["87"]],["(\\d{3})(\\d{6})","$1 $2",["9(?:[5-79]|8[1-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[2-8]"],"0$1"],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["9"]]],"0"],QA:["974","00","800\\d{4}|(?:2|800)\\d{6}|(?:0080|[3-7])\\d{7}",[7,8,9,11],[["(\\d{3})(\\d{4})","$1 $2",["2[136]|8"]],["(\\d{4})(\\d{4})","$1 $2",["[3-7]"]]]],RE:["262","00","709\\d{6}|(?:26|[689]\\d)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[26-9]"],"0$1"]],"0",0,0,0,0,0,[["26(?:2\\d\\d|3(?:0\\d|1[0-6]))\\d{4}"],["(?:69(?:2\\d\\d|3(?:[06][0-6]|1[0-3]|2[0-2]|3[0-39]|4\\d|5[0-5]|7[0-37]|8[0-8]|9[0-479]))|7092[0-3])\\d{4}"],["80\\d{7}"],["89[1-37-9]\\d{6}"],0,0,0,0,["9(?:399[0-3]|479[0-6]|76(?:2[278]|3[0-37]))\\d{4}"],["8(?:1[019]|2[0156]|84|90)\\d{6}"]]],RO:["40","00","(?:[236-8]\\d|90)\\d{7}|[23]\\d{5}",[6,9],[["(\\d{3})(\\d{3})","$1 $2",["2[3-6]","2[3-6]\\d9"],"0$1"],["(\\d{2})(\\d{4})","$1 $2",["219|31"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[23]1"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[236-9]"],"0$1"]],"0",0,0,0,0,0,0,0," int "],RS:["381","00","38[02-9]\\d{6,9}|6\\d{7,9}|90\\d{4,8}|38\\d{5,6}|(?:7\\d\\d|800)\\d{3,9}|(?:[12]\\d|3[0-79])\\d{5,10}",[6,7,8,9,10,11,12],[["(\\d{3})(\\d{3,9})","$1 $2",["(?:2[389]|39)0|[7-9]"],"0$1"],["(\\d{2})(\\d{5,10})","$1 $2",["[1-36]"],"0$1"]],"0"],RU:["7","810","8\\d{13}|[347-9]\\d{9}",[10,14],[["(\\d{4})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-8]|2[1-9])","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:1[23]|[2-9]2))","7(?:1(?:[0-356]2|4[29]|7|8[27])|2(?:13[03-69]|62[013-9]))|72[1-57-9]2"],"8 ($1)",1],["(\\d{5})(\\d)(\\d{2})(\\d{2})","$1 $2 $3 $4",["7(?:1[0-68]|2[1-9])","7(?:1(?:[06][3-6]|[18]|2[35]|[3-5][3-5])|2(?:[13][3-5]|[24-689]|7[457]))","7(?:1(?:0(?:[356]|4[023])|[18]|2(?:3[013-9]|5)|3[45]|43[013-79]|5(?:3[1-8]|4[1-7]|5)|6(?:3[0-35-9]|[4-6]))|2(?:1(?:3[178]|[45])|[24-689]|3[35]|7[457]))|7(?:14|23)4[0-8]|71(?:33|45)[1-79]"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"8 ($1)",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2-$3-$4",["[349]|8(?:[02-7]|1[1-8])"],"8 ($1)",1],["(\\d{4})(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3 $4",["8"],"8 ($1)"]],"8",0,0,0,0,0,[["336(?:[013-9]\\d|2[013-9])\\d{5}|(?:3(?:0[12]|4[1-35-79]|5[1-3]|65|8[1-58]|9[0145])|4(?:01|1[1356]|2[13467]|7[1-5]|8[1-7]|9[1-689])|8(?:1[1-8]|2[01]|3[13-6]|4[0-8]|5[15-7]|6[0-35-79]|7[1-37-9]))\\d{7}",[10]],["9\\d{9}",[10]],["8(?:0[04]|108\\d{3})\\d{7}"],["80[39]\\d{7}",[10]],["808\\d{7}",[10]]],"8~10"],RW:["250","00","(?:06|[27]\\d\\d|[89]00)\\d{6}",[8,9],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["0"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[7-9]"],"0$1"]],"0"],SA:["966","00","(?:[15]\\d|800|92)\\d{7}",[9,10],[["(\\d{4})(\\d{5})","$1 $2",["9"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["1"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["5"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]]],"0"],SB:["677","0[01]","[6-9]\\d{6}|[1-6]\\d{4}",[5,7],[["(\\d{2})(\\d{5})","$1 $2",["6[89]|7|8[4-9]|9(?:[1-8]|9[0-8])"]]]],SC:["248","010|0[0-2]","(?:[2489]\\d|64)\\d{5}",[7],[["(\\d)(\\d{3})(\\d{3})","$1 $2 $3",["[246]|9[57]"]]],0,0,0,0,0,0,0,"00"],SD:["249","00","[19]\\d{8}",[9],[["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[19]"],"0$1"]],"0"],SE:["46","00","(?:[26]\\d\\d|9)\\d{9}|[1-9]\\d{8}|[1-689]\\d{7}|[1-4689]\\d{6}|2\\d{5}",[6,7,8,9,10,12],[["(\\d{2})(\\d{2,3})(\\d{2})","$1-$2 $3",["20"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{4})","$1-$2",["9(?:00|39|44|9)"],"0$1",0,"$1 $2"],["(\\d{2})(\\d{3})(\\d{2})","$1-$2 $3",["[12][136]|3[356]|4[0246]|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3"],["(\\d)(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2,3})(\\d{2})","$1-$2 $3",["1[2457]|2(?:[247-9]|5[0138])|3[0247-9]|4[1357-9]|5[0-35-9]|6(?:[125689]|4[02-57]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3"],["(\\d{3})(\\d{2,3})(\\d{3})","$1-$2 $3",["9(?:00|39|44)"],"0$1",0,"$1 $2 $3"],["(\\d{2})(\\d{2,3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["1[13689]|2[0136]|3[1356]|4[0246]|54|6[03]|90[1-9]"],"0$1",0,"$1 $2 $3 $4"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4",["10|7"],"0$1",0,"$1 $2 $3 $4"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1-$2 $3 $4",["8"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1-$2 $3 $4",["[13-5]|2(?:[247-9]|5[0138])|6(?:[124-689]|7[0-2])|9(?:[125-8]|3[02-5]|4[0-3])"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{2})(\\d{3})","$1-$2 $3 $4",["9"],"0$1",0,"$1 $2 $3 $4"],["(\\d{3})(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1-$2 $3 $4 $5",["[26]"],"0$1",0,"$1 $2 $3 $4 $5"]],"0"],SG:["65","0[0-3]\\d","(?:(?:1\\d|8)\\d\\d|7000)\\d{7}|[3689]\\d{7}",[8,10,11],[["(\\d{4})(\\d{4})","$1 $2",["[369]|8(?:0[1-9]|[1-9])"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"]],["(\\d{4})(\\d{4})(\\d{3})","$1 $2 $3",["7"]],["(\\d{4})(\\d{3})(\\d{4})","$1 $2 $3",["1"]]]],SH:["290","00","(?:[256]\\d|8)\\d{3}",[4,5],0,0,0,0,0,0,"[256]"],SI:["386","00|10(?:22|66|88|99)","[1-7]\\d{7}|8\\d{4,7}|90\\d{4,6}",[5,6,7,8],[["(\\d{2})(\\d{3,6})","$1 $2",["8[09]|9"],"0$1"],["(\\d{3})(\\d{5})","$1 $2",["59|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[37][01]|4[0139]|51|6"],"0$1"],["(\\d)(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[1-57]"],"(0$1)"]],"0",0,0,0,0,0,0,"00"],SJ:["47","00","0\\d{4}|(?:[489]\\d|79)\\d{6}",[5,8],0,0,0,0,0,0,"79"],SK:["421","00","[2-689]\\d{8}|[2-59]\\d{6}|[2-5]\\d{5}",[6,7,9],[["(\\d)(\\d{2})(\\d{3,4})","$1 $2 $3",["21"],"0$1"],["(\\d{2})(\\d{2})(\\d{2,3})","$1 $2 $3",["[3-5][1-8]1","[3-5][1-8]1[67]"],"0$1"],["(\\d)(\\d{3})(\\d{3})(\\d{2})","$1/$2 $3 $4",["2"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[689]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1/$2 $3 $4",["[3-5]"],"0$1"]],"0"],SL:["232","00","(?:[237-9]\\d|66)\\d{6}",[8],[["(\\d{2})(\\d{6})","$1 $2",["[236-9]"],"(0$1)"]],"0"],SM:["378","00","(?:0549|[5-7]\\d)\\d{6}",[8,10],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[5-7]"]],["(\\d{4})(\\d{6})","$1 $2",["0"]]],0,0,"([89]\\d{5})$","0549$1"],SN:["221","00","(?:[378]\\d|93)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[379]"]]]],SO:["252","00","[346-9]\\d{8}|[12679]\\d{7}|[1-5]\\d{6}|[1348]\\d{5}",[6,7,8,9],[["(\\d{2})(\\d{4})","$1 $2",["8[125]"]],["(\\d{6})","$1",["[134]"]],["(\\d)(\\d{6})","$1 $2",["[15]|2[0-79]|3[0-46-8]|4[0-7]"]],["(\\d)(\\d{7})","$1 $2",["(?:2|90)4|[67]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[348]|64|79|90"]],["(\\d{2})(\\d{5,7})","$1 $2",["1|28|6[0-35-9]|7[67]|9[2-9]"]]],"0"],SR:["597","00","(?:[2-5]|[6-8]\\d|90)\\d{5}",[6,7],[["(\\d{2})(\\d{2})(\\d{2})","$1-$2-$3",["56"]],["(\\d{3})(\\d{3})","$1-$2",["[2-5]"]],["(\\d{3})(\\d{4})","$1-$2",["[6-9]"]]]],SS:["211","00","[19]\\d{8}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[19]"],"0$1"]],"0"],ST:["239","00","(?:22|9\\d)\\d{5}",[7],[["(\\d{3})(\\d{4})","$1 $2",["[29]"]]]],SV:["503","00","[267]\\d{7}|(?:80\\d|900)\\d{4}(?:\\d{4})?",[7,8,11],[["(\\d{3})(\\d{4})","$1 $2",["[89]"]],["(\\d{4})(\\d{4})","$1 $2",["[267]"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["[89]"]]]],SX:["1","011","7215\\d{6}|(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"(5\\d{6})$|1","721$1",0,"721"],SY:["963","00","[1-359]\\d{8}|[1-5]\\d{7}",[8,9],[["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-4]|5[1-3]"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[59]"],"0$1",1]],"0"],SZ:["268","00","0800\\d{4}|(?:[237]\\d|900)\\d{6}",[8,9],[["(\\d{4})(\\d{4})","$1 $2",["[0237]"]],["(\\d{5})(\\d{4})","$1 $2",["9"]]]],TA:["290","00","8\\d{3}",[4],0,0,0,0,0,0,"8"],TC:["1","011","(?:[58]\\d\\d|649|900)\\d{7}",[10],0,"1",0,"([2-479]\\d{6})$|1","649$1",0,"649"],TD:["235","00|16","(?:22|30|[689]\\d|77)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[236-9]"]]],0,0,0,0,0,0,0,"00"],TG:["228","00","[279]\\d{7}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[279]"]]]],TH:["66","00[1-9]","(?:001800|[2-57]|[689]\\d)\\d{7}|1\\d{7,9}",[8,9,10,13],[["(\\d)(\\d{3})(\\d{4})","$1 $2 $3",["2"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[13-9]"],"0$1"],["(\\d{4})(\\d{3})(\\d{3})","$1 $2 $3",["1"]]],"0"],TJ:["992","810","[0-57-9]\\d{8}",[9],[["(\\d{6})(\\d)(\\d{2})","$1 $2 $3",["331","3317"]],["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["44[02-479]|[34]7"]],["(\\d{4})(\\d)(\\d{4})","$1 $2 $3",["3(?:[1245]|3[12])"]],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[0-57-9]"]]],0,0,0,0,0,0,0,"8~10"],TK:["690","00","[2-47]\\d{3,6}",[4,5,6,7]],TL:["670","00","7\\d{7}|(?:[2-47]\\d|[89]0)\\d{5}",[7,8],[["(\\d{3})(\\d{4})","$1 $2",["[2-489]|70"]],["(\\d{4})(\\d{4})","$1 $2",["7"]]]],TM:["993","810","(?:[1-6]\\d|71)\\d{6}",[8],[["(\\d{2})(\\d{2})(\\d{2})(\\d{2})","$1 $2-$3-$4",["12"],"(8 $1)"],["(\\d{3})(\\d)(\\d{2})(\\d{2})","$1 $2-$3-$4",["[1-5]"],"(8 $1)"],["(\\d{2})(\\d{6})","$1 $2",["[67]"],"8 $1"]],"8",0,0,0,0,0,0,"8~10"],TN:["216","00","[2-57-9]\\d{7}",[8],[["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-57-9]"]]]],TO:["676","00","(?:0800|(?:[5-8]\\d\\d|999)\\d)\\d{3}|[2-8]\\d{4}",[5,7],[["(\\d{2})(\\d{3})","$1-$2",["[2-4]|50|6[09]|7[0-24-69]|8[05]"]],["(\\d{4})(\\d{3})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[5-9]"]]]],TR:["90","00","4\\d{6}|8\\d{11,12}|(?:[2-58]\\d\\d|900)\\d{7}",[7,10,12,13],[["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["512|8[01589]|90"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["5(?:[0-59]|61)","5(?:[0-59]|61[06])","5(?:[0-59]|61[06]1)"],"0$1",1],["(\\d{3})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[24][1-8]|3[1-9]"],"(0$1)",1],["(\\d{3})(\\d{3})(\\d{6,7})","$1 $2 $3",["80"],"0$1",1]],"0"],TT:["1","011","(?:[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-46-8]\\d{6})$|1","868$1",0,"868"],TV:["688","00","(?:2|7\\d\\d|90)\\d{4}",[5,6,7],[["(\\d{2})(\\d{3})","$1 $2",["2"]],["(\\d{2})(\\d{4})","$1 $2",["90"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],TW:["886","0(?:0[25-79]|19)","[2-689]\\d{8}|7\\d{9,10}|[2-8]\\d{7}|2\\d{6}",[7,8,9,10,11],[["(\\d{2})(\\d)(\\d{4})","$1 $2 $3",["202"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["[258]0"],"0$1"],["(\\d)(\\d{3,4})(\\d{4})","$1 $2 $3",["[23568]|4(?:0[02-48]|[1-47-9])|7[1-9]","[23568]|4(?:0[2-48]|[1-47-9])|(?:400|7)[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[49]"],"0$1"],["(\\d{2})(\\d{4})(\\d{4,5})","$1 $2 $3",["7"],"0$1"]],"0",0,0,0,0,0,0,0,"#"],TZ:["255","00[056]","(?:[25-8]\\d|41|90)\\d{7}",[9],[["(\\d{3})(\\d{2})(\\d{4})","$1 $2 $3",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[24]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["5"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[67]"],"0$1"]],"0"],UA:["380","00","[89]\\d{9}|[3-9]\\d{8}",[9,10],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["6[12][29]|(?:3[1-8]|4[136-8]|5[12457]|6[49])2|(?:56|65)[24]","6[12][29]|(?:35|4[1378]|5[12457]|6[49])2|(?:56|65)[24]|(?:3[1-46-8]|46)2[013-9]"],"0$1"],["(\\d{4})(\\d{5})","$1 $2",["3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6[0135689]|7[4-6])|6(?:[12][3-7]|[459])","3[1-8]|4(?:[1367]|[45][6-9]|8[4-6])|5(?:[1-5]|6(?:[015689]|3[02389])|7[4-6])|6(?:[12][3-7]|[459])"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[3-7]|89|9[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["[89]"],"0$1"]],"0",0,0,0,0,0,0,"0~0"],UG:["256","00[057]","800\\d{6}|(?:[29]0|[347]\\d)\\d{7}",[9],[["(\\d{4})(\\d{5})","$1 $2",["202","2024"],"0$1"],["(\\d{3})(\\d{6})","$1 $2",["[27-9]|4(?:6[45]|[7-9])"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[34]"],"0$1"]],"0"],US:["1","011","[2-9]\\d{9}|3\\d{6}",[10],[["(\\d{3})(\\d{4})","$1-$2",["310"],0,1],["(\\d{3})(\\d{3})(\\d{4})","($1) $2-$3",["[2-9]"],0,1,"$1-$2-$3"]],"1",0,0,0,0,0,[["3052(?:0[0-8]|[1-9]\\d)\\d{4}|(?:2742|305[3-9])\\d{6}|(?:472|983)[2-47-9]\\d{6}|(?:2(?:0[1-35-9]|1[02-9]|2[03-57-9]|3[1459]|4[08]|5[1-46]|6[0279]|7[0269]|8[13])|3(?:0[1-47-9]|1[02-9]|2[0135-79]|3[0-24679]|4[167]|5[0-2]|6[01349]|8[056])|4(?:0[124-9]|1[02-579]|2[3-5]|3[0245]|4[023578]|58|6[349]|7[0589]|8[04])|5(?:0[1-57-9]|1[0235-8]|20|3[0149]|4[01]|5[179]|6[1-47]|7[0-5]|8[0256])|6(?:0[1-35-9]|1[024-9]|2[03689]|3[016]|4[0156]|5[01679]|6[0-279]|78|8[0-269])|7(?:0[1-46-8]|1[2-9]|2[04-8]|3[0-247]|4[0378]|5[47]|6[02359]|7[0-59]|8[156])|8(?:0[1-68]|1[02-8]|2[0168]|3[0-2589]|4[03578]|5[046-9]|6[02-5]|7[028])|9(?:0[1346-9]|1[02-9]|2[0589]|3[0146-8]|4[01357-9]|5[12469]|7[0-3589]|8[04-69]))[2-9]\\d{6}"],[""],["8(?:00|33|44|55|66|77|88)[2-9]\\d{6}"],["900[2-9]\\d{6}"],["52(?:3(?:[2-46-9][02-9]\\d|5(?:[02-46-9]\\d|5[0-46-9]))|4(?:[2-478][02-9]\\d|5(?:[034]\\d|2[024-9]|5[0-46-9])|6(?:0[1-9]|[2-9]\\d)|9(?:[05-9]\\d|2[0-5]|49)))\\d{4}|52[34][2-9]1[02-9]\\d{4}|5(?:00|2[125-9]|33|44|66|77|88)[2-9]\\d{6}"],0,0,0,["305209\\d{4}"]]],UY:["598","0(?:0|1[3-9]\\d)","0004\\d{2,9}|[1249]\\d{7}|2\\d{3,4}|(?:[49]\\d|80)\\d{5}",[4,5,6,7,8,9,10,11,12,13],[["(\\d{4,5})","$1",["21"]],["(\\d{3})(\\d{3,4})","$1 $2",["0"]],["(\\d{3})(\\d{4})","$1 $2",["[49]0|8"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["9"],"0$1"],["(\\d{4})(\\d{4})","$1 $2",["[124]"]],["(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3",["0"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{2,4})","$1 $2 $3 $4",["0"]]],"0",0,0,0,0,0,0,"00"," int. "],UZ:["998","00","(?:20|33|[5-9]\\d)\\d{7}",[9],[["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["[235-9]"]]]],VA:["39","00","0\\d{5,10}|3[0-8]\\d{7,10}|55\\d{8}|8\\d{5}(?:\\d{2,4})?|(?:1\\d|39)\\d{7,8}",[6,7,8,9,10,11,12],0,0,0,0,0,0,"06698"],VC:["1","011","(?:[58]\\d\\d|784|900)\\d{7}",[10],0,"1",0,"([2-7]\\d{6})$|1","784$1",0,"784"],VE:["58","00","[68]00\\d{7}|(?:[24]\\d|[59]0)\\d{8}",[10],[["(\\d{3})(\\d{7})","$1-$2",["[24-689]"],"0$1"]],"0"],VG:["1","011","(?:284|[58]\\d\\d|900)\\d{7}",[10],0,"1",0,"([2-578]\\d{6})$|1","284$1",0,"284"],VI:["1","011","[58]\\d{9}|(?:34|90)0\\d{7}",[10],0,"1",0,"([2-9]\\d{6})$|1","340$1",0,"340"],VN:["84","00","[12]\\d{9}|[135-9]\\d{8}|[16]\\d{7}|[16-8]\\d{6}",[7,8,9,10],[["(\\d{2})(\\d{5})","$1 $2",["80"],"0$1",1],["(\\d{4})(\\d{4,6})","$1 $2",["1"],0,1],["(\\d{2})(\\d{3})(\\d{2})(\\d{2})","$1 $2 $3 $4",["6"],"0$1",1],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[357-9]"],"0$1",1],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["2[48]"],"0$1",1],["(\\d{3})(\\d{4})(\\d{3})","$1 $2 $3",["2"],"0$1",1]],"0"],VU:["678","00","[57-9]\\d{6}|(?:[238]\\d|48)\\d{3}",[5,7],[["(\\d{3})(\\d{4})","$1 $2",["[57-9]"]]]],WF:["681","00","(?:40|72|8\\d{4})\\d{4}|[89]\\d{5}",[6,9],[["(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3",["[47-9]"]],["(\\d{3})(\\d{2})(\\d{2})(\\d{2})","$1 $2 $3 $4",["8"]]]],WS:["685","0","(?:[2-6]|8\\d{5})\\d{4}|[78]\\d{6}|[68]\\d{5}",[5,6,7,10],[["(\\d{5})","$1",["[2-5]|6[1-9]"]],["(\\d{3})(\\d{3,7})","$1 $2",["[68]"]],["(\\d{2})(\\d{5})","$1 $2",["7"]]]],XK:["383","00","2\\d{7,8}|3\\d{7,11}|(?:4\\d\\d|[89]00)\\d{5}",[8,9,10,11,12],[["(\\d{3})(\\d{5})","$1 $2",["[89]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3})","$1 $2 $3",["[2-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["2|39"],"0$1"],["(\\d{2})(\\d{7,10})","$1 $2",["3"],"0$1"]],"0"],YE:["967","00","(?:1|7\\d)\\d{7}|[1-7]\\d{6}",[7,8,9],[["(\\d)(\\d{3})(\\d{3,4})","$1 $2 $3",["[1-6]|7(?:[24-6]|8[0-7])"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["7"],"0$1"]],"0"],YT:["262","00","7093\\d{5}|(?:80|9\\d)\\d{7}|(?:26|63)9\\d{6}",[9],0,"0",0,0,0,0,0,[["269(?:0[0-467]|15|5[0-4]|6\\d|[78]0)\\d{4}"],["(?:639(?:0[0-79]|1[019]|[267]\\d|3[09]|40|5[05-9]|9[04-79])|7093[5-7])\\d{4}"],["80\\d{7}"],0,0,0,0,0,["9(?:(?:39|47)8[01]|769\\d)\\d{4}"]]],ZA:["27","00","[1-79]\\d{8}|8\\d{4,9}",[5,6,7,8,9,10],[["(\\d{2})(\\d{3,4})","$1 $2",["8[1-4]"],"0$1"],["(\\d{2})(\\d{3})(\\d{2,3})","$1 $2 $3",["8[1-4]"],"0$1"],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["860"],"0$1"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["[1-9]"],"0$1"],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["8"],"0$1"]],"0"],ZM:["260","00","800\\d{6}|(?:21|[579]\\d|63)\\d{7}",[9],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[28]"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["[579]"],"0$1"]],"0"],ZW:["263","00","2(?:[0-57-9]\\d{6,8}|6[0-24-9]\\d{6,7})|[38]\\d{9}|[35-8]\\d{8}|[3-6]\\d{7}|[1-689]\\d{6}|[1-3569]\\d{5}|[1356]\\d{4}",[5,6,7,8,9,10],[["(\\d{3})(\\d{3,5})","$1 $2",["2(?:0[45]|2[278]|[49]8)|3(?:[09]8|17)|6(?:[29]8|37|75)|[23][78]|(?:33|5[15]|6[68])[78]"],"0$1"],["(\\d)(\\d{3})(\\d{2,4})","$1 $2 $3",["[49]"],"0$1"],["(\\d{3})(\\d{4})","$1 $2",["80"],"0$1"],["(\\d{2})(\\d{7})","$1 $2",["24|8[13-59]|(?:2[05-79]|39|5[45]|6[15-8])2","2(?:02[014]|4|[56]20|[79]2)|392|5(?:42|525)|6(?:[16-8]21|52[013])|8[13-59]"],"(0$1)"],["(\\d{2})(\\d{3})(\\d{4})","$1 $2 $3",["7"],"0$1"],["(\\d{3})(\\d{3})(\\d{3,4})","$1 $2 $3",["2(?:1[39]|2[0157]|[378]|[56][14])|3(?:12|29)","2(?:1[39]|2[0157]|[378]|[56][14])|3(?:123|29)"],"0$1"],["(\\d{4})(\\d{6})","$1 $2",["8"],"0$1"],["(\\d{2})(\\d{3,5})","$1 $2",["1|2(?:0[0-36-9]|12|29|[56])|3(?:1[0-689]|[24-6])|5(?:[0236-9]|1[2-4])|6(?:[013-59]|7[0-46-9])|(?:33|55|6[68])[0-69]|(?:29|3[09]|62)[0-79]"],"0$1"],["(\\d{2})(\\d{3})(\\d{3,4})","$1 $2 $3",["29[013-9]|39|54"],"0$1"],["(\\d{4})(\\d{3,5})","$1 $2",["(?:25|54)8","258|5483"],"0$1"]],"0"]},nonGeographic:{800:["800",0,"(?:00|[1-9]\\d)\\d{6}",[8],[["(\\d{4})(\\d{4})","$1 $2",["\\d"]]],0,0,0,0,0,0,[0,0,["(?:00|[1-9]\\d)\\d{6}"]]],808:["808",0,"[1-9]\\d{7}",[8],[["(\\d{4})(\\d{4})","$1 $2",["[1-9]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,0,["[1-9]\\d{7}"]]],870:["870",0,"7\\d{11}|[235-7]\\d{8}",[9,12],[["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["[235-7]"]]],0,0,0,0,0,0,[0,["(?:[356]|774[45])\\d{8}|7[6-8]\\d{7}"],0,0,0,0,0,0,["2\\d{8}",[9]]]],878:["878",0,"10\\d{10}",[12],[["(\\d{2})(\\d{5})(\\d{5})","$1 $2 $3",["1"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["10\\d{10}"]]],881:["881",0,"6\\d{9}|[0-36-9]\\d{8}",[9,10],[["(\\d)(\\d{3})(\\d{5})","$1 $2 $3",["[0-37-9]"]],["(\\d)(\\d{3})(\\d{5,6})","$1 $2 $3",["6"]]],0,0,0,0,0,0,[0,["6\\d{9}|[0-36-9]\\d{8}"]]],882:["882",0,"[13]\\d{6}(?:\\d{2,5})?|[19]\\d{7}|(?:[25]\\d\\d|4)\\d{7}(?:\\d{2})?",[7,8,9,10,11,12],[["(\\d{2})(\\d{5})","$1 $2",["16|342"]],["(\\d{2})(\\d{6})","$1 $2",["49"]],["(\\d{2})(\\d{2})(\\d{4})","$1 $2 $3",["1[36]|9"]],["(\\d{2})(\\d{4})(\\d{3})","$1 $2 $3",["3[23]"]],["(\\d{2})(\\d{3,4})(\\d{4})","$1 $2 $3",["16"]],["(\\d{2})(\\d{4})(\\d{4})","$1 $2 $3",["10|23|3(?:[15]|4[57])|4|51"]],["(\\d{3})(\\d{4})(\\d{4})","$1 $2 $3",["34"]],["(\\d{2})(\\d{4,5})(\\d{5})","$1 $2 $3",["[1-35]"]]],0,0,0,0,0,0,[0,["342\\d{4}|(?:337|49)\\d{6}|(?:3(?:2|47|7\\d{3})|50\\d{3})\\d{7}",[7,8,9,10,12]],0,0,0,["348[57]\\d{7}",[11]],0,0,["1(?:3(?:0[0347]|[13][0139]|2[035]|4[013568]|6[0459]|7[06]|8[15-8]|9[0689])\\d{4}|6\\d{5,10})|(?:345\\d|9[89])\\d{6}|(?:10|2(?:3|85\\d)|3(?:[15]|[69]\\d\\d)|4[15-8]|51)\\d{8}"]]],883:["883",0,"(?:[1-4]\\d|51)\\d{6,10}",[8,9,10,11,12],[["(\\d{3})(\\d{3})(\\d{2,8})","$1 $2 $3",["[14]|2[24-689]|3[02-689]|51[24-9]"]],["(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3",["510"]],["(\\d{3})(\\d{3})(\\d{4})","$1 $2 $3",["21"]],["(\\d{4})(\\d{4})(\\d{4})","$1 $2 $3",["51[13]"]],["(\\d{3})(\\d{3})(\\d{3})(\\d{3})","$1 $2 $3 $4",["[235]"]]],0,0,0,0,0,0,[0,0,0,0,0,0,0,0,["(?:2(?:00\\d\\d|10)|(?:370[1-9]|51\\d0)\\d)\\d{7}|51(?:00\\d{5}|[24-9]0\\d{4,7})|(?:1[0-79]|2[24-689]|3[02-689]|4[0-4])0\\d{5,9}"]]],888:["888",0,"\\d{11}",[11],[["(\\d{3})(\\d{3})(\\d{5})","$1 $2 $3"]],0,0,0,0,0,0,[0,0,0,0,0,0,["\\d{11}"]]],979:["979",0,"[1359]\\d{8}",[9],[["(\\d)(\\d{4})(\\d{4})","$1 $2 $3",["[1359]"]]],0,0,0,0,0,0,[0,0,0,["[1359]\\d{8}"]]]}};function z6(t,e){var r=Array.prototype.slice.call(e);return r.push(_K),t.apply(this,r)}function Uwe(){return z6(o0e,arguments)}function O2(t){return qV.call(this,t,_K)}O2.prototype=Object.create(qV.prototype,{});O2.prototype.constructor=O2;function Bwe(){return z6(Age,arguments)}function E$(){return z6(v6,arguments)}function Lwe(){return z6(Sge,arguments)}const gv=(t,e)=>Uwe(String(t),e),x7=(t,e)=>`+${E$(e)} ${t}`,Fwe=t=>`*${t.replaceAll("-","").slice(-4)}`,zwe=t=>new O2(t),Wwe=Bwe().map(t=>({code:t,callCode:E$(t)})),qwe=t=>{var r;let e=(r=Lwe(t,Dwe))==null?void 0:r.formatInternational();return e==null?void 0:e.substring(e.indexOf(" ")+1)},Hwe=t=>{let e=new O2;e.input(t);let r=e.getCountry()||"US",n=e.getCallingCode()||"1";return{countryCode:r,phone:t.replace("+"+n,"")}},Vwe=(t,e=!0)=>t.reduce((r,n)=>({...r,[n]:e}),{}),Gwe={[$o.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[i$.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[yc.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[O6.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[aa.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[fb.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[ko.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[N6.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[Fg.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[n$.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[So.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[I6.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"};let Kwe=new Set([$o.id,ko.id,yc.id,aa.id,So.id]),Ywe=new Set([$o.id,ko.id,aa.id,yc.id,So.id]),Zwe={buy:"CARD",send:"CRYPTO_ACCOUNT"},Qwe={USDC:"2b92315d-eab7-5bef-84fa-089a131333f5",ETH:"d85dce9b-5b73-5c3c-8978-522ce1d1c1b4",BTC:"5b71fc48-3dd3-540c-809b-f8c94d0e68b5",SOL:"4f039497-3af8-5bb3-951c-6df9afa9be1c",POL:"026bcc1e-9163-591c-a709-34dd18b2e7a1"};$o.id+"",ko.id+"",yc.id+"",aa.id+"",So.id+"";function Xwe({appId:t,input:e,amount:r,blockchain:n,asset:i,experience:s}){let a=new URL("https://pay.coinbase.com/buy/select-asset");return a.searchParams.set("appId",e.app_id),a.searchParams.set("sessionToken",e.session_token),a.searchParams.set("endPartnerName",`privy:${t}`),a.searchParams.set("defaultExperience",s),a.searchParams.set("presetCryptoAmount",r.startsWith(".")?`0${r}`:r),a.searchParams.set("defaultNetwork",n),a.searchParams.set("defaultPaymentMethod",Zwe[s]),a.searchParams.set("defaultAsset",Qwe[i]),a.searchParams.set("partnerUserId",e.partner_user_id),{url:a}}const Jwe=(t,e)=>{switch(e){case"native-currency":return Kwe.has(t);case"USDC":return Ywe.has(t);default:return console.warn("Unknown asset passed to Coinbase Onramp"),!1}};function eve(t,e){return t===aa.id?"POL":"ETH"}function iD(t){return t?`${t.slice(0,5)}${t.slice(-4)}`:""}function tve({wei:t,precision:e=3}){return parseFloat(Vf(t)).toFixed(e).replace(/0+$/,"").replace(/\.$/,"")}function XC({amount:t,decimals:e}){return Ys(BigInt(t),e)}function _i(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var rve=0;function CK(t){return"__private_"+rve+++"_"+t}var cn=CK("_wallet"),ga=CK("_account");let AK=class{get standardWallet(){return _i(this,cn)[cn]}get address(){return _i(this,ga)[ga].address}async disconnect(){var e;if(!((e=_i(this,cn)[cn].features["standard:disconnect"])!=null&&e.disconnect))throw Error("Wallet does not support disconnect");await _i(this,cn)[cn].features["standard:disconnect"].disconnect()}async signMessage(e){var n;if(!((n=_i(this,cn)[cn].features["solana:signMessage"])!=null&&n.signMessage))throw Error("Wallet does not support signMessage");let[r]=await _i(this,cn)[cn].features["solana:signMessage"].signMessage({...e,account:_i(this,ga)[ga]});return r}async signTransaction(e){var n;if(!((n=_i(this,cn)[cn].features["solana:signTransaction"])!=null&&n.signTransaction))throw Error("Wallet does not support signTransaction");let[r]=await _i(this,cn)[cn].features["solana:signTransaction"].signTransaction({...e,account:_i(this,ga)[ga]});return r}async signAndSendTransaction(e){var n;if(!((n=_i(this,cn)[cn].features["solana:signAndSendTransaction"])!=null&&n.signAndSendTransaction))throw Error("Wallet does not support signAndSendTransaction");let[r]=await _i(this,cn)[cn].features["solana:signAndSendTransaction"].signAndSendTransaction({...e,account:_i(this,ga)[ga]});return r}async signAndSendAllTransactions(e){var r;if(!((r=_i(this,cn)[cn].features["solana:signAndSendTransaction"])!=null&&r.signAndSendTransaction))throw Error("Wallet does not support signAndSendTransaction");return[...await _i(this,cn)[cn].features["solana:signAndSendTransaction"].signAndSendTransaction(...e.map(n=>({...n,account:_i(this,ga)[ga]})))]}constructor({wallet:e,account:r}){Object.defineProperty(this,cn,{writable:!0,value:void 0}),Object.defineProperty(this,ga,{writable:!0,value:void 0}),_i(this,cn)[cn]=e,_i(this,ga)[ga]=r}};const nve=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,ive=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,sve=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function ave(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){ove(t);return}return e}function ove(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function ay(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const r=t.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!sve.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(nve.test(t)||ive.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,ave)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}const lve=/#/g,cve=/&/g,uve=/\//g,dve=/=/g,_$=/\+/g,hve=/%5e/gi,fve=/%60/gi,pve=/%7c/gi,gve=/%20/gi;function mve(t){return encodeURI(""+t).replace(pve,"|")}function JC(t){return mve(typeof t=="string"?t:JSON.stringify(t)).replace(_$,"%2B").replace(gve,"+").replace(lve,"%23").replace(cve,"%26").replace(fve,"`").replace(hve,"^").replace(uve,"%2F")}function E7(t){return JC(t).replace(dve,"%3D")}function SK(t=""){try{return decodeURIComponent(""+t)}catch{return""+t}}function yve(t){return SK(t.replace(_$," "))}function bve(t){return SK(t.replace(_$," "))}function wve(t=""){const e=Object.create(null);t[0]==="?"&&(t=t.slice(1));for(const r of t.split("&")){const n=r.match(/([^=]+)=?(.*)/)||[];if(n.length<2)continue;const i=yve(n[1]);if(i==="__proto__"||i==="constructor")continue;const s=bve(n[2]||"");e[i]===void 0?e[i]=s:Array.isArray(e[i])?e[i].push(s):e[i]=[e[i],s]}return e}function vve(t,e){return(typeof e=="number"||typeof e=="boolean")&&(e=String(e)),e?Array.isArray(e)?e.map(r=>`${E7(t)}=${JC(r)}`).join("&"):`${E7(t)}=${JC(e)}`:E7(t)}function xve(t){return Object.keys(t).filter(e=>t[e]!==void 0).map(e=>vve(e,t[e])).filter(Boolean).join("&")}const Eve=/^[\s\w\0+.-]{2,}:([/\\]{1,2})/,_ve=/^[\s\w\0+.-]{2,}:([/\\]{2})?/,Cve=/^([/\\]\s*){2,}[^/\\]/,Ave=/^\.?\//;function kK(t,e={}){return typeof e=="boolean"&&(e={acceptRelative:e}),e.strict?Eve.test(t):_ve.test(t)||(e.acceptRelative?Cve.test(t):!1)}function Sve(t="",e){return t.endsWith("/")}function kve(t="",e){return(Sve(t)?t.slice(0,-1):t)||"/"}function $ve(t="",e){return t.endsWith("/")?t:t+"/"}function Tve(t,e){if(Nve(e)||kK(t))return t;const r=kve(e);return t.startsWith(r)?t:Ove(r,t)}function Ive(t,e){const r=Mve(t),n={...wve(r.search),...e};return r.search=xve(n),Rve(r)}function Nve(t){return!t||t==="/"}function Pve(t){return t&&t!=="/"}function Ove(t,...e){let r=t||"";for(const n of e.filter(i=>Pve(i)))if(r){const i=n.replace(Ave,"");r=$ve(r)+i}else r=n;return r}const $K=Symbol.for("ufo:protocolRelative");function Mve(t="",e){const r=t.match(/^[\s\0]*(blob:|data:|javascript:|vbscript:)(.*)/i);if(r){const[,f,g=""]=r;return{protocol:f.toLowerCase(),pathname:g,href:f+g,auth:"",host:"",search:"",hash:""}}if(!kK(t,{acceptRelative:!0}))return sD(t);const[,n="",i,s=""]=t.replace(/\\/g,"/").match(/^[\s\0]*([\w+.-]{2,}:)?\/\/([^/@]+@)?(.*)/)||[];let[,a="",o=""]=s.match(/([^#/?]*)(.*)?/)||[];n==="file:"&&(o=o.replace(/\/(?=[A-Za-z]:)/,""));const{pathname:l,search:u,hash:h}=sD(o);return{protocol:n.toLowerCase(),auth:i?i.slice(0,Math.max(0,i.length-1)):"",host:a,pathname:l,search:u,hash:h,[$K]:!n}}function sD(t=""){const[e="",r="",n=""]=(t.match(/([^#?]*)(\?[^#]*)?(#.*)?/)||[]).splice(1);return{pathname:e,search:r,hash:n}}function Rve(t){const e=t.pathname||"",r=t.search?(t.search.startsWith("?")?"":"?")+t.search:"",n=t.hash||"",i=t.auth?t.auth+"@":"",s=t.host||"";return(t.protocol||t[$K]?(t.protocol||"")+"//":"")+i+s+e+r+n}class TK extends Error{constructor(e,r){super(e,r),this.name="FetchError",r!=null&&r.cause&&!this.cause&&(this.cause=r.cause)}}function jve(t){var l,u,h,f,g;const e=((l=t.error)==null?void 0:l.message)||((u=t.error)==null?void 0:u.toString())||"",r=((h=t.request)==null?void 0:h.method)||((f=t.options)==null?void 0:f.method)||"GET",n=((g=t.request)==null?void 0:g.url)||String(t.request)||"/",i=`[${r}] ${JSON.stringify(n)}`,s=t.response?`${t.response.status} ${t.response.statusText}`:"<no response>",a=`${i}: ${s}${e?` ${e}`:""}`,o=new TK(a,t.error?{cause:t.error}:void 0);for(const y of["request","options","response"])Object.defineProperty(o,y,{get(){return t[y]}});for(const[y,b]of[["data","_data"],["status","status"],["statusCode","status"],["statusText","statusText"],["statusMessage","statusText"]])Object.defineProperty(o,y,{get(){return t.response&&t.response[b]}});return o}const Dve=new Set(Object.freeze(["PATCH","POST","PUT","DELETE"]));function aD(t="GET"){return Dve.has(t.toUpperCase())}function Uve(t){if(t===void 0)return!1;const e=typeof t;return e==="string"||e==="number"||e==="boolean"||e===null?!0:e!=="object"?!1:Array.isArray(t)?!0:t.buffer?!1:t.constructor&&t.constructor.name==="Object"||typeof t.toJSON=="function"}const Bve=new Set(["image/svg","application/xml","application/xhtml","application/html"]),Lve=/^application\/(?:[\w!#$%&*.^`~-]*\+)?json(;.+)?$/i;function Fve(t=""){if(!t)return"json";const e=t.split(";").shift()||"";return Lve.test(e)?"json":Bve.has(e)||e.startsWith("text/")?"text":"blob"}function zve(t,e,r,n){const i=Wve((e==null?void 0:e.headers)??(t==null?void 0:t.headers),r==null?void 0:r.headers,n);let s;return(r!=null&&r.query||r!=null&&r.params||e!=null&&e.params||e!=null&&e.query)&&(s={...r==null?void 0:r.params,...r==null?void 0:r.query,...e==null?void 0:e.params,...e==null?void 0:e.query}),{...r,...e,query:s,params:s,headers:i}}function Wve(t,e,r){if(!e)return new r(t);const n=new r(e);if(t)for(const[i,s]of Symbol.iterator in t||Array.isArray(t)?t:new r(t))n.set(i,s);return n}async function mv(t,e){if(e)if(Array.isArray(e))for(const r of e)await r(t);else await e(t)}const qve=new Set([408,409,425,429,500,502,503,504]),Hve=new Set([101,204,205,304]);function IK(t={}){const{fetch:e=globalThis.fetch,Headers:r=globalThis.Headers,AbortController:n=globalThis.AbortController}=t;async function i(o){const l=o.error&&o.error.name==="AbortError"&&!o.options.timeout||!1;if(o.options.retry!==!1&&!l){let h;typeof o.options.retry=="number"?h=o.options.retry:h=aD(o.options.method)?0:1;const f=o.response&&o.response.status||500;if(h>0&&(Array.isArray(o.options.retryStatusCodes)?o.options.retryStatusCodes.includes(f):qve.has(f))){const g=typeof o.options.retryDelay=="function"?o.options.retryDelay(o):o.options.retryDelay||0;return g>0&&await new Promise(y=>setTimeout(y,g)),s(o.request,{...o.options,retry:h-1})}}const u=jve(o);throw Error.captureStackTrace&&Error.captureStackTrace(u,s),u}const s=async function(l,u={}){const h={request:l,options:zve(l,u,t.defaults,r),response:void 0,error:void 0};h.options.method&&(h.options.method=h.options.method.toUpperCase()),h.options.onRequest&&await mv(h,h.options.onRequest),typeof h.request=="string"&&(h.options.baseURL&&(h.request=Tve(h.request,h.options.baseURL)),h.options.query&&(h.request=Ive(h.request,h.options.query),delete h.options.query),"query"in h.options&&delete h.options.query,"params"in h.options&&delete h.options.params),h.options.body&&aD(h.options.method)&&(Uve(h.options.body)?(h.options.body=typeof h.options.body=="string"?h.options.body:JSON.stringify(h.options.body),h.options.headers=new r(h.options.headers||{}),h.options.headers.has("content-type")||h.options.headers.set("content-type","application/json"),h.options.headers.has("accept")||h.options.headers.set("accept","application/json")):("pipeTo"in h.options.body&&typeof h.options.body.pipeTo=="function"||typeof h.options.body.pipe=="function")&&("duplex"in h.options||(h.options.duplex="half")));let f;if(!h.options.signal&&h.options.timeout){const y=new n;f=setTimeout(()=>{const b=new Error("[TimeoutError]: The operation was aborted due to timeout");b.name="TimeoutError",b.code=23,y.abort(b)},h.options.timeout),h.options.signal=y.signal}try{h.response=await e(h.request,h.options)}catch(y){return h.error=y,h.options.onRequestError&&await mv(h,h.options.onRequestError),await i(h)}finally{f&&clearTimeout(f)}if((h.response.body||h.response._bodyInit)&&!Hve.has(h.response.status)&&h.options.method!=="HEAD"){const y=(h.options.parseResponse?"json":h.options.responseType)||Fve(h.response.headers.get("content-type")||"");switch(y){case"json":{const b=await h.response.text(),w=h.options.parseResponse||ay;h.response._data=w(b);break}case"stream":{h.response._data=h.response.body||h.response._bodyInit;break}default:h.response._data=await h.response[y]()}}return h.options.onResponse&&await mv(h,h.options.onResponse),!h.options.ignoreResponseError&&h.response.status>=400&&h.response.status<600?(h.options.onResponseError&&await mv(h,h.options.onResponseError),await i(h)):h.response},a=async function(l,u){return(await s(l,u))._data};return a.raw=s,a.native=(...o)=>e(...o),a.create=(o={},l={})=>IK({...t,...l,defaults:{...t.defaults,...l.defaults,...o}}),a}const s5=function(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}(),Vve=s5.fetch?(...t)=>s5.fetch(...t):()=>Promise.reject(new Error("[ofetch] global.fetch is not supported!")),Gve=s5.Headers,Kve=s5.AbortController,NK=IK({fetch:Vve,Headers:Gve,AbortController:Kve});var Bt;let fs=class extends Error{toString(){return`${this.type}${this.privyErrorCode?`-${this.privyErrorCode}`:""}: ${this.message}${this.cause?` [cause: ${this.cause}]`:""}`}constructor(e,r,n){super(e),r instanceof Error&&(this.cause=r),this.privyErrorCode=n}},Sa=class extends fs{constructor(e,r,n,i,s,a){super(n,i,s),this.type=e,this.status=r,this.data=a}},ue=class extends fs{constructor(e,r,n){super(e,r,n),this.type="client_error"}},Yve=class extends ue{constructor(){super("Request timed out",void 0,"client_request_timeout")}},ln=class extends fs{constructor(e,r,n){super(e,r,n),this.type="connector_error"}};const br=t=>{if(t instanceof fs)return t;if(!(t instanceof TK))return hn(t);if(!t.response)return new Sa("api_error",null,t.message,t);let{type:e,message:r,error:n,code:i}=t.data;return new Sa(e||"ApiError",t.response.status,r||n,t,i,t.data)},hn=t=>t instanceof fs?t:t instanceof Error?new ue(t.message,t):new ue(`Internal error: ${t}`);var fe=((Bt={}).OAUTH_ACCOUNT_SUSPENDED="oauth_account_suspended",Bt.MISSING_OR_INVALID_PRIVY_APP_ID="missing_or_invalid_privy_app_id",Bt.MISSING_OR_INVALID_PRIVY_ACCOUNT_ID="missing_or_invalid_privy_account_id",Bt.MISSING_OR_INVALID_TOKEN="missing_or_invalid_token",Bt.INVALID_DATA="invalid_data",Bt.INVALID_CAPTCHA="invalid_captcha",Bt.LINKED_TO_ANOTHER_USER="linked_to_another_user",Bt.CANNOT_LINK_MORE_OF_TYPE="cannot_link_more_of_type",Bt.FAILED_TO_LINK_ACCOUNT="failed_to_link_account",Bt.FAILED_TO_UPDATE_ACCOUNT="failed_to_update_account",Bt.USER_EXITED_UPDATE_FLOW="exited_update_flow",Bt.ALLOWLIST_REJECTED="allowlist_rejected",Bt.OAUTH_USER_DENIED="oauth_user_denied",Bt.OAUTH_UNEXPECTED="oauth_unexpected",Bt.UNKNOWN_AUTH_ERROR="unknown_auth_error",Bt.USER_EXITED_AUTH_FLOW="exited_auth_flow",Bt.USER_EXITED_LINK_FLOW="exited_link_flow",Bt.USER_EXITED_SET_PASSWORD_FLOW="user_exited_set_password_flow",Bt.MUST_BE_AUTHENTICATED="must_be_authenticated",Bt.UNKNOWN_CONNECT_WALLET_ERROR="unknown_connect_wallet_error",Bt.GENERIC_CONNECT_WALLET_ERROR="generic_connect_wallet_error",Bt.CLIENT_REQUEST_TIMEOUT="client_request_timeout",Bt.INVALID_CREDENTIALS="invalid_credentials",Bt.MISSING_MFA_CREDENTIALS="missing_or_invalid_mfa",Bt.UNKNOWN_MFA_ERROR="unknown_mfa_error",Bt.EMBEDDED_WALLET_ALREADY_EXISTS="embedded_wallet_already_exists",Bt.EMBEDDED_WALLET_NOT_FOUND="embedded_wallet_not_found",Bt.EMBEDDED_WALLET_CREATE_ERROR="embedded_wallet_create_error",Bt.UNKNOWN_EMBEDDED_WALLET_ERROR="unknown_embedded_wallet_error",Bt.EMBEDDED_WALLET_PASSWORD_UNCONFIRMED="embedded_wallet_password_unconfirmed",Bt.EMBEDDED_WALLET_PASSWORD_ALREADY_EXISTS="embedded_wallet_password_already_exists",Bt.EMBEDDED_WALLET_RECOVERY_ALREADY_EXISTS="embedded_wallet_recovery_already_exists",Bt.TRANSACTION_FAILURE="transaction_failure",Bt.UNSUPPORTED_CHAIN_ID="unsupported_chain_id",Bt.NOT_SUPPORTED="not_supported",Bt.CAPTCHA_TIMEOUT="captcha_timeout",Bt.INVALID_MESSAGE="invalid_message",Bt.UNABLE_TO_SIGN="unable_to_sign",Bt.CAPTCHA_FAILURE="captcha_failure",Bt.CAPTCHA_DISABLED="captcha_disabled",Bt.SESSION_STORAGE_UNAVAILABLE="session_storage_unavailable",Bt.TOO_MANY_REQUESTS="too_many_requests",Bt.USER_LIMIT_REACHED="max_accounts_reached",Bt.DISALLOWED_LOGIN_METHOD="disallowed_login_method",Bt.DISALLOWED_PLUS_EMAIL="disallowed_plus_email",Bt.PASSKEY_NOT_ALLOWED="passkey_not_allowed",Bt.USER_DOES_NOT_EXIST="user_does_not_exist",Bt.INSUFFICIENT_BALANCE="insufficient_balance",Bt.ACCOUNT_TRANSFER_REQUIRED="account_transfer_required",Bt.BUFFER_NOT_DEFINED="buffer_not_defined",Bt.UNSUPPORTED_WALLET_TYPE="unsupported_wallet_type",Bt);let Dh=class extends ue{constructor(){super("Method called before `ready`. Ensure you wait until `ready` is true before calling.")}},Hd=class extends ue{constructor(e="Embedded wallet error",r){super(e,r,"unknown_embedded_wallet_error")}},Zve=class extends ue{constructor(e="User must be authenticated"){super(e,void 0,"must_be_authenticated")}},bb=class extends ue{constructor(e){super("This application is in development mode and must be upgraded to production to log in new users.",e,"max_accounts_reached")}};const PK="/api/v1/sessions",OK="/api/v1/sessions/logout",Qve="/api/v1/siwe/init",Xve="/api/v1/siwe/authenticate",Jve="/api/v1/siwe/link",e3e="/api/v1/siwe/link_smart_wallet",t3e="/api/v1/siwe/unlink",r3e="/api/v1/siwe/transfer",n3e="/api/v1/siws/init",i3e="/api/v1/siws/authenticate",s3e="/api/v1/siws/link",a3e="/api/v1/siws/unlink",o3e="/api/v1/siws/transfer",l3e="/api/v1/farcaster/init",c3e="/api/v1/farcaster/authenticate",u3e="/api/v1/farcaster/link",d3e="/api/v1/farcaster/status",h3e="/api/v1/farcaster/unlink",f3e="/api/v1/farcaster/transfer",p3e="/api/v1/passwordless/init",g3e="/api/v1/passwordless/authenticate",m3e="/api/v1/passwordless/link",y3e="/api/v1/passwordless/unlink",b3e="/api/v1/passwordless/update",w3e="/api/v1/passwordless/transfer",v3e="/api/v1/passwordless_sms/init",x3e="/api/v1/passwordless_sms/link",E3e="/api/v1/passwordless_sms/unlink",_3e="/api/v1/passwordless_sms/authenticate",C3e="/api/v1/passwordless_sms/update",A3e="/api/v1/passwordless_sms/transfer",MK="/api/v1/oauth/init",RK="/api/v1/oauth/authenticate",jK="/api/v1/oauth/link",S3e="/api/v1/oauth/unlink",k3e="/api/v1/oauth/transfer",$3e="/api/v1/recovery/oauth/init",T3e="/api/v1/recovery/oauth/init_icloud",I3e="/api/v1/recovery/oauth/authenticate",N3e="/api/v1/passkeys/link/init",P3e="/api/v1/passkeys/authenticate/init",O3e="/api/v1/passkeys/register/init",M3e="/api/v1/passkeys/link",R3e="/api/v1/passkeys/authenticate",j3e="/api/v1/passkeys/register",D3e="/api/v1/telegram/authenticate",U3e="/api/v1/telegram/link",B3e="/api/v1/telegram/unlink",L3e="/api/v1/telegram/transfer",F3e="/api/v1/mfa/passwordless_sms/init",z3e="/api/v1/mfa/passkeys/init",W3e="/api/v1/users/me/accept_terms",DK="/api/v1/analytics_events",q3e="/api/v1/custom_jwt_account/authenticate",H3e="/api/v1/custom_jwt_account/link",V3e="/api/v1/guest/authenticate",G3e="/api/v1/plugins/moonpay_on_ramp/sign",K3e="/api/v1/funding/coinbase_on_ramp/init",Y3e="/api/v1/funding/coinbase_on_ramp/status",Z3e="/api/v1/wallets/revoke",Q3e="/api/v1/users/me",X3e="/api/v1/scan/transaction";function J3e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const W6=$.forwardRef(J3e);function e5e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m11.25 11.25.041-.02a.75.75 0 0 1 1.063.852l-.708 2.836a.75.75 0 0 0 1.063.853l.041-.021M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9-3.75h.008v.008H12V8.25Z"}))}const t5e=$.forwardRef(e5e);var us=function(){return us=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},us.apply(this,arguments)};function mg(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}var dn="-ms-",Cy="-moz-",Br="-webkit-",UK="comm",q6="rule",C$="decl",r5e="@import",BK="@keyframes",n5e="@layer",LK=Math.abs,A$=String.fromCharCode,eA=Object.assign;function i5e(t,e){return $i(t,0)^45?(((e<<2^$i(t,0))<<2^$i(t,1))<<2^$i(t,2))<<2^$i(t,3):0}function FK(t){return t.trim()}function nu(t,e){return(t=e.exec(t))?t[0]:t}function lr(t,e,r){return t.replace(e,r)}function p3(t,e,r){return t.indexOf(e,r)}function $i(t,e){return t.charCodeAt(e)|0}function yg(t,e,r){return t.slice(e,r)}function Ql(t){return t.length}function zK(t){return t.length}function oy(t,e){return e.push(t),t}function s5e(t,e){return t.map(e).join("")}function oD(t,e){return t.filter(function(r){return!nu(r,e)})}var H6=1,bg=1,WK=0,vo=0,ai=0,qg="";function V6(t,e,r,n,i,s,a,o){return{value:t,root:e,parent:r,type:n,props:i,children:s,line:H6,column:bg,length:a,return:"",siblings:o}}function $d(t,e){return eA(V6("",null,null,"",null,null,0,t.siblings),t,{length:-t.length},e)}function e0(t){for(;t.root;)t=$d(t.root,{children:[t]});oy(t,t.siblings)}function a5e(){return ai}function o5e(){return ai=vo>0?$i(qg,--vo):0,bg--,ai===10&&(bg=1,H6--),ai}function nl(){return ai=vo<WK?$i(qg,vo++):0,bg++,ai===10&&(bg=1,H6++),ai}function mf(){return $i(qg,vo)}function g3(){return vo}function G6(t,e){return yg(qg,t,e)}function tA(t){switch(t){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function l5e(t){return H6=bg=1,WK=Ql(qg=t),vo=0,[]}function c5e(t){return qg="",t}function _7(t){return FK(G6(vo-1,rA(t===91?t+2:t===40?t+1:t)))}function u5e(t){for(;(ai=mf())&&ai<33;)nl();return tA(t)>2||tA(ai)>3?"":" "}function d5e(t,e){for(;--e&&nl()&&!(ai<48||ai>102||ai>57&&ai<65||ai>70&&ai<97););return G6(t,g3()+(e<6&&mf()==32&&nl()==32))}function rA(t){for(;nl();)switch(ai){case t:return vo;case 34:case 39:t!==34&&t!==39&&rA(ai);break;case 40:t===41&&rA(t);break;case 92:nl();break}return vo}function h5e(t,e){for(;nl()&&t+ai!==57;)if(t+ai===84&&mf()===47)break;return"/*"+G6(e,vo-1)+"*"+A$(t===47?t:nl())}function f5e(t){for(;!tA(mf());)nl();return G6(t,vo)}function p5e(t){return c5e(m3("",null,null,null,[""],t=l5e(t),0,[0],t))}function m3(t,e,r,n,i,s,a,o,l){for(var u=0,h=0,f=a,g=0,y=0,b=0,w=1,x=1,E=1,S=0,_="",I=i,A=s,O=n,F=_;x;)switch(b=S,S=nl()){case 40:if(b!=108&&$i(F,f-1)==58){p3(F+=lr(_7(S),"&","&\f"),"&\f",LK(u?o[u-1]:0))!=-1&&(E=-1);break}case 34:case 39:case 91:F+=_7(S);break;case 9:case 10:case 13:case 32:F+=u5e(b);break;case 92:F+=d5e(g3()-1,7);continue;case 47:switch(mf()){case 42:case 47:oy(g5e(h5e(nl(),g3()),e,r,l),l);break;default:F+="/"}break;case 123*w:o[u++]=Ql(F)*E;case 125*w:case 59:case 0:switch(S){case 0:case 125:x=0;case 59+h:E==-1&&(F=lr(F,/\f/g,"")),y>0&&Ql(F)-f&&oy(y>32?cD(F+";",n,r,f-1,l):cD(lr(F," ","")+";",n,r,f-2,l),l);break;case 59:F+=";";default:if(oy(O=lD(F,e,r,u,h,i,o,_,I=[],A=[],f,s),s),S===123)if(h===0)m3(F,e,O,O,I,s,f,o,A);else switch(g===99&&$i(F,3)===110?100:g){case 100:case 108:case 109:case 115:m3(t,O,O,n&&oy(lD(t,O,O,0,0,i,o,_,i,I=[],f,A),A),i,A,f,o,n?I:A);break;default:m3(F,O,O,O,[""],A,0,o,A)}}u=h=y=0,w=E=1,_=F="",f=a;break;case 58:f=1+Ql(F),y=b;default:if(w<1){if(S==123)--w;else if(S==125&&w++==0&&o5e()==125)continue}switch(F+=A$(S),S*w){case 38:E=h>0?1:(F+="\f",-1);break;case 44:o[u++]=(Ql(F)-1)*E,E=1;break;case 64:mf()===45&&(F+=_7(nl())),g=mf(),h=f=Ql(_=F+=f5e(g3())),S++;break;case 45:b===45&&Ql(F)==2&&(w=0)}}return s}function lD(t,e,r,n,i,s,a,o,l,u,h,f){for(var g=i-1,y=i===0?s:[""],b=zK(y),w=0,x=0,E=0;w<n;++w)for(var S=0,_=yg(t,g+1,g=LK(x=a[w])),I=t;S<b;++S)(I=FK(x>0?y[S]+" "+_:lr(_,/&\f/g,y[S])))&&(l[E++]=I);return V6(t,e,r,i===0?q6:o,l,u,h,f)}function g5e(t,e,r,n){return V6(t,e,r,UK,A$(a5e()),yg(t,2,-2),0,n)}function cD(t,e,r,n,i){return V6(t,e,r,C$,yg(t,0,n),yg(t,n+1,-1),n,i)}function qK(t,e,r){switch(i5e(t,e)){case 5103:return Br+"print-"+t+t;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return Br+t+t;case 4789:return Cy+t+t;case 5349:case 4246:case 4810:case 6968:case 2756:return Br+t+Cy+t+dn+t+t;case 5936:switch($i(t,e+11)){case 114:return Br+t+dn+lr(t,/[svh]\w+-[tblr]{2}/,"tb")+t;case 108:return Br+t+dn+lr(t,/[svh]\w+-[tblr]{2}/,"tb-rl")+t;case 45:return Br+t+dn+lr(t,/[svh]\w+-[tblr]{2}/,"lr")+t}case 6828:case 4268:case 2903:return Br+t+dn+t+t;case 6165:return Br+t+dn+"flex-"+t+t;case 5187:return Br+t+lr(t,/(\w+).+(:[^]+)/,Br+"box-$1$2"+dn+"flex-$1$2")+t;case 5443:return Br+t+dn+"flex-item-"+lr(t,/flex-|-self/g,"")+(nu(t,/flex-|baseline/)?"":dn+"grid-row-"+lr(t,/flex-|-self/g,""))+t;case 4675:return Br+t+dn+"flex-line-pack"+lr(t,/align-content|flex-|-self/g,"")+t;case 5548:return Br+t+dn+lr(t,"shrink","negative")+t;case 5292:return Br+t+dn+lr(t,"basis","preferred-size")+t;case 6060:return Br+"box-"+lr(t,"-grow","")+Br+t+dn+lr(t,"grow","positive")+t;case 4554:return Br+lr(t,/([^-])(transform)/g,"$1"+Br+"$2")+t;case 6187:return lr(lr(lr(t,/(zoom-|grab)/,Br+"$1"),/(image-set)/,Br+"$1"),t,"")+t;case 5495:case 3959:return lr(t,/(image-set\([^]*)/,Br+"$1$`$1");case 4968:return lr(lr(t,/(.+:)(flex-)?(.*)/,Br+"box-pack:$3"+dn+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+Br+t+t;case 4200:if(!nu(t,/flex-|baseline/))return dn+"grid-column-align"+yg(t,e)+t;break;case 2592:case 3360:return dn+lr(t,"template-","")+t;case 4384:case 3616:return r&&r.some(function(n,i){return e=i,nu(n.props,/grid-\w+-end/)})?~p3(t+(r=r[e].value),"span",0)?t:dn+lr(t,"-start","")+t+dn+"grid-row-span:"+(~p3(r,"span",0)?nu(r,/\d+/):+nu(r,/\d+/)-+nu(t,/\d+/))+";":dn+lr(t,"-start","")+t;case 4896:case 4128:return r&&r.some(function(n){return nu(n.props,/grid-\w+-start/)})?t:dn+lr(lr(t,"-end","-span"),"span ","")+t;case 4095:case 3583:case 4068:case 2532:return lr(t,/(.+)-inline(.+)/,Br+"$1$2")+t;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Ql(t)-1-e>6)switch($i(t,e+1)){case 109:if($i(t,e+4)!==45)break;case 102:return lr(t,/(.+:)(.+)-([^]+)/,"$1"+Br+"$2-$3$1"+Cy+($i(t,e+3)==108?"$3":"$2-$3"))+t;case 115:return~p3(t,"stretch",0)?qK(lr(t,"stretch","fill-available"),e,r)+t:t}break;case 5152:case 5920:return lr(t,/(.+?):(\d+)(\s*\/\s*(span)?\s*(\d+))?(.*)/,function(n,i,s,a,o,l,u){return dn+i+":"+s+u+(a?dn+i+"-span:"+(o?l:+l-+s)+u:"")+t});case 4949:if($i(t,e+6)===121)return lr(t,":",":"+Br)+t;break;case 6444:switch($i(t,$i(t,14)===45?18:11)){case 120:return lr(t,/(.+:)([^;\s!]+)(;|(\s+)?!.+)?/,"$1"+Br+($i(t,14)===45?"inline-":"")+"box$3$1"+Br+"$2$3$1"+dn+"$2box$3")+t;case 100:return lr(t,":",":"+dn)+t}break;case 5719:case 2647:case 2135:case 3927:case 2391:return lr(t,"scroll-","scroll-snap-")+t}return t}function a5(t,e){for(var r="",n=0;n<t.length;n++)r+=e(t[n],n,t,e)||"";return r}function m5e(t,e,r,n){switch(t.type){case n5e:if(t.children.length)break;case r5e:case C$:return t.return=t.return||t.value;case UK:return"";case BK:return t.return=t.value+"{"+a5(t.children,n)+"}";case q6:if(!Ql(t.value=t.props.join(",")))return""}return Ql(r=a5(t.children,n))?t.return=t.value+"{"+r+"}":""}function y5e(t){var e=zK(t);return function(r,n,i,s){for(var a="",o=0;o<e;o++)a+=t[o](r,n,i,s)||"";return a}}function b5e(t){return function(e){e.root||(e=e.return)&&t(e)}}function w5e(t,e,r,n){if(t.length>-1&&!t.return)switch(t.type){case C$:t.return=qK(t.value,t.length,r);return;case BK:return a5([$d(t,{value:lr(t.value,"@","@"+Br)})],n);case q6:if(t.length)return s5e(r=t.props,function(i){switch(nu(i,n=/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":e0($d(t,{props:[lr(i,/:(read-\w+)/,":"+Cy+"$1")]})),e0($d(t,{props:[i]})),eA(t,{props:oD(r,n)});break;case"::placeholder":e0($d(t,{props:[lr(i,/:(plac\w+)/,":"+Br+"input-$1")]})),e0($d(t,{props:[lr(i,/:(plac\w+)/,":"+Cy+"$1")]})),e0($d(t,{props:[lr(i,/:(plac\w+)/,dn+"input-$1")]})),e0($d(t,{props:[i]})),eA(t,{props:oD(r,n)});break}return""})}}var v5e={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1},Ea={},wg=typeof process<"u"&&Ea!==void 0&&(Ea.REACT_APP_SC_ATTR||Ea.SC_ATTR)||"data-styled",HK="active",VK="data-styled-version",K6="6.1.19",S$=`/*!sc*/
`,o5=typeof window<"u"&&typeof document<"u",x5e=!!(typeof SC_DISABLE_SPEEDY=="boolean"?SC_DISABLE_SPEEDY:typeof process<"u"&&Ea!==void 0&&Ea.REACT_APP_SC_DISABLE_SPEEDY!==void 0&&Ea.REACT_APP_SC_DISABLE_SPEEDY!==""?Ea.REACT_APP_SC_DISABLE_SPEEDY!=="false"&&Ea.REACT_APP_SC_DISABLE_SPEEDY:typeof process<"u"&&Ea!==void 0&&Ea.SC_DISABLE_SPEEDY!==void 0&&Ea.SC_DISABLE_SPEEDY!==""&&Ea.SC_DISABLE_SPEEDY!=="false"&&Ea.SC_DISABLE_SPEEDY),E5e={},Y6=Object.freeze([]),vg=Object.freeze({});function GK(t,e,r){return r===void 0&&(r=vg),t.theme!==r.theme&&t.theme||e||r.theme}var KK=new Set(["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","tr","track","u","ul","use","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","marker","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"]),_5e=/[!"#$%&'()*+,./:;<=>?@[\\\]^`{|}~-]+/g,C5e=/(^-|-$)/g;function uD(t){return t.replace(_5e,"-").replace(C5e,"")}var A5e=/(a)(d)/gi,yv=52,dD=function(t){return String.fromCharCode(t+(t>25?39:97))};function nA(t){var e,r="";for(e=Math.abs(t);e>yv;e=e/yv|0)r=dD(e%yv)+r;return(dD(e%yv)+r).replace(A5e,"$1-$2")}var C7,YK=5381,M0=function(t,e){for(var r=e.length;r;)t=33*t^e.charCodeAt(--r);return t},ZK=function(t){return M0(YK,t)};function k$(t){return nA(ZK(t)>>>0)}function S5e(t){return t.displayName||t.name||"Component"}function A7(t){return typeof t=="string"&&!0}var QK=typeof Symbol=="function"&&Symbol.for,XK=QK?Symbol.for("react.memo"):60115,k5e=QK?Symbol.for("react.forward_ref"):60112,$5e={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},T5e={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},JK={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},I5e=((C7={})[k5e]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},C7[XK]=JK,C7);function hD(t){return("type"in(e=t)&&e.type.$$typeof)===XK?JK:"$$typeof"in t?I5e[t.$$typeof]:$5e;var e}var N5e=Object.defineProperty,P5e=Object.getOwnPropertyNames,fD=Object.getOwnPropertySymbols,O5e=Object.getOwnPropertyDescriptor,M5e=Object.getPrototypeOf,pD=Object.prototype;function eY(t,e,r){if(typeof e!="string"){if(pD){var n=M5e(e);n&&n!==pD&&eY(t,n,r)}var i=P5e(e);fD&&(i=i.concat(fD(e)));for(var s=hD(t),a=hD(e),o=0;o<i.length;++o){var l=i[o];if(!(l in T5e||r&&r[l]||a&&l in a||s&&l in s)){var u=O5e(e,l);try{N5e(t,l,u)}catch{}}}}return t}function xg(t){return typeof t=="function"}function $$(t){return typeof t=="object"&&"styledComponentId"in t}function sf(t,e){return t&&e?"".concat(t," ").concat(e):t||e||""}function l5(t,e){if(t.length===0)return"";for(var r=t[0],n=1;n<t.length;n++)r+=t[n];return r}function M2(t){return t!==null&&typeof t=="object"&&t.constructor.name===Object.name&&!("props"in t&&t.$$typeof)}function iA(t,e,r){if(r===void 0&&(r=!1),!r&&!M2(t)&&!Array.isArray(t))return e;if(Array.isArray(e))for(var n=0;n<e.length;n++)t[n]=iA(t[n],e[n]);else if(M2(e))for(var n in e)t[n]=iA(t[n],e[n]);return t}function T$(t,e){Object.defineProperty(t,"toString",{value:e})}function wb(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];return new Error("An error occurred. See https://github.com/styled-components/styled-components/blob/main/packages/styled-components/src/utils/errors.md#".concat(t," for more information.").concat(e.length>0?" Args: ".concat(e.join(", ")):""))}var R5e=function(){function t(e){this.groupSizes=new Uint32Array(512),this.length=512,this.tag=e}return t.prototype.indexOfGroup=function(e){for(var r=0,n=0;n<e;n++)r+=this.groupSizes[n];return r},t.prototype.insertRules=function(e,r){if(e>=this.groupSizes.length){for(var n=this.groupSizes,i=n.length,s=i;e>=s;)if((s<<=1)<0)throw wb(16,"".concat(e));this.groupSizes=new Uint32Array(s),this.groupSizes.set(n),this.length=s;for(var a=i;a<s;a++)this.groupSizes[a]=0}for(var o=this.indexOfGroup(e+1),l=(a=0,r.length);a<l;a++)this.tag.insertRule(o,r[a])&&(this.groupSizes[e]++,o++)},t.prototype.clearGroup=function(e){if(e<this.length){var r=this.groupSizes[e],n=this.indexOfGroup(e),i=n+r;this.groupSizes[e]=0;for(var s=n;s<i;s++)this.tag.deleteRule(n)}},t.prototype.getGroup=function(e){var r="";if(e>=this.length||this.groupSizes[e]===0)return r;for(var n=this.groupSizes[e],i=this.indexOfGroup(e),s=i+n,a=i;a<s;a++)r+="".concat(this.tag.getRule(a)).concat(S$);return r},t}(),y3=new Map,c5=new Map,b3=1,bv=function(t){if(y3.has(t))return y3.get(t);for(;c5.has(b3);)b3++;var e=b3++;return y3.set(t,e),c5.set(e,t),e},j5e=function(t,e){b3=e+1,y3.set(t,e),c5.set(e,t)},D5e="style[".concat(wg,"][").concat(VK,'="').concat(K6,'"]'),U5e=new RegExp("^".concat(wg,'\\.g(\\d+)\\[id="([\\w\\d-]+)"\\].*?"([^"]*)')),B5e=function(t,e,r){for(var n,i=r.split(","),s=0,a=i.length;s<a;s++)(n=i[s])&&t.registerName(e,n)},L5e=function(t,e){for(var r,n=((r=e.textContent)!==null&&r!==void 0?r:"").split(S$),i=[],s=0,a=n.length;s<a;s++){var o=n[s].trim();if(o){var l=o.match(U5e);if(l){var u=0|parseInt(l[1],10),h=l[2];u!==0&&(j5e(h,u),B5e(t,h,l[3]),t.getTag().insertRules(u,i)),i.length=0}else i.push(o)}}},gD=function(t){for(var e=document.querySelectorAll(D5e),r=0,n=e.length;r<n;r++){var i=e[r];i&&i.getAttribute(wg)!==HK&&(L5e(t,i),i.parentNode&&i.parentNode.removeChild(i))}};function F5e(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:null}var tY=function(t){var e=document.head,r=t||e,n=document.createElement("style"),i=function(o){var l=Array.from(o.querySelectorAll("style[".concat(wg,"]")));return l[l.length-1]}(r),s=i!==void 0?i.nextSibling:null;n.setAttribute(wg,HK),n.setAttribute(VK,K6);var a=F5e();return a&&n.setAttribute("nonce",a),r.insertBefore(n,s),n},z5e=function(){function t(e){this.element=tY(e),this.element.appendChild(document.createTextNode("")),this.sheet=function(r){if(r.sheet)return r.sheet;for(var n=document.styleSheets,i=0,s=n.length;i<s;i++){var a=n[i];if(a.ownerNode===r)return a}throw wb(17)}(this.element),this.length=0}return t.prototype.insertRule=function(e,r){try{return this.sheet.insertRule(r,e),this.length++,!0}catch{return!1}},t.prototype.deleteRule=function(e){this.sheet.deleteRule(e),this.length--},t.prototype.getRule=function(e){var r=this.sheet.cssRules[e];return r&&r.cssText?r.cssText:""},t}(),W5e=function(){function t(e){this.element=tY(e),this.nodes=this.element.childNodes,this.length=0}return t.prototype.insertRule=function(e,r){if(e<=this.length&&e>=0){var n=document.createTextNode(r);return this.element.insertBefore(n,this.nodes[e]||null),this.length++,!0}return!1},t.prototype.deleteRule=function(e){this.element.removeChild(this.nodes[e]),this.length--},t.prototype.getRule=function(e){return e<this.length?this.nodes[e].textContent:""},t}(),q5e=function(){function t(e){this.rules=[],this.length=0}return t.prototype.insertRule=function(e,r){return e<=this.length&&(this.rules.splice(e,0,r),this.length++,!0)},t.prototype.deleteRule=function(e){this.rules.splice(e,1),this.length--},t.prototype.getRule=function(e){return e<this.length?this.rules[e]:""},t}(),mD=o5,H5e={isServer:!o5,useCSSOMInjection:!x5e},u5=function(){function t(e,r,n){e===void 0&&(e=vg),r===void 0&&(r={});var i=this;this.options=us(us({},H5e),e),this.gs=r,this.names=new Map(n),this.server=!!e.isServer,!this.server&&o5&&mD&&(mD=!1,gD(this)),T$(this,function(){return function(s){for(var a=s.getTag(),o=a.length,l="",u=function(f){var g=function(E){return c5.get(E)}(f);if(g===void 0)return"continue";var y=s.names.get(g),b=a.getGroup(f);if(y===void 0||!y.size||b.length===0)return"continue";var w="".concat(wg,".g").concat(f,'[id="').concat(g,'"]'),x="";y!==void 0&&y.forEach(function(E){E.length>0&&(x+="".concat(E,","))}),l+="".concat(b).concat(w,'{content:"').concat(x,'"}').concat(S$)},h=0;h<o;h++)u(h);return l}(i)})}return t.registerId=function(e){return bv(e)},t.prototype.rehydrate=function(){!this.server&&o5&&gD(this)},t.prototype.reconstructWithOptions=function(e,r){return r===void 0&&(r=!0),new t(us(us({},this.options),e),this.gs,r&&this.names||void 0)},t.prototype.allocateGSInstance=function(e){return this.gs[e]=(this.gs[e]||0)+1},t.prototype.getTag=function(){return this.tag||(this.tag=(e=function(r){var n=r.useCSSOMInjection,i=r.target;return r.isServer?new q5e(i):n?new z5e(i):new W5e(i)}(this.options),new R5e(e)));var e},t.prototype.hasNameForId=function(e,r){return this.names.has(e)&&this.names.get(e).has(r)},t.prototype.registerName=function(e,r){if(bv(e),this.names.has(e))this.names.get(e).add(r);else{var n=new Set;n.add(r),this.names.set(e,n)}},t.prototype.insertRules=function(e,r,n){this.registerName(e,r),this.getTag().insertRules(bv(e),n)},t.prototype.clearNames=function(e){this.names.has(e)&&this.names.get(e).clear()},t.prototype.clearRules=function(e){this.getTag().clearGroup(bv(e)),this.clearNames(e)},t.prototype.clearTag=function(){this.tag=void 0},t}(),V5e=/&/g,G5e=/^\s*\/\/.*$/gm;function rY(t,e){return t.map(function(r){return r.type==="rule"&&(r.value="".concat(e," ").concat(r.value),r.value=r.value.replaceAll(",",",".concat(e," ")),r.props=r.props.map(function(n){return"".concat(e," ").concat(n)})),Array.isArray(r.children)&&r.type!=="@keyframes"&&(r.children=rY(r.children,e)),r})}function K5e(t){var e,r,n,i=vg,s=i.options,a=s===void 0?vg:s,o=i.plugins,l=o===void 0?Y6:o,u=function(g,y,b){return b.startsWith(r)&&b.endsWith(r)&&b.replaceAll(r,"").length>0?".".concat(e):g},h=l.slice();h.push(function(g){g.type===q6&&g.value.includes("&")&&(g.props[0]=g.props[0].replace(V5e,r).replace(n,u))}),a.prefix&&h.push(w5e),h.push(m5e);var f=function(g,y,b,w){y===void 0&&(y=""),b===void 0&&(b=""),w===void 0&&(w="&"),e=w,r=y,n=new RegExp("\\".concat(r,"\\b"),"g");var x=g.replace(G5e,""),E=p5e(b||y?"".concat(b," ").concat(y," { ").concat(x," }"):x);a.namespace&&(E=rY(E,a.namespace));var S=[];return a5(E,y5e(h.concat(b5e(function(_){return S.push(_)})))),S};return f.hash=l.length?l.reduce(function(g,y){return y.name||wb(15),M0(g,y.name)},YK).toString():"",f}var Y5e=new u5,sA=K5e(),nY=et.createContext({shouldForwardProp:void 0,styleSheet:Y5e,stylis:sA});nY.Consumer;et.createContext(void 0);function aA(){return $.useContext(nY)}var iY=function(){function t(e,r){var n=this;this.inject=function(i,s){s===void 0&&(s=sA);var a=n.name+s.hash;i.hasNameForId(n.id,a)||i.insertRules(n.id,a,s(n.rules,a,"@keyframes"))},this.name=e,this.id="sc-keyframes-".concat(e),this.rules=r,T$(this,function(){throw wb(12,String(n.name))})}return t.prototype.getName=function(e){return e===void 0&&(e=sA),this.name+e.hash},t}(),Z5e=function(t){return t>="A"&&t<="Z"};function yD(t){for(var e="",r=0;r<t.length;r++){var n=t[r];if(r===1&&n==="-"&&t[0]==="-")return t;Z5e(n)?e+="-"+n.toLowerCase():e+=n}return e.startsWith("ms-")?"-"+e:e}var sY=function(t){return t==null||t===!1||t===""},aY=function(t){var e,r,n=[];for(var i in t){var s=t[i];t.hasOwnProperty(i)&&!sY(s)&&(Array.isArray(s)&&s.isCss||xg(s)?n.push("".concat(yD(i),":"),s,";"):M2(s)?n.push.apply(n,mg(mg(["".concat(i," {")],aY(s),!1),["}"],!1)):n.push("".concat(yD(i),": ").concat((e=i,(r=s)==null||typeof r=="boolean"||r===""?"":typeof r!="number"||r===0||e in v5e||e.startsWith("--")?String(r).trim():"".concat(r,"px")),";")))}return n};function Vd(t,e,r,n){if(sY(t))return[];if($$(t))return[".".concat(t.styledComponentId)];if(xg(t)){if(!xg(s=t)||s.prototype&&s.prototype.isReactComponent||!e)return[t];var i=t(e);return Vd(i,e,r,n)}var s;return t instanceof iY?r?(t.inject(r,n),[t.getName(n)]):[t]:M2(t)?aY(t):Array.isArray(t)?Array.prototype.concat.apply(Y6,t.map(function(a){return Vd(a,e,r,n)})):[t.toString()]}function oY(t){for(var e=0;e<t.length;e+=1){var r=t[e];if(xg(r)&&!$$(r))return!1}return!0}var Q5e=ZK(K6),X5e=function(){function t(e,r,n){this.rules=e,this.staticRulesId="",this.isStatic=(n===void 0||n.isStatic)&&oY(e),this.componentId=r,this.baseHash=M0(Q5e,r),this.baseStyle=n,u5.registerId(r)}return t.prototype.generateAndInjectStyles=function(e,r,n){var i=this.baseStyle?this.baseStyle.generateAndInjectStyles(e,r,n):"";if(this.isStatic&&!n.hash)if(this.staticRulesId&&r.hasNameForId(this.componentId,this.staticRulesId))i=sf(i,this.staticRulesId);else{var s=l5(Vd(this.rules,e,r,n)),a=nA(M0(this.baseHash,s)>>>0);if(!r.hasNameForId(this.componentId,a)){var o=n(s,".".concat(a),void 0,this.componentId);r.insertRules(this.componentId,a,o)}i=sf(i,a),this.staticRulesId=a}else{for(var l=M0(this.baseHash,n.hash),u="",h=0;h<this.rules.length;h++){var f=this.rules[h];if(typeof f=="string")u+=f;else if(f){var g=l5(Vd(f,e,r,n));l=M0(l,g+h),u+=g}}if(u){var y=nA(l>>>0);r.hasNameForId(this.componentId,y)||r.insertRules(this.componentId,y,n(u,".".concat(y),void 0,this.componentId)),i=sf(i,y)}}return i},t}(),I$=et.createContext(void 0);I$.Consumer;var S7={};function J5e(t,e,r){var n=$$(t),i=t,s=!A7(t),a=e.attrs,o=a===void 0?Y6:a,l=e.componentId,u=l===void 0?function(I,A){var O=typeof I!="string"?"sc":uD(I);S7[O]=(S7[O]||0)+1;var F="".concat(O,"-").concat(k$(K6+O+S7[O]));return A?"".concat(A,"-").concat(F):F}(e.displayName,e.parentComponentId):l,h=e.displayName,f=h===void 0?function(I){return A7(I)?"styled.".concat(I):"Styled(".concat(S5e(I),")")}(t):h,g=e.displayName&&e.componentId?"".concat(uD(e.displayName),"-").concat(e.componentId):e.componentId||u,y=n&&i.attrs?i.attrs.concat(o).filter(Boolean):o,b=e.shouldForwardProp;if(n&&i.shouldForwardProp){var w=i.shouldForwardProp;if(e.shouldForwardProp){var x=e.shouldForwardProp;b=function(I,A){return w(I,A)&&x(I,A)}}else b=w}var E=new X5e(r,g,n?i.componentStyle:void 0);function S(I,A){return function(O,F,H){var L=O.attrs,z=O.componentStyle,V=O.defaultProps,K=O.foldedComponentIds,B=O.styledComponentId,C=O.target,k=et.useContext(I$),N=aA(),D=O.shouldForwardProp||N.shouldForwardProp,P=GK(F,k,V)||vg,R=function(q,X,ne){for(var ee,ce=us(us({},X),{className:void 0,theme:ne}),be=0;be<q.length;be+=1){var ve=xg(ee=q[be])?ee(ce):ee;for(var ge in ve)ce[ge]=ge==="className"?sf(ce[ge],ve[ge]):ge==="style"?us(us({},ce[ge]),ve[ge]):ve[ge]}return X.className&&(ce.className=sf(ce.className,X.className)),ce}(L,F,P),j=R.as||C,W={};for(var M in R)R[M]===void 0||M[0]==="$"||M==="as"||M==="theme"&&R.theme===P||(M==="forwardedAs"?W.as=R.forwardedAs:D&&!D(M,j)||(W[M]=R[M]));var G=function(q,X){var ne=aA(),ee=q.generateAndInjectStyles(X,ne.styleSheet,ne.stylis);return ee}(z,R),re=sf(K,B);return G&&(re+=" "+G),R.className&&(re+=" "+R.className),W[A7(j)&&!KK.has(j)?"class":"className"]=re,H&&(W.ref=H),$.createElement(j,W)}(_,I,A)}S.displayName=f;var _=et.forwardRef(S);return _.attrs=y,_.componentStyle=E,_.displayName=f,_.shouldForwardProp=b,_.foldedComponentIds=n?sf(i.foldedComponentIds,i.styledComponentId):"",_.styledComponentId=g,_.target=n?i.target:t,Object.defineProperty(_,"defaultProps",{get:function(){return this._foldedDefaultProps},set:function(I){this._foldedDefaultProps=n?function(A){for(var O=[],F=1;F<arguments.length;F++)O[F-1]=arguments[F];for(var H=0,L=O;H<L.length;H++)iA(A,L[H],!0);return A}({},i.defaultProps,I):I}}),T$(_,function(){return".".concat(_.styledComponentId)}),s&&eY(_,t,{attrs:!0,componentStyle:!0,displayName:!0,foldedComponentIds:!0,shouldForwardProp:!0,styledComponentId:!0,target:!0}),_}function bD(t,e){for(var r=[t[0]],n=0,i=e.length;n<i;n+=1)r.push(e[n],t[n+1]);return r}var wD=function(t){return Object.assign(t,{isCss:!0})};function wi(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];if(xg(t)||M2(t))return wD(Vd(bD(Y6,mg([t],e,!0))));var n=t;return e.length===0&&n.length===1&&typeof n[0]=="string"?Vd(n):wD(Vd(bD(n,e)))}function oA(t,e,r){if(r===void 0&&(r=vg),!e)throw wb(1,e);var n=function(i){for(var s=[],a=1;a<arguments.length;a++)s[a-1]=arguments[a];return t(e,r,wi.apply(void 0,mg([i],s,!1)))};return n.attrs=function(i){return oA(t,e,us(us({},r),{attrs:Array.prototype.concat(r.attrs,i).filter(Boolean)}))},n.withConfig=function(i){return oA(t,e,us(us({},r),i))},n}var lY=function(t){return oA(J5e,t)},te=lY;KK.forEach(function(t){te[t]=lY(t)});var e6e=function(){function t(e,r){this.rules=e,this.componentId=r,this.isStatic=oY(e),u5.registerId(this.componentId+1)}return t.prototype.createStyles=function(e,r,n,i){var s=i(l5(Vd(this.rules,r,n,i)),""),a=this.componentId+e;n.insertRules(a,a,s)},t.prototype.removeStyles=function(e,r){r.clearRules(this.componentId+e)},t.prototype.renderStyles=function(e,r,n,i){e>2&&u5.registerId(this.componentId+e),this.removeStyles(e,n),this.createStyles(e,r,n,i)},t}();function t6e(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=wi.apply(void 0,mg([t],e,!1)),i="sc-global-".concat(k$(JSON.stringify(n))),s=new e6e(n,i),a=function(l){var u=aA(),h=et.useContext(I$),f=et.useRef(u.styleSheet.allocateGSInstance(i)).current;return u.styleSheet.server&&o(f,l,u.styleSheet,h,u.stylis),et.useLayoutEffect(function(){if(!u.styleSheet.server)return o(f,l,u.styleSheet,h,u.stylis),function(){return s.removeStyles(f,u.styleSheet)}},[f,l,u.styleSheet,h,u.stylis]),null};function o(l,u,h,f,g){if(s.isStatic)s.renderStyles(l,E5e,h,g);else{var y=us(us({},u),{theme:GK(u,f,a.defaultProps)});s.renderStyles(l,y,h,g)}}return et.memo(a)}function cY(t){for(var e=[],r=1;r<arguments.length;r++)e[r-1]=arguments[r];var n=l5(wi.apply(void 0,mg([t],e,!1))),i=k$(n);return new iY(i,n)}const ke=()=>{throw Error("You need to wrap your application with the <PrivyProvider> initialized with your app id.")},k7=t=>()=>{throw Error(t.trim())},uY=$.createContext({setAuthenticated:ke,setUser:ke,setIsNewUser:ke,isNewUserThisSession:!1,walletConnectionStatus:null,setWalletConnectionStatus:ke,connectors:[],rpcConfig:{rpcUrls:{}},showFiatPrices:!0,chains:[],clientAnalyticsId:null,pendingTransaction:null,client:null,privy:null,appId:"notAdded",onCustomAuthAuthenticated:ke,hideWalletUIs:{current:!1},nativeTokenSymbolForChainId:ke,initializeWalletProxy:ke,getAuthMeta:ke,getAuthFlow:ke,closePrivyModal:ke,openPrivyModal:ke,connectWallet:ke,initLoginWithWallet:ke,loginWithWallet:ke,initLoginWithFarcaster:ke,loginWithFarcaster:ke,loginWithCode:ke,initLoginWithEmail:ke,initLoginWithSms:ke,initUpdateEmail:ke,initUpdatePhone:ke,resendEmailCode:ke,resendSmsCode:ke,initLoginWithHeadlessOAuth:ke,loginWithHeadlessOAuth:ke,crossAppAuthFlow:ke,initLoginWithOAuth:ke,loginWithOAuth:ke,passkeyAuthState:{status:"initial"},setPasskeyAuthState:ke,initSignupWithPasskey:ke,signupWithPasskey:ke,initLoginWithPasskey:ke,loginWithPasskey:ke,initLinkWithPasskey:ke,linkWithPasskey:ke,refreshSessionAndUser:ke,walletProxy:null,createAnalyticsEvent:ke,acceptTerms:ke,getUsdTokenPrice:ke,getUsdPriceForSol:ke,getSplTokenMetadata:ke,recoverEmbeddedWallet:ke,updateWallets:ke,fundWallet:ke,openModal:ke,setReadyToTrue:ke,requestFarcasterSignerStatus:ke,initLoginWithTelegram:ke,loginWithTelegram:ke,generateSiweMessage:ke,generateSiweMessageForSmartWallet:ke,loginWithSiwe:ke,linkWithSiwe:ke,linkSmartWallet:ke,delegateWallet:ke,revokeDelegatedWallets:ke,connectCoinbaseSmartWallet:ke,connectBaseAccount:ke,initiateAccountTransfer:ke,emailOtpState:{status:"initial"},setEmailOtpState:ke,smsOtpState:{status:"initial"},setSmsOtpState:ke,siweState:{status:"initial"},setSiweState:ke,oAuthState:{status:"initial"},setOAuthState:ke,telegramAuthState:{status:"initial"},setTelegramAuthState:ke,isHeadlessOAuthLoading:!1,isHeadlessSigning:ke,inProgressAuthFlowRef:{current:null},inProgressLoginOrLinkMethodRef:{current:null},baseAccountSdk:void 0,setBaseAccountSdk:ke}),rt=()=>$.useContext(uY);function r6e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 8.25h19.5M2.25 9h19.5m-16.5 5.25h6m-6 2.25h3m-3.75 3h15a2.25 2.25 0 0 0 2.25-2.25V6.75A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25v10.5A2.25 2.25 0 0 0 4.5 19.5Z"}))}const n6e=$.forwardRef(r6e);function i6e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.75 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 3.75 9.375v-4.5ZM3.75 14.625c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5a1.125 1.125 0 0 1-1.125-1.125v-4.5ZM13.5 4.875c0-.621.504-1.125 1.125-1.125h4.5c.621 0 1.125.504 1.125 1.125v4.5c0 .621-.504 1.125-1.125 1.125h-4.5A1.125 1.125 0 0 1 13.5 9.375v-4.5Z"}),$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 6.75h.75v.75h-.75v-.75ZM6.75 16.5h.75v.75h-.75v-.75ZM16.5 6.75h.75v.75h-.75v-.75ZM13.5 13.5h.75v.75h-.75v-.75ZM13.5 19.5h.75v.75h-.75v-.75ZM19.5 13.5h.75v.75h-.75v-.75ZM19.5 19.5h.75v.75h-.75v-.75ZM16.5 16.5h.75v.75h-.75v-.75Z"}))}const s6e=$.forwardRef(i6e);function a6e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{fillRule:"evenodd",d:"M15.97 2.47a.75.75 0 0 1 1.06 0l4.5 4.5a.75.75 0 0 1 0 1.06l-4.5 4.5a.75.75 0 1 1-1.06-1.06l3.22-3.22H7.5a.75.75 0 0 1 0-1.5h11.69l-3.22-3.22a.75.75 0 0 1 0-1.06Zm-7.94 9a.75.75 0 0 1 0 1.06l-3.22 3.22H16.5a.75.75 0 0 1 0 1.5H4.81l3.22 3.22a.75.75 0 1 1-1.06 1.06l-4.5-4.5a.75.75 0 0 1 0-1.06l4.5-4.5a.75.75 0 0 1 1.06 0Z",clipRule:"evenodd"}))}const N$=$.forwardRef(a6e);function o6e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m9-.75a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 3.75h.008v.008H12v-.008Z"}))}const P$=$.forwardRef(o6e);function l6e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21 12a2.25 2.25 0 0 0-2.25-2.25H15a3 3 0 1 1-6 0H5.25A2.25 2.25 0 0 0 3 12m18 0v6a2.25 2.25 0 0 1-2.25 2.25H5.25A2.25 2.25 0 0 1 3 18v-6m18 0V9M3 12V9m18 0a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 9m18 0V6a2.25 2.25 0 0 0-2.25-2.25H5.25A2.25 2.25 0 0 0 3 6v3"}))}const Z6=$.forwardRef(l6e);function c6e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 21a9.004 9.004 0 0 0 8.716-6.747M12 21a9.004 9.004 0 0 1-8.716-6.747M12 21c2.485 0 4.5-4.03 4.5-9S14.485 3 12 3m0 18c-2.485 0-4.5-4.03-4.5-9S9.515 3 12 3m0 0a8.997 8.997 0 0 1 7.843 4.582M12 3a8.997 8.997 0 0 0-7.843 4.582m15.686 0A11.953 11.953 0 0 1 12 10.5c-2.998 0-5.74-1.1-7.843-2.918m15.686 0A8.959 8.959 0 0 1 21 12c0 .778-.099 1.533-.284 2.253m0 0A17.919 17.919 0 0 1 12 16.5c-3.162 0-6.133-.815-8.716-2.247m0 0A9.015 9.015 0 0 1 3 12c0-1.605.42-3.113 1.157-4.418"}))}const dY=$.forwardRef(c6e),hY=typeof document<"u"?et.useLayoutEffect:()=>{};var $7;const u6e=($7=et.useInsertionEffect)!==null&&$7!==void 0?$7:hY;function d6e(t){const e=$.useRef(null);return u6e(()=>{e.current=t},[t]),$.useCallback((...r)=>{const n=e.current;return n==null?void 0:n(...r)},[])}const sh=t=>{var e;return(e=t==null?void 0:t.ownerDocument)!==null&&e!==void 0?e:document},af=t=>t&&"window"in t&&t.window===t?t:sh(t).defaultView||window;function h6e(t){return t!==null&&typeof t=="object"&&"nodeType"in t&&typeof t.nodeType=="number"}function f6e(t){return h6e(t)&&t.nodeType===Node.DOCUMENT_FRAGMENT_NODE&&"host"in t}let p6e=!1;function O$(){return p6e}function fY(t,e){if(!O$())return e&&t?t.contains(e):!1;if(!t||!e)return!1;let r=e;for(;r!==null;){if(r===t)return!0;r.tagName==="SLOT"&&r.assignedSlot?r=r.assignedSlot.parentNode:f6e(r)?r=r.host:r=r.parentNode}return!1}const lA=(t=document)=>{var e;if(!O$())return t.activeElement;let r=t.activeElement;for(;r&&"shadowRoot"in r&&(!((e=r.shadowRoot)===null||e===void 0)&&e.activeElement);)r=r.shadowRoot.activeElement;return r};function pY(t){return O$()&&t.target.shadowRoot&&t.composedPath?t.composedPath()[0]:t.target}function gY(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=gY(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function g6e(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=gY(t))&&(n&&(n+=" "),n+=e);return n}function m6e(t){var e;if(typeof window>"u"||window.navigator==null)return!1;let r=(e=window.navigator.userAgentData)===null||e===void 0?void 0:e.brands;return Array.isArray(r)&&r.some(n=>t.test(n.brand))||t.test(window.navigator.userAgent)}function y6e(t){var e;return typeof window<"u"&&window.navigator!=null?t.test(((e=window.navigator.userAgentData)===null||e===void 0?void 0:e.platform)||window.navigator.platform):!1}function mY(t){let e=null;return()=>(e==null&&(e=t()),e)}const b6e=mY(function(){return y6e(/^Mac/i)}),w6e=mY(function(){return m6e(/Android/i)});function yY(){let t=$.useRef(new Map),e=$.useCallback((i,s,a,o)=>{let l=o!=null&&o.once?(...u)=>{t.current.delete(a),a(...u)}:a;t.current.set(a,{type:s,eventTarget:i,fn:l,options:o}),i.addEventListener(s,l,o)},[]),r=$.useCallback((i,s,a,o)=>{var l;let u=((l=t.current.get(a))===null||l===void 0?void 0:l.fn)||a;i.removeEventListener(s,u,o),t.current.delete(a)},[]),n=$.useCallback(()=>{t.current.forEach((i,s)=>{r(i.eventTarget,i.type,s,i.options)})},[r]);return $.useEffect(()=>n,[n]),{addGlobalListener:e,removeGlobalListener:r,removeAllGlobalListeners:n}}function v6e(t){return t.pointerType===""&&t.isTrusted?!0:w6e()&&t.pointerType?t.type==="click"&&t.buttons===1:t.detail===0&&!t.pointerType}var Su=gq();function bY(t){let e=t;return e.nativeEvent=t,e.isDefaultPrevented=()=>e.defaultPrevented,e.isPropagationStopped=()=>e.cancelBubble,e.persist=()=>{},e}function x6e(t,e){Object.defineProperty(t,"target",{value:e}),Object.defineProperty(t,"currentTarget",{value:e})}function wY(t){let e=$.useRef({isFocused:!1,observer:null});hY(()=>{const n=e.current;return()=>{n.observer&&(n.observer.disconnect(),n.observer=null)}},[]);let r=d6e(n=>{t==null||t(n)});return $.useCallback(n=>{if(n.target instanceof HTMLButtonElement||n.target instanceof HTMLInputElement||n.target instanceof HTMLTextAreaElement||n.target instanceof HTMLSelectElement){e.current.isFocused=!0;let i=n.target,s=a=>{if(e.current.isFocused=!1,i.disabled){let o=bY(a);r(o)}e.current.observer&&(e.current.observer.disconnect(),e.current.observer=null)};i.addEventListener("focusout",s,{once:!0}),e.current.observer=new MutationObserver(()=>{if(e.current.isFocused&&i.disabled){var a;(a=e.current.observer)===null||a===void 0||a.disconnect();let o=i===document.activeElement?null:document.activeElement;i.dispatchEvent(new FocusEvent("blur",{relatedTarget:o})),i.dispatchEvent(new FocusEvent("focusout",{bubbles:!0,relatedTarget:o}))}}),e.current.observer.observe(i,{attributes:!0,attributeFilter:["disabled"]})}},[r])}let E6e=!1,vb=null,cA=new Set,Ay=new Map,Nf=!1,uA=!1;const _6e={Tab:!0,Escape:!0};function M$(t,e){for(let r of cA)r(t,e)}function C6e(t){return!(t.metaKey||!b6e()&&t.altKey||t.ctrlKey||t.key==="Control"||t.key==="Shift"||t.key==="Meta")}function d5(t){Nf=!0,C6e(t)&&(vb="keyboard",M$("keyboard",t))}function Z0(t){vb="pointer",(t.type==="mousedown"||t.type==="pointerdown")&&(Nf=!0,M$("pointer",t))}function vY(t){v6e(t)&&(Nf=!0,vb="virtual")}function xY(t){t.target===window||t.target===document||E6e||!t.isTrusted||(!Nf&&!uA&&(vb="virtual",M$("virtual",t)),Nf=!1,uA=!1)}function EY(){Nf=!1,uA=!0}function dA(t){if(typeof window>"u"||typeof document>"u"||Ay.get(af(t)))return;const e=af(t),r=sh(t);let n=e.HTMLElement.prototype.focus;e.HTMLElement.prototype.focus=function(){Nf=!0,n.apply(this,arguments)},r.addEventListener("keydown",d5,!0),r.addEventListener("keyup",d5,!0),r.addEventListener("click",vY,!0),e.addEventListener("focus",xY,!0),e.addEventListener("blur",EY,!1),typeof PointerEvent<"u"&&(r.addEventListener("pointerdown",Z0,!0),r.addEventListener("pointermove",Z0,!0),r.addEventListener("pointerup",Z0,!0)),e.addEventListener("beforeunload",()=>{_Y(t)},{once:!0}),Ay.set(e,{focus:n})}const _Y=(t,e)=>{const r=af(t),n=sh(t);e&&n.removeEventListener("DOMContentLoaded",e),Ay.has(r)&&(r.HTMLElement.prototype.focus=Ay.get(r).focus,n.removeEventListener("keydown",d5,!0),n.removeEventListener("keyup",d5,!0),n.removeEventListener("click",vY,!0),r.removeEventListener("focus",xY,!0),r.removeEventListener("blur",EY,!1),typeof PointerEvent<"u"&&(n.removeEventListener("pointerdown",Z0,!0),n.removeEventListener("pointermove",Z0,!0),n.removeEventListener("pointerup",Z0,!0)),Ay.delete(r))};function A6e(t){const e=sh(t);let r;return e.readyState!=="loading"?dA(t):(r=()=>{dA(t)},e.addEventListener("DOMContentLoaded",r)),()=>_Y(t,r)}typeof document<"u"&&A6e();function CY(){return vb!=="pointer"}const S6e=new Set(["checkbox","radio","range","color","file","image","button","submit","reset"]);function k6e(t,e,r){let n=sh(r==null?void 0:r.target);const i=typeof window<"u"?af(r==null?void 0:r.target).HTMLInputElement:HTMLInputElement,s=typeof window<"u"?af(r==null?void 0:r.target).HTMLTextAreaElement:HTMLTextAreaElement,a=typeof window<"u"?af(r==null?void 0:r.target).HTMLElement:HTMLElement,o=typeof window<"u"?af(r==null?void 0:r.target).KeyboardEvent:KeyboardEvent;return t=t||n.activeElement instanceof i&&!S6e.has(n.activeElement.type)||n.activeElement instanceof s||n.activeElement instanceof a&&n.activeElement.isContentEditable,!(t&&e==="keyboard"&&r instanceof o&&!_6e[r.key])}function $6e(t,e,r){dA(),$.useEffect(()=>{let n=(i,s)=>{k6e(!!(r!=null&&r.isTextInput),i,s)&&t(CY())};return cA.add(n),()=>{cA.delete(n)}},e)}function T6e(t){let{isDisabled:e,onFocus:r,onBlur:n,onFocusChange:i}=t;const s=$.useCallback(l=>{if(l.target===l.currentTarget)return n&&n(l),i&&i(!1),!0},[n,i]),a=wY(s),o=$.useCallback(l=>{const u=sh(l.target),h=u?lA(u):lA();l.target===l.currentTarget&&h===pY(l.nativeEvent)&&(r&&r(l),i&&i(!0),a(l))},[i,r,a]);return{focusProps:{onFocus:!e&&(r||i||n)?o:void 0,onBlur:!e&&(n||i)?s:void 0}}}function I6e(t){let{isDisabled:e,onBlurWithin:r,onFocusWithin:n,onFocusWithinChange:i}=t,s=$.useRef({isFocusWithin:!1}),{addGlobalListener:a,removeAllGlobalListeners:o}=yY(),l=$.useCallback(f=>{f.currentTarget.contains(f.target)&&s.current.isFocusWithin&&!f.currentTarget.contains(f.relatedTarget)&&(s.current.isFocusWithin=!1,o(),r&&r(f),i&&i(!1))},[r,i,s,o]),u=wY(l),h=$.useCallback(f=>{if(!f.currentTarget.contains(f.target))return;const g=sh(f.target),y=lA(g);if(!s.current.isFocusWithin&&y===pY(f.nativeEvent)){n&&n(f),i&&i(!0),s.current.isFocusWithin=!0,u(f);let b=f.currentTarget;a(g,"focus",w=>{if(s.current.isFocusWithin&&!fY(b,w.target)){let x=new g.defaultView.FocusEvent("blur",{relatedTarget:w.target});x6e(x,b);let E=bY(x);l(E)}},{capture:!0})}},[n,i,u,a,l]);return e?{focusWithinProps:{onFocus:void 0,onBlur:void 0}}:{focusWithinProps:{onFocus:h,onBlur:l}}}let hA=!1,wv=0;function N6e(){hA=!0,setTimeout(()=>{hA=!1},50)}function vD(t){t.pointerType==="touch"&&N6e()}function P6e(){if(!(typeof document>"u"))return wv===0&&typeof PointerEvent<"u"&&document.addEventListener("pointerup",vD),wv++,()=>{wv--,!(wv>0)&&typeof PointerEvent<"u"&&document.removeEventListener("pointerup",vD)}}function O6e(t){let{onHoverStart:e,onHoverChange:r,onHoverEnd:n,isDisabled:i}=t,[s,a]=$.useState(!1),o=$.useRef({isHovered:!1,ignoreEmulatedMouseEvents:!1,pointerType:"",target:null}).current;$.useEffect(P6e,[]);let{addGlobalListener:l,removeAllGlobalListeners:u}=yY(),{hoverProps:h,triggerHoverEnd:f}=$.useMemo(()=>{let g=(w,x)=>{if(o.pointerType=x,i||x==="touch"||o.isHovered||!w.currentTarget.contains(w.target))return;o.isHovered=!0;let E=w.currentTarget;o.target=E,l(sh(w.target),"pointerover",S=>{o.isHovered&&o.target&&!fY(o.target,S.target)&&y(S,S.pointerType)},{capture:!0}),e&&e({type:"hoverstart",target:E,pointerType:x}),r&&r(!0),a(!0)},y=(w,x)=>{let E=o.target;o.pointerType="",o.target=null,!(x==="touch"||!o.isHovered||!E)&&(o.isHovered=!1,u(),n&&n({type:"hoverend",target:E,pointerType:x}),r&&r(!1),a(!1))},b={};return typeof PointerEvent<"u"&&(b.onPointerEnter=w=>{hA&&w.pointerType==="mouse"||g(w,w.pointerType)},b.onPointerLeave=w=>{!i&&w.currentTarget.contains(w.target)&&y(w,w.pointerType)}),{hoverProps:b,triggerHoverEnd:y}},[e,r,n,i,o,l,u]);return $.useEffect(()=>{i&&f({currentTarget:o.target},o.pointerType)},[i]),{hoverProps:h,isHovered:s}}function M6e(t={}){let{autoFocus:e=!1,isTextInput:r,within:n}=t,i=$.useRef({isFocused:!1,isFocusVisible:e||CY()}),[s,a]=$.useState(!1),[o,l]=$.useState(()=>i.current.isFocused&&i.current.isFocusVisible),u=$.useCallback(()=>l(i.current.isFocused&&i.current.isFocusVisible),[]),h=$.useCallback(y=>{i.current.isFocused=y,a(y),u()},[u]);$6e(y=>{i.current.isFocusVisible=y,u()},[],{isTextInput:r});let{focusProps:f}=T6e({isDisabled:n,onFocusChange:h}),{focusWithinProps:g}=I6e({isDisabled:!n,onFocusWithinChange:h});return{isFocused:s,isFocusVisible:o,focusProps:n?g:f}}var R6e=Object.defineProperty,j6e=(t,e,r)=>e in t?R6e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,T7=(t,e,r)=>(j6e(t,typeof e!="symbol"?e+"":e,r),r);let D6e=class{constructor(){T7(this,"current",this.detect()),T7(this,"handoffState","pending"),T7(this,"currentId",0)}set(e){this.current!==e&&(this.handoffState="pending",this.currentId=0,this.current=e)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}handoff(){this.handoffState==="pending"&&(this.handoffState="complete")}get isHandoffComplete(){return this.handoffState==="complete"}},ac=new D6e;function Zf(t){var e;return ac.isServer?null:t==null?document:(e=t==null?void 0:t.ownerDocument)!=null?e:document}function h5(t){var e,r;return ac.isServer?null:t==null?document:(r=(e=t==null?void 0:t.getRootNode)==null?void 0:e.call(t))!=null?r:document}function R$(t){var e,r;return(r=(e=h5(t))==null?void 0:e.activeElement)!=null?r:null}function AY(t){return R$(t)===t}function Q6(t){typeof queueMicrotask=="function"?queueMicrotask(t):Promise.resolve().then(t).catch(e=>setTimeout(()=>{throw e}))}function oa(){let t=[],e={addEventListener(r,n,i,s){return r.addEventListener(n,i,s),e.add(()=>r.removeEventListener(n,i,s))},requestAnimationFrame(...r){let n=requestAnimationFrame(...r);return e.add(()=>cancelAnimationFrame(n))},nextFrame(...r){return e.requestAnimationFrame(()=>e.requestAnimationFrame(...r))},setTimeout(...r){let n=setTimeout(...r);return e.add(()=>clearTimeout(n))},microTask(...r){let n={current:!0};return Q6(()=>{n.current&&r[0]()}),e.add(()=>{n.current=!1})},style(r,n,i){let s=r.style.getPropertyValue(n);return Object.assign(r.style,{[n]:i}),this.add(()=>{Object.assign(r.style,{[n]:s})})},group(r){let n=oa();return r(n),this.add(()=>n.dispose())},add(r){return t.includes(r)||t.push(r),()=>{let n=t.indexOf(r);if(n>=0)for(let i of t.splice(n,1))i()}},dispose(){for(let r of t.splice(0))r()}};return e}function Qf(){let[t]=$.useState(oa);return $.useEffect(()=>()=>t.dispose(),[t]),t}let mn=(t,e)=>{ac.isServer?$.useEffect(t,e):$.useLayoutEffect(t,e)};function Xf(t){let e=$.useRef(t);return mn(()=>{e.current=t},[t]),e}let Ft=function(t){let e=Xf(t);return et.useCallback((...r)=>e.current(...r),[e])};function U6e(t){let e=t.width/2,r=t.height/2;return{top:t.clientY-r,right:t.clientX+e,bottom:t.clientY+r,left:t.clientX-e}}function B6e(t,e){return!(!t||!e||t.right<e.left||t.left>e.right||t.bottom<e.top||t.top>e.bottom)}function L6e({disabled:t=!1}={}){let e=$.useRef(null),[r,n]=$.useState(!1),i=Qf(),s=Ft(()=>{e.current=null,n(!1),i.dispose()}),a=Ft(o=>{if(i.dispose(),e.current===null){e.current=o.currentTarget,n(!0);{let l=Zf(o.currentTarget);i.addEventListener(l,"pointerup",s,!1),i.addEventListener(l,"pointermove",u=>{if(e.current){let h=U6e(u);n(B6e(h,e.current.getBoundingClientRect()))}},!1),i.addEventListener(l,"pointercancel",s,!1)}}});return{pressed:r,pressProps:t?{}:{onPointerDown:a,onPointerUp:s,onClick:s}}}function wc(t){return $.useMemo(()=>t,Object.values(t))}let F6e=$.createContext(void 0);function SY(){return $.useContext(F6e)}function fA(...t){return Array.from(new Set(t.flatMap(e=>typeof e=="string"?e.split(" "):[]))).filter(Boolean).join(" ")}function gl(t,e,...r){if(t in e){let i=e[t];return typeof i=="function"?i(...r):i}let n=new Error(`Tried to handle "${t}" but there is no handler defined. Only defined handlers are: ${Object.keys(e).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,gl),n}var Eg=(t=>(t[t.None=0]="None",t[t.RenderStrategy=1]="RenderStrategy",t[t.Static=2]="Static",t))(Eg||{}),Fd=(t=>(t[t.Unmount=0]="Unmount",t[t.Hidden=1]="Hidden",t))(Fd||{});function oi(){let t=W6e();return $.useCallback(e=>z6e({mergeRefs:t,...e}),[t])}function z6e({ourProps:t,theirProps:e,slot:r,defaultTag:n,features:i,visible:s=!0,name:a,mergeRefs:o}){o=o??q6e;let l=kY(e,t);if(s)return vv(l,r,n,a,o);let u=i??0;if(u&2){let{static:h=!1,...f}=l;if(h)return vv(f,r,n,a,o)}if(u&1){let{unmount:h=!0,...f}=l;return gl(h?0:1,{0(){return null},1(){return vv({...f,hidden:!0,style:{display:"none"}},r,n,a,o)}})}return vv(l,r,n,a,o)}function vv(t,e={},r,n,i){let{as:s=r,children:a,refName:o="ref",...l}=I7(t,["unmount","static"]),u=t.ref!==void 0?{[o]:t.ref}:{},h=typeof a=="function"?a(e):a;"className"in l&&l.className&&typeof l.className=="function"&&(l.className=l.className(e)),l["aria-labelledby"]&&l["aria-labelledby"]===l.id&&(l["aria-labelledby"]=void 0);let f={};if(e){let g=!1,y=[];for(let[b,w]of Object.entries(e))typeof w=="boolean"&&(g=!0),w===!0&&y.push(b.replace(/([A-Z])/g,x=>`-${x.toLowerCase()}`));if(g){f["data-headlessui-state"]=y.join(" ");for(let b of y)f[`data-${b}`]=""}}if(Sy(s)&&(Object.keys(Hh(l)).length>0||Object.keys(Hh(f)).length>0))if(!$.isValidElement(h)||Array.isArray(h)&&h.length>1||V6e(h)){if(Object.keys(Hh(l)).length>0)throw new Error(['Passing props on "Fragment"!',"",`The current component <${n} /> is rendering a "Fragment".`,"However we need to passthrough the following props:",Object.keys(Hh(l)).concat(Object.keys(Hh(f))).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "Fragment".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`))}else{let g=h.props,y=g==null?void 0:g.className,b=typeof y=="function"?(...E)=>fA(y(...E),l.className):fA(y,l.className),w=b?{className:b}:{},x=kY(h.props,Hh(I7(l,["ref"])));for(let E in f)E in x&&delete f[E];return $.cloneElement(h,Object.assign({},x,f,u,{ref:i(H6e(h),u.ref)},w))}return $.createElement(s,Object.assign({},I7(l,["ref"]),!Sy(s)&&u,!Sy(s)&&f),h)}function W6e(){let t=$.useRef([]),e=$.useCallback(r=>{for(let n of t.current)n!=null&&(typeof n=="function"?n(r):n.current=r)},[]);return(...r)=>{if(!r.every(n=>n==null))return t.current=r,e}}function q6e(...t){return t.every(e=>e==null)?void 0:e=>{for(let r of t)r!=null&&(typeof r=="function"?r(e):r.current=e)}}function kY(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):e[i]=n[i];if(e.disabled||e["aria-disabled"])for(let n in r)/^(on(?:Click|Pointer|Mouse|Key)(?:Down|Up|Press)?)$/.test(n)&&(r[n]=[i=>{var s;return(s=i==null?void 0:i.preventDefault)==null?void 0:s.call(i)}]);for(let n in r)Object.assign(e,{[n](i,...s){let a=r[n];for(let o of a){if((i instanceof Event||(i==null?void 0:i.nativeEvent)instanceof Event)&&i.defaultPrevented)return;o(i,...s)}}});return e}function $Y(...t){if(t.length===0)return{};if(t.length===1)return t[0];let e={},r={};for(let n of t)for(let i in n)i.startsWith("on")&&typeof n[i]=="function"?(r[i]!=null||(r[i]=[]),r[i].push(n[i])):e[i]=n[i];for(let n in r)Object.assign(e,{[n](...i){let s=r[n];for(let a of s)a==null||a(...i)}});return e}function jn(t){var e;return Object.assign($.forwardRef(t),{displayName:(e=t.displayName)!=null?e:t.name})}function Hh(t){let e=Object.assign({},t);for(let r in e)e[r]===void 0&&delete e[r];return e}function I7(t,e=[]){let r=Object.assign({},t);for(let n of e)n in r&&delete r[n];return r}function H6e(t){return et.version.split(".")[0]>="19"?t.props.ref:t.ref}function Sy(t){return t===$.Fragment||t===Symbol.for("react.fragment")}function V6e(t){return Sy(t.type)}let G6e="span";var f5=(t=>(t[t.None=1]="None",t[t.Focusable=2]="Focusable",t[t.Hidden=4]="Hidden",t))(f5||{});function K6e(t,e){var r;let{features:n=1,...i}=t,s={ref:e,"aria-hidden":(n&2)===2?!0:(r=i["aria-hidden"])!=null?r:void 0,hidden:(n&4)===4?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(n&4)===4&&(n&2)!==2&&{display:"none"}}};return oi()({ourProps:s,theirProps:i,slot:{},defaultTag:G6e,name:"Hidden"})}let pA=jn(K6e),Y6e=$.createContext(void 0);function Z6e(){return $.useContext(Y6e)}function TY(t){return typeof t!="object"||t===null?!1:"nodeType"in t}function mu(t){return TY(t)&&"tagName"in t}function Ra(t){return mu(t)&&"accessKey"in t}function rc(t){return mu(t)&&"tabIndex"in t}function Q6e(t){return mu(t)&&"style"in t}function X6e(t){return Ra(t)&&t.nodeName==="IFRAME"}function IY(t){return Ra(t)&&t.nodeName==="INPUT"}function xD(t){return Ra(t)&&t.nodeName==="LABEL"}function J6e(t){return Ra(t)&&t.nodeName==="FIELDSET"}function NY(t){return Ra(t)&&t.nodeName==="LEGEND"}function e4e(t){return mu(t)?t.matches('a[href],audio[controls],button,details,embed,iframe,img[usemap],input:not([type="hidden"]),label,select,textarea,video[controls]'):!1}function ED(t){let e=t.parentElement,r=null;for(;e&&!J6e(e);)NY(e)&&(r=e),e=e.parentElement;let n=(e==null?void 0:e.getAttribute("disabled"))==="";return n&&t4e(r)?!1:n}function t4e(t){if(!t)return!1;let e=t.previousElementSibling;for(;e!==null;){if(NY(e))return!1;e=e.previousElementSibling}return!0}let PY=Symbol();function r4e(t,e=!0){return Object.assign(t,{[PY]:e})}function Is(...t){let e=$.useRef(t);$.useEffect(()=>{e.current=t},[t]);let r=Ft(n=>{for(let i of e.current)i!=null&&(typeof i=="function"?i(n):i.current=n)});return t.every(n=>n==null||(n==null?void 0:n[PY]))?void 0:r}let j$=$.createContext(null);j$.displayName="DescriptionContext";function OY(){let t=$.useContext(j$);if(t===null){let e=new Error("You used a <Description /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,OY),e}return t}function MY(){let[t,e]=$.useState([]);return[t.length>0?t.join(" "):void 0,$.useMemo(()=>function(r){let n=Ft(s=>(e(a=>[...a,s]),()=>e(a=>{let o=a.slice(),l=o.indexOf(s);return l!==-1&&o.splice(l,1),o}))),i=$.useMemo(()=>({register:n,slot:r.slot,name:r.name,props:r.props,value:r.value}),[n,r.slot,r.name,r.props,r.value]);return et.createElement(j$.Provider,{value:i},r.children)},[e])]}let n4e="p";function i4e(t,e){let r=$.useId(),n=SY(),{id:i=`headlessui-description-${r}`,...s}=t,a=OY(),o=Is(e);mn(()=>a.register(i),[i,a.register]);let l=wc({...a.slot,disabled:n||!1}),u={ref:o,...a.props,id:i};return oi()({ourProps:u,theirProps:s,slot:l,defaultTag:n4e,name:a.name||"Description"})}let s4e=jn(i4e),a4e=Object.assign(s4e,{});var ki=(t=>(t.Space=" ",t.Enter="Enter",t.Escape="Escape",t.Backspace="Backspace",t.Delete="Delete",t.ArrowLeft="ArrowLeft",t.ArrowUp="ArrowUp",t.ArrowRight="ArrowRight",t.ArrowDown="ArrowDown",t.Home="Home",t.End="End",t.PageUp="PageUp",t.PageDown="PageDown",t.Tab="Tab",t))(ki||{});let X6=$.createContext(null);X6.displayName="LabelContext";function D$(){let t=$.useContext(X6);if(t===null){let e=new Error("You used a <Label /> component, but it is not inside a relevant parent.");throw Error.captureStackTrace&&Error.captureStackTrace(e,D$),e}return t}function o4e(t){var e,r,n;let i=(r=(e=$.useContext(X6))==null?void 0:e.value)!=null?r:void 0;return((n=void 0)!=null?n:0)>0?[i,...t].filter(Boolean).join(" "):i}function RY({inherit:t=!1}={}){let e=o4e(),[r,n]=$.useState([]),i=t?[e,...r].filter(Boolean):r;return[i.length>0?i.join(" "):void 0,$.useMemo(()=>function(s){let a=Ft(l=>(n(u=>[...u,l]),()=>n(u=>{let h=u.slice(),f=h.indexOf(l);return f!==-1&&h.splice(f,1),h}))),o=$.useMemo(()=>({register:a,slot:s.slot,name:s.name,props:s.props,value:s.value}),[a,s.slot,s.name,s.props,s.value]);return et.createElement(X6.Provider,{value:o},s.children)},[n])]}let l4e="label";function c4e(t,e){var r;let n=$.useId(),i=D$(),s=Z6e(),a=SY(),{id:o=`headlessui-label-${n}`,htmlFor:l=s??((r=i.props)==null?void 0:r.htmlFor),passive:u=!1,...h}=t,f=Is(e);mn(()=>i.register(o),[o,i.register]);let g=Ft(w=>{let x=w.currentTarget;if(!(w.target!==w.currentTarget&&e4e(w.target))&&(xD(x)&&w.preventDefault(),i.props&&"onClick"in i.props&&typeof i.props.onClick=="function"&&i.props.onClick(w),xD(x))){let E=document.getElementById(x.htmlFor);if(E){let S=E.getAttribute("disabled");if(S==="true"||S==="")return;let _=E.getAttribute("aria-disabled");if(_==="true"||_==="")return;(IY(E)&&(E.type==="file"||E.type==="radio"||E.type==="checkbox")||E.role==="radio"||E.role==="checkbox"||E.role==="switch")&&E.click(),E.focus({preventScroll:!0})}}}),y=wc({...i.slot,disabled:a||!1}),b={ref:f,...i.props,id:o,htmlFor:l,onClick:g};return u&&("onClick"in b&&(delete b.htmlFor,delete b.onClick),"onClick"in h&&delete h.onClick),oi()({ourProps:b,theirProps:h,slot:y,defaultTag:l?l4e:"div",name:i.name||"Label"})}let u4e=jn(c4e);Object.assign(u4e,{});let d4e=$.createContext(()=>{});function h4e({value:t,children:e}){return et.createElement(d4e.Provider,{value:t},e)}function t0(t,e,r){let n=r.initialDeps??[],i;function s(){var a,o,l,u;let h;r.key&&((a=r.debug)!=null&&a.call(r))&&(h=Date.now());const f=t();if(!(f.length!==n.length||f.some((b,w)=>n[w]!==b)))return i;n=f;let y;if(r.key&&((o=r.debug)!=null&&o.call(r))&&(y=Date.now()),i=e(...f),r.key&&((l=r.debug)!=null&&l.call(r))){const b=Math.round((Date.now()-h)*100)/100,w=Math.round((Date.now()-y)*100)/100,x=w/16,E=(S,_)=>{for(S=String(S);S.length<_;)S=" "+S;return S};console.info(`%c ${E(w,5)} /${E(b,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*x,120))}deg 100% 31%);`,r==null?void 0:r.key)}return(u=r==null?void 0:r.onChange)==null||u.call(r,i),i}return s.updateDeps=a=>{n=a},s}function _D(t,e){if(t===void 0)throw new Error("Unexpected undefined");return t}const f4e=(t,e)=>Math.abs(t-e)<1.01,p4e=(t,e,r)=>{let n;return function(...i){t.clearTimeout(n),n=t.setTimeout(()=>e.apply(this,i),r)}},CD=t=>{const{offsetWidth:e,offsetHeight:r}=t;return{width:e,height:r}},g4e=t=>t,m4e=t=>{const e=Math.max(t.startIndex-t.overscan,0),r=Math.min(t.endIndex+t.overscan,t.count-1),n=[];for(let i=e;i<=r;i++)n.push(i);return n},y4e=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;const i=a=>{const{width:o,height:l}=a;e({width:Math.round(o),height:Math.round(l)})};if(i(CD(r)),!n.ResizeObserver)return()=>{};const s=new n.ResizeObserver(a=>{const o=()=>{const l=a[0];if(l!=null&&l.borderBoxSize){const u=l.borderBoxSize[0];if(u){i({width:u.inlineSize,height:u.blockSize});return}}i(CD(r))};t.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(o):o()});return s.observe(r,{box:"border-box"}),()=>{s.unobserve(r)}},AD={passive:!0},SD=typeof window>"u"?!0:"onscrollend"in window,b4e=(t,e)=>{const r=t.scrollElement;if(!r)return;const n=t.targetWindow;if(!n)return;let i=0;const s=t.options.useScrollendEvent&&SD?()=>{}:p4e(n,()=>{e(i,!1)},t.options.isScrollingResetDelay),a=h=>()=>{const{horizontal:f,isRtl:g}=t.options;i=f?r.scrollLeft*(g&&-1||1):r.scrollTop,s(),e(i,h)},o=a(!0),l=a(!1);l(),r.addEventListener("scroll",o,AD);const u=t.options.useScrollendEvent&&SD;return u&&r.addEventListener("scrollend",l,AD),()=>{r.removeEventListener("scroll",o),u&&r.removeEventListener("scrollend",l)}},w4e=(t,e,r)=>{if(e!=null&&e.borderBoxSize){const n=e.borderBoxSize[0];if(n)return Math.round(n[r.options.horizontal?"inlineSize":"blockSize"])}return t[r.options.horizontal?"offsetWidth":"offsetHeight"]},v4e=(t,{adjustments:e=0,behavior:r},n)=>{var i,s;const a=t+e;(s=(i=n.scrollElement)==null?void 0:i.scrollTo)==null||s.call(i,{[n.options.horizontal?"left":"top"]:a,behavior:r})};class x4e{constructor(e){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let r=null;const n=()=>r||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:r=new this.targetWindow.ResizeObserver(i=>{i.forEach(s=>{const a=()=>{this._measureElement(s.target,s)};this.options.useAnimationFrameWithResizeObserver?requestAnimationFrame(a):a()})}));return{disconnect:()=>{var i;(i=n())==null||i.disconnect(),r=null},observe:i=>{var s;return(s=n())==null?void 0:s.observe(i,{box:"border-box"})},unobserve:i=>{var s;return(s=n())==null?void 0:s.unobserve(i)}}})(),this.range=null,this.setOptions=r=>{Object.entries(r).forEach(([n,i])=>{typeof i>"u"&&delete r[n]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:g4e,rangeExtractor:m4e,onChange:()=>{},measureElement:w4e,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,isRtl:!1,useScrollendEvent:!1,useAnimationFrameWithResizeObserver:!1,...r}},this.notify=r=>{var n,i;(i=(n=this.options).onChange)==null||i.call(n,this,r)},this.maybeNotify=t0(()=>(this.calculateRange(),[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]),r=>{this.notify(r)},{key:!1,debug:()=>this.options.debug,initialDeps:[this.isScrolling,this.range?this.range.startIndex:null,this.range?this.range.endIndex:null]}),this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(r=>r()),this.unsubs=[],this.observer.disconnect(),this.scrollElement=null,this.targetWindow=null},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var r;const n=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==n){if(this.cleanup(),!n){this.maybeNotify();return}this.scrollElement=n,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((r=this.scrollElement)==null?void 0:r.window)??null,this.elementsCache.forEach(i=>{this.observer.observe(i)}),this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.maybeNotify()})),this.unsubs.push(this.options.observeElementOffset(this,(i,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i,this.isScrolling=s,this.maybeNotify()}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(r,n)=>{const i=new Map,s=new Map;for(let a=n-1;a>=0;a--){const o=r[a];if(i.has(o.lane))continue;const l=s.get(o.lane);if(l==null||o.end>l.end?s.set(o.lane,o):o.end<l.end&&i.set(o.lane,!0),i.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((a,o)=>a.end===o.end?a.index-o.index:a.end-o.end)[0]:void 0},this.getMeasurementOptions=t0(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(r,n,i,s,a)=>(this.pendingMeasuredCacheIndexes=[],{count:r,paddingStart:n,scrollMargin:i,getItemKey:s,enabled:a}),{key:!1}),this.getMeasurements=t0(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:r,paddingStart:n,scrollMargin:i,getItemKey:s,enabled:a},o)=>{if(!a)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(h=>{this.itemSizeCache.set(h.key,h.size)}));const l=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const u=this.measurementsCache.slice(0,l);for(let h=l;h<r;h++){const f=s(h),g=this.options.lanes===1?u[h-1]:this.getFurthestMeasurement(u,h),y=g?g.end+this.options.gap:n+i,b=o.get(f),w=typeof b=="number"?b:this.options.estimateSize(h),x=y+w,E=g?g.lane:h%this.options.lanes;u[h]={index:h,start:y,size:w,end:x,key:f,lane:E}}return this.measurementsCache=u,u},{key:!1,debug:()=>this.options.debug}),this.calculateRange=t0(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset(),this.options.lanes],(r,n,i,s)=>this.range=r.length>0&&n>0?E4e({measurements:r,outerSize:n,scrollOffset:i,lanes:s}):null,{key:!1,debug:()=>this.options.debug}),this.getVirtualIndexes=t0(()=>{let r=null,n=null;const i=this.calculateRange();return i&&(r=i.startIndex,n=i.endIndex),this.maybeNotify.updateDeps([this.isScrolling,r,n]),[this.options.rangeExtractor,this.options.overscan,this.options.count,r,n]},(r,n,i,s,a)=>s===null||a===null?[]:r({startIndex:s,endIndex:a,overscan:n,count:i}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=r=>{const n=this.options.indexAttribute,i=r.getAttribute(n);return i?parseInt(i,10):(console.warn(`Missing attribute name '${n}={index}' on measured element.`),-1)},this._measureElement=(r,n)=>{const i=this.indexFromElement(r),s=this.measurementsCache[i];if(!s)return;const a=s.key,o=this.elementsCache.get(a);o!==r&&(o&&this.observer.unobserve(o),this.observer.observe(r),this.elementsCache.set(a,r)),r.isConnected&&this.resizeItem(i,this.options.measureElement(r,n,this))},this.resizeItem=(r,n)=>{const i=this.measurementsCache[r];if(!i)return;const s=this.itemSizeCache.get(i.key)??i.size,a=n-s;a!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,a,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=a,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,n)),this.notify(!1))},this.measureElement=r=>{if(!r){this.elementsCache.forEach((n,i)=>{n.isConnected||(this.observer.unobserve(n),this.elementsCache.delete(i))});return}this._measureElement(r,void 0)},this.getVirtualItems=t0(()=>[this.getVirtualIndexes(),this.getMeasurements()],(r,n)=>{const i=[];for(let s=0,a=r.length;s<a;s++){const o=r[s],l=n[o];i.push(l)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=r=>{const n=this.getMeasurements();if(n.length!==0)return _D(n[jY(0,n.length-1,i=>_D(n[i]).start,r)])},this.getOffsetForAlignment=(r,n,i=0)=>{const s=this.getSize(),a=this.getScrollOffset();n==="auto"&&(n=r>=a+s?"end":"start"),n==="center"?r+=(i-s)/2:n==="end"&&(r-=s);const o=this.getTotalSize()+this.options.scrollMargin-s;return Math.max(Math.min(o,r),0)},this.getOffsetForIndex=(r,n="auto")=>{r=Math.max(0,Math.min(r,this.options.count-1));const i=this.measurementsCache[r];if(!i)return;const s=this.getSize(),a=this.getScrollOffset();if(n==="auto")if(i.end>=a+s-this.options.scrollPaddingEnd)n="end";else if(i.start<=a+this.options.scrollPaddingStart)n="start";else return[a,n];const o=n==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(o,n,i.size),n]},this.isDynamicMode=()=>this.elementsCache.size>0,this.scrollToOffset=(r,{align:n="start",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(r,n),{adjustments:void 0,behavior:i})},this.scrollToIndex=(r,{align:n="auto",behavior:i}={})=>{i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),r=Math.max(0,Math.min(r,this.options.count-1));let s=0;const a=10,o=u=>{if(!this.targetWindow)return;const h=this.getOffsetForIndex(r,u);if(!h){console.warn("Failed to get offset for index:",r);return}const[f,g]=h;this._scrollToOffset(f,{adjustments:void 0,behavior:i}),this.targetWindow.requestAnimationFrame(()=>{const y=this.getScrollOffset(),b=this.getOffsetForIndex(r,g);if(!b){console.warn("Failed to get offset for index:",r);return}f4e(b[0],y)||l(g)})},l=u=>{this.targetWindow&&(s++,s<a?this.targetWindow.requestAnimationFrame(()=>o(u)):console.warn(`Failed to scroll to index ${r} after ${a} attempts.`))};o(n)},this.scrollBy=(r,{behavior:n}={})=>{n==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+r,{adjustments:void 0,behavior:n})},this.getTotalSize=()=>{var r;const n=this.getMeasurements();let i;if(n.length===0)i=this.options.paddingStart;else if(this.options.lanes===1)i=((r=n[n.length-1])==null?void 0:r.end)??0;else{const s=Array(this.options.lanes).fill(null);let a=n.length-1;for(;a>=0&&s.some(o=>o===null);){const o=n[a];s[o.lane]===null&&(s[o.lane]=o.end),a--}i=Math.max(...s.filter(o=>o!==null))}return Math.max(i-this.options.scrollMargin+this.options.paddingEnd,0)},this._scrollToOffset=(r,{adjustments:n,behavior:i})=>{this.options.scrollToFn(r,{behavior:i,adjustments:n},this)},this.measure=()=>{this.itemSizeCache=new Map,this.notify(!1)},this.setOptions(e)}}const jY=(t,e,r,n)=>{for(;t<=e;){const i=(t+e)/2|0,s=r(i);if(s<n)t=i+1;else if(s>n)e=i-1;else return i}return t>0?t-1:0};function E4e({measurements:t,outerSize:e,scrollOffset:r,lanes:n}){const i=t.length-1,s=l=>t[l].start;if(t.length<=n)return{startIndex:0,endIndex:i};let a=jY(0,i,s,r),o=a;if(n===1)for(;o<i&&t[o].end<r+e;)o++;else if(n>1){const l=Array(n).fill(0);for(;o<i&&l.some(h=>h<r+e);){const h=t[o];l[h.lane]=h.end,o++}const u=Array(n).fill(r+e);for(;a>=0&&u.some(h=>h>=r);){const h=t[a];u[h.lane]=h.start,a--}a=Math.max(0,a-a%n),o=Math.min(i,o+(n-1-o%n))}return{startIndex:a,endIndex:o}}const kD=typeof document<"u"?$.useLayoutEffect:$.useEffect;function _4e(t){const e=$.useReducer(()=>({}),{})[1],r={...t,onChange:(i,s)=>{var a;s?Su.flushSync(e):e(),(a=t.onChange)==null||a.call(t,i,s)}},[n]=$.useState(()=>new x4e(r));return n.setOptions(r),kD(()=>n._didMount(),[]),kD(()=>n._willUpdate()),n}function C4e(t){return _4e({observeElementRect:y4e,observeElementOffset:b4e,scrollToFn:v4e,...t})}function $D(t){if(t===null)return{width:0,height:0};let{width:e,height:r}=t.getBoundingClientRect();return{width:e,height:r}}function A4e(t,e,r=!1){let[n,i]=$.useState(()=>$D(e));return mn(()=>{if(!e||!t)return;let s=oa();return s.requestAnimationFrame(function a(){s.requestAnimationFrame(a),i(o=>{let l=$D(e);return l.width===o.width&&l.height===o.height?o:l})}),()=>{s.dispose()}},[e,t]),r?{width:`${n.width}px`,height:`${n.height}px`}:n}var DY=(t=>(t[t.Left=0]="Left",t[t.Right=2]="Right",t))(DY||{});function S4e(t){let e=$.useRef(null),r=Ft(i=>{e.current=i.pointerType,!ED(i.currentTarget)&&i.pointerType==="mouse"&&i.button===DY.Left&&(i.preventDefault(),t(i))}),n=Ft(i=>{e.current!=="mouse"&&(ED(i.currentTarget)||t(i))});return{onPointerDown:r,onClick:n}}let UY=class extends Map{constructor(e){super(),this.factory=e}get(e){let r=super.get(e);return r===void 0&&(r=this.factory(e),this.set(e,r)),r}};var k4e=Object.defineProperty,$4e=(t,e,r)=>e in t?k4e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,T4e=(t,e,r)=>($4e(t,e+"",r),r),BY=(t,e,r)=>{if(!e.has(t))throw TypeError("Cannot "+r)},Xa=(t,e,r)=>(BY(t,e,"read from private field"),r?r.call(t):e.get(t)),N7=(t,e,r)=>{if(e.has(t))throw TypeError("Cannot add the same private member more than once");e instanceof WeakSet?e.add(t):e.set(t,r)},TD=(t,e,r,n)=>(BY(t,e,"write to private field"),e.set(t,r),r),Hl,ly,cy;let LY=class{constructor(e){N7(this,Hl,{}),N7(this,ly,new UY(()=>new Set)),N7(this,cy,new Set),T4e(this,"disposables",oa()),TD(this,Hl,e),ac.isServer&&this.disposables.microTask(()=>{this.dispose()})}dispose(){this.disposables.dispose()}get state(){return Xa(this,Hl)}subscribe(e,r){if(ac.isServer)return()=>{};let n={selector:e,callback:r,current:e(Xa(this,Hl))};return Xa(this,cy).add(n),this.disposables.add(()=>{Xa(this,cy).delete(n)})}on(e,r){return ac.isServer?()=>{}:(Xa(this,ly).get(e).add(r),this.disposables.add(()=>{Xa(this,ly).get(e).delete(r)}))}send(e){let r=this.reduce(Xa(this,Hl),e);if(r!==Xa(this,Hl)){TD(this,Hl,r);for(let n of Xa(this,cy)){let i=n.selector(Xa(this,Hl));FY(n.current,i)||(n.current=i,n.callback(i))}for(let n of Xa(this,ly).get(e.type))n(Xa(this,Hl),e)}}};Hl=new WeakMap,ly=new WeakMap,cy=new WeakMap;function FY(t,e){return Object.is(t,e)?!0:typeof t!="object"||t===null||typeof e!="object"||e===null?!1:Array.isArray(t)&&Array.isArray(e)?t.length!==e.length?!1:P7(t[Symbol.iterator](),e[Symbol.iterator]()):t instanceof Map&&e instanceof Map||t instanceof Set&&e instanceof Set?t.size!==e.size?!1:P7(t.entries(),e.entries()):ID(t)&&ID(e)?P7(Object.entries(t)[Symbol.iterator](),Object.entries(e)[Symbol.iterator]()):!1}function P7(t,e){do{let r=t.next(),n=e.next();if(r.done&&n.done)return!0;if(r.done||n.done||!Object.is(r.value,n.value))return!1}while(!0)}function ID(t){if(Object.prototype.toString.call(t)!=="[object Object]")return!1;let e=Object.getPrototypeOf(t);return e===null||Object.getPrototypeOf(e)===null}function ND(t){let[e,r]=t(),n=oa();return(...i)=>{e(...i),n.dispose(),n.microTask(r)}}var I4e=Object.defineProperty,N4e=(t,e,r)=>e in t?I4e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,PD=(t,e,r)=>(N4e(t,typeof e!="symbol"?e+"":e,r),r),zY=(t=>(t[t.Push=0]="Push",t[t.Pop=1]="Pop",t))(zY||{});let P4e={0(t,e){let r=e.id,n=t.stack,i=t.stack.indexOf(r);if(i!==-1){let s=t.stack.slice();return s.splice(i,1),s.push(r),n=s,{...t,stack:n}}return{...t,stack:[...t.stack,r]}},1(t,e){let r=e.id,n=t.stack.indexOf(r);if(n===-1)return t;let i=t.stack.slice();return i.splice(n,1),{...t,stack:i}}},O4e=class WY extends LY{constructor(){super(...arguments),PD(this,"actions",{push:e=>this.send({type:0,id:e}),pop:e=>this.send({type:1,id:e})}),PD(this,"selectors",{isTop:(e,r)=>e.stack[e.stack.length-1]===r,inStack:(e,r)=>e.stack.includes(r)})}static new(){return new WY({stack:[]})}reduce(e,r){return gl(r.type,P4e,e,r)}};const J6=new UY(()=>O4e.new());var O7={exports:{}},M7={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OD;function M4e(){if(OD)return M7;OD=1;var t=tb();function e(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,o=t.useDebugValue;return M7.useSyncExternalStoreWithSelector=function(l,u,h,f,g){var y=i(null);if(y.current===null){var b={hasValue:!1,value:null};y.current=b}else b=y.current;y=a(function(){function x(A){if(!E){if(E=!0,S=A,A=f(A),g!==void 0&&b.hasValue){var O=b.value;if(g(O,A))return _=O}return _=A}if(O=_,r(S,A))return O;var F=f(A);return g!==void 0&&g(O,F)?(S=A,O):(S=A,_=F)}var E=!1,S,_,I=h===void 0?null:h;return[function(){return x(u())},I===null?void 0:function(){return x(I())}]},[u,h,f,g]);var w=n(l,y[0],y[1]);return s(function(){b.hasValue=!0,b.value=w},[w]),o(w),w},M7}var MD;function R4e(){return MD||(MD=1,O7.exports=M4e()),O7.exports}var j4e=R4e();function fo(t,e,r=FY){return j4e.useSyncExternalStoreWithSelector(Ft(n=>t.subscribe(D4e,n)),Ft(()=>t.state),Ft(()=>t.state),Ft(e),r)}function D4e(t){return t}function xb(t,e){let r=$.useId(),n=J6.get(e),[i,s]=fo(n,$.useCallback(a=>[n.selectors.isTop(a,r),n.selectors.inStack(a,r)],[n,r]));return mn(()=>{if(t)return n.actions.push(r),()=>n.actions.pop(r)},[n,t,r]),t?s?i:!0:!1}let gA=new Map,ky=new Map;function RD(t){var e;let r=(e=ky.get(t))!=null?e:0;return ky.set(t,r+1),r!==0?()=>jD(t):(gA.set(t,{"aria-hidden":t.getAttribute("aria-hidden"),inert:t.inert}),t.setAttribute("aria-hidden","true"),t.inert=!0,()=>jD(t))}function jD(t){var e;let r=(e=ky.get(t))!=null?e:1;if(r===1?ky.delete(t):ky.set(t,r-1),r!==1)return;let n=gA.get(t);n&&(n["aria-hidden"]===null?t.removeAttribute("aria-hidden"):t.setAttribute("aria-hidden",n["aria-hidden"]),t.inert=n.inert,gA.delete(t))}function qY(t,{allowed:e,disallowed:r}={}){let n=xb(t,"inert-others");mn(()=>{var i,s;if(!n)return;let a=oa();for(let l of(i=r==null?void 0:r())!=null?i:[])l&&a.add(RD(l));let o=(s=e==null?void 0:e())!=null?s:[];for(let l of o){if(!l)continue;let u=Zf(l);if(!u)continue;let h=l.parentElement;for(;h&&h!==u.body;){for(let f of h.children)o.some(g=>f.contains(g))||a.add(RD(f));h=h.parentElement}}return a.dispose},[n,e,r])}function HY(t,e,r){let n=Xf(i=>{let s=i.getBoundingClientRect();s.x===0&&s.y===0&&s.width===0&&s.height===0&&r()});$.useEffect(()=>{if(!t)return;let i=e===null?null:Ra(e)?e:e.current;if(!i)return;let s=oa();if(typeof ResizeObserver<"u"){let a=new ResizeObserver(()=>n.current(i));a.observe(i),s.add(()=>a.disconnect())}if(typeof IntersectionObserver<"u"){let a=new IntersectionObserver(()=>n.current(i));a.observe(i),s.add(()=>a.disconnect())}return()=>s.dispose()},[e,n,t])}let p5=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","details>summary","textarea:not([disabled])"].map(t=>`${t}:not([tabindex='-1'])`).join(","),U4e=["[data-autofocus]"].map(t=>`${t}:not([tabindex='-1'])`).join(",");var Jo=(t=>(t[t.First=1]="First",t[t.Previous=2]="Previous",t[t.Next=4]="Next",t[t.Last=8]="Last",t[t.WrapAround=16]="WrapAround",t[t.NoScroll=32]="NoScroll",t[t.AutoFocus=64]="AutoFocus",t))(Jo||{}),mA=(t=>(t[t.Error=0]="Error",t[t.Overflow=1]="Overflow",t[t.Success=2]="Success",t[t.Underflow=3]="Underflow",t))(mA||{}),B4e=(t=>(t[t.Previous=-1]="Previous",t[t.Next=1]="Next",t))(B4e||{});function VY(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(p5)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}function L4e(t=document.body){return t==null?[]:Array.from(t.querySelectorAll(U4e)).sort((e,r)=>Math.sign((e.tabIndex||Number.MAX_SAFE_INTEGER)-(r.tabIndex||Number.MAX_SAFE_INTEGER)))}var U$=(t=>(t[t.Strict=0]="Strict",t[t.Loose=1]="Loose",t))(U$||{});function B$(t,e=0){var r;return t===((r=Zf(t))==null?void 0:r.body)?!1:gl(e,{0(){return t.matches(p5)},1(){let n=t;for(;n!==null;){if(n.matches(p5))return!0;n=n.parentElement}return!1}})}function GY(t){oa().nextFrame(()=>{let e=R$(t);e&&rc(e)&&!B$(e,0)&&oc(t)})}var F4e=(t=>(t[t.Keyboard=0]="Keyboard",t[t.Mouse=1]="Mouse",t))(F4e||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",t=>{t.metaKey||t.altKey||t.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",t=>{t.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:t.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function oc(t){t==null||t.focus({preventScroll:!0})}let z4e=["textarea","input"].join(",");function W4e(t){var e,r;return(r=(e=t==null?void 0:t.matches)==null?void 0:e.call(t,z4e))!=null?r:!1}function KY(t,e=r=>r){return t.slice().sort((r,n)=>{let i=e(r),s=e(n);if(i===null||s===null)return 0;let a=i.compareDocumentPosition(s);return a&Node.DOCUMENT_POSITION_FOLLOWING?-1:a&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function q4e(t,e,r=t===null?document.body:h5(t)){return Q0(VY(r),e,{relativeTo:t})}function Q0(t,e,{sorted:r=!0,relativeTo:n=null,skipElements:i=[]}={}){let s=Array.isArray(t)?t.length>0?h5(t[0]):document:h5(t),a=Array.isArray(t)?r?KY(t):t:e&64?L4e(t):VY(t);i.length>0&&a.length>1&&(a=a.filter(y=>!i.some(b=>b!=null&&"current"in b?(b==null?void 0:b.current)===y:b===y))),n=n??(s==null?void 0:s.activeElement);let o=(()=>{if(e&5)return 1;if(e&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),l=(()=>{if(e&1)return 0;if(e&2)return Math.max(0,a.indexOf(n))-1;if(e&4)return Math.max(0,a.indexOf(n))+1;if(e&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=e&32?{preventScroll:!0}:{},h=0,f=a.length,g;do{if(h>=f||h+f<=0)return 0;let y=l+h;if(e&16)y=(y+f)%f;else{if(y<0)return 3;if(y>=f)return 1}g=a[y],g==null||g.focus(u),h+=o}while(g!==R$(g));return e&6&&W4e(g)&&g.select(),2}function YY(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function H4e(){return/Android/gi.test(window.navigator.userAgent)}function DD(){return YY()||H4e()}function R0(t,e,r,n){let i=Xf(r);$.useEffect(()=>{if(!t)return;function s(a){i.current(a)}return document.addEventListener(e,s,n),()=>document.removeEventListener(e,s,n)},[t,e,n])}function ZY(t,e,r,n){let i=Xf(r);$.useEffect(()=>{if(!t)return;function s(a){i.current(a)}return window.addEventListener(e,s,n),()=>window.removeEventListener(e,s,n)},[t,e,n])}const UD=30;function QY(t,e,r){let n=Xf(r),i=$.useCallback(function(o,l){if(o.defaultPrevented)return;let u=l(o);if(u===null||!u.getRootNode().contains(u)||!u.isConnected)return;let h=function f(g){return typeof g=="function"?f(g()):Array.isArray(g)||g instanceof Set?g:[g]}(e);for(let f of h)if(f!==null&&(f.contains(u)||o.composed&&o.composedPath().includes(f)))return;return!B$(u,U$.Loose)&&u.tabIndex!==-1&&o.preventDefault(),n.current(o,u)},[n,e]),s=$.useRef(null);R0(t,"pointerdown",o=>{var l,u;DD()||(s.current=((u=(l=o.composedPath)==null?void 0:l.call(o))==null?void 0:u[0])||o.target)},!0),R0(t,"pointerup",o=>{if(DD()||!s.current)return;let l=s.current;return s.current=null,i(o,()=>l)},!0);let a=$.useRef({x:0,y:0});R0(t,"touchstart",o=>{a.current.x=o.touches[0].clientX,a.current.y=o.touches[0].clientY},!0),R0(t,"touchend",o=>{let l={x:o.changedTouches[0].clientX,y:o.changedTouches[0].clientY};if(!(Math.abs(l.x-a.current.x)>=UD||Math.abs(l.y-a.current.y)>=UD))return i(o,()=>rc(o.target)?o.target:null)},!0),ZY(t,"blur",o=>i(o,()=>X6e(window.document.activeElement)?window.document.activeElement:null),!0)}function R2(...t){return $.useMemo(()=>Zf(...t),[...t])}var V4e=(t=>(t[t.Ignore=0]="Ignore",t[t.Select=1]="Select",t[t.Close=2]="Close",t))(V4e||{});const xv={Ignore:{kind:0},Select:t=>({kind:1,target:t}),Close:{kind:2}},G4e=200,BD=5;function K4e(t,{trigger:e,action:r,close:n,select:i}){let s=$.useRef(null),a=$.useRef(null),o=$.useRef(null);R0(t&&e!==null,"pointerdown",l=>{TY(l==null?void 0:l.target)&&e!=null&&e.contains(l.target)&&(a.current=l.x,o.current=l.y,s.current=l.timeStamp)}),R0(t&&e!==null,"pointerup",l=>{var u,h;let f=s.current;if(f===null||(s.current=null,!rc(l.target))||Math.abs(l.x-((u=a.current)!=null?u:l.x))<BD&&Math.abs(l.y-((h=o.current)!=null?h:l.y))<BD)return;let g=r(l);switch(g.kind){case 0:return;case 1:{l.timeStamp-f>G4e&&(i(g.target),n());break}case 2:{n();break}}},{capture:!0})}function XY(t,e,r,n){let i=Xf(r);$.useEffect(()=>{t=t??window;function s(a){i.current(a)}return t.addEventListener(e,s,n),()=>t.removeEventListener(e,s,n)},[t,e,n])}function Y4e(t,e){return $.useMemo(()=>{var r;if(t.type)return t.type;let n=(r=t.as)!=null?r:"button";if(typeof n=="string"&&n.toLowerCase()==="button"||(e==null?void 0:e.tagName)==="BUTTON"&&!e.hasAttribute("type"))return"button"},[t.type,t.as,e])}function Z4e(t){return $.useSyncExternalStore(t.subscribe,t.getSnapshot,t.getSnapshot)}function Q4e(t,e){let r=t(),n=new Set;return{getSnapshot(){return r},subscribe(i){return n.add(i),()=>n.delete(i)},dispatch(i,...s){let a=e[i].call(r,...s);a&&(r=a,n.forEach(o=>o()))}}}function X4e(){let t;return{before({doc:e}){var r;let n=e.documentElement,i=(r=e.defaultView)!=null?r:window;t=Math.max(0,i.innerWidth-n.clientWidth)},after({doc:e,d:r}){let n=e.documentElement,i=Math.max(0,n.clientWidth-n.offsetWidth),s=Math.max(0,t-i);r.style(n,"paddingRight",`${s}px`)}}}function J4e(){return YY()?{before({doc:t,d:e,meta:r}){function n(i){for(let s of r().containers)for(let a of s())if(a.contains(i))return!0;return!1}e.microTask(()=>{var i;if(window.getComputedStyle(t.documentElement).scrollBehavior!=="auto"){let o=oa();o.style(t.documentElement,"scrollBehavior","auto"),e.add(()=>e.microTask(()=>o.dispose()))}let s=(i=window.scrollY)!=null?i:window.pageYOffset,a=null;e.addEventListener(t,"click",o=>{if(rc(o.target))try{let l=o.target.closest("a");if(!l)return;let{hash:u}=new URL(l.href),h=t.querySelector(u);rc(h)&&!n(h)&&(a=h)}catch{}},!0),e.group(o=>{e.addEventListener(t,"touchstart",l=>{if(o.dispose(),rc(l.target)&&Q6e(l.target))if(n(l.target)){let u=l.target;for(;u.parentElement&&n(u.parentElement);)u=u.parentElement;o.style(u,"overscrollBehavior","contain")}else o.style(l.target,"touchAction","none")})}),e.addEventListener(t,"touchmove",o=>{if(rc(o.target)){if(IY(o.target))return;if(n(o.target)){let l=o.target;for(;l.parentElement&&l.dataset.headlessuiPortal!==""&&!(l.scrollHeight>l.clientHeight||l.scrollWidth>l.clientWidth);)l=l.parentElement;l.dataset.headlessuiPortal===""&&o.preventDefault()}else o.preventDefault()}},{passive:!1}),e.add(()=>{var o;let l=(o=window.scrollY)!=null?o:window.pageYOffset;s!==l&&window.scrollTo(0,s),a&&a.isConnected&&(a.scrollIntoView({block:"nearest"}),a=null)})})}}:{}}function exe(){return{before({doc:t,d:e}){e.style(t.documentElement,"overflow","hidden")}}}function LD(t){let e={};for(let r of t)Object.assign(e,r(e));return e}let of=Q4e(()=>new Map,{PUSH(t,e){var r;let n=(r=this.get(t))!=null?r:{doc:t,count:0,d:oa(),meta:new Set,computedMeta:{}};return n.count++,n.meta.add(e),n.computedMeta=LD(n.meta),this.set(t,n),this},POP(t,e){let r=this.get(t);return r&&(r.count--,r.meta.delete(e),r.computedMeta=LD(r.meta)),this},SCROLL_PREVENT(t){let e={doc:t.doc,d:t.d,meta(){return t.computedMeta}},r=[J4e(),X4e(),exe()];r.forEach(({before:n})=>n==null?void 0:n(e)),r.forEach(({after:n})=>n==null?void 0:n(e))},SCROLL_ALLOW({d:t}){t.dispose()},TEARDOWN({doc:t}){this.delete(t)}});of.subscribe(()=>{let t=of.getSnapshot(),e=new Map;for(let[r]of t)e.set(r,r.documentElement.style.overflow);for(let r of t.values()){let n=e.get(r.doc)==="hidden",i=r.count!==0;(i&&!n||!i&&n)&&of.dispatch(r.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",r),r.count===0&&of.dispatch("TEARDOWN",r)}});function txe(t,e,r=()=>({containers:[]})){let n=Z4e(of),i=e?n.get(e):void 0,s=i?i.count>0:!1;return mn(()=>{if(!(!e||!t))return of.dispatch("PUSH",e,r),()=>of.dispatch("POP",e,r)},[t,e]),s}function JY(t,e,r=()=>[document.body]){let n=xb(t,"scroll-lock");txe(n,e,i=>{var s;return{containers:[...(s=i.containers)!=null?s:[],r]}})}function FD(t){return[t.screenX,t.screenY]}function rxe(){let t=$.useRef([-1,-1]);return{wasMoved(e){let r=FD(e);return t.current[0]===r[0]&&t.current[1]===r[1]?!1:(t.current=r,!0)},update(e){t.current=FD(e)}}}function nxe(t=0){let[e,r]=$.useState(t),n=$.useCallback(l=>r(l),[]),i=$.useCallback(l=>r(u=>u|l),[]),s=$.useCallback(l=>(e&l)===l,[e]),a=$.useCallback(l=>r(u=>u&~l),[]),o=$.useCallback(l=>r(u=>u^l),[]);return{flags:e,setFlag:n,addFlag:i,hasFlag:s,removeFlag:a,toggleFlag:o}}var ixe={CLI_CEB_DEV:"false",CLI_CEB_FIREFOX:"false",CEB_NODE_ENV:"production"},zD,WD;typeof process<"u"&&typeof globalThis<"u"&&typeof Element<"u"&&((zD=process==null?void 0:ixe)==null?void 0:zD.NODE_ENV)==="test"&&typeof((WD=Element==null?void 0:Element.prototype)==null?void 0:WD.getAnimations)>"u"&&(Element.prototype.getAnimations=function(){return console.warn(["Headless UI has polyfilled `Element.prototype.getAnimations` for your tests.","Please install a proper polyfill e.g. `jsdom-testing-mocks`, to silence these warnings.","","Example usage:","```js","import { mockAnimationsApi } from 'jsdom-testing-mocks'","mockAnimationsApi()","```"].join(`
`)),[]});var sxe=(t=>(t[t.None=0]="None",t[t.Closed=1]="Closed",t[t.Enter=2]="Enter",t[t.Leave=4]="Leave",t))(sxe||{});function eZ(t){let e={};for(let r in t)t[r]===!0&&(e[`data-${r}`]="");return e}function tZ(t,e,r,n){let[i,s]=$.useState(r),{hasFlag:a,addFlag:o,removeFlag:l}=nxe(t&&i?3:0),u=$.useRef(!1),h=$.useRef(!1),f=Qf();return mn(()=>{var g;if(t){if(r&&s(!0),!e){r&&o(3);return}return(g=n==null?void 0:n.start)==null||g.call(n,r),axe(e,{inFlight:u,prepare(){h.current?h.current=!1:h.current=u.current,u.current=!0,!h.current&&(r?(o(3),l(4)):(o(4),l(2)))},run(){h.current?r?(l(3),o(4)):(l(4),o(3)):r?l(1):o(1)},done(){var y;h.current&&cxe(e)||(u.current=!1,l(7),r||s(!1),(y=n==null?void 0:n.end)==null||y.call(n,r))}})}},[t,r,e,f]),t?[i,{closed:a(1),enter:a(2),leave:a(4),transition:a(2)||a(4)}]:[r,{closed:void 0,enter:void 0,leave:void 0,transition:void 0}]}function axe(t,{prepare:e,run:r,done:n,inFlight:i}){let s=oa();return lxe(t,{prepare:e,inFlight:i}),s.nextFrame(()=>{r(),s.requestAnimationFrame(()=>{s.add(oxe(t,n))})}),s.dispose}function oxe(t,e){var r,n;let i=oa();if(!t)return i.dispose;let s=!1;i.add(()=>{s=!0});let a=(n=(r=t.getAnimations)==null?void 0:r.call(t).filter(o=>o instanceof CSSTransition))!=null?n:[];return a.length===0?(e(),i.dispose):(Promise.allSettled(a.map(o=>o.finished)).then(()=>{s||e()}),i.dispose)}function lxe(t,{inFlight:e,prepare:r}){if(e!=null&&e.current){r();return}let n=t.style.transition;t.style.transition="none",r(),t.offsetHeight,t.style.transition=n}function cxe(t){var e,r;return((r=(e=t.getAnimations)==null?void 0:e.call(t))!=null?r:[]).some(n=>n instanceof CSSTransition&&n.playState!=="finished")}function uxe(t,{container:e,accept:r,walk:n}){let i=$.useRef(r),s=$.useRef(n);$.useEffect(()=>{i.current=r,s.current=n},[r,n]),mn(()=>{if(!e||!t)return;let a=Zf(e);if(!a)return;let o=i.current,l=s.current,u=Object.assign(f=>o(f),{acceptNode:o}),h=a.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,u,!1);for(;h.nextNode();)l(h.currentNode)},[e,t,i,s])}function L$(t,e){let r=$.useRef([]),n=Ft(t);$.useEffect(()=>{let i=[...r.current];for(let[s,a]of e.entries())if(r.current[s]!==a){let o=n(e,i);return r.current=e,o}},[n,...e])}function e4(){return typeof window<"u"}function Hg(t){return rZ(t)?(t.nodeName||"").toLowerCase():"#document"}function Pa(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function vc(t){var e;return(e=(rZ(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function rZ(t){return e4()?t instanceof Node||t instanceof Pa(t).Node:!1}function _s(t){return e4()?t instanceof Element||t instanceof Pa(t).Element:!1}function hc(t){return e4()?t instanceof HTMLElement||t instanceof Pa(t).HTMLElement:!1}function qD(t){return!e4()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Pa(t).ShadowRoot}const dxe=new Set(["inline","contents"]);function Eb(t){const{overflow:e,overflowX:r,overflowY:n,display:i}=ml(t);return/auto|scroll|overlay|hidden|clip/.test(e+n+r)&&!dxe.has(i)}const hxe=new Set(["table","td","th"]);function fxe(t){return hxe.has(Hg(t))}const pxe=[":popover-open",":modal"];function t4(t){return pxe.some(e=>{try{return t.matches(e)}catch{return!1}})}const gxe=["transform","translate","scale","rotate","perspective"],mxe=["transform","translate","scale","rotate","perspective","filter"],yxe=["paint","layout","strict","content"];function F$(t){const e=z$(),r=_s(t)?ml(t):t;return gxe.some(n=>r[n]?r[n]!=="none":!1)||(r.containerType?r.containerType!=="normal":!1)||!e&&(r.backdropFilter?r.backdropFilter!=="none":!1)||!e&&(r.filter?r.filter!=="none":!1)||mxe.some(n=>(r.willChange||"").includes(n))||yxe.some(n=>(r.contain||"").includes(n))}function bxe(t){let e=Xd(t);for(;hc(e)&&!_g(e);){if(F$(e))return e;if(t4(e))return null;e=Xd(e)}return null}function z$(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const wxe=new Set(["html","body","#document"]);function _g(t){return wxe.has(Hg(t))}function ml(t){return Pa(t).getComputedStyle(t)}function r4(t){return _s(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Xd(t){if(Hg(t)==="html")return t;const e=t.assignedSlot||t.parentNode||qD(t)&&t.host||vc(t);return qD(e)?e.host:e}function nZ(t){const e=Xd(t);return _g(e)?t.ownerDocument?t.ownerDocument.body:t.body:hc(e)&&Eb(e)?e:nZ(e)}function j2(t,e,r){var n;e===void 0&&(e=[]),r===void 0&&(r=!0);const i=nZ(t),s=i===((n=t.ownerDocument)==null?void 0:n.body),a=Pa(i);if(s){const o=yA(a);return e.concat(a,a.visualViewport||[],Eb(i)?i:[],o&&r?j2(o):[])}return e.concat(i,j2(i,[],r))}function yA(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function vxe(){const t=navigator.userAgentData;return t&&Array.isArray(t.brands)?t.brands.map(e=>{let{brand:r,version:n}=e;return r+"/"+n}).join(" "):navigator.userAgent}const Pf=Math.min,cs=Math.max,D2=Math.round,Ev=Math.floor,lc=t=>({x:t,y:t}),xxe={left:"right",right:"left",bottom:"top",top:"bottom"},Exe={start:"end",end:"start"};function HD(t,e,r){return cs(t,Pf(e,r))}function Vg(t,e){return typeof t=="function"?t(e):t}function Jd(t){return t.split("-")[0]}function _b(t){return t.split("-")[1]}function iZ(t){return t==="x"?"y":"x"}function sZ(t){return t==="y"?"height":"width"}const _xe=new Set(["top","bottom"]);function uu(t){return _xe.has(Jd(t))?"y":"x"}function aZ(t){return iZ(uu(t))}function Cxe(t,e,r){r===void 0&&(r=!1);const n=_b(t),i=aZ(t),s=sZ(i);let a=i==="x"?n===(r?"end":"start")?"right":"left":n==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(a=g5(a)),[a,g5(a)]}function Axe(t){const e=g5(t);return[bA(t),e,bA(e)]}function bA(t){return t.replace(/start|end/g,e=>Exe[e])}const VD=["left","right"],GD=["right","left"],Sxe=["top","bottom"],kxe=["bottom","top"];function $xe(t,e,r){switch(t){case"top":case"bottom":return r?e?GD:VD:e?VD:GD;case"left":case"right":return e?Sxe:kxe;default:return[]}}function Txe(t,e,r,n){const i=_b(t);let s=$xe(Jd(t),r==="start",n);return i&&(s=s.map(a=>a+"-"+i),e&&(s=s.concat(s.map(bA)))),s}function g5(t){return t.replace(/left|right|bottom|top/g,e=>xxe[e])}function Ixe(t){return{top:0,right:0,bottom:0,left:0,...t}}function Nxe(t){return typeof t!="number"?Ixe(t):{top:t,right:t,bottom:t,left:t}}function m5(t){const{x:e,y:r,width:n,height:i}=t;return{width:n,height:i,top:r,left:e,right:e+n,bottom:r+i,x:e,y:r}}function KD(t,e,r){let{reference:n,floating:i}=t;const s=uu(e),a=aZ(e),o=sZ(a),l=Jd(e),u=s==="y",h=n.x+n.width/2-i.width/2,f=n.y+n.height/2-i.height/2,g=n[o]/2-i[o]/2;let y;switch(l){case"top":y={x:h,y:n.y-i.height};break;case"bottom":y={x:h,y:n.y+n.height};break;case"right":y={x:n.x+n.width,y:f};break;case"left":y={x:n.x-i.width,y:f};break;default:y={x:n.x,y:n.y}}switch(_b(e)){case"start":y[a]-=g*(r&&u?-1:1);break;case"end":y[a]+=g*(r&&u?-1:1);break}return y}const Pxe=async(t,e,r)=>{const{placement:n="bottom",strategy:i="absolute",middleware:s=[],platform:a}=r,o=s.filter(Boolean),l=await(a.isRTL==null?void 0:a.isRTL(e));let u=await a.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:f}=KD(u,n,l),g=n,y={},b=0;for(let w=0;w<o.length;w++){const{name:x,fn:E}=o[w],{x:S,y:_,data:I,reset:A}=await E({x:h,y:f,initialPlacement:n,placement:g,strategy:i,middlewareData:y,rects:u,platform:a,elements:{reference:t,floating:e}});h=S??h,f=_??f,y={...y,[x]:{...y[x],...I}},A&&b<=50&&(b++,typeof A=="object"&&(A.placement&&(g=A.placement),A.rects&&(u=A.rects===!0?await a.getElementRects({reference:t,floating:e,strategy:i}):A.rects),{x:h,y:f}=KD(u,g,l)),w=-1)}return{x:h,y:f,placement:g,strategy:i,middlewareData:y}};async function n4(t,e){var r;e===void 0&&(e={});const{x:n,y:i,platform:s,rects:a,elements:o,strategy:l}=t,{boundary:u="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:g=!1,padding:y=0}=Vg(e,t),b=Nxe(y),x=o[g?f==="floating"?"reference":"floating":f],E=m5(await s.getClippingRect({element:(r=await(s.isElement==null?void 0:s.isElement(x)))==null||r?x:x.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(o.floating)),boundary:u,rootBoundary:h,strategy:l})),S=f==="floating"?{x:n,y:i,width:a.floating.width,height:a.floating.height}:a.reference,_=await(s.getOffsetParent==null?void 0:s.getOffsetParent(o.floating)),I=await(s.isElement==null?void 0:s.isElement(_))?await(s.getScale==null?void 0:s.getScale(_))||{x:1,y:1}:{x:1,y:1},A=m5(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:o,rect:S,offsetParent:_,strategy:l}):S);return{top:(E.top-A.top+b.top)/I.y,bottom:(A.bottom-E.bottom+b.bottom)/I.y,left:(E.left-A.left+b.left)/I.x,right:(A.right-E.right+b.right)/I.x}}const Oxe=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var r,n;const{placement:i,middlewareData:s,rects:a,initialPlacement:o,platform:l,elements:u}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:g,fallbackStrategy:y="bestFit",fallbackAxisSideDirection:b="none",flipAlignment:w=!0,...x}=Vg(t,e);if((r=s.arrow)!=null&&r.alignmentOffset)return{};const E=Jd(i),S=uu(o),_=Jd(o)===o,I=await(l.isRTL==null?void 0:l.isRTL(u.floating)),A=g||(_||!w?[g5(o)]:Axe(o)),O=b!=="none";!g&&O&&A.push(...Txe(o,w,b,I));const F=[o,...A],H=await n4(e,x),L=[];let z=((n=s.flip)==null?void 0:n.overflows)||[];if(h&&L.push(H[E]),f){const C=Cxe(i,a,I);L.push(H[C[0]],H[C[1]])}if(z=[...z,{placement:i,overflows:L}],!L.every(C=>C<=0)){var V,K;const C=(((V=s.flip)==null?void 0:V.index)||0)+1,k=F[C];if(k&&(!(f==="alignment"?S!==uu(k):!1)||z.every(P=>uu(P.placement)===S?P.overflows[0]>0:!0)))return{data:{index:C,overflows:z},reset:{placement:k}};let N=(K=z.filter(D=>D.overflows[0]<=0).sort((D,P)=>D.overflows[1]-P.overflows[1])[0])==null?void 0:K.placement;if(!N)switch(y){case"bestFit":{var B;const D=(B=z.filter(P=>{if(O){const R=uu(P.placement);return R===S||R==="y"}return!0}).map(P=>[P.placement,P.overflows.filter(R=>R>0).reduce((R,j)=>R+j,0)]).sort((P,R)=>P[1]-R[1])[0])==null?void 0:B[0];D&&(N=D);break}case"initialPlacement":N=o;break}if(i!==N)return{reset:{placement:N}}}return{}}}},Mxe=new Set(["left","top"]);async function Rxe(t,e){const{placement:r,platform:n,elements:i}=t,s=await(n.isRTL==null?void 0:n.isRTL(i.floating)),a=Jd(r),o=_b(r),l=uu(r)==="y",u=Mxe.has(a)?-1:1,h=s&&l?-1:1,f=Vg(e,t);let{mainAxis:g,crossAxis:y,alignmentAxis:b}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return o&&typeof b=="number"&&(y=o==="end"?b*-1:b),l?{x:y*h,y:g*u}:{x:g*u,y:y*h}}const jxe=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var r,n;const{x:i,y:s,placement:a,middlewareData:o}=e,l=await Rxe(e,t);return a===((r=o.offset)==null?void 0:r.placement)&&(n=o.arrow)!=null&&n.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:a}}}}},Dxe=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:r,y:n,placement:i}=e,{mainAxis:s=!0,crossAxis:a=!1,limiter:o={fn:x=>{let{x:E,y:S}=x;return{x:E,y:S}}},...l}=Vg(t,e),u={x:r,y:n},h=await n4(e,l),f=uu(Jd(i)),g=iZ(f);let y=u[g],b=u[f];if(s){const x=g==="y"?"top":"left",E=g==="y"?"bottom":"right",S=y+h[x],_=y-h[E];y=HD(S,y,_)}if(a){const x=f==="y"?"top":"left",E=f==="y"?"bottom":"right",S=b+h[x],_=b-h[E];b=HD(S,b,_)}const w=o.fn({...e,[g]:y,[f]:b});return{...w,data:{x:w.x-r,y:w.y-n,enabled:{[g]:s,[f]:a}}}}}},Uxe=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var r,n;const{placement:i,rects:s,platform:a,elements:o}=e,{apply:l=()=>{},...u}=Vg(t,e),h=await n4(e,u),f=Jd(i),g=_b(i),y=uu(i)==="y",{width:b,height:w}=s.floating;let x,E;f==="top"||f==="bottom"?(x=f,E=g===(await(a.isRTL==null?void 0:a.isRTL(o.floating))?"start":"end")?"left":"right"):(E=f,x=g==="end"?"top":"bottom");const S=w-h.top-h.bottom,_=b-h.left-h.right,I=Pf(w-h[x],S),A=Pf(b-h[E],_),O=!e.middlewareData.shift;let F=I,H=A;if((r=e.middlewareData.shift)!=null&&r.enabled.x&&(H=_),(n=e.middlewareData.shift)!=null&&n.enabled.y&&(F=S),O&&!g){const z=cs(h.left,0),V=cs(h.right,0),K=cs(h.top,0),B=cs(h.bottom,0);y?H=b-2*(z!==0||V!==0?z+V:cs(h.left,h.right)):F=w-2*(K!==0||B!==0?K+B:cs(h.top,h.bottom))}await l({...e,availableWidth:H,availableHeight:F});const L=await a.getDimensions(o.floating);return b!==L.width||w!==L.height?{reset:{rects:!0}}:{}}}};function oZ(t){const e=ml(t);let r=parseFloat(e.width)||0,n=parseFloat(e.height)||0;const i=hc(t),s=i?t.offsetWidth:r,a=i?t.offsetHeight:n,o=D2(r)!==s||D2(n)!==a;return o&&(r=s,n=a),{width:r,height:n,$:o}}function W$(t){return _s(t)?t:t.contextElement}function X0(t){const e=W$(t);if(!hc(e))return lc(1);const r=e.getBoundingClientRect(),{width:n,height:i,$:s}=oZ(e);let a=(s?D2(r.width):r.width)/n,o=(s?D2(r.height):r.height)/i;return(!a||!Number.isFinite(a))&&(a=1),(!o||!Number.isFinite(o))&&(o=1),{x:a,y:o}}const Bxe=lc(0);function lZ(t){const e=Pa(t);return!z$()||!e.visualViewport?Bxe:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function Lxe(t,e,r){return e===void 0&&(e=!1),!r||e&&r!==Pa(t)?!1:e}function Of(t,e,r,n){e===void 0&&(e=!1),r===void 0&&(r=!1);const i=t.getBoundingClientRect(),s=W$(t);let a=lc(1);e&&(n?_s(n)&&(a=X0(n)):a=X0(t));const o=Lxe(s,r,n)?lZ(s):lc(0);let l=(i.left+o.x)/a.x,u=(i.top+o.y)/a.y,h=i.width/a.x,f=i.height/a.y;if(s){const g=Pa(s),y=n&&_s(n)?Pa(n):n;let b=g,w=yA(b);for(;w&&n&&y!==b;){const x=X0(w),E=w.getBoundingClientRect(),S=ml(w),_=E.left+(w.clientLeft+parseFloat(S.paddingLeft))*x.x,I=E.top+(w.clientTop+parseFloat(S.paddingTop))*x.y;l*=x.x,u*=x.y,h*=x.x,f*=x.y,l+=_,u+=I,b=Pa(w),w=yA(b)}}return m5({width:h,height:f,x:l,y:u})}function i4(t,e){const r=r4(t).scrollLeft;return e?e.left+r:Of(vc(t)).left+r}function cZ(t,e){const r=t.getBoundingClientRect(),n=r.left+e.scrollLeft-i4(t,r),i=r.top+e.scrollTop;return{x:n,y:i}}function Fxe(t){let{elements:e,rect:r,offsetParent:n,strategy:i}=t;const s=i==="fixed",a=vc(n),o=e?t4(e.floating):!1;if(n===a||o&&s)return r;let l={scrollLeft:0,scrollTop:0},u=lc(1);const h=lc(0),f=hc(n);if((f||!f&&!s)&&((Hg(n)!=="body"||Eb(a))&&(l=r4(n)),hc(n))){const y=Of(n);u=X0(n),h.x=y.x+n.clientLeft,h.y=y.y+n.clientTop}const g=a&&!f&&!s?cZ(a,l):lc(0);return{width:r.width*u.x,height:r.height*u.y,x:r.x*u.x-l.scrollLeft*u.x+h.x+g.x,y:r.y*u.y-l.scrollTop*u.y+h.y+g.y}}function zxe(t){return Array.from(t.getClientRects())}function Wxe(t){const e=vc(t),r=r4(t),n=t.ownerDocument.body,i=cs(e.scrollWidth,e.clientWidth,n.scrollWidth,n.clientWidth),s=cs(e.scrollHeight,e.clientHeight,n.scrollHeight,n.clientHeight);let a=-r.scrollLeft+i4(t);const o=-r.scrollTop;return ml(n).direction==="rtl"&&(a+=cs(e.clientWidth,n.clientWidth)-i),{width:i,height:s,x:a,y:o}}const YD=25;function qxe(t,e){const r=Pa(t),n=vc(t),i=r.visualViewport;let s=n.clientWidth,a=n.clientHeight,o=0,l=0;if(i){s=i.width,a=i.height;const h=z$();(!h||h&&e==="fixed")&&(o=i.offsetLeft,l=i.offsetTop)}const u=i4(n);if(u<=0){const h=n.ownerDocument,f=h.body,g=getComputedStyle(f),y=h.compatMode==="CSS1Compat"&&parseFloat(g.marginLeft)+parseFloat(g.marginRight)||0,b=Math.abs(n.clientWidth-f.clientWidth-y);b<=YD&&(s-=b)}else u<=YD&&(s+=u);return{width:s,height:a,x:o,y:l}}const Hxe=new Set(["absolute","fixed"]);function Vxe(t,e){const r=Of(t,!0,e==="fixed"),n=r.top+t.clientTop,i=r.left+t.clientLeft,s=hc(t)?X0(t):lc(1),a=t.clientWidth*s.x,o=t.clientHeight*s.y,l=i*s.x,u=n*s.y;return{width:a,height:o,x:l,y:u}}function ZD(t,e,r){let n;if(e==="viewport")n=qxe(t,r);else if(e==="document")n=Wxe(vc(t));else if(_s(e))n=Vxe(e,r);else{const i=lZ(t);n={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return m5(n)}function uZ(t,e){const r=Xd(t);return r===e||!_s(r)||_g(r)?!1:ml(r).position==="fixed"||uZ(r,e)}function Gxe(t,e){const r=e.get(t);if(r)return r;let n=j2(t,[],!1).filter(o=>_s(o)&&Hg(o)!=="body"),i=null;const s=ml(t).position==="fixed";let a=s?Xd(t):t;for(;_s(a)&&!_g(a);){const o=ml(a),l=F$(a);!l&&o.position==="fixed"&&(i=null),(s?!l&&!i:!l&&o.position==="static"&&!!i&&Hxe.has(i.position)||Eb(a)&&!l&&uZ(t,a))?n=n.filter(h=>h!==a):i=o,a=Xd(a)}return e.set(t,n),n}function Kxe(t){let{element:e,boundary:r,rootBoundary:n,strategy:i}=t;const a=[...r==="clippingAncestors"?t4(e)?[]:Gxe(e,this._c):[].concat(r),n],o=a[0],l=a.reduce((u,h)=>{const f=ZD(e,h,i);return u.top=cs(f.top,u.top),u.right=Pf(f.right,u.right),u.bottom=Pf(f.bottom,u.bottom),u.left=cs(f.left,u.left),u},ZD(e,o,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function Yxe(t){const{width:e,height:r}=oZ(t);return{width:e,height:r}}function Zxe(t,e,r){const n=hc(e),i=vc(e),s=r==="fixed",a=Of(t,!0,s,e);let o={scrollLeft:0,scrollTop:0};const l=lc(0);function u(){l.x=i4(i)}if(n||!n&&!s)if((Hg(e)!=="body"||Eb(i))&&(o=r4(e)),n){const y=Of(e,!0,s,e);l.x=y.x+e.clientLeft,l.y=y.y+e.clientTop}else i&&u();s&&!n&&i&&u();const h=i&&!n&&!s?cZ(i,o):lc(0),f=a.left+o.scrollLeft-l.x-h.x,g=a.top+o.scrollTop-l.y-h.y;return{x:f,y:g,width:a.width,height:a.height}}function R7(t){return ml(t).position==="static"}function QD(t,e){if(!hc(t)||ml(t).position==="fixed")return null;if(e)return e(t);let r=t.offsetParent;return vc(t)===r&&(r=r.ownerDocument.body),r}function dZ(t,e){const r=Pa(t);if(t4(t))return r;if(!hc(t)){let i=Xd(t);for(;i&&!_g(i);){if(_s(i)&&!R7(i))return i;i=Xd(i)}return r}let n=QD(t,e);for(;n&&fxe(n)&&R7(n);)n=QD(n,e);return n&&_g(n)&&R7(n)&&!F$(n)?r:n||bxe(t)||r}const Qxe=async function(t){const e=this.getOffsetParent||dZ,r=this.getDimensions,n=await r(t.floating);return{reference:Zxe(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:n.width,height:n.height}}};function Xxe(t){return ml(t).direction==="rtl"}const Jxe={convertOffsetParentRelativeRectToViewportRelativeRect:Fxe,getDocumentElement:vc,getClippingRect:Kxe,getOffsetParent:dZ,getElementRects:Qxe,getClientRects:zxe,getDimensions:Yxe,getScale:X0,isElement:_s,isRTL:Xxe};function hZ(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function e8e(t,e){let r=null,n;const i=vc(t);function s(){var o;clearTimeout(n),(o=r)==null||o.disconnect(),r=null}function a(o,l){o===void 0&&(o=!1),l===void 0&&(l=1),s();const u=t.getBoundingClientRect(),{left:h,top:f,width:g,height:y}=u;if(o||e(),!g||!y)return;const b=Ev(f),w=Ev(i.clientWidth-(h+g)),x=Ev(i.clientHeight-(f+y)),E=Ev(h),_={rootMargin:-b+"px "+-w+"px "+-x+"px "+-E+"px",threshold:cs(0,Pf(1,l))||1};let I=!0;function A(O){const F=O[0].intersectionRatio;if(F!==l){if(!I)return a();F?a(!1,F):n=setTimeout(()=>{a(!1,1e-7)},1e3)}F===1&&!hZ(u,t.getBoundingClientRect())&&a(),I=!1}try{r=new IntersectionObserver(A,{..._,root:i.ownerDocument})}catch{r=new IntersectionObserver(A,_)}r.observe(t)}return a(!0),s}function t8e(t,e,r,n){n===void 0&&(n={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:a=typeof ResizeObserver=="function",layoutShift:o=typeof IntersectionObserver=="function",animationFrame:l=!1}=n,u=W$(t),h=i||s?[...u?j2(u):[],...j2(e)]:[];h.forEach(E=>{i&&E.addEventListener("scroll",r,{passive:!0}),s&&E.addEventListener("resize",r)});const f=u&&o?e8e(u,r):null;let g=-1,y=null;a&&(y=new ResizeObserver(E=>{let[S]=E;S&&S.target===u&&y&&(y.unobserve(e),cancelAnimationFrame(g),g=requestAnimationFrame(()=>{var _;(_=y)==null||_.observe(e)})),r()}),u&&!l&&y.observe(u),y.observe(e));let b,w=l?Of(t):null;l&&x();function x(){const E=Of(t);w&&!hZ(w,E)&&r(),w=E,b=requestAnimationFrame(x)}return r(),()=>{var E;h.forEach(S=>{i&&S.removeEventListener("scroll",r),s&&S.removeEventListener("resize",r)}),f==null||f(),(E=y)==null||E.disconnect(),y=null,l&&cancelAnimationFrame(b)}}const j7=n4,r8e=jxe,n8e=Dxe,i8e=Oxe,s8e=Uxe,a8e=(t,e,r)=>{const n=new Map,i={platform:Jxe,...r},s={...i.platform,_c:n};return Pxe(t,e,{...i,platform:s})};var o8e=typeof document<"u",l8e=function(){},w3=o8e?$.useLayoutEffect:l8e;function y5(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let r,n,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(r=t.length,r!==e.length)return!1;for(n=r;n--!==0;)if(!y5(t[n],e[n]))return!1;return!0}if(i=Object.keys(t),r=i.length,r!==Object.keys(e).length)return!1;for(n=r;n--!==0;)if(!{}.hasOwnProperty.call(e,i[n]))return!1;for(n=r;n--!==0;){const s=i[n];if(!(s==="_owner"&&t.$$typeof)&&!y5(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function fZ(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function XD(t,e){const r=fZ(t);return Math.round(e*r)/r}function D7(t){const e=$.useRef(t);return w3(()=>{e.current=t}),e}function c8e(t){t===void 0&&(t={});const{placement:e="bottom",strategy:r="absolute",middleware:n=[],platform:i,elements:{reference:s,floating:a}={},transform:o=!0,whileElementsMounted:l,open:u}=t,[h,f]=$.useState({x:0,y:0,strategy:r,placement:e,middlewareData:{},isPositioned:!1}),[g,y]=$.useState(n);y5(g,n)||y(n);const[b,w]=$.useState(null),[x,E]=$.useState(null),S=$.useCallback(P=>{P!==O.current&&(O.current=P,w(P))},[]),_=$.useCallback(P=>{P!==F.current&&(F.current=P,E(P))},[]),I=s||b,A=a||x,O=$.useRef(null),F=$.useRef(null),H=$.useRef(h),L=l!=null,z=D7(l),V=D7(i),K=D7(u),B=$.useCallback(()=>{if(!O.current||!F.current)return;const P={placement:e,strategy:r,middleware:g};V.current&&(P.platform=V.current),a8e(O.current,F.current,P).then(R=>{const j={...R,isPositioned:K.current!==!1};C.current&&!y5(H.current,j)&&(H.current=j,Su.flushSync(()=>{f(j)}))})},[g,e,r,V,K]);w3(()=>{u===!1&&H.current.isPositioned&&(H.current.isPositioned=!1,f(P=>({...P,isPositioned:!1})))},[u]);const C=$.useRef(!1);w3(()=>(C.current=!0,()=>{C.current=!1}),[]),w3(()=>{if(I&&(O.current=I),A&&(F.current=A),I&&A){if(z.current)return z.current(I,A,B);B()}},[I,A,B,z,L]);const k=$.useMemo(()=>({reference:O,floating:F,setReference:S,setFloating:_}),[S,_]),N=$.useMemo(()=>({reference:I,floating:A}),[I,A]),D=$.useMemo(()=>{const P={position:r,left:0,top:0};if(!N.floating)return P;const R=XD(N.floating,h.x),j=XD(N.floating,h.y);return o?{...P,transform:"translate("+R+"px, "+j+"px)",...fZ(N.floating)>=1.5&&{willChange:"transform"}}:{position:r,left:R,top:j}},[r,o,N.floating,h.x,h.y]);return $.useMemo(()=>({...h,update:B,refs:k,elements:N,floatingStyles:D}),[h,B,k,N,D])}const pZ=(t,e)=>({...r8e(t),options:[t,e]}),u8e=(t,e)=>({...n8e(t),options:[t,e]}),d8e=(t,e)=>({...i8e(t),options:[t,e]}),h8e=(t,e)=>({...s8e(t),options:[t,e]}),gZ={...K_},f8e=gZ.useInsertionEffect,p8e=f8e||(t=>t());function mZ(t){const e=$.useRef(()=>{});return p8e(()=>{e.current=t}),$.useCallback(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return e.current==null?void 0:e.current(...n)},[])}var wA=typeof document<"u"?$.useLayoutEffect:$.useEffect;let JD=!1,g8e=0;const eU=()=>"floating-ui-"+Math.random().toString(36).slice(2,6)+g8e++;function m8e(){const[t,e]=$.useState(()=>JD?eU():void 0);return wA(()=>{t==null&&e(eU())},[]),$.useEffect(()=>{JD=!0},[]),t}const y8e=gZ.useId,b8e=y8e||m8e;function w8e(){const t=new Map;return{emit(e,r){var n;(n=t.get(e))==null||n.forEach(i=>i(r))},on(e,r){t.set(e,[...t.get(e)||[],r])},off(e,r){var n;t.set(e,((n=t.get(e))==null?void 0:n.filter(i=>i!==r))||[])}}}const v8e=$.createContext(null),x8e=$.createContext(null),E8e=()=>{var t;return((t=$.useContext(v8e))==null?void 0:t.id)||null},_8e=()=>$.useContext(x8e),C8e="data-floating-ui-focusable";function A8e(t){const{open:e=!1,onOpenChange:r,elements:n}=t,i=b8e(),s=$.useRef({}),[a]=$.useState(()=>w8e()),o=E8e()!=null,[l,u]=$.useState(n.reference),h=mZ((y,b,w)=>{s.current.openEvent=y?b:void 0,a.emit("openchange",{open:y,event:b,reason:w,nested:o}),r==null||r(y,b,w)}),f=$.useMemo(()=>({setPositionReference:u}),[]),g=$.useMemo(()=>({reference:l||n.reference||null,floating:n.floating||null,domReference:n.reference}),[l,n.reference,n.floating]);return $.useMemo(()=>({dataRef:s,open:e,onOpenChange:h,elements:g,events:a,floatingId:i,refs:f}),[e,h,g,a,i,f])}function S8e(t){t===void 0&&(t={});const{nodeId:e}=t,r=A8e({...t,elements:{reference:null,floating:null,...t.elements}}),n=t.rootContext||r,i=n.elements,[s,a]=$.useState(null),[o,l]=$.useState(null),h=(i==null?void 0:i.domReference)||s,f=$.useRef(null),g=_8e();wA(()=>{h&&(f.current=h)},[h]);const y=c8e({...t,elements:{...i,...o&&{reference:o}}}),b=$.useCallback(_=>{const I=_s(_)?{getBoundingClientRect:()=>_.getBoundingClientRect(),contextElement:_}:_;l(I),y.refs.setReference(I)},[y.refs]),w=$.useCallback(_=>{(_s(_)||_===null)&&(f.current=_,a(_)),(_s(y.refs.reference.current)||y.refs.reference.current===null||_!==null&&!_s(_))&&y.refs.setReference(_)},[y.refs]),x=$.useMemo(()=>({...y.refs,setReference:w,setPositionReference:b,domReference:f}),[y.refs,w,b]),E=$.useMemo(()=>({...y.elements,domReference:h}),[y.elements,h]),S=$.useMemo(()=>({...y,...n,refs:x,elements:E,nodeId:e}),[y,x,E,e,n]);return wA(()=>{n.dataRef.current.floatingContext=S;const _=g==null?void 0:g.nodesRef.current.find(I=>I.id===e);_&&(_.context=S)}),$.useMemo(()=>({...y,context:S,refs:x,elements:E}),[y,x,E,S])}const tU="active",rU="selected";function U7(t,e,r){const n=new Map,i=r==="item";let s=t;if(i&&t){const{[tU]:a,[rU]:o,...l}=t;s=l}return{...r==="floating"&&{tabIndex:-1,[C8e]:""},...s,...e.map(a=>{const o=a?a[r]:null;return typeof o=="function"?t?o(t):null:o}).concat(t).reduce((a,o)=>(o&&Object.entries(o).forEach(l=>{let[u,h]=l;if(!(i&&[tU,rU].includes(u)))if(u.indexOf("on")===0){if(n.has(u)||n.set(u,[]),typeof h=="function"){var f;(f=n.get(u))==null||f.push(h),a[u]=function(){for(var g,y=arguments.length,b=new Array(y),w=0;w<y;w++)b[w]=arguments[w];return(g=n.get(u))==null?void 0:g.map(x=>x(...b)).find(x=>x!==void 0)}}}else a[u]=h}),a),{})}}function k8e(t){t===void 0&&(t=[]);const e=t.map(o=>o==null?void 0:o.reference),r=t.map(o=>o==null?void 0:o.floating),n=t.map(o=>o==null?void 0:o.item),i=$.useCallback(o=>U7(o,t,"reference"),e),s=$.useCallback(o=>U7(o,t,"floating"),r),a=$.useCallback(o=>U7(o,t,"item"),n);return $.useMemo(()=>({getReferenceProps:i,getFloatingProps:s,getItemProps:a}),[i,s,a])}function nU(t,e){return{...t,rects:{...t.rects,floating:{...t.rects.floating,height:e}}}}const $8e=t=>({name:"inner",options:t,async fn(e){const{listRef:r,overflowRef:n,onFallbackChange:i,offset:s=0,index:a=0,minItemsVisible:o=4,referenceOverflowThreshold:l=0,scrollRef:u,...h}=Vg(t,e),{rects:f,elements:{floating:g}}=e,y=r.current[a],b=(u==null?void 0:u.current)||g,w=g.clientTop||b.clientTop,x=g.clientTop!==0,E=b.clientTop!==0,S=g===b;if(!y)return{};const _={...e,...await pZ(-y.offsetTop-g.clientTop-f.reference.height/2-y.offsetHeight/2-s).fn(e)},I=await j7(nU(_,b.scrollHeight+w+g.clientTop),h),A=await j7(_,{...h,elementContext:"reference"}),O=cs(0,I.top),F=_.y+O,z=(b.scrollHeight>b.clientHeight?V=>V:D2)(cs(0,b.scrollHeight+(x&&S||E?w*2:0)-O-cs(0,I.bottom)));if(b.style.maxHeight=z+"px",b.scrollTop=O,i){const V=b.offsetHeight<y.offsetHeight*Pf(o,r.current.length)-1||A.top>=-l||A.bottom>=-l;Su.flushSync(()=>i(V))}return n&&(n.current=await j7(nU({..._,y:F},b.offsetHeight+w+g.clientTop),h)),{y:F}}});function T8e(t,e){const{open:r,elements:n}=t,{enabled:i=!0,overflowRef:s,scrollRef:a,onChange:o}=e,l=mZ(o),u=$.useRef(!1),h=$.useRef(null),f=$.useRef(null);$.useEffect(()=>{if(!i)return;function y(w){if(w.ctrlKey||!b||s.current==null)return;const x=w.deltaY,E=s.current.top>=-.5,S=s.current.bottom>=-.5,_=b.scrollHeight-b.clientHeight,I=x<0?-1:1,A=x<0?"max":"min";b.scrollHeight<=b.clientHeight||(!E&&x>0||!S&&x<0?(w.preventDefault(),Su.flushSync(()=>{l(O=>O+Math[A](x,_*I))})):/firefox/i.test(vxe())&&(b.scrollTop+=x))}const b=(a==null?void 0:a.current)||n.floating;if(r&&b)return b.addEventListener("wheel",y),requestAnimationFrame(()=>{h.current=b.scrollTop,s.current!=null&&(f.current={...s.current})}),()=>{h.current=null,f.current=null,b.removeEventListener("wheel",y)}},[i,r,n.floating,s,a,l]);const g=$.useMemo(()=>({onKeyDown(){u.current=!0},onWheel(){u.current=!1},onPointerMove(){u.current=!1},onScroll(){const y=(a==null?void 0:a.current)||n.floating;if(!(!s.current||!y||!u.current)){if(h.current!==null){const b=y.scrollTop-h.current;(s.current.bottom<-.5&&b<-1||s.current.top<-.5&&b>1)&&Su.flushSync(()=>l(w=>w+b))}requestAnimationFrame(()=>{h.current=y.scrollTop})}}}),[n.floating,l,s,a]);return $.useMemo(()=>i?{floating:g}:{},[i,g])}let Gg=$.createContext({styles:void 0,setReference:()=>{},setFloating:()=>{},getReferenceProps:()=>({}),getFloatingProps:()=>({}),slot:{}});Gg.displayName="FloatingContext";let q$=$.createContext(null);q$.displayName="PlacementContext";function I8e(t){return $.useMemo(()=>t?typeof t=="string"?{to:t}:t:null,[t])}function N8e(){return $.useContext(Gg).setReference}function P8e(){return $.useContext(Gg).getReferenceProps}function O8e(){let{getFloatingProps:t,slot:e}=$.useContext(Gg);return $.useCallback((...r)=>Object.assign({},t(...r),{"data-anchor":e.anchor}),[t,e])}function M8e(t=null){t===!1&&(t=null),typeof t=="string"&&(t={to:t});let e=$.useContext(q$),r=$.useMemo(()=>t,[JSON.stringify(t,(i,s)=>{var a;return(a=s==null?void 0:s.outerHTML)!=null?a:s})]);mn(()=>{e==null||e(r??null)},[e,r]);let n=$.useContext(Gg);return $.useMemo(()=>[n.setFloating,t?n.styles:{}],[n.setFloating,t,n.styles])}let iU=4;function R8e({children:t,enabled:e=!0}){let[r,n]=$.useState(null),[i,s]=$.useState(0),a=$.useRef(null),[o,l]=$.useState(null);j8e(o);let u=e&&r!==null&&o!==null,{to:h="bottom",gap:f=0,offset:g=0,padding:y=0,inner:b}=D8e(r,o),[w,x="center"]=h.split(" ");mn(()=>{u&&s(0)},[u]);let{refs:E,floatingStyles:S,context:_}=S8e({open:u,placement:w==="selection"?x==="center"?"bottom":`bottom-${x}`:x==="center"?`${w}`:`${w}-${x}`,strategy:"absolute",transform:!1,middleware:[pZ({mainAxis:w==="selection"?0:f,crossAxis:g}),u8e({padding:y}),w!=="selection"&&d8e({padding:y}),w==="selection"&&b?$8e({...b,padding:y,overflowRef:a,offset:i,minItemsVisible:iU,referenceOverflowThreshold:y,onFallbackChange(V){var K,B;if(!V)return;let C=_.elements.floating;if(!C)return;let k=parseFloat(getComputedStyle(C).scrollPaddingBottom)||0,N=Math.min(iU,C.childElementCount),D=0,P=0;for(let R of(B=(K=_.elements.floating)==null?void 0:K.childNodes)!=null?B:[])if(Ra(R)){let j=R.offsetTop,W=j+R.clientHeight+k,M=C.scrollTop,G=M+C.clientHeight;if(j>=M&&W<=G)N--;else{P=Math.max(0,Math.min(W,G)-Math.max(j,M)),D=R.clientHeight;break}}N>=1&&s(R=>{let j=D*N-P+k;return R>=j?R:j})}}):null,h8e({padding:y,apply({availableWidth:V,availableHeight:K,elements:B}){Object.assign(B.floating.style,{overflow:"auto",maxWidth:`${V}px`,maxHeight:`min(var(--anchor-max-height, 100vh), ${K}px)`})}})].filter(Boolean),whileElementsMounted:t8e}),[I=w,A=x]=_.placement.split("-");w==="selection"&&(I="selection");let O=$.useMemo(()=>({anchor:[I,A].filter(Boolean).join(" ")}),[I,A]),F=T8e(_,{overflowRef:a,onChange:s}),{getReferenceProps:H,getFloatingProps:L}=k8e([F]),z=Ft(V=>{l(V),E.setFloating(V)});return $.createElement(q$.Provider,{value:n},$.createElement(Gg.Provider,{value:{setFloating:z,setReference:E.setReference,styles:S,getReferenceProps:H,getFloatingProps:L,slot:O}},t))}function j8e(t){mn(()=>{if(!t)return;let e=new MutationObserver(()=>{let r=window.getComputedStyle(t).maxHeight,n=parseFloat(r);if(isNaN(n))return;let i=parseInt(r);isNaN(i)||n!==i&&(t.style.maxHeight=`${Math.ceil(n)}px`)});return e.observe(t,{attributes:!0,attributeFilter:["style"]}),()=>{e.disconnect()}},[t])}function D8e(t,e){var r,n,i;let s=B7((r=t==null?void 0:t.gap)!=null?r:"var(--anchor-gap, 0)",e),a=B7((n=t==null?void 0:t.offset)!=null?n:"var(--anchor-offset, 0)",e),o=B7((i=t==null?void 0:t.padding)!=null?i:"var(--anchor-padding, 0)",e);return{...t,gap:s,offset:a,padding:o}}function B7(t,e,r=void 0){let n=Qf(),i=Ft((l,u)=>{if(l==null)return[r,null];if(typeof l=="number")return[l,null];if(typeof l=="string"){if(!u)return[r,null];let h=sU(l,u);return[h,f=>{let g=yZ(l);{let y=g.map(b=>window.getComputedStyle(u).getPropertyValue(b));n.requestAnimationFrame(function b(){n.nextFrame(b);let w=!1;for(let[E,S]of g.entries()){let _=window.getComputedStyle(u).getPropertyValue(S);if(y[E]!==_){y[E]=_,w=!0;break}}if(!w)return;let x=sU(l,u);h!==x&&(f(x),h=x)})}return n.dispose}]}return[r,null]}),s=$.useMemo(()=>i(t,e)[0],[t,e]),[a=s,o]=$.useState();return mn(()=>{let[l,u]=i(t,e);if(o(l),!!u)return u(o)},[t,e]),a}function yZ(t){let e=/var\((.*)\)/.exec(t);if(e){let r=e[1].indexOf(",");if(r===-1)return[e[1]];let n=e[1].slice(0,r).trim(),i=e[1].slice(r+1).trim();return i?[n,...yZ(i)]:[n]}return[]}function sU(t,e){let r=document.createElement("div");e.appendChild(r),r.style.setProperty("margin-top","0px","important"),r.style.setProperty("margin-top",t,"important");let n=parseFloat(window.getComputedStyle(r).marginTop)||0;return e.removeChild(r),n}let s4=$.createContext(null);s4.displayName="OpenClosedContext";var Cs=(t=>(t[t.Open=1]="Open",t[t.Closed=2]="Closed",t[t.Closing=4]="Closing",t[t.Opening=8]="Opening",t))(Cs||{});function Cb(){return $.useContext(s4)}function bZ({value:t,children:e}){return et.createElement(s4.Provider,{value:t},e)}function U8e({children:t}){return et.createElement(s4.Provider,{value:null},t)}function B8e(t){function e(){document.readyState!=="loading"&&(t(),document.removeEventListener("DOMContentLoaded",e))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",e),e())}let Ud=[];B8e(()=>{function t(e){if(!rc(e.target)||e.target===document.body||Ud[0]===e.target)return;let r=e.target;r=r.closest(p5),Ud.unshift(r??e.target),Ud=Ud.filter(n=>n!=null&&n.isConnected),Ud.splice(10)}window.addEventListener("click",t,{capture:!0}),window.addEventListener("mousedown",t,{capture:!0}),window.addEventListener("focus",t,{capture:!0}),document.body.addEventListener("click",t,{capture:!0}),document.body.addEventListener("mousedown",t,{capture:!0}),document.body.addEventListener("focus",t,{capture:!0})});function L8e(t){throw new Error("Unexpected object: "+t)}var ii=(t=>(t[t.First=0]="First",t[t.Previous=1]="Previous",t[t.Next=2]="Next",t[t.Last=3]="Last",t[t.Specific=4]="Specific",t[t.Nothing=5]="Nothing",t))(ii||{});function _v(t,e){let r=e.resolveItems();if(r.length<=0)return null;let n=e.resolveActiveIndex(),i=n??-1;switch(t.focus){case 0:{for(let s=0;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 1:{i===-1&&(i=r.length);for(let s=i-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 2:{for(let s=i+1;s<r.length;++s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 3:{for(let s=r.length-1;s>=0;--s)if(!e.resolveDisabled(r[s],s,r))return s;return n}case 4:{for(let s=0;s<r.length;++s)if(e.resolveId(r[s],s,r)===t.id)return s;return n}case 5:return null;default:L8e(t)}}function H$(t){let e=Ft(t),r=$.useRef(!1);$.useEffect(()=>(r.current=!1,()=>{r.current=!0,Q6(()=>{r.current&&e()})}),[e])}let wZ=$.createContext(!1);function F8e(){return $.useContext(wZ)}function aU(t){return et.createElement(wZ.Provider,{value:t.force},t.children)}function z8e(t){let e=F8e(),r=$.useContext(xZ),[n,i]=$.useState(()=>{var s;if(!e&&r!==null)return(s=r.current)!=null?s:null;if(ac.isServer)return null;let a=t==null?void 0:t.getElementById("headlessui-portal-root");if(a)return a;if(t===null)return null;let o=t.createElement("div");return o.setAttribute("id","headlessui-portal-root"),t.body.appendChild(o)});return $.useEffect(()=>{n!==null&&(t!=null&&t.body.contains(n)||t==null||t.body.appendChild(n))},[n,t]),$.useEffect(()=>{e||r!==null&&i(r.current)},[r,i,e]),n}let vZ=$.Fragment,W8e=jn(function(t,e){let{ownerDocument:r=null,...n}=t,i=$.useRef(null),s=Is(r4e(g=>{i.current=g}),e),a=R2(i.current),o=r??a,l=z8e(o),u=$.useContext(vA),h=Qf(),f=oi();return H$(()=>{var g;l&&l.childNodes.length<=0&&((g=l.parentElement)==null||g.removeChild(l))}),l?Su.createPortal(et.createElement("div",{"data-headlessui-portal":"",ref:g=>{h.dispose(),u&&g&&h.add(u.register(g))}},f({ourProps:{ref:s},theirProps:n,slot:{},defaultTag:vZ,name:"Portal"})),l):null});function q8e(t,e){let r=Is(e),{enabled:n=!0,ownerDocument:i,...s}=t,a=oi();return n?et.createElement(W8e,{...s,ownerDocument:i,ref:r}):a({ourProps:{ref:r},theirProps:s,slot:{},defaultTag:vZ,name:"Portal"})}let H8e=$.Fragment,xZ=$.createContext(null);function V8e(t,e){let{target:r,...n}=t,i={ref:Is(e)},s=oi();return et.createElement(xZ.Provider,{value:r},s({ourProps:i,theirProps:n,defaultTag:H8e,name:"Popover.Group"}))}let vA=$.createContext(null);function G8e(){let t=$.useContext(vA),e=$.useRef([]),r=Ft(s=>(e.current.push(s),t&&t.register(s),()=>n(s))),n=Ft(s=>{let a=e.current.indexOf(s);a!==-1&&e.current.splice(a,1),t&&t.unregister(s)}),i=$.useMemo(()=>({register:r,unregister:n,portals:e}),[r,n,e]);return[e,$.useMemo(()=>function({children:s}){return et.createElement(vA.Provider,{value:i},s)},[i])]}let K8e=jn(q8e),EZ=jn(V8e),_Z=Object.assign(K8e,{Group:EZ});const v3={Idle:{kind:"Idle"},Tracked:t=>({kind:"Tracked",position:t}),Moved:{kind:"Moved"}};function CZ(t){let e=t.getBoundingClientRect();return`${e.x},${e.y}`}function Y8e(t,e,r){let n=oa();if(e.kind==="Tracked"){let i=function(){s!==CZ(t)&&(n.dispose(),r())},{position:s}=e,a=new ResizeObserver(i);a.observe(t),n.add(()=>a.disconnect()),n.addEventListener(window,"scroll",i,{passive:!0}),n.addEventListener(window,"resize",i)}return()=>n.dispose()}function Z8e(t,e=typeof document<"u"?document.defaultView:null,r){let n=xb(t,"escape");XY(e,"keydown",i=>{n&&(i.defaultPrevented||i.key===ki.Escape&&r(i))})}function Q8e(){var t;let[e]=$.useState(()=>typeof window<"u"&&typeof window.matchMedia=="function"?window.matchMedia("(pointer: coarse)"):null),[r,n]=$.useState((t=e==null?void 0:e.matches)!=null?t:!1);return mn(()=>{if(!e)return;function i(s){n(s.matches)}return e.addEventListener("change",i),()=>e.removeEventListener("change",i)},[e]),r}function X8e({defaultContainers:t=[],portals:e,mainTreeNode:r}={}){let n=Ft(()=>{var i,s;let a=Zf(r),o=[];for(let l of t)l!==null&&(mu(l)?o.push(l):"current"in l&&mu(l.current)&&o.push(l.current));if(e!=null&&e.current)for(let l of e.current)o.push(l);for(let l of(i=a==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?i:[])l!==document.body&&l!==document.head&&mu(l)&&l.id!=="headlessui-portal-root"&&(r&&(l.contains(r)||l.contains((s=r==null?void 0:r.getRootNode())==null?void 0:s.host))||o.some(u=>l.contains(u))||o.push(l));return o});return{resolveContainers:n,contains:Ft(i=>n().some(s=>s.contains(i)))}}let AZ=$.createContext(null);function oU({children:t,node:e}){let[r,n]=$.useState(null),i=SZ(e??r);return et.createElement(AZ.Provider,{value:i},t,i===null&&et.createElement(pA,{features:f5.Hidden,ref:s=>{var a,o;if(s){for(let l of(o=(a=Zf(s))==null?void 0:a.querySelectorAll("html > *, body > *"))!=null?o:[])if(l!==document.body&&l!==document.head&&mu(l)&&l!=null&&l.contains(s)){n(l);break}}}}))}function SZ(t=null){var e;return(e=$.useContext(AZ))!=null?e:t}function J8e(){let t=typeof document>"u";return"useSyncExternalStore"in K_?(e=>e.useSyncExternalStore)(K_)(()=>()=>{},()=>!1,()=>!t):!1}function a4(){let t=J8e(),[e,r]=$.useState(ac.isHandoffComplete);return e&&ac.isHandoffComplete===!1&&r(!1),$.useEffect(()=>{e!==!0&&r(!0)},[e]),$.useEffect(()=>ac.handoff(),[]),t?!1:e}function V$(){let t=$.useRef(!1);return mn(()=>(t.current=!0,()=>{t.current=!1}),[]),t}var uy=(t=>(t[t.Forwards=0]="Forwards",t[t.Backwards=1]="Backwards",t))(uy||{});function e9e(){let t=$.useRef(0);return ZY(!0,"keydown",e=>{e.key==="Tab"&&(t.current=e.shiftKey?1:0)},!0),t}function kZ(t){if(!t)return new Set;if(typeof t=="function")return new Set(t());let e=new Set;for(let r of t.current)mu(r.current)&&e.add(r.current);return e}let t9e="div";var Yh=(t=>(t[t.None=0]="None",t[t.InitialFocus=1]="InitialFocus",t[t.TabLock=2]="TabLock",t[t.FocusLock=4]="FocusLock",t[t.RestoreFocus=8]="RestoreFocus",t[t.AutoFocus=16]="AutoFocus",t))(Yh||{});function r9e(t,e){let r=$.useRef(null),n=Is(r,e),{initialFocus:i,initialFocusFallback:s,containers:a,features:o=15,...l}=t;a4()||(o=0);let u=R2(r.current);a9e(o,{ownerDocument:u});let h=o9e(o,{ownerDocument:u,container:r,initialFocus:i,initialFocusFallback:s});l9e(o,{ownerDocument:u,container:r,containers:a,previousActiveElement:h});let f=e9e(),g=Ft(S=>{if(!Ra(r.current))return;let _=r.current;(I=>I())(()=>{gl(f.current,{[uy.Forwards]:()=>{Q0(_,Jo.First,{skipElements:[S.relatedTarget,s]})},[uy.Backwards]:()=>{Q0(_,Jo.Last,{skipElements:[S.relatedTarget,s]})}})})}),y=xb(!!(o&2),"focus-trap#tab-lock"),b=Qf(),w=$.useRef(!1),x={ref:n,onKeyDown(S){S.key=="Tab"&&(w.current=!0,b.requestAnimationFrame(()=>{w.current=!1}))},onBlur(S){if(!(o&4))return;let _=kZ(a);Ra(r.current)&&_.add(r.current);let I=S.relatedTarget;rc(I)&&I.dataset.headlessuiFocusGuard!=="true"&&($Z(_,I)||(w.current?Q0(r.current,gl(f.current,{[uy.Forwards]:()=>Jo.Next,[uy.Backwards]:()=>Jo.Previous})|Jo.WrapAround,{relativeTo:S.target}):rc(S.target)&&oc(S.target)))}},E=oi();return et.createElement(et.Fragment,null,y&&et.createElement(pA,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:g,features:f5.Focusable}),E({ourProps:x,theirProps:l,defaultTag:t9e,name:"FocusTrap"}),y&&et.createElement(pA,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:g,features:f5.Focusable}))}let n9e=jn(r9e),i9e=Object.assign(n9e,{features:Yh});function s9e(t=!0){let e=$.useRef(Ud.slice());return L$(([r],[n])=>{n===!0&&r===!1&&Q6(()=>{e.current.splice(0)}),n===!1&&r===!0&&(e.current=Ud.slice())},[t,Ud,e]),Ft(()=>{var r;return(r=e.current.find(n=>n!=null&&n.isConnected))!=null?r:null})}function a9e(t,{ownerDocument:e}){let r=!!(t&8),n=s9e(r);L$(()=>{r||AY(e==null?void 0:e.body)&&oc(n())},[r]),H$(()=>{r&&oc(n())})}function o9e(t,{ownerDocument:e,container:r,initialFocus:n,initialFocusFallback:i}){let s=$.useRef(null),a=xb(!!(t&1),"focus-trap#initial-focus"),o=V$();return L$(()=>{if(t===0)return;if(!a){i!=null&&i.current&&oc(i.current);return}let l=r.current;l&&Q6(()=>{if(!o.current)return;let u=e==null?void 0:e.activeElement;if(n!=null&&n.current){if((n==null?void 0:n.current)===u){s.current=u;return}}else if(l.contains(u)){s.current=u;return}if(n!=null&&n.current)oc(n.current);else{if(t&16){if(Q0(l,Jo.First|Jo.AutoFocus)!==mA.Error)return}else if(Q0(l,Jo.First)!==mA.Error)return;if(i!=null&&i.current&&(oc(i.current),(e==null?void 0:e.activeElement)===i.current))return;console.warn("There are no focusable elements inside the <FocusTrap />")}s.current=e==null?void 0:e.activeElement})},[i,a,t]),s}function l9e(t,{ownerDocument:e,container:r,containers:n,previousActiveElement:i}){let s=V$(),a=!!(t&4);XY(e==null?void 0:e.defaultView,"focus",o=>{if(!a||!s.current)return;let l=kZ(n);Ra(r.current)&&l.add(r.current);let u=i.current;if(!u)return;let h=o.target;Ra(h)?$Z(l,h)?(i.current=h,oc(h)):(o.preventDefault(),o.stopPropagation(),oc(u)):oc(i.current)},!0)}function $Z(t,e){for(let r of t)if(r.contains(e))return!0;return!1}function TZ(t){var e;return!!(t.enter||t.enterFrom||t.enterTo||t.leave||t.leaveFrom||t.leaveTo)||!Sy((e=t.as)!=null?e:NZ)||et.Children.count(t.children)===1}let o4=$.createContext(null);o4.displayName="TransitionContext";var c9e=(t=>(t.Visible="visible",t.Hidden="hidden",t))(c9e||{});function u9e(){let t=$.useContext(o4);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}function d9e(){let t=$.useContext(l4);if(t===null)throw new Error("A <Transition.Child /> is used but it is missing a parent <Transition /> or <Transition.Root />.");return t}let l4=$.createContext(null);l4.displayName="NestingContext";function c4(t){return"children"in t?c4(t.children):t.current.filter(({el:e})=>e.current!==null).filter(({state:e})=>e==="visible").length>0}function IZ(t,e){let r=Xf(t),n=$.useRef([]),i=V$(),s=Qf(),a=Ft((y,b=Fd.Hidden)=>{let w=n.current.findIndex(({el:x})=>x===y);w!==-1&&(gl(b,{[Fd.Unmount](){n.current.splice(w,1)},[Fd.Hidden](){n.current[w].state="hidden"}}),s.microTask(()=>{var x;!c4(n)&&i.current&&((x=r.current)==null||x.call(r))}))}),o=Ft(y=>{let b=n.current.find(({el:w})=>w===y);return b?b.state!=="visible"&&(b.state="visible"):n.current.push({el:y,state:"visible"}),()=>a(y,Fd.Unmount)}),l=$.useRef([]),u=$.useRef(Promise.resolve()),h=$.useRef({enter:[],leave:[]}),f=Ft((y,b,w)=>{l.current.splice(0),e&&(e.chains.current[b]=e.chains.current[b].filter(([x])=>x!==y)),e==null||e.chains.current[b].push([y,new Promise(x=>{l.current.push(x)})]),e==null||e.chains.current[b].push([y,new Promise(x=>{Promise.all(h.current[b].map(([E,S])=>S)).then(()=>x())})]),b==="enter"?u.current=u.current.then(()=>e==null?void 0:e.wait.current).then(()=>w(b)):w(b)}),g=Ft((y,b,w)=>{Promise.all(h.current[b].splice(0).map(([x,E])=>E)).then(()=>{var x;(x=l.current.shift())==null||x()}).then(()=>w(b))});return $.useMemo(()=>({children:n,register:o,unregister:a,onStart:f,onStop:g,wait:u,chains:h}),[o,a,n,f,g,h,u])}let NZ=$.Fragment,PZ=Eg.RenderStrategy;function h9e(t,e){var r,n;let{transition:i=!0,beforeEnter:s,afterEnter:a,beforeLeave:o,afterLeave:l,enter:u,enterFrom:h,enterTo:f,entered:g,leave:y,leaveFrom:b,leaveTo:w,...x}=t,[E,S]=$.useState(null),_=$.useRef(null),I=TZ(t),A=Is(...I?[_,e,S]:e===null?[]:[e]),O=(r=x.unmount)==null||r?Fd.Unmount:Fd.Hidden,{show:F,appear:H,initial:L}=u9e(),[z,V]=$.useState(F?"visible":"hidden"),K=d9e(),{register:B,unregister:C}=K;mn(()=>B(_),[B,_]),mn(()=>{if(O===Fd.Hidden&&_.current){if(F&&z!=="visible"){V("visible");return}return gl(z,{hidden:()=>C(_),visible:()=>B(_)})}},[z,_,B,C,F,O]);let k=a4();mn(()=>{if(I&&k&&z==="visible"&&_.current===null)throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")},[_,z,k,I]);let N=L&&!H,D=H&&F&&L,P=$.useRef(!1),R=IZ(()=>{P.current||(V("hidden"),C(_))},K),j=Ft(ne=>{P.current=!0;let ee=ne?"enter":"leave";R.onStart(_,ee,ce=>{ce==="enter"?s==null||s():ce==="leave"&&(o==null||o())})}),W=Ft(ne=>{let ee=ne?"enter":"leave";P.current=!1,R.onStop(_,ee,ce=>{ce==="enter"?a==null||a():ce==="leave"&&(l==null||l())}),ee==="leave"&&!c4(R)&&(V("hidden"),C(_))});$.useEffect(()=>{I&&i||(j(F),W(F))},[F,I,i]);let M=!(!i||!I||!k||N),[,G]=tZ(M,E,F,{start:j,end:W}),re=Hh({ref:A,className:((n=fA(x.className,D&&u,D&&h,G.enter&&u,G.enter&&G.closed&&h,G.enter&&!G.closed&&f,G.leave&&y,G.leave&&!G.closed&&b,G.leave&&G.closed&&w,!G.transition&&F&&g))==null?void 0:n.trim())||void 0,...eZ(G)}),q=0;z==="visible"&&(q|=Cs.Open),z==="hidden"&&(q|=Cs.Closed),F&&z==="hidden"&&(q|=Cs.Opening),!F&&z==="visible"&&(q|=Cs.Closing);let X=oi();return et.createElement(l4.Provider,{value:R},et.createElement(bZ,{value:q},X({ourProps:re,theirProps:x,defaultTag:NZ,features:PZ,visible:z==="visible",name:"Transition.Child"})))}function f9e(t,e){let{show:r,appear:n=!1,unmount:i=!0,...s}=t,a=$.useRef(null),o=TZ(t),l=Is(...o?[a,e]:e===null?[]:[e]);a4();let u=Cb();if(r===void 0&&u!==null&&(r=(u&Cs.Open)===Cs.Open),r===void 0)throw new Error("A <Transition /> is used but it is missing a `show={true | false}` prop.");let[h,f]=$.useState(r?"visible":"hidden"),g=IZ(()=>{r||f("hidden")}),[y,b]=$.useState(!0),w=$.useRef([r]);mn(()=>{y!==!1&&w.current[w.current.length-1]!==r&&(w.current.push(r),b(!1))},[w,r]);let x=$.useMemo(()=>({show:r,appear:n,initial:y}),[r,n,y]);mn(()=>{r?f("visible"):!c4(g)&&a.current!==null&&f("hidden")},[r,g]);let E={unmount:i},S=Ft(()=>{var A;y&&b(!1),(A=t.beforeEnter)==null||A.call(t)}),_=Ft(()=>{var A;y&&b(!1),(A=t.beforeLeave)==null||A.call(t)}),I=oi();return et.createElement(l4.Provider,{value:g},et.createElement(o4.Provider,{value:x},I({ourProps:{...E,as:$.Fragment,children:et.createElement(OZ,{ref:l,...E,...s,beforeEnter:S,beforeLeave:_})},theirProps:{},defaultTag:$.Fragment,features:PZ,visible:h==="visible",name:"Transition"})))}function p9e(t,e){let r=$.useContext(o4)!==null,n=Cb()!==null;return et.createElement(et.Fragment,null,!r&&n?et.createElement(xA,{ref:e,...t}):et.createElement(OZ,{ref:e,...t}))}let xA=jn(f9e),OZ=jn(h9e),U2=jn(p9e),MZ=Object.assign(xA,{Child:U2,Root:xA});var g9e=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(g9e||{}),m9e=(t=>(t[t.SetTitleId=0]="SetTitleId",t))(m9e||{});let y9e={0(t,e){return t.titleId===e.id?t:{...t,titleId:e.id}}},G$=$.createContext(null);G$.displayName="DialogContext";function u4(t){let e=$.useContext(G$);if(e===null){let r=new Error(`<${t} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,u4),r}return e}function b9e(t,e){return gl(e.type,y9e,t,e)}let lU=jn(function(t,e){let r=$.useId(),{id:n=`headlessui-dialog-${r}`,open:i,onClose:s,initialFocus:a,role:o="dialog",autoFocus:l=!0,__demoMode:u=!1,unmount:h=!1,...f}=t,g=$.useRef(!1);o=function(){return o==="dialog"||o==="alertdialog"?o:(g.current||(g.current=!0,console.warn(`Invalid role [${o}] passed to <Dialog />. Only \`dialog\` and and \`alertdialog\` are supported. Using \`dialog\` instead.`)),"dialog")}();let y=Cb();i===void 0&&y!==null&&(i=(y&Cs.Open)===Cs.Open);let b=$.useRef(null),w=Is(b,e),x=R2(b.current),E=i?0:1,[S,_]=$.useReducer(b9e,{titleId:null,descriptionId:null,panelRef:$.createRef()}),I=Ft(()=>s(!1)),A=Ft(G=>_({type:0,id:G})),O=a4()?E===0:!1,[F,H]=G8e(),L={get current(){var G;return(G=S.panelRef.current)!=null?G:b.current}},z=SZ(),{resolveContainers:V}=X8e({mainTreeNode:z,portals:F,defaultContainers:[L]}),K=y!==null?(y&Cs.Closing)===Cs.Closing:!1;qY(u||K?!1:O,{allowed:Ft(()=>{var G,re;return[(re=(G=b.current)==null?void 0:G.closest("[data-headlessui-portal]"))!=null?re:null]}),disallowed:Ft(()=>{var G;return[(G=z==null?void 0:z.closest("body > *:not(#headlessui-portal-root)"))!=null?G:null]})});let B=J6.get(null);mn(()=>{if(O)return B.actions.push(n),()=>B.actions.pop(n)},[B,n,O]);let C=fo(B,$.useCallback(G=>B.selectors.isTop(G,n),[B,n]));QY(C,V,G=>{G.preventDefault(),I()}),Z8e(C,x==null?void 0:x.defaultView,G=>{G.preventDefault(),G.stopPropagation(),document.activeElement&&"blur"in document.activeElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur(),I()}),JY(u||K?!1:O,x,V),HY(O,b,I);let[k,N]=MY(),D=$.useMemo(()=>[{dialogState:E,close:I,setTitleId:A,unmount:h},S],[E,I,A,h,S]),P=wc({open:E===0}),R={ref:w,id:n,role:o,tabIndex:-1,"aria-modal":u?void 0:E===0?!0:void 0,"aria-labelledby":S.titleId,"aria-describedby":k,unmount:h},j=!Q8e(),W=Yh.None;O&&!u&&(W|=Yh.RestoreFocus,W|=Yh.TabLock,l&&(W|=Yh.AutoFocus),j&&(W|=Yh.InitialFocus));let M=oi();return et.createElement(U8e,null,et.createElement(aU,{force:!0},et.createElement(_Z,null,et.createElement(G$.Provider,{value:D},et.createElement(EZ,{target:b},et.createElement(aU,{force:!1},et.createElement(N,{slot:P},et.createElement(H,null,et.createElement(i9e,{initialFocus:a,initialFocusFallback:b,containers:V,features:W},et.createElement(h4e,{value:I},M({ourProps:R,theirProps:f,slot:P,defaultTag:w9e,features:v9e,visible:E===0,name:"Dialog"})))))))))))}),w9e="div",v9e=Eg.RenderStrategy|Eg.Static;function x9e(t,e){let{transition:r=!1,open:n,...i}=t,s=Cb(),a=t.hasOwnProperty("open")||s!==null,o=t.hasOwnProperty("onClose");if(!a&&!o)throw new Error("You have to provide an `open` and an `onClose` prop to the `Dialog` component.");if(!a)throw new Error("You provided an `onClose` prop to the `Dialog`, but forgot an `open` prop.");if(!o)throw new Error("You provided an `open` prop to the `Dialog`, but forgot an `onClose` prop.");if(!s&&typeof t.open!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${t.open}`);if(typeof t.onClose!="function")throw new Error(`You provided an \`onClose\` prop to the \`Dialog\`, but the value is not a function. Received: ${t.onClose}`);return(n!==void 0||r)&&!i.static?et.createElement(oU,null,et.createElement(MZ,{show:n,transition:r,unmount:i.unmount},et.createElement(lU,{ref:e,...i}))):et.createElement(oU,null,et.createElement(lU,{ref:e,open:n,...i}))}let E9e="div";function _9e(t,e){let r=$.useId(),{id:n=`headlessui-dialog-panel-${r}`,transition:i=!1,...s}=t,[{dialogState:a,unmount:o},l]=u4("Dialog.Panel"),u=Is(e,l.panelRef),h=wc({open:a===0}),f=Ft(x=>{x.stopPropagation()}),g={ref:u,id:n,onClick:f},y=i?U2:$.Fragment,b=i?{unmount:o}:{},w=oi();return et.createElement(y,{...b},w({ourProps:g,theirProps:s,slot:h,defaultTag:E9e,name:"Dialog.Panel"}))}let C9e="div";function A9e(t,e){let{transition:r=!1,...n}=t,[{dialogState:i,unmount:s}]=u4("Dialog.Backdrop"),a=wc({open:i===0}),o={ref:e,"aria-hidden":!0},l=r?U2:$.Fragment,u=r?{unmount:s}:{},h=oi();return et.createElement(l,{...u},h({ourProps:o,theirProps:n,slot:a,defaultTag:C9e,name:"Dialog.Backdrop"}))}let S9e="h2";function k9e(t,e){let r=$.useId(),{id:n=`headlessui-dialog-title-${r}`,...i}=t,[{dialogState:s,setTitleId:a}]=u4("Dialog.Title"),o=Is(e);$.useEffect(()=>(a(n),()=>a(null)),[n,a]);let l=wc({open:s===0}),u={ref:o,id:n};return oi()({ourProps:u,theirProps:i,slot:l,defaultTag:S9e,name:"Dialog.Title"})}let $9e=jn(x9e),RZ=jn(_9e);jn(A9e);let T9e=jn(k9e),I9e=Object.assign($9e,{Panel:RZ,Title:T9e,Description:a4e}),cU=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function uU(t){var e,r;let n=(e=t.innerText)!=null?e:"",i=t.cloneNode(!0);if(!Ra(i))return n;let s=!1;for(let o of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))o.remove(),s=!0;let a=s?(r=i.innerText)!=null?r:"":n;return cU.test(a)&&(a=a.replace(cU,"")),a}function N9e(t){let e=t.getAttribute("aria-label");if(typeof e=="string")return e.trim();let r=t.getAttribute("aria-labelledby");if(r){let n=r.split(" ").map(i=>{let s=document.getElementById(i);if(s){let a=s.getAttribute("aria-label");return typeof a=="string"?a.trim():uU(s).trim()}return null}).filter(Boolean);if(n.length>0)return n.join(", ")}return uU(t).trim()}function P9e(t){let e=$.useRef(""),r=$.useRef("");return Ft(()=>{let n=t.current;if(!n)return"";let i=n.innerText;if(e.current===i)return r.current;let s=N9e(n).trim().toLowerCase();return e.current=i,r.current=s,s})}var O9e=Object.defineProperty,M9e=(t,e,r)=>e in t?O9e(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dU=(t,e,r)=>(M9e(t,typeof e!="symbol"?e+"":e,r),r),os=(t=>(t[t.Open=0]="Open",t[t.Closed=1]="Closed",t))(os||{}),b5=(t=>(t[t.Pointer=0]="Pointer",t[t.Other=1]="Other",t))(b5||{}),Jr=(t=>(t[t.OpenMenu=0]="OpenMenu",t[t.CloseMenu=1]="CloseMenu",t[t.GoToItem=2]="GoToItem",t[t.Search=3]="Search",t[t.ClearSearch=4]="ClearSearch",t[t.RegisterItems=5]="RegisterItems",t[t.UnregisterItems=6]="UnregisterItems",t[t.SetButtonElement=7]="SetButtonElement",t[t.SetItemsElement=8]="SetItemsElement",t[t.SortItems=9]="SortItems",t[t.MarkButtonAsMoved=10]="MarkButtonAsMoved",t))(Jr||{});function hU(t,e=r=>r){let r=t.activeItemIndex!==null?t.items[t.activeItemIndex]:null,n=KY(e(t.items.slice()),s=>s.dataRef.current.domRef.current),i=r?n.indexOf(r):null;return i===-1&&(i=null),{items:n,activeItemIndex:i}}let R9e={1(t){if(t.menuState===1)return t;let e=t.buttonElement?v3.Tracked(CZ(t.buttonElement)):t.buttonPositionState;return{...t,activeItemIndex:null,pendingFocus:{focus:ii.Nothing},menuState:1,buttonPositionState:e}},0(t,e){return t.menuState===0?t:{...t,__demoMode:!1,pendingFocus:e.focus,menuState:0,buttonPositionState:v3.Idle}},2:(t,e)=>{var r,n,i,s,a;if(t.menuState===1)return t;let o={...t,searchQuery:"",activationTrigger:(r=e.trigger)!=null?r:1,__demoMode:!1};if(e.focus===ii.Nothing)return{...o,activeItemIndex:null};if(e.focus===ii.Specific)return{...o,activeItemIndex:t.items.findIndex(h=>h.id===e.id)};if(e.focus===ii.Previous){let h=t.activeItemIndex;if(h!==null){let f=t.items[h].dataRef.current.domRef,g=_v(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:y=>y.id,resolveDisabled:y=>y.dataRef.current.disabled});if(g!==null){let y=t.items[g].dataRef.current.domRef;if(((n=f.current)==null?void 0:n.previousElementSibling)===y.current||((i=y.current)==null?void 0:i.previousElementSibling)===null)return{...o,activeItemIndex:g}}}}else if(e.focus===ii.Next){let h=t.activeItemIndex;if(h!==null){let f=t.items[h].dataRef.current.domRef,g=_v(e,{resolveItems:()=>t.items,resolveActiveIndex:()=>t.activeItemIndex,resolveId:y=>y.id,resolveDisabled:y=>y.dataRef.current.disabled});if(g!==null){let y=t.items[g].dataRef.current.domRef;if(((s=f.current)==null?void 0:s.nextElementSibling)===y.current||((a=y.current)==null?void 0:a.nextElementSibling)===null)return{...o,activeItemIndex:g}}}}let l=hU(t),u=_v(e,{resolveItems:()=>l.items,resolveActiveIndex:()=>l.activeItemIndex,resolveId:h=>h.id,resolveDisabled:h=>h.dataRef.current.disabled});return{...o,...l,activeItemIndex:u}},3:(t,e)=>{let r=t.searchQuery!==""?0:1,n=t.searchQuery+e.value.toLowerCase(),i=(t.activeItemIndex!==null?t.items.slice(t.activeItemIndex+r).concat(t.items.slice(0,t.activeItemIndex+r)):t.items).find(a=>{var o;return((o=a.dataRef.current.textValue)==null?void 0:o.startsWith(n))&&!a.dataRef.current.disabled}),s=i?t.items.indexOf(i):-1;return s===-1||s===t.activeItemIndex?{...t,searchQuery:n}:{...t,searchQuery:n,activeItemIndex:s,activationTrigger:1}},4(t){return t.searchQuery===""?t:{...t,searchQuery:"",searchActiveItemIndex:null}},5:(t,e)=>{let r=t.items.concat(e.items.map(i=>i)),n=t.activeItemIndex;return t.pendingFocus.focus!==ii.Nothing&&(n=_v(t.pendingFocus,{resolveItems:()=>r,resolveActiveIndex:()=>t.activeItemIndex,resolveId:i=>i.id,resolveDisabled:i=>i.dataRef.current.disabled})),{...t,items:r,activeItemIndex:n,pendingFocus:{focus:ii.Nothing},pendingShouldSort:!0}},6:(t,e)=>{let r=t.items,n=[],i=new Set(e.items);for(let[s,a]of r.entries())if(i.has(a.id)&&(n.push(s),i.delete(a.id),i.size===0))break;if(n.length>0){r=r.slice();for(let s of n.reverse())r.splice(s,1)}return{...t,items:r,activationTrigger:1}},7:(t,e)=>t.buttonElement===e.element?t:{...t,buttonElement:e.element},8:(t,e)=>t.itemsElement===e.element?t:{...t,itemsElement:e.element},9:t=>t.pendingShouldSort?{...t,...hU(t),pendingShouldSort:!1}:t,10(t){return t.buttonPositionState.kind!=="Tracked"?t:{...t,buttonPositionState:v3.Moved}}},j9e=class jZ extends LY{constructor(e){super(e),dU(this,"actions",{registerItem:ND(()=>{let r=[],n=new Set;return[(i,s)=>{n.has(s)||(n.add(s),r.push({id:i,dataRef:s}))},()=>(n.clear(),this.send({type:5,items:r.splice(0)}))]}),unregisterItem:ND(()=>{let r=[];return[n=>r.push(n),()=>this.send({type:6,items:r.splice(0)})]})}),dU(this,"selectors",{activeDescendantId(r){var n;let i=r.activeItemIndex,s=r.items;return i===null||(n=s[i])==null?void 0:n.id},isActive(r,n){var i;let s=r.activeItemIndex,a=r.items;return s!==null?((i=a[s])==null?void 0:i.id)===n:!1},shouldScrollIntoView(r,n){return r.__demoMode||r.menuState!==0||r.activationTrigger===0?!1:this.isActive(r,n)},didButtonMove(r){return r.buttonPositionState.kind==="Moved"}}),this.on(5,()=>{this.disposables.requestAnimationFrame(()=>{this.send({type:9})})});{let r=this.state.id,n=J6.get(null);this.disposables.add(n.on(zY.Push,i=>{!n.selectors.isTop(i,r)&&this.state.menuState===0&&this.send({type:1})})),this.on(0,()=>n.actions.push(r)),this.on(1,()=>n.actions.pop(r))}this.disposables.group(r=>{this.on(1,n=>{n.buttonElement&&(r.dispose(),r.add(Y8e(n.buttonElement,n.buttonPositionState,()=>{this.send({type:10})})))})})}static new({id:e,__demoMode:r=!1}){return new jZ({id:e,__demoMode:r,menuState:r?0:1,buttonElement:null,itemsElement:null,items:[],searchQuery:"",activeItemIndex:null,activationTrigger:1,pendingShouldSort:!1,pendingFocus:{focus:ii.Nothing},buttonPositionState:v3.Idle})}reduce(e,r){return gl(r.type,R9e,e,r)}};const DZ=$.createContext(null);function K$(t){let e=$.useContext(DZ);if(e===null){let r=new Error(`<${t} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,UZ),r}return e}function UZ({id:t,__demoMode:e=!1}){let r=$.useMemo(()=>j9e.new({id:t,__demoMode:e}),[]);return H$(()=>r.dispose()),r}let D9e=$.Fragment;function U9e(t,e){let r=$.useId(),{__demoMode:n=!1,...i}=t,s=UZ({id:r,__demoMode:n}),[a,o,l]=fo(s,x=>[x.menuState,x.itemsElement,x.buttonElement]),u=Is(e),h=J6.get(null),f=fo(h,$.useCallback(x=>h.selectors.isTop(x,r),[h,r]));QY(f,[l,o],(x,E)=>{var S;s.send({type:Jr.CloseMenu}),B$(E,U$.Loose)||(x.preventDefault(),(S=s.state.buttonElement)==null||S.focus())});let g=Ft(()=>{s.send({type:Jr.CloseMenu})}),y=wc({open:a===os.Open,close:g}),b={ref:u},w=oi();return et.createElement(R8e,null,et.createElement(DZ.Provider,{value:s},et.createElement(bZ,{value:gl(a,{[os.Open]:Cs.Open,[os.Closed]:Cs.Closed})},w({ourProps:b,theirProps:i,slot:y,defaultTag:D9e,name:"Menu"}))))}let B9e="button";function L9e(t,e){let r=K$("Menu.Button"),n=$.useId(),{id:i=`headlessui-menu-button-${n}`,disabled:s=!1,autoFocus:a=!1,...o}=t,l=$.useRef(null),u=P8e(),h=Is(e,l,N8e(),Ft(z=>r.send({type:Jr.SetButtonElement,element:z}))),f=Ft(z=>{switch(z.key){case ki.Space:case ki.Enter:case ki.ArrowDown:z.preventDefault(),z.stopPropagation(),r.send({type:Jr.OpenMenu,focus:{focus:ii.First}});break;case ki.ArrowUp:z.preventDefault(),z.stopPropagation(),r.send({type:Jr.OpenMenu,focus:{focus:ii.Last}});break}}),g=Ft(z=>{switch(z.key){case ki.Space:z.preventDefault();break}}),[y,b,w]=fo(r,z=>[z.menuState,z.buttonElement,z.itemsElement]),x=y===os.Open;K4e(x,{trigger:b,action:$.useCallback(z=>{if(b!=null&&b.contains(z.target))return xv.Ignore;let V=z.target.closest('[role="menuitem"]:not([data-disabled])');return Ra(V)?xv.Select(V):w!=null&&w.contains(z.target)?xv.Ignore:xv.Close},[b,w]),close:$.useCallback(()=>r.send({type:Jr.CloseMenu}),[]),select:$.useCallback(z=>z.click(),[])});let E=S4e(z=>{var V;s||(y===os.Open?(Su.flushSync(()=>r.send({type:Jr.CloseMenu})),(V=l.current)==null||V.focus({preventScroll:!0})):(z.preventDefault(),r.send({type:Jr.OpenMenu,focus:{focus:ii.Nothing},trigger:b5.Pointer})))}),{isFocusVisible:S,focusProps:_}=M6e({autoFocus:a}),{isHovered:I,hoverProps:A}=O6e({isDisabled:s}),{pressed:O,pressProps:F}=L6e({disabled:s}),H=wc({open:y===os.Open,active:O||y===os.Open,disabled:s,hover:I,focus:S,autofocus:a}),L=$Y(u(),{ref:h,id:i,type:Y4e(t,l.current),"aria-haspopup":"menu","aria-controls":w==null?void 0:w.id,"aria-expanded":y===os.Open,disabled:s||void 0,autoFocus:a,onKeyDown:f,onKeyUp:g},E,_,A,F);return oi()({ourProps:L,theirProps:o,slot:H,defaultTag:B9e,name:"Menu.Button"})}let F9e="div",z9e=Eg.RenderStrategy|Eg.Static;function W9e(t,e){let r=$.useId(),{id:n=`headlessui-menu-items-${r}`,anchor:i,portal:s=!1,modal:a=!0,transition:o=!1,...l}=t,u=I8e(i),h=K$("Menu.Items"),[f,g]=M8e(u),y=O8e(),[b,w]=$.useState(null),x=Is(e,u?f:null,Ft(P=>h.send({type:Jr.SetItemsElement,element:P})),w),[E,S]=fo(h,P=>[P.menuState,P.buttonElement]),_=R2(S),I=R2(b);u&&(s=!0);let A=Cb(),[O,F]=tZ(o,b,A!==null?(A&Cs.Open)===Cs.Open:E===os.Open);HY(O,S,()=>{h.send({type:Jr.CloseMenu})});let H=fo(h,P=>P.__demoMode),L=H?!1:a&&E===os.Open;JY(L,I);let z=H?!1:a&&E===os.Open;qY(z,{allowed:$.useCallback(()=>[S,b],[S,b])});let V=fo(h,h.selectors.didButtonMove)?!1:O;$.useEffect(()=>{let P=b;P&&E===os.Open&&(AY(P)||P.focus({preventScroll:!0}))},[E,b]),uxe(E===os.Open,{container:b,accept(P){return P.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:P.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(P){P.setAttribute("role","none")}});let K=Qf(),B=Ft(P=>{var R,j,W;switch(K.dispose(),P.key){case ki.Space:if(h.state.searchQuery!=="")return P.preventDefault(),P.stopPropagation(),h.send({type:Jr.Search,value:P.key});case ki.Enter:if(P.preventDefault(),P.stopPropagation(),h.state.activeItemIndex!==null){let{dataRef:M}=h.state.items[h.state.activeItemIndex];(j=(R=M.current)==null?void 0:R.domRef.current)==null||j.click()}h.send({type:Jr.CloseMenu}),GY(h.state.buttonElement);break;case ki.ArrowDown:return P.preventDefault(),P.stopPropagation(),h.send({type:Jr.GoToItem,focus:ii.Next});case ki.ArrowUp:return P.preventDefault(),P.stopPropagation(),h.send({type:Jr.GoToItem,focus:ii.Previous});case ki.Home:case ki.PageUp:return P.preventDefault(),P.stopPropagation(),h.send({type:Jr.GoToItem,focus:ii.First});case ki.End:case ki.PageDown:return P.preventDefault(),P.stopPropagation(),h.send({type:Jr.GoToItem,focus:ii.Last});case ki.Escape:P.preventDefault(),P.stopPropagation(),Su.flushSync(()=>h.send({type:Jr.CloseMenu})),(W=h.state.buttonElement)==null||W.focus({preventScroll:!0});break;case ki.Tab:P.preventDefault(),P.stopPropagation(),Su.flushSync(()=>h.send({type:Jr.CloseMenu})),q4e(h.state.buttonElement,P.shiftKey?Jo.Previous:Jo.Next);break;default:P.key.length===1&&(h.send({type:Jr.Search,value:P.key}),K.setTimeout(()=>h.send({type:Jr.ClearSearch}),350));break}}),C=Ft(P=>{switch(P.key){case ki.Space:P.preventDefault();break}}),k=wc({open:E===os.Open}),N=$Y(u?y():{},{"aria-activedescendant":fo(h,h.selectors.activeDescendantId),"aria-labelledby":fo(h,P=>{var R;return(R=P.buttonElement)==null?void 0:R.id}),id:n,onKeyDown:B,onKeyUp:C,role:"menu",tabIndex:E===os.Open?0:void 0,ref:x,style:{...l.style,...g,"--button-width":A4e(O,S,!0).width},...eZ(F)}),D=oi();return et.createElement(_Z,{enabled:s?t.static||O:!1,ownerDocument:_},D({ourProps:N,theirProps:l,slot:k,defaultTag:F9e,features:z9e,visible:V,name:"Menu.Items"}))}let q9e=$.Fragment;function H9e(t,e){let r=$.useId(),{id:n=`headlessui-menu-item-${r}`,disabled:i=!1,...s}=t,a=K$("Menu.Item"),o=fo(a,V=>a.selectors.isActive(V,n)),l=$.useRef(null),u=Is(e,l),h=fo(a,V=>a.selectors.shouldScrollIntoView(V,n));mn(()=>{if(h)return oa().requestAnimationFrame(()=>{var V,K;(K=(V=l.current)==null?void 0:V.scrollIntoView)==null||K.call(V,{block:"nearest"})})},[h,l]);let f=P9e(l),g=$.useRef({disabled:i,domRef:l,get textValue(){return f()}});mn(()=>{g.current.disabled=i},[g,i]),mn(()=>(a.actions.registerItem(n,g),()=>a.actions.unregisterItem(n)),[g,n]);let y=Ft(()=>{a.send({type:Jr.CloseMenu})}),b=Ft(V=>{if(i)return V.preventDefault();a.send({type:Jr.CloseMenu}),GY(a.state.buttonElement)}),w=Ft(()=>{if(i)return a.send({type:Jr.GoToItem,focus:ii.Nothing});a.send({type:Jr.GoToItem,focus:ii.Specific,id:n})}),x=rxe(),E=Ft(V=>x.update(V)),S=Ft(V=>{x.wasMoved(V)&&(i||o||a.send({type:Jr.GoToItem,focus:ii.Specific,id:n,trigger:b5.Pointer}))}),_=Ft(V=>{x.wasMoved(V)&&(i||o&&a.state.activationTrigger===b5.Pointer&&a.send({type:Jr.GoToItem,focus:ii.Nothing}))}),[I,A]=RY(),[O,F]=MY(),H=wc({active:o,focus:o,disabled:i,close:y}),L={id:n,ref:u,role:"menuitem",tabIndex:i===!0?void 0:-1,"aria-disabled":i===!0?!0:void 0,"aria-labelledby":I,"aria-describedby":O,disabled:void 0,onClick:b,onFocus:w,onPointerEnter:E,onMouseEnter:E,onPointerMove:S,onMouseMove:S,onPointerLeave:_,onMouseLeave:_},z=oi();return et.createElement(A,null,et.createElement(F,null,z({ourProps:L,theirProps:s,slot:H,defaultTag:q9e,name:"Menu.Item"})))}let V9e="div";function G9e(t,e){let[r,n]=RY(),i=t,s={ref:e,"aria-labelledby":r,role:"group"},a=oi();return et.createElement(n,null,a({ourProps:s,theirProps:i,slot:{},defaultTag:V9e,name:"Menu.Section"}))}let K9e="header";function Y9e(t,e){let r=$.useId(),{id:n=`headlessui-menu-heading-${r}`,...i}=t,s=D$();mn(()=>s.register(n),[n,s.register]);let a={id:n,ref:e,role:"presentation",...s.props};return oi()({ourProps:a,theirProps:i,slot:{},defaultTag:K9e,name:"Menu.Heading"})}let Z9e="div";function Q9e(t,e){let r=t,n={ref:e,role:"separator"};return oi()({ourProps:n,theirProps:r,slot:{},defaultTag:Z9e,name:"Menu.Separator"})}let X9e=jn(U9e),BZ=jn(L9e),LZ=jn(W9e),FZ=jn(H9e),J9e=jn(G9e),e7e=jn(Y9e),t7e=jn(Q9e),r7e=Object.assign(X9e,{Button:BZ,Items:LZ,Item:FZ,Section:J9e,Heading:e7e,Separator:t7e});function n7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m19.5 8.25-7.5 7.5-7.5-7.5"}))}const Y$=$.forwardRef(n7e);function i7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12Zm13.36-1.814a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const B2=$.forwardRef(i7e);function ar(t){return t?new Date(1e3*t):null}function es(t,e){return t.slice().sort((r,n)=>{var i,s;return(((i=r.firstVerifiedAt)==null?void 0:i.getTime())??0)-(((s=n.firstVerifiedAt)==null?void 0:s.getTime())??0)}).find(r=>r.type===e)}const Xl=t=>t?zZ(t).find(e=>e.walletIndex===0)??null:null,zZ=t=>t?WZ(t,"ethereum"):[],WZ=(t,e)=>t.linkedAccounts.filter(r=>r.type==="wallet"&&r.walletClientType==="privy"&&!r.imported&&r.chainType===e),s7e=t=>t?WZ(t,"solana"):[],Ab=t=>t?s7e(t).find(e=>e.walletIndex===0)??null:null,EA=t=>(t==null?void 0:t.linkedAccounts.find(e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.imported&&e.chainType==="ethereum"))||null,qZ=t=>(t==null?void 0:t.linkedAccounts.find(e=>e.type==="wallet"&&e.imported&&e.walletClientType==="privy"&&e.chainType==="solana"))||null;let HZ=(t,e)=>t===e||!(!t.startsWith("0x")||!e.startsWith("0x"))&&ei(t)===ei(e);const Jl=(t,e)=>(t==null?void 0:t.linkedAccounts.find(r=>r.type==="wallet"&&r.walletClientType==="privy"&&HZ(r.address,e)))||null,L7=(t,e)=>t.find(r=>HZ(r.address,e))||null,yl=t=>Xl(t)??Ab(t);function Fi(t){if(!t)return null;let e=function(_){let I=[];for(let A of _){let O=A.type;switch(A.type){case"wallet":let F={id:A.id,address:A.address,type:A.type,imported:A.imported,delegated:A.delegated,firstVerifiedAt:ar(A.first_verified_at),latestVerifiedAt:ar(A.latest_verified_at),chainType:A.chain_type,walletClientType:A.wallet_client_type,connectorType:A.connector_type,recoveryMethod:A.recovery_method,walletIndex:A.wallet_index};I.push(F);break;case"smart_wallet":let H={address:A.address,type:A.type,firstVerifiedAt:ar(A.first_verified_at),latestVerifiedAt:ar(A.latest_verified_at),smartWalletType:A.smart_wallet_type,smartWalletVersion:A.smart_wallet_version};I.push(H);break;case"cross_app":let L={type:A.type,subject:A.subject,embeddedWallets:A.embedded_wallets,smartWallets:A.smart_wallets,providerApp:{id:A.provider_app_id},firstVerifiedAt:ar(A.first_verified_at),latestVerifiedAt:ar(A.latest_verified_at)};I.push(L);break;case"email":let z={address:A.address,type:A.type,firstVerifiedAt:ar(A.first_verified_at),latestVerifiedAt:ar(A.latest_verified_at)};I.push(z);break;case"phone":let V={number:A.phoneNumber,type:A.type,firstVerifiedAt:ar(A.first_verified_at),latestVerifiedAt:ar(A.latest_verified_at)};I.push(V);break;case"google_oauth":let K={subject:A.subject,email:A.email,name:A.name,type:A.type,firstVerifiedAt:ar(A.first_verified_at),latestVerifiedAt:ar(A.latest_verified_at)};I.push(K);break;case"spotify_oauth":let B={subject:A.subject,email:A.email,name:A.name,type:A.type,firstVerifiedAt:ar(A.first_verified_at),latestVerifiedAt:ar(A.latest_verified_at)};I.push(B);break;case"instagram_oauth":let C={subject:A.subject,username:A.username,type:A.type,firstVerifiedAt:ar(A.first_verified_at),latestVerifiedAt:ar(A.latest_verified_at)};I.push(C);break;case"twitter_oauth":let k={subject:A.subject,username:A.username,name:A.name,type:A.type,profilePictureUrl:A.profile_picture_url,firstVerifiedAt:ar(A.first_verified_at),latestVerifiedAt:ar(A.latest_verified_at)};I.push(k);break;case"discord_oauth":let N={subject:A.subject,username:A.username,email:A.email,type:A.type,firstVerifiedAt:ar(A.first_verified_at),latestVerifiedAt:ar(A.latest_verified_at)};I.push(N);break;case"github_oauth":let D={subject:A.subject,username:A.username,name:A.name,email:A.email,type:A.type,firstVerifiedAt:ar(A.first_verified_at),latestVerifiedAt:ar(A.latest_verified_at)};I.push(D);break;case"tiktok_oauth":let P={subject:A.subject,username:A.username,name:A.name,type:A.type,firstVerifiedAt:ar(A.first_verified_at),latestVerifiedAt:ar(A.latest_verified_at)};I.push(P);break;case"line_oauth":let R={subject:A.subject,name:A.name,email:A.email,profilePictureUrl:A.profile_picture_url,type:A.type,firstVerifiedAt:ar(A.first_verified_at),latestVerifiedAt:ar(A.latest_verified_at)};I.push(R);break;case"linkedin_oauth":let j={subject:A.subject,name:A.name,email:A.email,vanityName:A.vanity_name,type:A.type,firstVerifiedAt:ar(A.first_verified_at),latestVerifiedAt:ar(A.latest_verified_at)};I.push(j);break;case"apple_oauth":let W={subject:A.subject,email:A.email,type:A.type,firstVerifiedAt:ar(A.first_verified_at),latestVerifiedAt:ar(A.latest_verified_at)};I.push(W);break;case"custom_auth":I.push({type:A.type,customUserId:A.custom_user_id,firstVerifiedAt:ar(A.first_verified_at),latestVerifiedAt:ar(A.latest_verified_at)});break;case"farcaster":let M={type:A.type,fid:A.fid,ownerAddress:A.owner_address,displayName:A.display_name,username:A.username,bio:A.bio,pfp:A.profile_picture_url,url:A.homepage_url,firstVerifiedAt:ar(A.first_verified_at),latestVerifiedAt:ar(A.latest_verified_at),signerPublicKey:A.signer_public_key};I.push(M);break;case"passkey":let G={type:A.type,enrolledInMfa:A.enrolled_in_mfa,credentialId:A.credential_id,publicKey:A.public_key,authenticatorName:A.authenticator_name,createdWithDevice:A.created_with_device,createdWithOs:A.created_with_os,createdWithBrowser:A.created_with_browser,firstVerifiedAt:ar(A.first_verified_at),latestVerifiedAt:ar(A.latest_verified_at)};I.push(G);break;case"telegram":let re={type:A.type,telegramUserId:A.telegram_user_id,firstName:A.first_name,lastName:A.last_name,username:A.username,photoUrl:A.photo_url,firstVerifiedAt:ar(A.first_verified_at),latestVerifiedAt:ar(A.latest_verified_at)};I.push(re);break;default:console.warn(`Unrecognized account type: ${O}. Please consider upgrading the Privy SDK.`)}}return I}(t.linked_accounts),r=es(e,"wallet"),n=es(e,"smart_wallet"),i=es(e,"email"),s=es(e,"phone"),a=es(e,"google_oauth"),o=es(e,"twitter_oauth"),l=es(e,"discord_oauth"),u=es(e,"github_oauth"),h=es(e,"spotify_oauth"),f=es(e,"instagram_oauth"),g=es(e,"tiktok_oauth"),y=es(e,"line_oauth"),b=es(e,"linkedin_oauth"),w=es(e,"apple_oauth"),x=es(e,"farcaster"),E=es(e,"telegram"),S=t.mfa_methods.map(({type:_,verified_at:I})=>({type:_,verifiedAt:ar(I)}));return{id:t.id,createdAt:ar(t.created_at),linkedAccounts:e,email:i&&{address:i==null?void 0:i.address},phone:s&&{number:s==null?void 0:s.number},wallet:r&&{id:r.id,address:r.address,chainType:r.chainType,walletClientType:r.walletClientType,connectorType:r.connectorType,recoveryMethod:r.recoveryMethod,imported:r.imported,delegated:r.delegated,walletIndex:r.walletIndex},smartWallet:n&&{address:n.address,smartWalletType:n.smartWalletType,smartWalletVersion:n.smartWalletVersion},google:a&&{subject:a.subject,email:a.email,name:a.name},twitter:o&&{subject:o.subject,username:o.username,name:o.name,profilePictureUrl:o.profilePictureUrl},discord:l&&{subject:l.subject,username:l.username,email:l.email},github:u&&{subject:u.subject,username:u.username,name:u.name,email:u.email},spotify:h&&{subject:h.subject,email:h.email,name:h.name},instagram:f&&{subject:f.subject,username:f.username},tiktok:g&&{subject:g.subject,username:g.username,name:g.name},line:y&&{subject:y.subject,name:y.name,email:y.email,profilePictureUrl:y.profilePictureUrl},linkedin:b&&{subject:b.subject,name:b.name,email:b.email,vanityName:b.vanityName},apple:w&&{subject:w.subject,email:w.email},farcaster:x&&{fid:x.fid,ownerAddress:x.ownerAddress,displayName:x.displayName,username:x.username,bio:x.bio,pfp:x.pfp,url:x.url,signerPublicKey:x.signerPublicKey},telegram:E&&{telegramUserId:E.telegramUserId,firstName:E.firstName,lastName:E.lastName,username:E.username,photoUrl:E.photoUrl},delegatedWallets:[],mfaMethods:S.map(_=>_.type),hasAcceptedTerms:t.has_accepted_terms??!1,isGuest:t.is_guest,customMetadata:t.custom_metadata}}const Fs=t=>!!t.id&&t.recoveryMethod==="privy-v2",Kg=$.createContext({ready:!1,authenticated:!1,user:null,walletConnectors:null,connectWallet:ke,login:ke,connectOrCreateWallet:ke,linkEmail:ke,linkPhone:ke,linkFarcaster:ke,linkWallet:ke,startCrossAppAuthFlow:ke,linkGoogle:ke,linkTwitter:ke,linkDiscord:ke,linkGithub:ke,linkSpotify:ke,linkInstagram:ke,linkTelegram:ke,linkTiktok:ke,linkLine:ke,linkLinkedIn:ke,linkApple:ke,linkPasskey:ke,updateEmail:ke,updatePhone:ke,logout:ke,getAccessToken:ke,unlinkEmail:ke,unlinkPhone:ke,unlinkWallet:ke,unlinkGoogle:ke,unlinkTwitter:ke,unlinkDiscord:ke,unlinkGithub:ke,unlinkSpotify:ke,unlinkInstagram:ke,unlinkTiktok:ke,unlinkLine:ke,unlinkLinkedIn:ke,unlinkApple:ke,unlinkCrossAppAccount:ke,unlinkFarcaster:ke,unlinkTelegram:ke,unlinkPasskey:ke,signMessage:ke,signTypedData:ke,enrollInMfa:ke,initEnrollmentWithSms:ke,initEnrollmentWithTotp:ke,initEnrollmentWithPasskey:ke,promptMfa:ke,init:ke,submitEnrollmentWithSms:ke,submitEnrollmentWithTotp:ke,submitEnrollmentWithPasskey:ke,unenroll:ke,submit:ke,cancel:ke,sendTransaction:ke,signTransaction:ke,exportWallet:ke,setWalletPassword:ke,setWalletRecovery:ke,requestFarcasterSignerFromWarpcast:ke,getFarcasterSignerPublicKey:ke,signFarcasterMessage:ke,signMessageWithCrossAppWallet:ke,signTypedDataWithCrossAppWallet:ke,sendTransactionWithCrossAppWallet:ke,signTransactionWithCrossAppWallet:ke,isModalOpen:!1,mfaMethods:[]}),fr=()=>$.useContext(Kg);function a7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3 16.5v2.25A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75V16.5M16.5 12 12 16.5m0 0L7.5 12m4.5 4.5V3"}))}const o7e=$.forwardRef(a7e);function l7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 19.5 3 12m0 0 7.5-7.5M3 12h18"}))}const c7e=$.forwardRef(l7e);function u7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.023 9.348h4.992v-.001M2.985 19.644v-4.992m0 0h4.992m-4.993 0 3.181 3.183a8.25 8.25 0 0 0 13.803-3.7M4.031 9.865a8.25 8.25 0 0 1 13.803-3.7l3.181 3.182m0-4.991v4.99"}))}const d7e=$.forwardRef(u7e);function h7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 9V5.25A2.25 2.25 0 0 1 10.5 3h6a2.25 2.25 0 0 1 2.25 2.25v13.5A2.25 2.25 0 0 1 16.5 21h-6a2.25 2.25 0 0 1-2.25-2.25V15M12 9l3 3m0 0-3 3m3-3H2.25"}))}const f7e=$.forwardRef(h7e);function p7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5 21 12m0 0-7.5 7.5M21 12H3"}))}const g7e=$.forwardRef(p7e);function m7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m3.75 13.5 10.5-11.25L12 10.5h8.25L9.75 21.75 12 13.5H3.75Z"}))}const y7e=$.forwardRef(m7e);function b7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5"}))}const w7e=$.forwardRef(b7e);function v7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m4.5 12.75 6 6 9-13.5"}))}const x7e=$.forwardRef(v7e);function E7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m8.25 4.5 7.5 7.5-7.5 7.5"}))}const _7e=$.forwardRef(E7e);function C7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M11.35 3.836c-.065.21-.1.433-.1.664 0 .414.336.75.75.75h4.5a.75.75 0 0 0 .75-.75 2.25 2.25 0 0 0-.1-.664m-5.8 0A2.251 2.251 0 0 1 13.5 2.25H15c1.012 0 1.867.668 2.15 1.586m-5.8 0c-.376.023-.75.05-1.124.08C9.095 4.01 8.25 4.973 8.25 6.108V8.25m8.9-4.414c.376.023.75.05 1.124.08 1.131.094 1.976 1.057 1.976 2.192V16.5A2.25 2.25 0 0 1 18 18.75h-2.25m-7.5-10.5H4.875c-.621 0-1.125.504-1.125 1.125v11.25c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V18.75m-7.5-10.5h6.375c.621 0 1.125.504 1.125 1.125v9.375m-8.25-3 1.5 1.5 3-3.75"}))}const VZ=$.forwardRef(C7e);function A7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 7.5V6.108c0-1.135.845-2.098 1.976-2.192.373-.03.748-.057 1.123-.08M15.75 18H18a2.25 2.25 0 0 0 2.25-2.25V6.108c0-1.135-.845-2.098-1.976-2.192a48.424 48.424 0 0 0-1.123-.08M15.75 18.75v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5A3.375 3.375 0 0 0 6.375 7.5H5.25m11.9-3.664A2.251 2.251 0 0 0 15 2.25h-1.5a2.251 2.251 0 0 0-2.15 1.586m5.8 0c.065.21.1.433.1.664v.75h-6V4.5c0-.231.035-.454.1-.664M6.75 7.5H4.875c-.621 0-1.125.504-1.125 1.125v12c0 .621.504 1.125 1.125 1.125h9.75c.621 0 1.125-.504 1.125-1.125V16.5a9 9 0 0 0-9-9Z"}))}const S7e=$.forwardRef(A7e);function k7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 6v6h4.5m4.5 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const $7e=$.forwardRef(k7e);function T7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10.5 1.5H8.25A2.25 2.25 0 0 0 6 3.75v16.5a2.25 2.25 0 0 0 2.25 2.25h7.5A2.25 2.25 0 0 0 18 20.25V3.75a2.25 2.25 0 0 0-2.25-2.25H13.5m-3 0V3h3V1.5m-3 0h3m-3 18.75h3"}))}const d4=$.forwardRef(T7e);function I7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 17.25v3.375c0 .621-.504 1.125-1.125 1.125h-9.75a1.125 1.125 0 0 1-1.125-1.125V7.875c0-.621.504-1.125 1.125-1.125H6.75a9.06 9.06 0 0 1 1.5.124m7.5 10.376h3.375c.621 0 1.125-.504 1.125-1.125V11.25c0-4.46-3.243-8.161-7.5-8.876a9.06 9.06 0 0 0-1.5-.124H9.375c-.621 0-1.125.504-1.125 1.125v3.5m7.5 10.375H9.375a1.125 1.125 0 0 1-1.125-1.125v-9.25m12 6.625v-1.875a3.375 3.375 0 0 0-3.375-3.375h-1.5a1.125 1.125 0 0 1-1.125-1.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H9.75"}))}const N7e=$.forwardRef(I7e);function P7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M21.75 6.75v10.5a2.25 2.25 0 0 1-2.25 2.25h-15a2.25 2.25 0 0 1-2.25-2.25V6.75m19.5 0A2.25 2.25 0 0 0 19.5 4.5h-15a2.25 2.25 0 0 0-2.25 2.25m19.5 0v.243a2.25 2.25 0 0 1-1.07 1.916l-7.5 4.615a2.25 2.25 0 0 1-2.36 0L3.32 8.91a2.25 2.25 0 0 1-1.07-1.916V6.75"}))}const h4=$.forwardRef(P7e);function O7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M12 9v3.75m-9.303 3.376c-.866 1.5.217 3.374 1.948 3.374h14.71c1.73 0 2.813-1.874 1.948-3.374L13.949 3.378c-.866-1.5-3.032-1.5-3.898 0L2.697 16.126ZM12 15.75h.007v.008H12v-.008Z"}))}const Jf=$.forwardRef(O7e);function M7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M3.98 8.223A10.477 10.477 0 0 0 1.934 12C3.226 16.338 7.244 19.5 12 19.5c.993 0 1.953-.138 2.863-.395M6.228 6.228A10.451 10.451 0 0 1 12 4.5c4.756 0 8.773 3.162 10.065 7.498a10.522 10.522 0 0 1-4.293 5.774M6.228 6.228 3 3m3.228 3.228 3.65 3.65m7.894 7.894L21 21m-3.228-3.228-3.65-3.65m0 0a3 3 0 1 0-4.243-4.243m4.242 4.242L9.88 9.88"}))}const R7e=$.forwardRef(M7e);function j7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.036 12.322a1.012 1.012 0 0 1 0-.639C3.423 7.51 7.36 4.5 12 4.5c4.638 0 8.573 3.007 9.963 7.178.07.207.07.431 0 .639C20.577 16.49 16.64 19.5 12 19.5c-4.638 0-8.573-3.007-9.963-7.178Z"}),$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const D7e=$.forwardRef(j7e);function U7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M7.864 4.243A7.5 7.5 0 0 1 19.5 10.5c0 2.92-.556 5.709-1.568 8.268M5.742 6.364A7.465 7.465 0 0 0 4.5 10.5a7.464 7.464 0 0 1-1.15 3.993m1.989 3.559A11.209 11.209 0 0 0 8.25 10.5a3.75 3.75 0 1 1 7.5 0c0 .527-.021 1.049-.064 1.565M12 10.5a14.94 14.94 0 0 1-3.6 9.75m6.633-4.596a18.666 18.666 0 0 1-2.485 5.33"}))}const Z$=$.forwardRef(U7e);function B7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 5.25a3 3 0 0 1 3 3m3 0a6 6 0 0 1-7.029 5.912c-.563-.097-1.159.026-1.563.43L10.5 17.25H8.25v2.25H6v2.25H2.25v-2.818c0-.597.237-1.17.659-1.591l6.499-6.499c.404-.404.527-1 .43-1.563A6 6 0 1 1 21.75 8.25Z"}))}const L7e=$.forwardRef(B7e);function F7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 10.5V6.75a4.5 4.5 0 1 0-9 0v3.75m-.75 11.25h10.5a2.25 2.25 0 0 0 2.25-2.25v-6.75a2.25 2.25 0 0 0-2.25-2.25H6.75a2.25 2.25 0 0 0-2.25 2.25v6.75a2.25 2.25 0 0 0 2.25 2.25Z"}))}const GZ=$.forwardRef(F7e);function z7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z"}))}const W7e=$.forwardRef(z7e);function q7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15 12H9m12 0a9 9 0 1 1-18 0 9 9 0 0 1 18 0Z"}))}const F7=$.forwardRef(q7e);function H7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"m16.862 4.487 1.687-1.688a1.875 1.875 0 1 1 2.652 2.652L10.582 16.07a4.5 4.5 0 0 1-1.897 1.13L6 18l.8-2.685a4.5 4.5 0 0 1 1.13-1.897l8.932-8.931Zm0 0L19.5 7.125M18 14v4.75A2.25 2.25 0 0 1 15.75 21H5.25A2.25 2.25 0 0 1 3 18.75V8.25A2.25 2.25 0 0 1 5.25 6H10"}))}const V7e=$.forwardRef(H7e);function G7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M2.25 6.75c0 8.284 6.716 15 15 15h2.25a2.25 2.25 0 0 0 2.25-2.25v-1.372c0-.516-.351-.966-.852-1.091l-4.423-1.106c-.44-.11-.902.055-1.173.417l-.97 1.293c-.282.376-.769.542-1.21.38a12.035 12.035 0 0 1-7.143-7.143c-.162-.441.004-.928.38-1.21l1.293-.97c.363-.271.527-.734.417-1.173L6.963 3.102a1.125 1.125 0 0 0-1.091-.852H4.5A2.25 2.25 0 0 0 2.25 4.5v2.25Z"}))}const eh=$.forwardRef(G7e);function K7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9.879 7.519c1.171-1.025 3.071-1.025 4.242 0 1.172 1.025 1.172 2.687 0 3.712-.203.179-.43.326-.67.442-.745.361-1.45.999-1.45 1.827v.75M21 12a9 9 0 1 1-18 0 9 9 0 0 1 18 0Zm-9 5.25h.008v.008H12v-.008Z"}))}const J0=$.forwardRef(K7e);function Y7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 12.75 11.25 15 15 9.75m-3-7.036A11.959 11.959 0 0 1 3.598 6 11.99 11.99 0 0 0 3 9.749c0 5.592 3.824 10.29 9 11.623 5.176-1.332 9-6.03 9-11.622 0-1.31-.21-2.571-.598-3.751h-.152c-3.196 0-6.1-1.248-8.25-3.285Z"}))}const Mf=$.forwardRef(Y7e);function Z7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M16.5 8.25V6a2.25 2.25 0 0 0-2.25-2.25H6A2.25 2.25 0 0 0 3.75 6v8.25A2.25 2.25 0 0 0 6 16.5h2.25m8.25-8.25H18a2.25 2.25 0 0 1 2.25 2.25V18A2.25 2.25 0 0 1 18 20.25h-7.5A2.25 2.25 0 0 1 8.25 18v-1.5m8.25-8.25h-6a2.25 2.25 0 0 0-2.25 2.25v6"}))}const Q7e=$.forwardRef(Z7e);function X7e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M17.982 18.725A7.488 7.488 0 0 0 12 15.75a7.488 7.488 0 0 0-5.982 2.975m11.963 0a9 9 0 1 0-11.963 0m11.963 0A8.966 8.966 0 0 1 12 21a8.966 8.966 0 0 1-5.982-2.275M15 9.75a3 3 0 1 1-6 0 3 3 0 0 1 6 0Z"}))}const J7e=$.forwardRef(X7e);function eEe({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M6 18 18 6M6 6l12 12"}))}const tEe=$.forwardRef(eEe);let z7={0:"legacy",1:"eip2930",2:"eip1559",3:"eip4844",4:"eip7702"};const rEe={legacy:0,eip2930:1,eip1559:2,eip4844:3,eip7702:4};let r0=t=>t!==void 0?BigInt(t):void 0;function KZ(t){let e,{type:r=2,...n}=typeof t=="string"?JSON.parse(t):t;n.accessList&&Array.isArray(n.accessList)?e=n.accessList.map(u=>Array.isArray(u)?{address:u[0],storageKeys:u[1]}:u):n.accessList&&(e=Object.entries(n.accessList).map(u=>({address:u[0],storageKeys:u[1]})));let i=Number(n.chainId??1),s=ds(n.data)?n.data:n.data?qn(Uint8Array.from(n.data)):void 0,a=n.nonce?Number(n.nonce):void 0,o={chainId:i,data:s,nonce:a,value:r0(n.value),gas:r0(n.gas??n.gasLimit)},l=Number(r);if(l===0)return{...n,type:z7[l],...o,gasPrice:r0(n.gasPrice),accessList:void 0,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(l===1)return{...n,type:z7[l],...o,gasPrice:r0(n.gasPrice),accessList:e,maxFeePerGas:void 0,maxPriorityFeePerGas:void 0};if(l===2)return{...n,type:z7[l],...o,nonce:a,accessList:e,maxFeePerGas:r0(n.maxFeePerGas),maxPriorityFeePerGas:r0(n.maxPriorityFeePerGas),gasPrice:void 0,maxFeePerBlobGas:void 0};throw Error(`Unsupported transaction type: ${r}`)}/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nEe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),YZ=(...t)=>t.filter((e,r,n)=>!!e&&n.indexOf(e)===r).join(" ");/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var iEe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sEe=$.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...o},l)=>$.createElement("svg",{ref:l,...iEe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:YZ("lucide",i),...o},[...a.map(([u,h])=>$.createElement(u,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dn=(t,e)=>{const r=$.forwardRef(({className:n,...i},s)=>$.createElement(sEe,{ref:s,iconNode:e,className:YZ(`lucide-${nEe(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aEe=Dn("ArrowRightLeft",[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oEe=Dn("Ban",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m4.9 4.9 14.2 14.2",key:"1m5liu"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L2=Dn("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZZ=Dn("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sb=Dn("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lEe=Dn("CircleHelp",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cEe=Dn("CircleUser",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}],["path",{d:"M7 20.662V19a2 2 0 0 1 2-2h6a2 2 0 0 1 2 2v1.662",key:"154egf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f4=Dn("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uEe=Dn("CloudUpload",[["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"M12 12v9",key:"192myk"}],["path",{d:"m16 16-4-4-4 4",key:"119tzi"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w5=Dn("Copy",[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _A=Dn("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dEe=Dn("FileCheck",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"m9 15 2 2 4-4",key:"1grp1n"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v5=Dn("Fingerprint",[["path",{d:"M12 10a2 2 0 0 0-2 2c0 1.02-.1 2.51-.26 4",key:"1nerag"}],["path",{d:"M14 13.12c0 2.38 0 6.38-1 8.88",key:"o46ks0"}],["path",{d:"M17.29 21.02c.12-.6.43-2.3.5-3.02",key:"ptglia"}],["path",{d:"M2 12a10 10 0 0 1 18-6",key:"ydlgp0"}],["path",{d:"M2 16h.01",key:"1gqxmh"}],["path",{d:"M21.8 16c.2-2 .131-5.354 0-6",key:"drycrb"}],["path",{d:"M5 19.5C5.5 18 6 15 6 12a6 6 0 0 1 .34-2",key:"1tidbn"}],["path",{d:"M8.65 22c.21-.66.45-1.32.57-2",key:"13wd9y"}],["path",{d:"M9 6.8a6 6 0 0 1 9 5.2v2",key:"1fr1j5"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q$=Dn("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X$=Dn("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hEe=Dn("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QZ=Dn("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fEe=Dn("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pEe=Dn("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ma=Dn("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gEe=Dn("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.383.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mEe=Dn("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function J$(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function yEe(t,...e){if(!J$(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function XZ(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(r=>typeof r=="string"):e.every(r=>Number.isSafeInteger(r)):!1}function F2(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function kb(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function x5(t){if(!Array.isArray(t))throw new Error("array expected")}function E5(t,e){if(!XZ(!0,e))throw new Error(`${t}: array of strings expected`)}function JZ(t,e){if(!XZ(!1,e))throw new Error(`${t}: array of numbers expected`)}function eT(...t){const e=s=>s,r=(s,a)=>o=>s(a(o)),n=t.map(s=>s.encode).reduceRight(r,e),i=t.map(s=>s.decode).reduce(r,e);return{encode:n,decode:i}}function tT(t){const e=typeof t=="string"?t.split(""):t,r=e.length;E5("alphabet",e);const n=new Map(e.map((i,s)=>[i,s]));return{encode:i=>(x5(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=r)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${t}`);return e[s]})),decode:i=>(x5(i),i.map(s=>{F2("alphabet.decode",s);const a=n.get(s);if(a===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${t}`);return a}))}}function rT(t=""){return F2("join",t),{encode:e=>(E5("join.decode",e),e.join(t)),decode:e=>(F2("join.decode",e),e.split(t))}}function eQ(t,e="="){return kb(t),F2("padding",e),{encode(r){for(E5("padding.encode",r);r.length*t%8;)r.push(e);return r},decode(r){E5("padding.decode",r);let n=r.length;if(n*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===e;n--)if((n-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return r.slice(0,n)}}}function fU(t,e,r){if(e<2)throw new Error(`convertRadix: invalid from=${e}, base cannot be less than 2`);if(r<2)throw new Error(`convertRadix: invalid to=${r}, base cannot be less than 2`);if(x5(t),!t.length)return[];let n=0;const i=[],s=Array.from(t,o=>{if(kb(o),o<0||o>=e)throw new Error(`invalid integer: ${o}`);return o}),a=s.length;for(;;){let o=0,l=!0;for(let u=n;u<a;u++){const h=s[u],f=e*o,g=f+h;if(!Number.isSafeInteger(g)||f/e!==o||g-h!==f)throw new Error("convertRadix: carry overflow");const y=g/r;o=g%r;const b=Math.floor(y);if(s[u]=b,!Number.isSafeInteger(b)||b*r+o!==g)throw new Error("convertRadix: carry overflow");if(l)b?l=!1:n=u;else continue}if(i.push(o),l)break}for(let o=0;o<t.length-1&&t[o]===0;o++)i.push(0);return i.reverse()}const tQ=(t,e)=>e===0?t:tQ(e,t%e),_5=(t,e)=>t+(e-tQ(t,e)),W7=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function pU(t,e,r,n){if(x5(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(_5(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${_5(e,r)}`);let i=0,s=0;const a=W7[e],o=W7[r]-1,l=[];for(const u of t){if(kb(u),u>=a)throw new Error(`convertRadix2: invalid data word=${u} from=${e}`);if(i=i<<e|u,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=r;s-=r)l.push((i>>s-r&o)>>>0);const h=W7[s];if(h===void 0)throw new Error("invalid carry");i&=h-1}if(i=i<<r-s&o,!n&&s>=e)throw new Error("Excess padding");if(!n&&i>0)throw new Error(`Non-zero padding: ${i}`);return n&&s>0&&l.push(i>>>0),l}function bEe(t){kb(t);const e=2**8;return{encode:r=>{if(!J$(r))throw new Error("radix.encode input should be Uint8Array");return fU(Array.from(r),e,t)},decode:r=>(JZ("radix.decode",r),Uint8Array.from(fU(r,t,e)))}}function rQ(t,e=!1){if(kb(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(_5(8,t)>32||_5(t,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!J$(r))throw new Error("radix2.encode input should be Uint8Array");return pU(Array.from(r),8,t,!e)},decode:r=>(JZ("radix2.decode",r),Uint8Array.from(pU(r,t,8,e)))}}const wEe=eT(rQ(5),tT("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),eQ(5),rT("")),vEe=typeof Uint8Array.from([]).toBase64=="function"&&typeof Uint8Array.fromBase64=="function",xEe=(t,e)=>{F2("base64",t);const r=/^[A-Za-z0-9=+/]+$/,n="base64";if(t.length>0&&!r.test(t))throw new Error("invalid base64");return Uint8Array.fromBase64(t,{alphabet:n,lastChunkHandling:"strict"})},x3=vEe?{encode(t){return yEe(t),t.toBase64()},decode(t){return xEe(t)}}:eT(rQ(6),tT("ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"),eQ(6),rT("")),EEe=t=>eT(bEe(58),tT(t),rT("")),_Ee=EEe("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");function C5(t){"@babel/helpers - typeof";return C5=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C5(t)}var CEe=/^\s+/,AEe=/\s+$/;function wt(t,e){if(t=t||"",e=e||{},t instanceof wt)return t;if(!(this instanceof wt))return new wt(t,e);var r=SEe(t);this._originalInput=t,this._r=r.r,this._g=r.g,this._b=r.b,this._a=r.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||r.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=r.ok}wt.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),r,n,i,s,a,o;return r=e.r/255,n=e.g/255,i=e.b/255,r<=.03928?s=r/12.92:s=Math.pow((r+.055)/1.055,2.4),n<=.03928?a=n/12.92:a=Math.pow((n+.055)/1.055,2.4),i<=.03928?o=i/12.92:o=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*a+.0722*o},setAlpha:function(e){return this._a=nQ(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=mU(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=mU(this._r,this._g,this._b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+r+", "+n+"%, "+i+"%)":"hsva("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=gU(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=gU(this._r,this._g,this._b),r=Math.round(e.h*360),n=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+r+", "+n+"%, "+i+"%)":"hsla("+r+", "+n+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return yU(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return IEe(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(xn(this._r,255)*100)+"%",g:Math.round(xn(this._g,255)*100)+"%",b:Math.round(xn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(xn(this._r,255)*100)+"%, "+Math.round(xn(this._g,255)*100)+"%, "+Math.round(xn(this._b,255)*100)+"%)":"rgba("+Math.round(xn(this._r,255)*100)+"%, "+Math.round(xn(this._g,255)*100)+"%, "+Math.round(xn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:zEe[yU(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var r="#"+bU(this._r,this._g,this._b,this._a),n=r,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=wt(e);n="#"+bU(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+r+",endColorstr="+n+")"},toString:function(e){var r=!!e;e=e||this._format;var n=!1,i=this._a<1&&this._a>=0,s=!r&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(n=this.toRgbString()),e==="prgb"&&(n=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(n=this.toHexString()),e==="hex3"&&(n=this.toHexString(!0)),e==="hex4"&&(n=this.toHex8String(!0)),e==="hex8"&&(n=this.toHex8String()),e==="name"&&(n=this.toName()),e==="hsl"&&(n=this.toHslString()),e==="hsv"&&(n=this.toHsvString()),n||this.toHexString())},clone:function(){return wt(this.toString())},_applyModification:function(e,r){var n=e.apply(null,[this].concat([].slice.call(r)));return this._r=n._r,this._g=n._g,this._b=n._b,this.setAlpha(n._a),this},lighten:function(){return this._applyModification(MEe,arguments)},brighten:function(){return this._applyModification(REe,arguments)},darken:function(){return this._applyModification(jEe,arguments)},desaturate:function(){return this._applyModification(NEe,arguments)},saturate:function(){return this._applyModification(PEe,arguments)},greyscale:function(){return this._applyModification(OEe,arguments)},spin:function(){return this._applyModification(DEe,arguments)},_applyCombination:function(e,r){return e.apply(null,[this].concat([].slice.call(r)))},analogous:function(){return this._applyCombination(LEe,arguments)},complement:function(){return this._applyCombination(UEe,arguments)},monochromatic:function(){return this._applyCombination(FEe,arguments)},splitcomplement:function(){return this._applyCombination(BEe,arguments)},triad:function(){return this._applyCombination(wU,[3])},tetrad:function(){return this._applyCombination(wU,[4])}};wt.fromRatio=function(t,e){if(C5(t)=="object"){var r={};for(var n in t)t.hasOwnProperty(n)&&(n==="a"?r[n]=t[n]:r[n]=dy(t[n]));t=r}return wt(t,e)};function SEe(t){var e={r:0,g:0,b:0},r=1,n=null,i=null,s=null,a=!1,o=!1;return typeof t=="string"&&(t=VEe(t)),C5(t)=="object"&&(Wc(t.r)&&Wc(t.g)&&Wc(t.b)?(e=kEe(t.r,t.g,t.b),a=!0,o=String(t.r).substr(-1)==="%"?"prgb":"rgb"):Wc(t.h)&&Wc(t.s)&&Wc(t.v)?(n=dy(t.s),i=dy(t.v),e=TEe(t.h,n,i),a=!0,o="hsv"):Wc(t.h)&&Wc(t.s)&&Wc(t.l)&&(n=dy(t.s),s=dy(t.l),e=$Ee(t.h,n,s),a=!0,o="hsl"),t.hasOwnProperty("a")&&(r=t.a)),r=nQ(r),{ok:a,format:t.format||o,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:r}}function kEe(t,e,r){return{r:xn(t,255)*255,g:xn(e,255)*255,b:xn(r,255)*255}}function gU(t,e,r){t=xn(t,255),e=xn(e,255),r=xn(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),s,a,o=(n+i)/2;if(n==i)s=a=0;else{var l=n-i;switch(a=o>.5?l/(2-n-i):l/(n+i),n){case t:s=(e-r)/l+(e<r?6:0);break;case e:s=(r-t)/l+2;break;case r:s=(t-e)/l+4;break}s/=6}return{h:s,s:a,l:o}}function $Ee(t,e,r){var n,i,s;t=xn(t,360),e=xn(e,100),r=xn(r,100);function a(u,h,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?u+(h-u)*6*f:f<1/2?h:f<2/3?u+(h-u)*(2/3-f)*6:u}if(e===0)n=i=s=r;else{var o=r<.5?r*(1+e):r+e-r*e,l=2*r-o;n=a(l,o,t+1/3),i=a(l,o,t),s=a(l,o,t-1/3)}return{r:n*255,g:i*255,b:s*255}}function mU(t,e,r){t=xn(t,255),e=xn(e,255),r=xn(r,255);var n=Math.max(t,e,r),i=Math.min(t,e,r),s,a,o=n,l=n-i;if(a=n===0?0:l/n,n==i)s=0;else{switch(n){case t:s=(e-r)/l+(e<r?6:0);break;case e:s=(r-t)/l+2;break;case r:s=(t-e)/l+4;break}s/=6}return{h:s,s:a,v:o}}function TEe(t,e,r){t=xn(t,360)*6,e=xn(e,100),r=xn(r,100);var n=Math.floor(t),i=t-n,s=r*(1-e),a=r*(1-i*e),o=r*(1-(1-i)*e),l=n%6,u=[r,a,s,s,o,r][l],h=[o,r,r,a,s,s][l],f=[s,s,o,r,r,a][l];return{r:u*255,g:h*255,b:f*255}}function yU(t,e,r,n){var i=[tl(Math.round(t).toString(16)),tl(Math.round(e).toString(16)),tl(Math.round(r).toString(16))];return n&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function IEe(t,e,r,n,i){var s=[tl(Math.round(t).toString(16)),tl(Math.round(e).toString(16)),tl(Math.round(r).toString(16)),tl(iQ(n))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function bU(t,e,r,n){var i=[tl(iQ(n)),tl(Math.round(t).toString(16)),tl(Math.round(e).toString(16)),tl(Math.round(r).toString(16))];return i.join("")}wt.equals=function(t,e){return!t||!e?!1:wt(t).toRgbString()==wt(e).toRgbString()};wt.random=function(){return wt.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function NEe(t,e){e=e===0?0:e||10;var r=wt(t).toHsl();return r.s-=e/100,r.s=p4(r.s),wt(r)}function PEe(t,e){e=e===0?0:e||10;var r=wt(t).toHsl();return r.s+=e/100,r.s=p4(r.s),wt(r)}function OEe(t){return wt(t).desaturate(100)}function MEe(t,e){e=e===0?0:e||10;var r=wt(t).toHsl();return r.l+=e/100,r.l=p4(r.l),wt(r)}function REe(t,e){e=e===0?0:e||10;var r=wt(t).toRgb();return r.r=Math.max(0,Math.min(255,r.r-Math.round(255*-(e/100)))),r.g=Math.max(0,Math.min(255,r.g-Math.round(255*-(e/100)))),r.b=Math.max(0,Math.min(255,r.b-Math.round(255*-(e/100)))),wt(r)}function jEe(t,e){e=e===0?0:e||10;var r=wt(t).toHsl();return r.l-=e/100,r.l=p4(r.l),wt(r)}function DEe(t,e){var r=wt(t).toHsl(),n=(r.h+e)%360;return r.h=n<0?360+n:n,wt(r)}function UEe(t){var e=wt(t).toHsl();return e.h=(e.h+180)%360,wt(e)}function wU(t,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var r=wt(t).toHsl(),n=[wt(t)],i=360/e,s=1;s<e;s++)n.push(wt({h:(r.h+s*i)%360,s:r.s,l:r.l}));return n}function BEe(t){var e=wt(t).toHsl(),r=e.h;return[wt(t),wt({h:(r+72)%360,s:e.s,l:e.l}),wt({h:(r+216)%360,s:e.s,l:e.l})]}function LEe(t,e,r){e=e||6,r=r||30;var n=wt(t).toHsl(),i=360/r,s=[wt(t)];for(n.h=(n.h-(i*e>>1)+720)%360;--e;)n.h=(n.h+i)%360,s.push(wt(n));return s}function FEe(t,e){e=e||6;for(var r=wt(t).toHsv(),n=r.h,i=r.s,s=r.v,a=[],o=1/e;e--;)a.push(wt({h:n,s:i,v:s})),s=(s+o)%1;return a}wt.mix=function(t,e,r){r=r===0?0:r||50;var n=wt(t).toRgb(),i=wt(e).toRgb(),s=r/100,a={r:(i.r-n.r)*s+n.r,g:(i.g-n.g)*s+n.g,b:(i.b-n.b)*s+n.b,a:(i.a-n.a)*s+n.a};return wt(a)};wt.readability=function(t,e){var r=wt(t),n=wt(e);return(Math.max(r.getLuminance(),n.getLuminance())+.05)/(Math.min(r.getLuminance(),n.getLuminance())+.05)};wt.isReadable=function(t,e,r){var n=wt.readability(t,e),i,s;switch(s=!1,i=GEe(r),i.level+i.size){case"AAsmall":case"AAAlarge":s=n>=4.5;break;case"AAlarge":s=n>=3;break;case"AAAsmall":s=n>=7;break}return s};wt.mostReadable=function(t,e,r){var n=null,i=0,s,a,o,l;r=r||{},a=r.includeFallbackColors,o=r.level,l=r.size;for(var u=0;u<e.length;u++)s=wt.readability(t,e[u]),s>i&&(i=s,n=wt(e[u]));return wt.isReadable(t,n,{level:o,size:l})||!a?n:(r.includeFallbackColors=!1,wt.mostReadable(t,["#fff","#000"],r))};var CA=wt.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},zEe=wt.hexNames=WEe(CA);function WEe(t){var e={};for(var r in t)t.hasOwnProperty(r)&&(e[t[r]]=r);return e}function nQ(t){return t=parseFloat(t),(isNaN(t)||t<0||t>1)&&(t=1),t}function xn(t,e){qEe(t)&&(t="100%");var r=HEe(t);return t=Math.min(e,Math.max(0,parseFloat(t))),r&&(t=parseInt(t*e,10)/100),Math.abs(t-e)<1e-6?1:t%e/parseFloat(e)}function p4(t){return Math.min(1,Math.max(0,t))}function wa(t){return parseInt(t,16)}function qEe(t){return typeof t=="string"&&t.indexOf(".")!=-1&&parseFloat(t)===1}function HEe(t){return typeof t=="string"&&t.indexOf("%")!=-1}function tl(t){return t.length==1?"0"+t:""+t}function dy(t){return t<=1&&(t=t*100+"%"),t}function iQ(t){return Math.round(parseFloat(t)*255).toString(16)}function vU(t){return wa(t)/255}var qo=function(){var t="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",r="(?:"+e+")|(?:"+t+")",n="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?",i="[\\s|\\(]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")[,|\\s]+("+r+")\\s*\\)?";return{CSS_UNIT:new RegExp(r),rgb:new RegExp("rgb"+n),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+n),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+n),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Wc(t){return!!qo.CSS_UNIT.exec(t)}function VEe(t){t=t.replace(CEe,"").replace(AEe,"").toLowerCase();var e=!1;if(CA[t])t=CA[t],e=!0;else if(t=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var r;return(r=qo.rgb.exec(t))?{r:r[1],g:r[2],b:r[3]}:(r=qo.rgba.exec(t))?{r:r[1],g:r[2],b:r[3],a:r[4]}:(r=qo.hsl.exec(t))?{h:r[1],s:r[2],l:r[3]}:(r=qo.hsla.exec(t))?{h:r[1],s:r[2],l:r[3],a:r[4]}:(r=qo.hsv.exec(t))?{h:r[1],s:r[2],v:r[3]}:(r=qo.hsva.exec(t))?{h:r[1],s:r[2],v:r[3],a:r[4]}:(r=qo.hex8.exec(t))?{r:wa(r[1]),g:wa(r[2]),b:wa(r[3]),a:vU(r[4]),format:e?"name":"hex8"}:(r=qo.hex6.exec(t))?{r:wa(r[1]),g:wa(r[2]),b:wa(r[3]),format:e?"name":"hex"}:(r=qo.hex4.exec(t))?{r:wa(r[1]+""+r[1]),g:wa(r[2]+""+r[2]),b:wa(r[3]+""+r[3]),a:vU(r[4]+""+r[4]),format:e?"name":"hex8"}:(r=qo.hex3.exec(t))?{r:wa(r[1]+""+r[1]),g:wa(r[2]+""+r[2]),b:wa(r[3]+""+r[3]),format:e?"name":"hex"}:!1}function GEe(t){var e,r;return t=t||{level:"AA",size:"small"},e=(t.level||"AA").toUpperCase(),r=(t.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),r!=="small"&&r!=="large"&&(r="small"),{level:e,size:r}}function KEe({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{fillRule:"evenodd",d:"M16.704 4.153a.75.75 0 0 1 .143 1.052l-8 10.5a.75.75 0 0 1-1.127.075l-4.5-4.5a.75.75 0 0 1 1.06-1.06l3.894 3.893 7.48-9.817a.75.75 0 0 1 1.05-.143Z",clipRule:"evenodd"}))}const YEe=$.forwardRef(KEe);var q7,xU;function ZEe(){if(xU)return q7;xU=1;var t=function(a,o){return Math.round(o*Math.log(a)/Math.LN2)},e=[{name:"lowercase",re:/[a-z]/,length:26},{name:"uppercase",re:/[A-Z]/,length:26},{name:"numbers",re:/[0-9]/,length:10},{name:"symbols",re:/[^a-zA-Z0-9]/,length:33}],r=function(a){return function(o){return a.reduce(function(l,u){return l+(u.re.test(o)?u.length:0)},0)}},n=r(e),i=function(a){return a?t(n(a),a.length):0};return q7=i,q7}var QEe=ZEe();const XEe=ra(QEe);function sQ(t){return crypto.getRandomValues(new Uint8Array(t))}const JEe=256,$y=65536;function e_e(){const[t]=sQ(1);return t}function t_e(){const[t,e]=sQ(2);return(t<<8)+e}function r_e(t){if(typeof t!="number"||t<2||t>$y)throw new Error(`Invalid number: number must be at least two and at most ${$y}`);const e=t>256,r=e?$y:JEe,n=e?t_e:e_e,i=t*Math.floor(r/t);for(;;){const s=n();if(s<i)return s%t}}function n_e(t,e,r){if(typeof r!="number"||r>$y)throw new Error(`Invalid argument: end must be a number less than or equal to ${$y}`);if(r-e<2)throw new Error("Invalid range: range must contain at least two values");const n=[];for(let i=0;i<t;i++)n[i]=e+r_e(r-e);return n}function i_e(t,e,r="-"){if(!Array.isArray(e)||e.length<2)throw new Error("Invalid argument: wordlist argument must be an array with length greater than or equal to 2");if(typeof r!="string")throw new Error("Invalid argument: sep argument must be a string");return n_e(t,0,e.length).reduce((n,i,s)=>{const a=e[i];return n+(s===0?a:r+a)},"")}const s_e=Object.freeze(["abacus","abdomen","abdominal","abide","abiding","ability","ablaze","able","abnormal","abrasion","abrasive","abreast","abridge","abroad","abruptly","absence","absentee","absently","absinthe","absolute","absolve","abstain","abstract","absurd","accent","acclaim","acclimate","accompany","account","accuracy","accurate","accustom","acetone","achiness","aching","acid","acorn","acquaint","acquire","acre","acrobat","acronym","acting","action","activate","activator","active","activism","activist","activity","actress","acts","acutely","acuteness","aeration","aerobics","aerosol","aerospace","afar","affair","affected","affecting","affection","affidavit","affiliate","affirm","affix","afflicted","affluent","afford","affront","aflame","afloat","aflutter","afoot","afraid","afterglow","afterlife","aftermath","aftermost","afternoon","aged","ageless","agency","agenda","agent","aggregate","aghast","agile","agility","aging","agnostic","agonize","agonizing","agony","agreeable","agreeably","agreed","agreeing","agreement","aground","ahead","ahoy","aide","aids","aim","ajar","alabaster","alarm","albatross","album","alfalfa","algebra","algorithm","alias","alibi","alienable","alienate","aliens","alike","alive","alkaline","alkalize","almanac","almighty","almost","aloe","aloft","aloha","alone","alongside","aloof","alphabet","alright","although","altitude","alto","aluminum","alumni","always","amaretto","amaze","amazingly","amber","ambiance","ambiguity","ambiguous","ambition","ambitious","ambulance","ambush","amendable","amendment","amends","amenity","amiable","amicably","amid","amigo","amino","amiss","ammonia","ammonium","amnesty","amniotic","among","amount","amperage","ample","amplifier","amplify","amply","amuck","amulet","amusable","amused","amusement","amuser","amusing","anaconda","anaerobic","anagram","anatomist","anatomy","anchor","anchovy","ancient","android","anemia","anemic","aneurism","anew","angelfish","angelic","anger","angled","angler","angles","angling","angrily","angriness","anguished","angular","animal","animate","animating","animation","animator","anime","animosity","ankle","annex","annotate","announcer","annoying","annually","annuity","anointer","another","answering","antacid","antarctic","anteater","antelope","antennae","anthem","anthill","anthology","antibody","antics","antidote","antihero","antiquely","antiques","antiquity","antirust","antitoxic","antitrust","antiviral","antivirus","antler","antonym","antsy","anvil","anybody","anyhow","anymore","anyone","anyplace","anything","anytime","anyway","anywhere","aorta","apache","apostle","appealing","appear","appease","appeasing","appendage","appendix","appetite","appetizer","applaud","applause","apple","appliance","applicant","applied","apply","appointee","appraisal","appraiser","apprehend","approach","approval","approve","apricot","april","apron","aptitude","aptly","aqua","aqueduct","arbitrary","arbitrate","ardently","area","arena","arguable","arguably","argue","arise","armadillo","armband","armchair","armed","armful","armhole","arming","armless","armoire","armored","armory","armrest","army","aroma","arose","around","arousal","arrange","array","arrest","arrival","arrive","arrogance","arrogant","arson","art","ascend","ascension","ascent","ascertain","ashamed","ashen","ashes","ashy","aside","askew","asleep","asparagus","aspect","aspirate","aspire","aspirin","astonish","astound","astride","astrology","astronaut","astronomy","astute","atlantic","atlas","atom","atonable","atop","atrium","atrocious","atrophy","attach","attain","attempt","attendant","attendee","attention","attentive","attest","attic","attire","attitude","attractor","attribute","atypical","auction","audacious","audacity","audible","audibly","audience","audio","audition","augmented","august","authentic","author","autism","autistic","autograph","automaker","automated","automatic","autopilot","available","avalanche","avatar","avenge","avenging","avenue","average","aversion","avert","aviation","aviator","avid","avoid","await","awaken","award","aware","awhile","awkward","awning","awoke","awry","axis","babble","babbling","babied","baboon","backache","backboard","backboned","backdrop","backed","backer","backfield","backfire","backhand","backing","backlands","backlash","backless","backlight","backlit","backlog","backpack","backpedal","backrest","backroom","backshift","backside","backslid","backspace","backspin","backstab","backstage","backtalk","backtrack","backup","backward","backwash","backwater","backyard","bacon","bacteria","bacterium","badass","badge","badland","badly","badness","baffle","baffling","bagel","bagful","baggage","bagged","baggie","bagginess","bagging","baggy","bagpipe","baguette","baked","bakery","bakeshop","baking","balance","balancing","balcony","balmy","balsamic","bamboo","banana","banish","banister","banjo","bankable","bankbook","banked","banker","banking","banknote","bankroll","banner","bannister","banshee","banter","barbecue","barbed","barbell","barber","barcode","barge","bargraph","barista","baritone","barley","barmaid","barman","barn","barometer","barrack","barracuda","barrel","barrette","barricade","barrier","barstool","bartender","barterer","bash","basically","basics","basil","basin","basis","basket","batboy","batch","bath","baton","bats","battalion","battered","battering","battery","batting","battle","bauble","bazooka","blabber","bladder","blade","blah","blame","blaming","blanching","blandness","blank","blaspheme","blasphemy","blast","blatancy","blatantly","blazer","blazing","bleach","bleak","bleep","blemish","blend","bless","blighted","blimp","bling","blinked","blinker","blinking","blinks","blip","blissful","blitz","blizzard","bloated","bloating","blob","blog","bloomers","blooming","blooper","blot","blouse","blubber","bluff","bluish","blunderer","blunt","blurb","blurred","blurry","blurt","blush","blustery","boaster","boastful","boasting","boat","bobbed","bobbing","bobble","bobcat","bobsled","bobtail","bodacious","body","bogged","boggle","bogus","boil","bok","bolster","bolt","bonanza","bonded","bonding","bondless","boned","bonehead","boneless","bonelike","boney","bonfire","bonnet","bonsai","bonus","bony","boogeyman","boogieman","book","boondocks","booted","booth","bootie","booting","bootlace","bootleg","boots","boozy","borax","boring","borough","borrower","borrowing","boss","botanical","botanist","botany","botch","both","bottle","bottling","bottom","bounce","bouncing","bouncy","bounding","boundless","bountiful","bovine","boxcar","boxer","boxing","boxlike","boxy","breach","breath","breeches","breeching","breeder","breeding","breeze","breezy","brethren","brewery","brewing","briar","bribe","brick","bride","bridged","brigade","bright","brilliant","brim","bring","brink","brisket","briskly","briskness","bristle","brittle","broadband","broadcast","broaden","broadly","broadness","broadside","broadways","broiler","broiling","broken","broker","bronchial","bronco","bronze","bronzing","brook","broom","brought","browbeat","brownnose","browse","browsing","bruising","brunch","brunette","brunt","brush","brussels","brute","brutishly","bubble","bubbling","bubbly","buccaneer","bucked","bucket","buckle","buckshot","buckskin","bucktooth","buckwheat","buddhism","buddhist","budding","buddy","budget","buffalo","buffed","buffer","buffing","buffoon","buggy","bulb","bulge","bulginess","bulgur","bulk","bulldog","bulldozer","bullfight","bullfrog","bullhorn","bullion","bullish","bullpen","bullring","bullseye","bullwhip","bully","bunch","bundle","bungee","bunion","bunkbed","bunkhouse","bunkmate","bunny","bunt","busboy","bush","busily","busload","bust","busybody","buzz","cabana","cabbage","cabbie","cabdriver","cable","caboose","cache","cackle","cacti","cactus","caddie","caddy","cadet","cadillac","cadmium","cage","cahoots","cake","calamari","calamity","calcium","calculate","calculus","caliber","calibrate","calm","caloric","calorie","calzone","camcorder","cameo","camera","camisole","camper","campfire","camping","campsite","campus","canal","canary","cancel","candied","candle","candy","cane","canine","canister","cannabis","canned","canning","cannon","cannot","canola","canon","canopener","canopy","canteen","canyon","capable","capably","capacity","cape","capillary","capital","capitol","capped","capricorn","capsize","capsule","caption","captivate","captive","captivity","capture","caramel","carat","caravan","carbon","cardboard","carded","cardiac","cardigan","cardinal","cardstock","carefully","caregiver","careless","caress","caretaker","cargo","caring","carless","carload","carmaker","carnage","carnation","carnival","carnivore","carol","carpenter","carpentry","carpool","carport","carried","carrot","carrousel","carry","cartel","cartload","carton","cartoon","cartridge","cartwheel","carve","carving","carwash","cascade","case","cash","casing","casino","casket","cassette","casually","casualty","catacomb","catalog","catalyst","catalyze","catapult","cataract","catatonic","catcall","catchable","catcher","catching","catchy","caterer","catering","catfight","catfish","cathedral","cathouse","catlike","catnap","catnip","catsup","cattail","cattishly","cattle","catty","catwalk","caucasian","caucus","causal","causation","cause","causing","cauterize","caution","cautious","cavalier","cavalry","caviar","cavity","cedar","celery","celestial","celibacy","celibate","celtic","cement","census","ceramics","ceremony","certainly","certainty","certified","certify","cesarean","cesspool","chafe","chaffing","chain","chair","chalice","challenge","chamber","chamomile","champion","chance","change","channel","chant","chaos","chaperone","chaplain","chapped","chaps","chapter","character","charbroil","charcoal","charger","charging","chariot","charity","charm","charred","charter","charting","chase","chasing","chaste","chastise","chastity","chatroom","chatter","chatting","chatty","cheating","cheddar","cheek","cheer","cheese","cheesy","chef","chemicals","chemist","chemo","cherisher","cherub","chess","chest","chevron","chevy","chewable","chewer","chewing","chewy","chief","chihuahua","childcare","childhood","childish","childless","childlike","chili","chill","chimp","chip","chirping","chirpy","chitchat","chivalry","chive","chloride","chlorine","choice","chokehold","choking","chomp","chooser","choosing","choosy","chop","chosen","chowder","chowtime","chrome","chubby","chuck","chug","chummy","chump","chunk","churn","chute","cider","cilantro","cinch","cinema","cinnamon","circle","circling","circular","circulate","circus","citable","citadel","citation","citizen","citric","citrus","city","civic","civil","clad","claim","clambake","clammy","clamor","clamp","clamshell","clang","clanking","clapped","clapper","clapping","clarify","clarinet","clarity","clash","clasp","class","clatter","clause","clavicle","claw","clay","clean","clear","cleat","cleaver","cleft","clench","clergyman","clerical","clerk","clever","clicker","client","climate","climatic","cling","clinic","clinking","clip","clique","cloak","clobber","clock","clone","cloning","closable","closure","clothes","clothing","cloud","clover","clubbed","clubbing","clubhouse","clump","clumsily","clumsy","clunky","clustered","clutch","clutter","coach","coagulant","coastal","coaster","coasting","coastland","coastline","coat","coauthor","cobalt","cobbler","cobweb","cocoa","coconut","cod","coeditor","coerce","coexist","coffee","cofounder","cognition","cognitive","cogwheel","coherence","coherent","cohesive","coil","coke","cola","cold","coleslaw","coliseum","collage","collapse","collar","collected","collector","collide","collie","collision","colonial","colonist","colonize","colony","colossal","colt","coma","come","comfort","comfy","comic","coming","comma","commence","commend","comment","commerce","commode","commodity","commodore","common","commotion","commute","commuting","compacted","compacter","compactly","compactor","companion","company","compare","compel","compile","comply","component","composed","composer","composite","compost","composure","compound","compress","comprised","computer","computing","comrade","concave","conceal","conceded","concept","concerned","concert","conch","concierge","concise","conclude","concrete","concur","condense","condiment","condition","condone","conducive","conductor","conduit","cone","confess","confetti","confidant","confident","confider","confiding","configure","confined","confining","confirm","conflict","conform","confound","confront","confused","confusing","confusion","congenial","congested","congrats","congress","conical","conjoined","conjure","conjuror","connected","connector","consensus","consent","console","consoling","consonant","constable","constant","constrain","constrict","construct","consult","consumer","consuming","contact","container","contempt","contend","contented","contently","contents","contest","context","contort","contour","contrite","control","contusion","convene","convent","copartner","cope","copied","copier","copilot","coping","copious","copper","copy","coral","cork","cornball","cornbread","corncob","cornea","corned","corner","cornfield","cornflake","cornhusk","cornmeal","cornstalk","corny","coronary","coroner","corporal","corporate","corral","correct","corridor","corrode","corroding","corrosive","corsage","corset","cortex","cosigner","cosmetics","cosmic","cosmos","cosponsor","cost","cottage","cotton","couch","cough","could","countable","countdown","counting","countless","country","county","courier","covenant","cover","coveted","coveting","coyness","cozily","coziness","cozy","crabbing","crabgrass","crablike","crabmeat","cradle","cradling","crafter","craftily","craftsman","craftwork","crafty","cramp","cranberry","crane","cranial","cranium","crank","crate","crave","craving","crawfish","crawlers","crawling","crayfish","crayon","crazed","crazily","craziness","crazy","creamed","creamer","creamlike","crease","creasing","creatable","create","creation","creative","creature","credible","credibly","credit","creed","creme","creole","crepe","crept","crescent","crested","cresting","crestless","crevice","crewless","crewman","crewmate","crib","cricket","cried","crier","crimp","crimson","cringe","cringing","crinkle","crinkly","crisped","crisping","crisply","crispness","crispy","criteria","critter","croak","crock","crook","croon","crop","cross","crouch","crouton","crowbar","crowd","crown","crucial","crudely","crudeness","cruelly","cruelness","cruelty","crumb","crummiest","crummy","crumpet","crumpled","cruncher","crunching","crunchy","crusader","crushable","crushed","crusher","crushing","crust","crux","crying","cryptic","crystal","cubbyhole","cube","cubical","cubicle","cucumber","cuddle","cuddly","cufflink","culinary","culminate","culpable","culprit","cultivate","cultural","culture","cupbearer","cupcake","cupid","cupped","cupping","curable","curator","curdle","cure","curfew","curing","curled","curler","curliness","curling","curly","curry","curse","cursive","cursor","curtain","curtly","curtsy","curvature","curve","curvy","cushy","cusp","cussed","custard","custodian","custody","customary","customer","customize","customs","cut","cycle","cyclic","cycling","cyclist","cylinder","cymbal","cytoplasm","cytoplast","dab","dad","daffodil","dagger","daily","daintily","dainty","dairy","daisy","dallying","dance","dancing","dandelion","dander","dandruff","dandy","danger","dangle","dangling","daredevil","dares","daringly","darkened","darkening","darkish","darkness","darkroom","darling","darn","dart","darwinism","dash","dastardly","data","datebook","dating","daughter","daunting","dawdler","dawn","daybed","daybreak","daycare","daydream","daylight","daylong","dayroom","daytime","dazzler","dazzling","deacon","deafening","deafness","dealer","dealing","dealmaker","dealt","dean","debatable","debate","debating","debit","debrief","debtless","debtor","debug","debunk","decade","decaf","decal","decathlon","decay","deceased","deceit","deceiver","deceiving","december","decency","decent","deception","deceptive","decibel","decidable","decimal","decimeter","decipher","deck","declared","decline","decode","decompose","decorated","decorator","decoy","decrease","decree","dedicate","dedicator","deduce","deduct","deed","deem","deepen","deeply","deepness","deface","defacing","defame","default","defeat","defection","defective","defendant","defender","defense","defensive","deferral","deferred","defiance","defiant","defile","defiling","define","definite","deflate","deflation","deflator","deflected","deflector","defog","deforest","defraud","defrost","deftly","defuse","defy","degraded","degrading","degrease","degree","dehydrate","deity","dejected","delay","delegate","delegator","delete","deletion","delicacy","delicate","delicious","delighted","delirious","delirium","deliverer","delivery","delouse","delta","deluge","delusion","deluxe","demanding","demeaning","demeanor","demise","democracy","democrat","demote","demotion","demystify","denatured","deniable","denial","denim","denote","dense","density","dental","dentist","denture","deny","deodorant","deodorize","departed","departure","depict","deplete","depletion","deplored","deploy","deport","depose","depraved","depravity","deprecate","depress","deprive","depth","deputize","deputy","derail","deranged","derby","derived","desecrate","deserve","deserving","designate","designed","designer","designing","deskbound","desktop","deskwork","desolate","despair","despise","despite","destiny","destitute","destruct","detached","detail","detection","detective","detector","detention","detergent","detest","detonate","detonator","detoxify","detract","deuce","devalue","deviancy","deviant","deviate","deviation","deviator","device","devious","devotedly","devotee","devotion","devourer","devouring","devoutly","dexterity","dexterous","diabetes","diabetic","diabolic","diagnoses","diagnosis","diagram","dial","diameter","diaper","diaphragm","diary","dice","dicing","dictate","dictation","dictator","difficult","diffused","diffuser","diffusion","diffusive","dig","dilation","diligence","diligent","dill","dilute","dime","diminish","dimly","dimmed","dimmer","dimness","dimple","diner","dingbat","dinghy","dinginess","dingo","dingy","dining","dinner","diocese","dioxide","diploma","dipped","dipper","dipping","directed","direction","directive","directly","directory","direness","dirtiness","disabled","disagree","disallow","disarm","disarray","disaster","disband","disbelief","disburse","discard","discern","discharge","disclose","discolor","discount","discourse","discover","discuss","disdain","disengage","disfigure","disgrace","dish","disinfect","disjoin","disk","dislike","disliking","dislocate","dislodge","disloyal","dismantle","dismay","dismiss","dismount","disobey","disorder","disown","disparate","disparity","dispatch","dispense","dispersal","dispersed","disperser","displace","display","displease","disposal","dispose","disprove","dispute","disregard","disrupt","dissuade","distance","distant","distaste","distill","distinct","distort","distract","distress","district","distrust","ditch","ditto","ditzy","dividable","divided","dividend","dividers","dividing","divinely","diving","divinity","divisible","divisibly","division","divisive","divorcee","dizziness","dizzy","doable","docile","dock","doctrine","document","dodge","dodgy","doily","doing","dole","dollar","dollhouse","dollop","dolly","dolphin","domain","domelike","domestic","dominion","dominoes","donated","donation","donator","donor","donut","doodle","doorbell","doorframe","doorknob","doorman","doormat","doornail","doorpost","doorstep","doorstop","doorway","doozy","dork","dormitory","dorsal","dosage","dose","dotted","doubling","douche","dove","down","dowry","doze","drab","dragging","dragonfly","dragonish","dragster","drainable","drainage","drained","drainer","drainpipe","dramatic","dramatize","drank","drapery","drastic","draw","dreaded","dreadful","dreadlock","dreamboat","dreamily","dreamland","dreamless","dreamlike","dreamt","dreamy","drearily","dreary","drench","dress","drew","dribble","dried","drier","drift","driller","drilling","drinkable","drinking","dripping","drippy","drivable","driven","driver","driveway","driving","drizzle","drizzly","drone","drool","droop","drop-down","dropbox","dropkick","droplet","dropout","dropper","drove","drown","drowsily","drudge","drum","dry","dubbed","dubiously","duchess","duckbill","ducking","duckling","ducktail","ducky","duct","dude","duffel","dugout","duh","duke","duller","dullness","duly","dumping","dumpling","dumpster","duo","dupe","duplex","duplicate","duplicity","durable","durably","duration","duress","during","dusk","dust","dutiful","duty","duvet","dwarf","dweeb","dwelled","dweller","dwelling","dwindle","dwindling","dynamic","dynamite","dynasty","dyslexia","dyslexic","each","eagle","earache","eardrum","earflap","earful","earlobe","early","earmark","earmuff","earphone","earpiece","earplugs","earring","earshot","earthen","earthlike","earthling","earthly","earthworm","earthy","earwig","easeful","easel","easiest","easily","easiness","easing","eastbound","eastcoast","easter","eastward","eatable","eaten","eatery","eating","eats","ebay","ebony","ebook","ecard","eccentric","echo","eclair","eclipse","ecologist","ecology","economic","economist","economy","ecosphere","ecosystem","edge","edginess","edging","edgy","edition","editor","educated","education","educator","eel","effective","effects","efficient","effort","eggbeater","egging","eggnog","eggplant","eggshell","egomaniac","egotism","egotistic","either","eject","elaborate","elastic","elated","elbow","eldercare","elderly","eldest","electable","election","elective","elephant","elevate","elevating","elevation","elevator","eleven","elf","eligible","eligibly","eliminate","elite","elitism","elixir","elk","ellipse","elliptic","elm","elongated","elope","eloquence","eloquent","elsewhere","elude","elusive","elves","email","embargo","embark","embassy","embattled","embellish","ember","embezzle","emblaze","emblem","embody","embolism","emboss","embroider","emcee","emerald","emergency","emission","emit","emote","emoticon","emotion","empathic","empathy","emperor","emphases","emphasis","emphasize","emphatic","empirical","employed","employee","employer","emporium","empower","emptier","emptiness","empty","emu","enable","enactment","enamel","enchanted","enchilada","encircle","enclose","enclosure","encode","encore","encounter","encourage","encroach","encrust","encrypt","endanger","endeared","endearing","ended","ending","endless","endnote","endocrine","endorphin","endorse","endowment","endpoint","endurable","endurance","enduring","energetic","energize","energy","enforced","enforcer","engaged","engaging","engine","engorge","engraved","engraver","engraving","engross","engulf","enhance","enigmatic","enjoyable","enjoyably","enjoyer","enjoying","enjoyment","enlarged","enlarging","enlighten","enlisted","enquirer","enrage","enrich","enroll","enslave","ensnare","ensure","entail","entangled","entering","entertain","enticing","entire","entitle","entity","entomb","entourage","entrap","entree","entrench","entrust","entryway","entwine","enunciate","envelope","enviable","enviably","envious","envision","envoy","envy","enzyme","epic","epidemic","epidermal","epidermis","epidural","epilepsy","epileptic","epilogue","epiphany","episode","equal","equate","equation","equator","equinox","equipment","equity","equivocal","eradicate","erasable","erased","eraser","erasure","ergonomic","errand","errant","erratic","error","erupt","escalate","escalator","escapable","escapade","escapist","escargot","eskimo","esophagus","espionage","espresso","esquire","essay","essence","essential","establish","estate","esteemed","estimate","estimator","estranged","estrogen","etching","eternal","eternity","ethanol","ether","ethically","ethics","euphemism","evacuate","evacuee","evade","evaluate","evaluator","evaporate","evasion","evasive","even","everglade","evergreen","everybody","everyday","everyone","evict","evidence","evident","evil","evoke","evolution","evolve","exact","exalted","example","excavate","excavator","exceeding","exception","excess","exchange","excitable","exciting","exclaim","exclude","excluding","exclusion","exclusive","excretion","excretory","excursion","excusable","excusably","excuse","exemplary","exemplify","exemption","exerciser","exert","exes","exfoliate","exhale","exhaust","exhume","exile","existing","exit","exodus","exonerate","exorcism","exorcist","expand","expanse","expansion","expansive","expectant","expedited","expediter","expel","expend","expenses","expensive","expert","expire","expiring","explain","expletive","explicit","explode","exploit","explore","exploring","exponent","exporter","exposable","expose","exposure","express","expulsion","exquisite","extended","extending","extent","extenuate","exterior","external","extinct","extortion","extradite","extras","extrovert","extrude","extruding","exuberant","fable","fabric","fabulous","facebook","facecloth","facedown","faceless","facelift","faceplate","faceted","facial","facility","facing","facsimile","faction","factoid","factor","factsheet","factual","faculty","fade","fading","failing","falcon","fall","false","falsify","fame","familiar","family","famine","famished","fanatic","fancied","fanciness","fancy","fanfare","fang","fanning","fantasize","fantastic","fantasy","fascism","fastball","faster","fasting","fastness","faucet","favorable","favorably","favored","favoring","favorite","fax","feast","federal","fedora","feeble","feed","feel","feisty","feline","felt-tip","feminine","feminism","feminist","feminize","femur","fence","fencing","fender","ferment","fernlike","ferocious","ferocity","ferret","ferris","ferry","fervor","fester","festival","festive","festivity","fetal","fetch","fever","fiber","fiction","fiddle","fiddling","fidelity","fidgeting","fidgety","fifteen","fifth","fiftieth","fifty","figment","figure","figurine","filing","filled","filler","filling","film","filter","filth","filtrate","finale","finalist","finalize","finally","finance","financial","finch","fineness","finer","finicky","finished","finisher","finishing","finite","finless","finlike","fiscally","fit","five","flaccid","flagman","flagpole","flagship","flagstick","flagstone","flail","flakily","flaky","flame","flammable","flanked","flanking","flannels","flap","flaring","flashback","flashbulb","flashcard","flashily","flashing","flashy","flask","flatbed","flatfoot","flatly","flatness","flatten","flattered","flatterer","flattery","flattop","flatware","flatworm","flavored","flavorful","flavoring","flaxseed","fled","fleshed","fleshy","flick","flier","flight","flinch","fling","flint","flip","flirt","float","flock","flogging","flop","floral","florist","floss","flounder","flyable","flyaway","flyer","flying","flyover","flypaper","foam","foe","fog","foil","folic","folk","follicle","follow","fondling","fondly","fondness","fondue","font","food","fool","footage","football","footbath","footboard","footer","footgear","foothill","foothold","footing","footless","footman","footnote","footpad","footpath","footprint","footrest","footsie","footsore","footwear","footwork","fossil","foster","founder","founding","fountain","fox","foyer","fraction","fracture","fragile","fragility","fragment","fragrance","fragrant","frail","frame","framing","frantic","fraternal","frayed","fraying","frays","freckled","freckles","freebase","freebee","freebie","freedom","freefall","freehand","freeing","freeload","freely","freemason","freeness","freestyle","freeware","freeway","freewill","freezable","freezing","freight","french","frenzied","frenzy","frequency","frequent","fresh","fretful","fretted","friction","friday","fridge","fried","friend","frighten","frightful","frigidity","frigidly","frill","fringe","frisbee","frisk","fritter","frivolous","frolic","from","front","frostbite","frosted","frostily","frosting","frostlike","frosty","froth","frown","frozen","fructose","frugality","frugally","fruit","frustrate","frying","gab","gaffe","gag","gainfully","gaining","gains","gala","gallantly","galleria","gallery","galley","gallon","gallows","gallstone","galore","galvanize","gambling","game","gaming","gamma","gander","gangly","gangrene","gangway","gap","garage","garbage","garden","gargle","garland","garlic","garment","garnet","garnish","garter","gas","gatherer","gathering","gating","gauging","gauntlet","gauze","gave","gawk","gazing","gear","gecko","geek","geiger","gem","gender","generic","generous","genetics","genre","gentile","gentleman","gently","gents","geography","geologic","geologist","geology","geometric","geometry","geranium","gerbil","geriatric","germicide","germinate","germless","germproof","gestate","gestation","gesture","getaway","getting","getup","giant","gibberish","giblet","giddily","giddiness","giddy","gift","gigabyte","gigahertz","gigantic","giggle","giggling","giggly","gigolo","gilled","gills","gimmick","girdle","giveaway","given","giver","giving","gizmo","gizzard","glacial","glacier","glade","gladiator","gladly","glamorous","glamour","glance","glancing","glandular","glare","glaring","glass","glaucoma","glazing","gleaming","gleeful","glider","gliding","glimmer","glimpse","glisten","glitch","glitter","glitzy","gloater","gloating","gloomily","gloomy","glorified","glorifier","glorify","glorious","glory","gloss","glove","glowing","glowworm","glucose","glue","gluten","glutinous","glutton","gnarly","gnat","goal","goatskin","goes","goggles","going","goldfish","goldmine","goldsmith","golf","goliath","gonad","gondola","gone","gong","good","gooey","goofball","goofiness","goofy","google","goon","gopher","gore","gorged","gorgeous","gory","gosling","gossip","gothic","gotten","gout","gown","grab","graceful","graceless","gracious","gradation","graded","grader","gradient","grading","gradually","graduate","graffiti","grafted","grafting","grain","granddad","grandkid","grandly","grandma","grandpa","grandson","granite","granny","granola","grant","granular","grape","graph","grapple","grappling","grasp","grass","gratified","gratify","grating","gratitude","gratuity","gravel","graveness","graves","graveyard","gravitate","gravity","gravy","gray","grazing","greasily","greedily","greedless","greedy","green","greeter","greeting","grew","greyhound","grid","grief","grievance","grieving","grievous","grill","grimace","grimacing","grime","griminess","grimy","grinch","grinning","grip","gristle","grit","groggily","groggy","groin","groom","groove","grooving","groovy","grope","ground","grouped","grout","grove","grower","growing","growl","grub","grudge","grudging","grueling","gruffly","grumble","grumbling","grumbly","grumpily","grunge","grunt","guacamole","guidable","guidance","guide","guiding","guileless","guise","gulf","gullible","gully","gulp","gumball","gumdrop","gumminess","gumming","gummy","gurgle","gurgling","guru","gush","gusto","gusty","gutless","guts","gutter","guy","guzzler","gyration","habitable","habitant","habitat","habitual","hacked","hacker","hacking","hacksaw","had","haggler","haiku","half","halogen","halt","halved","halves","hamburger","hamlet","hammock","hamper","hamster","hamstring","handbag","handball","handbook","handbrake","handcart","handclap","handclasp","handcraft","handcuff","handed","handful","handgrip","handgun","handheld","handiness","handiwork","handlebar","handled","handler","handling","handmade","handoff","handpick","handprint","handrail","handsaw","handset","handsfree","handshake","handstand","handwash","handwork","handwoven","handwrite","handyman","hangnail","hangout","hangover","hangup","hankering","hankie","hanky","haphazard","happening","happier","happiest","happily","happiness","happy","harbor","hardcopy","hardcore","hardcover","harddisk","hardened","hardener","hardening","hardhat","hardhead","hardiness","hardly","hardness","hardship","hardware","hardwired","hardwood","hardy","harmful","harmless","harmonica","harmonics","harmonize","harmony","harness","harpist","harsh","harvest","hash","hassle","haste","hastily","hastiness","hasty","hatbox","hatchback","hatchery","hatchet","hatching","hatchling","hate","hatless","hatred","haunt","haven","hazard","hazelnut","hazily","haziness","hazing","hazy","headache","headband","headboard","headcount","headdress","headed","header","headfirst","headgear","heading","headlamp","headless","headlock","headphone","headpiece","headrest","headroom","headscarf","headset","headsman","headstand","headstone","headway","headwear","heap","heat","heave","heavily","heaviness","heaving","hedge","hedging","heftiness","hefty","helium","helmet","helper","helpful","helping","helpless","helpline","hemlock","hemstitch","hence","henchman","henna","herald","herbal","herbicide","herbs","heritage","hermit","heroics","heroism","herring","herself","hertz","hesitancy","hesitant","hesitate","hexagon","hexagram","hubcap","huddle","huddling","huff","hug","hula","hulk","hull","human","humble","humbling","humbly","humid","humiliate","humility","humming","hummus","humongous","humorist","humorless","humorous","humpback","humped","humvee","hunchback","hundredth","hunger","hungrily","hungry","hunk","hunter","hunting","huntress","huntsman","hurdle","hurled","hurler","hurling","hurray","hurricane","hurried","hurry","hurt","husband","hush","husked","huskiness","hut","hybrid","hydrant","hydrated","hydration","hydrogen","hydroxide","hyperlink","hypertext","hyphen","hypnoses","hypnosis","hypnotic","hypnotism","hypnotist","hypnotize","hypocrisy","hypocrite","ibuprofen","ice","iciness","icing","icky","icon","icy","idealism","idealist","idealize","ideally","idealness","identical","identify","identity","ideology","idiocy","idiom","idly","igloo","ignition","ignore","iguana","illicitly","illusion","illusive","image","imaginary","imagines","imaging","imbecile","imitate","imitation","immature","immerse","immersion","imminent","immobile","immodest","immorally","immortal","immovable","immovably","immunity","immunize","impaired","impale","impart","impatient","impeach","impeding","impending","imperfect","imperial","impish","implant","implement","implicate","implicit","implode","implosion","implosive","imply","impolite","important","importer","impose","imposing","impotence","impotency","impotent","impound","imprecise","imprint","imprison","impromptu","improper","improve","improving","improvise","imprudent","impulse","impulsive","impure","impurity","iodine","iodize","ion","ipad","iphone","ipod","irate","irk","iron","irregular","irrigate","irritable","irritably","irritant","irritate","islamic","islamist","isolated","isolating","isolation","isotope","issue","issuing","italicize","italics","item","itinerary","itunes","ivory","ivy","jab","jackal","jacket","jackknife","jackpot","jailbird","jailbreak","jailer","jailhouse","jalapeno","jam","janitor","january","jargon","jarring","jasmine","jaundice","jaunt","java","jawed","jawless","jawline","jaws","jaybird","jaywalker","jazz","jeep","jeeringly","jellied","jelly","jersey","jester","jet","jiffy","jigsaw","jimmy","jingle","jingling","jinx","jitters","jittery","job","jockey","jockstrap","jogger","jogging","john","joining","jokester","jokingly","jolliness","jolly","jolt","jot","jovial","joyfully","joylessly","joyous","joyride","joystick","jubilance","jubilant","judge","judgingly","judicial","judiciary","judo","juggle","juggling","jugular","juice","juiciness","juicy","jujitsu","jukebox","july","jumble","jumbo","jump","junction","juncture","june","junior","juniper","junkie","junkman","junkyard","jurist","juror","jury","justice","justifier","justify","justly","justness","juvenile","kabob","kangaroo","karaoke","karate","karma","kebab","keenly","keenness","keep","keg","kelp","kennel","kept","kerchief","kerosene","kettle","kick","kiln","kilobyte","kilogram","kilometer","kilowatt","kilt","kimono","kindle","kindling","kindly","kindness","kindred","kinetic","kinfolk","king","kinship","kinsman","kinswoman","kissable","kisser","kissing","kitchen","kite","kitten","kitty","kiwi","kleenex","knapsack","knee","knelt","knickers","knoll","koala","kooky","kosher","krypton","kudos","kung","labored","laborer","laboring","laborious","labrador","ladder","ladies","ladle","ladybug","ladylike","lagged","lagging","lagoon","lair","lake","lance","landed","landfall","landfill","landing","landlady","landless","landline","landlord","landmark","landmass","landmine","landowner","landscape","landside","landslide","language","lankiness","lanky","lantern","lapdog","lapel","lapped","lapping","laptop","lard","large","lark","lash","lasso","last","latch","late","lather","latitude","latrine","latter","latticed","launch","launder","laundry","laurel","lavender","lavish","laxative","lazily","laziness","lazy","lecturer","left","legacy","legal","legend","legged","leggings","legible","legibly","legislate","lego","legroom","legume","legwarmer","legwork","lemon","lend","length","lens","lent","leotard","lesser","letdown","lethargic","lethargy","letter","lettuce","level","leverage","levers","levitate","levitator","liability","liable","liberty","librarian","library","licking","licorice","lid","life","lifter","lifting","liftoff","ligament","likely","likeness","likewise","liking","lilac","lilly","lily","limb","limeade","limelight","limes","limit","limping","limpness","line","lingo","linguini","linguist","lining","linked","linoleum","linseed","lint","lion","lip","liquefy","liqueur","liquid","lisp","list","litigate","litigator","litmus","litter","little","livable","lived","lively","liver","livestock","lividly","living","lizard","lubricant","lubricate","lucid","luckily","luckiness","luckless","lucrative","ludicrous","lugged","lukewarm","lullaby","lumber","luminance","luminous","lumpiness","lumping","lumpish","lunacy","lunar","lunchbox","luncheon","lunchroom","lunchtime","lung","lurch","lure","luridness","lurk","lushly","lushness","luster","lustfully","lustily","lustiness","lustrous","lusty","luxurious","luxury","lying","lyrically","lyricism","lyricist","lyrics","macarena","macaroni","macaw","mace","machine","machinist","magazine","magenta","maggot","magical","magician","magma","magnesium","magnetic","magnetism","magnetize","magnifier","magnify","magnitude","magnolia","mahogany","maimed","majestic","majesty","majorette","majority","makeover","maker","makeshift","making","malformed","malt","mama","mammal","mammary","mammogram","manager","managing","manatee","mandarin","mandate","mandatory","mandolin","manger","mangle","mango","mangy","manhandle","manhole","manhood","manhunt","manicotti","manicure","manifesto","manila","mankind","manlike","manliness","manly","manmade","manned","mannish","manor","manpower","mantis","mantra","manual","many","map","marathon","marauding","marbled","marbles","marbling","march","mardi","margarine","margarita","margin","marigold","marina","marine","marital","maritime","marlin","marmalade","maroon","married","marrow","marry","marshland","marshy","marsupial","marvelous","marxism","mascot","masculine","mashed","mashing","massager","masses","massive","mastiff","matador","matchbook","matchbox","matcher","matching","matchless","material","maternal","maternity","math","mating","matriarch","matrimony","matrix","matron","matted","matter","maturely","maturing","maturity","mauve","maverick","maximize","maximum","maybe","mayday","mayflower","moaner","moaning","mobile","mobility","mobilize","mobster","mocha","mocker","mockup","modified","modify","modular","modulator","module","moisten","moistness","moisture","molar","molasses","mold","molecular","molecule","molehill","mollusk","mom","monastery","monday","monetary","monetize","moneybags","moneyless","moneywise","mongoose","mongrel","monitor","monkhood","monogamy","monogram","monologue","monopoly","monorail","monotone","monotype","monoxide","monsieur","monsoon","monstrous","monthly","monument","moocher","moodiness","moody","mooing","moonbeam","mooned","moonlight","moonlike","moonlit","moonrise","moonscape","moonshine","moonstone","moonwalk","mop","morale","morality","morally","morbidity","morbidly","morphine","morphing","morse","mortality","mortally","mortician","mortified","mortify","mortuary","mosaic","mossy","most","mothball","mothproof","motion","motivate","motivator","motive","motocross","motor","motto","mountable","mountain","mounted","mounting","mourner","mournful","mouse","mousiness","moustache","mousy","mouth","movable","move","movie","moving","mower","mowing","much","muck","mud","mug","mulberry","mulch","mule","mulled","mullets","multiple","multiply","multitask","multitude","mumble","mumbling","mumbo","mummified","mummify","mummy","mumps","munchkin","mundane","municipal","muppet","mural","murkiness","murky","murmuring","muscular","museum","mushily","mushiness","mushroom","mushy","music","musket","muskiness","musky","mustang","mustard","muster","mustiness","musty","mutable","mutate","mutation","mute","mutilated","mutilator","mutiny","mutt","mutual","muzzle","myself","myspace","mystified","mystify","myth","nacho","nag","nail","name","naming","nanny","nanometer","nape","napkin","napped","napping","nappy","narrow","nastily","nastiness","national","native","nativity","natural","nature","naturist","nautical","navigate","navigator","navy","nearby","nearest","nearly","nearness","neatly","neatness","nebula","nebulizer","nectar","negate","negation","negative","neglector","negligee","negligent","negotiate","nemeses","nemesis","neon","nephew","nerd","nervous","nervy","nest","net","neurology","neuron","neurosis","neurotic","neuter","neutron","never","next","nibble","nickname","nicotine","niece","nifty","nimble","nimbly","nineteen","ninetieth","ninja","nintendo","ninth","nuclear","nuclei","nucleus","nugget","nullify","number","numbing","numbly","numbness","numeral","numerate","numerator","numeric","numerous","nuptials","nursery","nursing","nurture","nutcase","nutlike","nutmeg","nutrient","nutshell","nuttiness","nutty","nuzzle","nylon","oaf","oak","oasis","oat","obedience","obedient","obituary","object","obligate","obliged","oblivion","oblivious","oblong","obnoxious","oboe","obscure","obscurity","observant","observer","observing","obsessed","obsession","obsessive","obsolete","obstacle","obstinate","obstruct","obtain","obtrusive","obtuse","obvious","occultist","occupancy","occupant","occupier","occupy","ocean","ocelot","octagon","octane","october","octopus","ogle","oil","oink","ointment","okay","old","olive","olympics","omega","omen","ominous","omission","omit","omnivore","onboard","oncoming","ongoing","onion","online","onlooker","only","onscreen","onset","onshore","onslaught","onstage","onto","onward","onyx","oops","ooze","oozy","opacity","opal","open","operable","operate","operating","operation","operative","operator","opium","opossum","opponent","oppose","opposing","opposite","oppressed","oppressor","opt","opulently","osmosis","other","otter","ouch","ought","ounce","outage","outback","outbid","outboard","outbound","outbreak","outburst","outcast","outclass","outcome","outdated","outdoors","outer","outfield","outfit","outflank","outgoing","outgrow","outhouse","outing","outlast","outlet","outline","outlook","outlying","outmatch","outmost","outnumber","outplayed","outpost","outpour","output","outrage","outrank","outreach","outright","outscore","outsell","outshine","outshoot","outsider","outskirts","outsmart","outsource","outspoken","outtakes","outthink","outward","outweigh","outwit","oval","ovary","oven","overact","overall","overarch","overbid","overbill","overbite","overblown","overboard","overbook","overbuilt","overcast","overcoat","overcome","overcook","overcrowd","overdraft","overdrawn","overdress","overdrive","overdue","overeager","overeater","overexert","overfed","overfeed","overfill","overflow","overfull","overgrown","overhand","overhang","overhaul","overhead","overhear","overheat","overhung","overjoyed","overkill","overlabor","overlaid","overlap","overlay","overload","overlook","overlord","overlying","overnight","overpass","overpay","overplant","overplay","overpower","overprice","overrate","overreach","overreact","override","overripe","overrule","overrun","overshoot","overshot","oversight","oversized","oversleep","oversold","overspend","overstate","overstay","overstep","overstock","overstuff","oversweet","overtake","overthrow","overtime","overtly","overtone","overture","overturn","overuse","overvalue","overview","overwrite","owl","oxford","oxidant","oxidation","oxidize","oxidizing","oxygen","oxymoron","oyster","ozone","paced","pacemaker","pacific","pacifier","pacifism","pacifist","pacify","padded","padding","paddle","paddling","padlock","pagan","pager","paging","pajamas","palace","palatable","palm","palpable","palpitate","paltry","pampered","pamperer","pampers","pamphlet","panama","pancake","pancreas","panda","pandemic","pang","panhandle","panic","panning","panorama","panoramic","panther","pantomime","pantry","pants","pantyhose","paparazzi","papaya","paper","paprika","papyrus","parabola","parachute","parade","paradox","paragraph","parakeet","paralegal","paralyses","paralysis","paralyze","paramedic","parameter","paramount","parasail","parasite","parasitic","parcel","parched","parchment","pardon","parish","parka","parking","parkway","parlor","parmesan","parole","parrot","parsley","parsnip","partake","parted","parting","partition","partly","partner","partridge","party","passable","passably","passage","passcode","passenger","passerby","passing","passion","passive","passivism","passover","passport","password","pasta","pasted","pastel","pastime","pastor","pastrami","pasture","pasty","patchwork","patchy","paternal","paternity","path","patience","patient","patio","patriarch","patriot","patrol","patronage","patronize","pauper","pavement","paver","pavestone","pavilion","paving","pawing","payable","payback","paycheck","payday","payee","payer","paying","payment","payphone","payroll","pebble","pebbly","pecan","pectin","peculiar","peddling","pediatric","pedicure","pedigree","pedometer","pegboard","pelican","pellet","pelt","pelvis","penalize","penalty","pencil","pendant","pending","penholder","penknife","pennant","penniless","penny","penpal","pension","pentagon","pentagram","pep","perceive","percent","perch","percolate","perennial","perfected","perfectly","perfume","periscope","perish","perjurer","perjury","perkiness","perky","perm","peroxide","perpetual","perplexed","persecute","persevere","persuaded","persuader","pesky","peso","pessimism","pessimist","pester","pesticide","petal","petite","petition","petri","petroleum","petted","petticoat","pettiness","petty","petunia","phantom","phobia","phoenix","phonebook","phoney","phonics","phoniness","phony","phosphate","photo","phrase","phrasing","placard","placate","placidly","plank","planner","plant","plasma","plaster","plastic","plated","platform","plating","platinum","platonic","platter","platypus","plausible","plausibly","playable","playback","player","playful","playgroup","playhouse","playing","playlist","playmaker","playmate","playoff","playpen","playroom","playset","plaything","playtime","plaza","pleading","pleat","pledge","plentiful","plenty","plethora","plexiglas","pliable","plod","plop","plot","plow","ploy","pluck","plug","plunder","plunging","plural","plus","plutonium","plywood","poach","pod","poem","poet","pogo","pointed","pointer","pointing","pointless","pointy","poise","poison","poker","poking","polar","police","policy","polio","polish","politely","polka","polo","polyester","polygon","polygraph","polymer","poncho","pond","pony","popcorn","pope","poplar","popper","poppy","popsicle","populace","popular","populate","porcupine","pork","porous","porridge","portable","portal","portfolio","porthole","portion","portly","portside","poser","posh","posing","possible","possibly","possum","postage","postal","postbox","postcard","posted","poster","posting","postnasal","posture","postwar","pouch","pounce","pouncing","pound","pouring","pout","powdered","powdering","powdery","power","powwow","pox","praising","prance","prancing","pranker","prankish","prankster","prayer","praying","preacher","preaching","preachy","preamble","precinct","precise","precision","precook","precut","predator","predefine","predict","preface","prefix","preflight","preformed","pregame","pregnancy","pregnant","preheated","prelaunch","prelaw","prelude","premiere","premises","premium","prenatal","preoccupy","preorder","prepaid","prepay","preplan","preppy","preschool","prescribe","preseason","preset","preshow","president","presoak","press","presume","presuming","preteen","pretended","pretender","pretense","pretext","pretty","pretzel","prevail","prevalent","prevent","preview","previous","prewar","prewashed","prideful","pried","primal","primarily","primary","primate","primer","primp","princess","print","prior","prism","prison","prissy","pristine","privacy","private","privatize","prize","proactive","probable","probably","probation","probe","probing","probiotic","problem","procedure","process","proclaim","procreate","procurer","prodigal","prodigy","produce","product","profane","profanity","professed","professor","profile","profound","profusely","progeny","prognosis","program","progress","projector","prologue","prolonged","promenade","prominent","promoter","promotion","prompter","promptly","prone","prong","pronounce","pronto","proofing","proofread","proofs","propeller","properly","property","proponent","proposal","propose","props","prorate","protector","protegee","proton","prototype","protozoan","protract","protrude","proud","provable","proved","proven","provided","provider","providing","province","proving","provoke","provoking","provolone","prowess","prowler","prowling","proximity","proxy","prozac","prude","prudishly","prune","pruning","pry","psychic","public","publisher","pucker","pueblo","pug","pull","pulmonary","pulp","pulsate","pulse","pulverize","puma","pumice","pummel","punch","punctual","punctuate","punctured","pungent","punisher","punk","pupil","puppet","puppy","purchase","pureblood","purebred","purely","pureness","purgatory","purge","purging","purifier","purify","purist","puritan","purity","purple","purplish","purposely","purr","purse","pursuable","pursuant","pursuit","purveyor","pushcart","pushchair","pusher","pushiness","pushing","pushover","pushpin","pushup","pushy","putdown","putt","puzzle","puzzling","pyramid","pyromania","python","quack","quadrant","quail","quaintly","quake","quaking","qualified","qualifier","qualify","quality","qualm","quantum","quarrel","quarry","quartered","quarterly","quarters","quartet","quench","query","quicken","quickly","quickness","quicksand","quickstep","quiet","quill","quilt","quintet","quintuple","quirk","quit","quiver","quizzical","quotable","quotation","quote","rabid","race","racing","racism","rack","racoon","radar","radial","radiance","radiantly","radiated","radiation","radiator","radio","radish","raffle","raft","rage","ragged","raging","ragweed","raider","railcar","railing","railroad","railway","raisin","rake","raking","rally","ramble","rambling","ramp","ramrod","ranch","rancidity","random","ranged","ranger","ranging","ranked","ranking","ransack","ranting","rants","rare","rarity","rascal","rash","rasping","ravage","raven","ravine","raving","ravioli","ravishing","reabsorb","reach","reacquire","reaction","reactive","reactor","reaffirm","ream","reanalyze","reappear","reapply","reappoint","reapprove","rearrange","rearview","reason","reassign","reassure","reattach","reawake","rebalance","rebate","rebel","rebirth","reboot","reborn","rebound","rebuff","rebuild","rebuilt","reburial","rebuttal","recall","recant","recapture","recast","recede","recent","recess","recharger","recipient","recital","recite","reckless","reclaim","recliner","reclining","recluse","reclusive","recognize","recoil","recollect","recolor","reconcile","reconfirm","reconvene","recopy","record","recount","recoup","recovery","recreate","rectal","rectangle","rectified","rectify","recycled","recycler","recycling","reemerge","reenact","reenter","reentry","reexamine","referable","referee","reference","refill","refinance","refined","refinery","refining","refinish","reflected","reflector","reflex","reflux","refocus","refold","reforest","reformat","reformed","reformer","reformist","refract","refrain","refreeze","refresh","refried","refueling","refund","refurbish","refurnish","refusal","refuse","refusing","refutable","refute","regain","regalia","regally","reggae","regime","region","register","registrar","registry","regress","regretful","regroup","regular","regulate","regulator","rehab","reheat","rehire","rehydrate","reimburse","reissue","reiterate","rejoice","rejoicing","rejoin","rekindle","relapse","relapsing","relatable","related","relation","relative","relax","relay","relearn","release","relenting","reliable","reliably","reliance","reliant","relic","relieve","relieving","relight","relish","relive","reload","relocate","relock","reluctant","rely","remake","remark","remarry","rematch","remedial","remedy","remember","reminder","remindful","remission","remix","remnant","remodeler","remold","remorse","remote","removable","removal","removed","remover","removing","rename","renderer","rendering","rendition","renegade","renewable","renewably","renewal","renewed","renounce","renovate","renovator","rentable","rental","rented","renter","reoccupy","reoccur","reopen","reorder","repackage","repacking","repaint","repair","repave","repaying","repayment","repeal","repeated","repeater","repent","rephrase","replace","replay","replica","reply","reporter","repose","repossess","repost","repressed","reprimand","reprint","reprise","reproach","reprocess","reproduce","reprogram","reps","reptile","reptilian","repugnant","repulsion","repulsive","repurpose","reputable","reputably","request","require","requisite","reroute","rerun","resale","resample","rescuer","reseal","research","reselect","reseller","resemble","resend","resent","reset","reshape","reshoot","reshuffle","residence","residency","resident","residual","residue","resigned","resilient","resistant","resisting","resize","resolute","resolved","resonant","resonate","resort","resource","respect","resubmit","result","resume","resupply","resurface","resurrect","retail","retainer","retaining","retake","retaliate","retention","rethink","retinal","retired","retiree","retiring","retold","retool","retorted","retouch","retrace","retract","retrain","retread","retreat","retrial","retrieval","retriever","retry","return","retying","retype","reunion","reunite","reusable","reuse","reveal","reveler","revenge","revenue","reverb","revered","reverence","reverend","reversal","reverse","reversing","reversion","revert","revisable","revise","revision","revisit","revivable","revival","reviver","reviving","revocable","revoke","revolt","revolver","revolving","reward","rewash","rewind","rewire","reword","rework","rewrap","rewrite","rhyme","ribbon","ribcage","rice","riches","richly","richness","rickety","ricotta","riddance","ridden","ride","riding","rifling","rift","rigging","rigid","rigor","rimless","rimmed","rind","rink","rinse","rinsing","riot","ripcord","ripeness","ripening","ripping","ripple","rippling","riptide","rise","rising","risk","risotto","ritalin","ritzy","rival","riverbank","riverbed","riverboat","riverside","riveter","riveting","roamer","roaming","roast","robbing","robe","robin","robotics","robust","rockband","rocker","rocket","rockfish","rockiness","rocking","rocklike","rockslide","rockstar","rocky","rogue","roman","romp","rope","roping","roster","rosy","rotten","rotting","rotunda","roulette","rounding","roundish","roundness","roundup","roundworm","routine","routing","rover","roving","royal","rubbed","rubber","rubbing","rubble","rubdown","ruby","ruckus","rudder","rug","ruined","rule","rumble","rumbling","rummage","rumor","runaround","rundown","runner","running","runny","runt","runway","rupture","rural","ruse","rush","rust","rut","sabbath","sabotage","sacrament","sacred","sacrifice","sadden","saddlebag","saddled","saddling","sadly","sadness","safari","safeguard","safehouse","safely","safeness","saffron","saga","sage","sagging","saggy","said","saint","sake","salad","salami","salaried","salary","saline","salon","saloon","salsa","salt","salutary","salute","salvage","salvaging","salvation","same","sample","sampling","sanction","sanctity","sanctuary","sandal","sandbag","sandbank","sandbar","sandblast","sandbox","sanded","sandfish","sanding","sandlot","sandpaper","sandpit","sandstone","sandstorm","sandworm","sandy","sanitary","sanitizer","sank","santa","sapling","sappiness","sappy","sarcasm","sarcastic","sardine","sash","sasquatch","sassy","satchel","satiable","satin","satirical","satisfied","satisfy","saturate","saturday","sauciness","saucy","sauna","savage","savanna","saved","savings","savior","savor","saxophone","say","scabbed","scabby","scalded","scalding","scale","scaling","scallion","scallop","scalping","scam","scandal","scanner","scanning","scant","scapegoat","scarce","scarcity","scarecrow","scared","scarf","scarily","scariness","scarring","scary","scavenger","scenic","schedule","schematic","scheme","scheming","schilling","schnapps","scholar","science","scientist","scion","scoff","scolding","scone","scoop","scooter","scope","scorch","scorebook","scorecard","scored","scoreless","scorer","scoring","scorn","scorpion","scotch","scoundrel","scoured","scouring","scouting","scouts","scowling","scrabble","scraggly","scrambled","scrambler","scrap","scratch","scrawny","screen","scribble","scribe","scribing","scrimmage","script","scroll","scrooge","scrounger","scrubbed","scrubber","scruffy","scrunch","scrutiny","scuba","scuff","sculptor","sculpture","scurvy","scuttle","secluded","secluding","seclusion","second","secrecy","secret","sectional","sector","secular","securely","security","sedan","sedate","sedation","sedative","sediment","seduce","seducing","segment","seismic","seizing","seldom","selected","selection","selective","selector","self","seltzer","semantic","semester","semicolon","semifinal","seminar","semisoft","semisweet","senate","senator","send","senior","senorita","sensation","sensitive","sensitize","sensually","sensuous","sepia","september","septic","septum","sequel","sequence","sequester","series","sermon","serotonin","serpent","serrated","serve","service","serving","sesame","sessions","setback","setting","settle","settling","setup","sevenfold","seventeen","seventh","seventy","severity","shabby","shack","shaded","shadily","shadiness","shading","shadow","shady","shaft","shakable","shakily","shakiness","shaking","shaky","shale","shallot","shallow","shame","shampoo","shamrock","shank","shanty","shape","shaping","share","sharpener","sharper","sharpie","sharply","sharpness","shawl","sheath","shed","sheep","sheet","shelf","shell","shelter","shelve","shelving","sherry","shield","shifter","shifting","shiftless","shifty","shimmer","shimmy","shindig","shine","shingle","shininess","shining","shiny","ship","shirt","shivering","shock","shone","shoplift","shopper","shopping","shoptalk","shore","shortage","shortcake","shortcut","shorten","shorter","shorthand","shortlist","shortly","shortness","shorts","shortwave","shorty","shout","shove","showbiz","showcase","showdown","shower","showgirl","showing","showman","shown","showoff","showpiece","showplace","showroom","showy","shrank","shrapnel","shredder","shredding","shrewdly","shriek","shrill","shrimp","shrine","shrink","shrivel","shrouded","shrubbery","shrubs","shrug","shrunk","shucking","shudder","shuffle","shuffling","shun","shush","shut","shy","siamese","siberian","sibling","siding","sierra","siesta","sift","sighing","silenced","silencer","silent","silica","silicon","silk","silliness","silly","silo","silt","silver","similarly","simile","simmering","simple","simplify","simply","sincere","sincerity","singer","singing","single","singular","sinister","sinless","sinner","sinuous","sip","siren","sister","sitcom","sitter","sitting","situated","situation","sixfold","sixteen","sixth","sixties","sixtieth","sixtyfold","sizable","sizably","size","sizing","sizzle","sizzling","skater","skating","skedaddle","skeletal","skeleton","skeptic","sketch","skewed","skewer","skid","skied","skier","skies","skiing","skilled","skillet","skillful","skimmed","skimmer","skimming","skimpily","skincare","skinhead","skinless","skinning","skinny","skintight","skipper","skipping","skirmish","skirt","skittle","skydiver","skylight","skyline","skype","skyrocket","skyward","slab","slacked","slacker","slacking","slackness","slacks","slain","slam","slander","slang","slapping","slapstick","slashed","slashing","slate","slather","slaw","sled","sleek","sleep","sleet","sleeve","slept","sliceable","sliced","slicer","slicing","slick","slider","slideshow","sliding","slighted","slighting","slightly","slimness","slimy","slinging","slingshot","slinky","slip","slit","sliver","slobbery","slogan","sloped","sloping","sloppily","sloppy","slot","slouching","slouchy","sludge","slug","slum","slurp","slush","sly","small","smartly","smartness","smasher","smashing","smashup","smell","smelting","smile","smilingly","smirk","smite","smith","smitten","smock","smog","smoked","smokeless","smokiness","smoking","smoky","smolder","smooth","smother","smudge","smudgy","smuggler","smuggling","smugly","smugness","snack","snagged","snaking","snap","snare","snarl","snazzy","sneak","sneer","sneeze","sneezing","snide","sniff","snippet","snipping","snitch","snooper","snooze","snore","snoring","snorkel","snort","snout","snowbird","snowboard","snowbound","snowcap","snowdrift","snowdrop","snowfall","snowfield","snowflake","snowiness","snowless","snowman","snowplow","snowshoe","snowstorm","snowsuit","snowy","snub","snuff","snuggle","snugly","snugness","speak","spearfish","spearhead","spearman","spearmint","species","specimen","specked","speckled","specks","spectacle","spectator","spectrum","speculate","speech","speed","spellbind","speller","spelling","spendable","spender","spending","spent","spew","sphere","spherical","sphinx","spider","spied","spiffy","spill","spilt","spinach","spinal","spindle","spinner","spinning","spinout","spinster","spiny","spiral","spirited","spiritism","spirits","spiritual","splashed","splashing","splashy","splatter","spleen","splendid","splendor","splice","splicing","splinter","splotchy","splurge","spoilage","spoiled","spoiler","spoiling","spoils","spoken","spokesman","sponge","spongy","sponsor","spoof","spookily","spooky","spool","spoon","spore","sporting","sports","sporty","spotless","spotlight","spotted","spotter","spotting","spotty","spousal","spouse","spout","sprain","sprang","sprawl","spray","spree","sprig","spring","sprinkled","sprinkler","sprint","sprite","sprout","spruce","sprung","spry","spud","spur","sputter","spyglass","squabble","squad","squall","squander","squash","squatted","squatter","squatting","squeak","squealer","squealing","squeamish","squeegee","squeeze","squeezing","squid","squiggle","squiggly","squint","squire","squirt","squishier","squishy","stability","stabilize","stable","stack","stadium","staff","stage","staging","stagnant","stagnate","stainable","stained","staining","stainless","stalemate","staleness","stalling","stallion","stamina","stammer","stamp","stand","stank","staple","stapling","starboard","starch","stardom","stardust","starfish","stargazer","staring","stark","starless","starlet","starlight","starlit","starring","starry","starship","starter","starting","startle","startling","startup","starved","starving","stash","state","static","statistic","statue","stature","status","statute","statutory","staunch","stays","steadfast","steadier","steadily","steadying","steam","steed","steep","steerable","steering","steersman","stegosaur","stellar","stem","stench","stencil","step","stereo","sterile","sterility","sterilize","sterling","sternness","sternum","stew","stick","stiffen","stiffly","stiffness","stifle","stifling","stillness","stilt","stimulant","stimulate","stimuli","stimulus","stinger","stingily","stinging","stingray","stingy","stinking","stinky","stipend","stipulate","stir","stitch","stock","stoic","stoke","stole","stomp","stonewall","stoneware","stonework","stoning","stony","stood","stooge","stool","stoop","stoplight","stoppable","stoppage","stopped","stopper","stopping","stopwatch","storable","storage","storeroom","storewide","storm","stout","stove","stowaway","stowing","straddle","straggler","strained","strainer","straining","strangely","stranger","strangle","strategic","strategy","stratus","straw","stray","streak","stream","street","strength","strenuous","strep","stress","stretch","strewn","stricken","strict","stride","strife","strike","striking","strive","striving","strobe","strode","stroller","strongbox","strongly","strongman","struck","structure","strudel","struggle","strum","strung","strut","stubbed","stubble","stubbly","stubborn","stucco","stuck","student","studied","studio","study","stuffed","stuffing","stuffy","stumble","stumbling","stump","stung","stunned","stunner","stunning","stunt","stupor","sturdily","sturdy","styling","stylishly","stylist","stylized","stylus","suave","subarctic","subatomic","subdivide","subdued","subduing","subfloor","subgroup","subheader","subject","sublease","sublet","sublevel","sublime","submarine","submerge","submersed","submitter","subpanel","subpar","subplot","subprime","subscribe","subscript","subsector","subside","subsiding","subsidize","subsidy","subsoil","subsonic","substance","subsystem","subtext","subtitle","subtly","subtotal","subtract","subtype","suburb","subway","subwoofer","subzero","succulent","such","suction","sudden","sudoku","suds","sufferer","suffering","suffice","suffix","suffocate","suffrage","sugar","suggest","suing","suitable","suitably","suitcase","suitor","sulfate","sulfide","sulfite","sulfur","sulk","sullen","sulphate","sulphuric","sultry","superbowl","superglue","superhero","superior","superjet","superman","supermom","supernova","supervise","supper","supplier","supply","support","supremacy","supreme","surcharge","surely","sureness","surface","surfacing","surfboard","surfer","surgery","surgical","surging","surname","surpass","surplus","surprise","surreal","surrender","surrogate","surround","survey","survival","survive","surviving","survivor","sushi","suspect","suspend","suspense","sustained","sustainer","swab","swaddling","swagger","swampland","swan","swapping","swarm","sway","swear","sweat","sweep","swell","swept","swerve","swifter","swiftly","swiftness","swimmable","swimmer","swimming","swimsuit","swimwear","swinger","swinging","swipe","swirl","switch","swivel","swizzle","swooned","swoop","swoosh","swore","sworn","swung","sycamore","sympathy","symphonic","symphony","symptom","synapse","syndrome","synergy","synopses","synopsis","synthesis","synthetic","syrup","system","t-shirt","tabasco","tabby","tableful","tables","tablet","tableware","tabloid","tackiness","tacking","tackle","tackling","tacky","taco","tactful","tactical","tactics","tactile","tactless","tadpole","taekwondo","tag","tainted","take","taking","talcum","talisman","tall","talon","tamale","tameness","tamer","tamper","tank","tanned","tannery","tanning","tantrum","tapeless","tapered","tapering","tapestry","tapioca","tapping","taps","tarantula","target","tarmac","tarnish","tarot","tartar","tartly","tartness","task","tassel","taste","tastiness","tasting","tasty","tattered","tattle","tattling","tattoo","taunt","tavern","thank","that","thaw","theater","theatrics","thee","theft","theme","theology","theorize","thermal","thermos","thesaurus","these","thesis","thespian","thicken","thicket","thickness","thieving","thievish","thigh","thimble","thing","think","thinly","thinner","thinness","thinning","thirstily","thirsting","thirsty","thirteen","thirty","thong","thorn","those","thousand","thrash","thread","threaten","threefold","thrift","thrill","thrive","thriving","throat","throbbing","throng","throttle","throwaway","throwback","thrower","throwing","thud","thumb","thumping","thursday","thus","thwarting","thyself","tiara","tibia","tidal","tidbit","tidiness","tidings","tidy","tiger","tighten","tightly","tightness","tightrope","tightwad","tigress","tile","tiling","till","tilt","timid","timing","timothy","tinderbox","tinfoil","tingle","tingling","tingly","tinker","tinkling","tinsel","tinsmith","tint","tinwork","tiny","tipoff","tipped","tipper","tipping","tiptoeing","tiptop","tiring","tissue","trace","tracing","track","traction","tractor","trade","trading","tradition","traffic","tragedy","trailing","trailside","train","traitor","trance","tranquil","transfer","transform","translate","transpire","transport","transpose","trapdoor","trapeze","trapezoid","trapped","trapper","trapping","traps","trash","travel","traverse","travesty","tray","treachery","treading","treadmill","treason","treat","treble","tree","trekker","tremble","trembling","tremor","trench","trend","trespass","triage","trial","triangle","tribesman","tribunal","tribune","tributary","tribute","triceps","trickery","trickily","tricking","trickle","trickster","tricky","tricolor","tricycle","trident","tried","trifle","trifocals","trillion","trilogy","trimester","trimmer","trimming","trimness","trinity","trio","tripod","tripping","triumph","trivial","trodden","trolling","trombone","trophy","tropical","tropics","trouble","troubling","trough","trousers","trout","trowel","truce","truck","truffle","trump","trunks","trustable","trustee","trustful","trusting","trustless","truth","try","tubby","tubeless","tubular","tucking","tuesday","tug","tuition","tulip","tumble","tumbling","tummy","turban","turbine","turbofan","turbojet","turbulent","turf","turkey","turmoil","turret","turtle","tusk","tutor","tutu","tux","tweak","tweed","tweet","tweezers","twelve","twentieth","twenty","twerp","twice","twiddle","twiddling","twig","twilight","twine","twins","twirl","twistable","twisted","twister","twisting","twisty","twitch","twitter","tycoon","tying","tyke","udder","ultimate","ultimatum","ultra","umbilical","umbrella","umpire","unabashed","unable","unadorned","unadvised","unafraid","unaired","unaligned","unaltered","unarmored","unashamed","unaudited","unawake","unaware","unbaked","unbalance","unbeaten","unbend","unbent","unbiased","unbitten","unblended","unblessed","unblock","unbolted","unbounded","unboxed","unbraided","unbridle","unbroken","unbuckled","unbundle","unburned","unbutton","uncanny","uncapped","uncaring","uncertain","unchain","unchanged","uncharted","uncheck","uncivil","unclad","unclaimed","unclamped","unclasp","uncle","unclip","uncloak","unclog","unclothed","uncoated","uncoiled","uncolored","uncombed","uncommon","uncooked","uncork","uncorrupt","uncounted","uncouple","uncouth","uncover","uncross","uncrown","uncrushed","uncured","uncurious","uncurled","uncut","undamaged","undated","undaunted","undead","undecided","undefined","underage","underarm","undercoat","undercook","undercut","underdog","underdone","underfed","underfeed","underfoot","undergo","undergrad","underhand","underline","underling","undermine","undermost","underpaid","underpass","underpay","underrate","undertake","undertone","undertook","undertow","underuse","underwear","underwent","underwire","undesired","undiluted","undivided","undocked","undoing","undone","undrafted","undress","undrilled","undusted","undying","unearned","unearth","unease","uneasily","uneasy","uneatable","uneaten","unedited","unelected","unending","unengaged","unenvied","unequal","unethical","uneven","unexpired","unexposed","unfailing","unfair","unfasten","unfazed","unfeeling","unfiled","unfilled","unfitted","unfitting","unfixable","unfixed","unflawed","unfocused","unfold","unfounded","unframed","unfreeze","unfrosted","unfrozen","unfunded","unglazed","ungloved","unglue","ungodly","ungraded","ungreased","unguarded","unguided","unhappily","unhappy","unharmed","unhealthy","unheard","unhearing","unheated","unhelpful","unhidden","unhinge","unhitched","unholy","unhook","unicorn","unicycle","unified","unifier","uniformed","uniformly","unify","unimpeded","uninjured","uninstall","uninsured","uninvited","union","uniquely","unisexual","unison","unissued","unit","universal","universe","unjustly","unkempt","unkind","unknotted","unknowing","unknown","unlaced","unlatch","unlawful","unleaded","unlearned","unleash","unless","unleveled","unlighted","unlikable","unlimited","unlined","unlinked","unlisted","unlit","unlivable","unloaded","unloader","unlocked","unlocking","unlovable","unloved","unlovely","unloving","unluckily","unlucky","unmade","unmanaged","unmanned","unmapped","unmarked","unmasked","unmasking","unmatched","unmindful","unmixable","unmixed","unmolded","unmoral","unmovable","unmoved","unmoving","unnamable","unnamed","unnatural","unneeded","unnerve","unnerving","unnoticed","unopened","unopposed","unpack","unpadded","unpaid","unpainted","unpaired","unpaved","unpeeled","unpicked","unpiloted","unpinned","unplanned","unplanted","unpleased","unpledged","unplowed","unplug","unpopular","unproven","unquote","unranked","unrated","unraveled","unreached","unread","unreal","unreeling","unrefined","unrelated","unrented","unrest","unretired","unrevised","unrigged","unripe","unrivaled","unroasted","unrobed","unroll","unruffled","unruly","unrushed","unsaddle","unsafe","unsaid","unsalted","unsaved","unsavory","unscathed","unscented","unscrew","unsealed","unseated","unsecured","unseeing","unseemly","unseen","unselect","unselfish","unsent","unsettled","unshackle","unshaken","unshaved","unshaven","unsheathe","unshipped","unsightly","unsigned","unskilled","unsliced","unsmooth","unsnap","unsocial","unsoiled","unsold","unsolved","unsorted","unspoiled","unspoken","unstable","unstaffed","unstamped","unsteady","unsterile","unstirred","unstitch","unstopped","unstuck","unstuffed","unstylish","unsubtle","unsubtly","unsuited","unsure","unsworn","untagged","untainted","untaken","untamed","untangled","untapped","untaxed","unthawed","unthread","untidy","untie","until","untimed","untimely","untitled","untoasted","untold","untouched","untracked","untrained","untreated","untried","untrimmed","untrue","untruth","unturned","untwist","untying","unusable","unused","unusual","unvalued","unvaried","unvarying","unveiled","unveiling","unvented","unviable","unvisited","unvocal","unwanted","unwarlike","unwary","unwashed","unwatched","unweave","unwed","unwelcome","unwell","unwieldy","unwilling","unwind","unwired","unwitting","unwomanly","unworldly","unworn","unworried","unworthy","unwound","unwoven","unwrapped","unwritten","unzip","upbeat","upchuck","upcoming","upcountry","update","upfront","upgrade","upheaval","upheld","uphill","uphold","uplifted","uplifting","upload","upon","upper","upright","uprising","upriver","uproar","uproot","upscale","upside","upstage","upstairs","upstart","upstate","upstream","upstroke","upswing","uptake","uptight","uptown","upturned","upward","upwind","uranium","urban","urchin","urethane","urgency","urgent","urging","urologist","urology","usable","usage","useable","used","uselessly","user","usher","usual","utensil","utility","utilize","utmost","utopia","utter","vacancy","vacant","vacate","vacation","vagabond","vagrancy","vagrantly","vaguely","vagueness","valiant","valid","valium","valley","valuables","value","vanilla","vanish","vanity","vanquish","vantage","vaporizer","variable","variably","varied","variety","various","varmint","varnish","varsity","varying","vascular","vaseline","vastly","vastness","veal","vegan","veggie","vehicular","velcro","velocity","velvet","vendetta","vending","vendor","veneering","vengeful","venomous","ventricle","venture","venue","venus","verbalize","verbally","verbose","verdict","verify","verse","version","versus","vertebrae","vertical","vertigo","very","vessel","vest","veteran","veto","vexingly","viability","viable","vibes","vice","vicinity","victory","video","viewable","viewer","viewing","viewless","viewpoint","vigorous","village","villain","vindicate","vineyard","vintage","violate","violation","violator","violet","violin","viper","viral","virtual","virtuous","virus","visa","viscosity","viscous","viselike","visible","visibly","vision","visiting","visitor","visor","vista","vitality","vitalize","vitally","vitamins","vivacious","vividly","vividness","vixen","vocalist","vocalize","vocally","vocation","voice","voicing","void","volatile","volley","voltage","volumes","voter","voting","voucher","vowed","vowel","voyage","wackiness","wad","wafer","waffle","waged","wager","wages","waggle","wagon","wake","waking","walk","walmart","walnut","walrus","waltz","wand","wannabe","wanted","wanting","wasabi","washable","washbasin","washboard","washbowl","washcloth","washday","washed","washer","washhouse","washing","washout","washroom","washstand","washtub","wasp","wasting","watch","water","waviness","waving","wavy","whacking","whacky","wham","wharf","wheat","whenever","whiff","whimsical","whinny","whiny","whisking","whoever","whole","whomever","whoopee","whooping","whoops","why","wick","widely","widen","widget","widow","width","wieldable","wielder","wife","wifi","wikipedia","wildcard","wildcat","wilder","wildfire","wildfowl","wildland","wildlife","wildly","wildness","willed","willfully","willing","willow","willpower","wilt","wimp","wince","wincing","wind","wing","winking","winner","winnings","winter","wipe","wired","wireless","wiring","wiry","wisdom","wise","wish","wisplike","wispy","wistful","wizard","wobble","wobbling","wobbly","wok","wolf","wolverine","womanhood","womankind","womanless","womanlike","womanly","womb","woof","wooing","wool","woozy","word","work","worried","worrier","worrisome","worry","worsening","worshiper","worst","wound","woven","wow","wrangle","wrath","wreath","wreckage","wrecker","wrecking","wrench","wriggle","wriggly","wrinkle","wrinkly","wrist","writing","written","wrongdoer","wronged","wrongful","wrongly","wrongness","wrought","xbox","xerox","yahoo","yam","yanking","yapping","yard","yarn","yeah","yearbook","yearling","yearly","yearning","yeast","yelling","yelp","yen","yesterday","yiddish","yield","yin","yippee","yo-yo","yodel","yoga","yogurt","yonder","yoyo","yummy","zap","zealous","zebra","zen","zeppelin","zero","zestfully","zesty","zigzagged","zipfile","zipping","zippy","zips","zit","zodiac","zombie","zone","zoning","zookeeper","zoologist","zoology","zoom"]),a_e=Object.freeze(s_e.filter(t=>!t.includes("-")));function o_e({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25Zm-1.72 6.97a.75.75 0 1 0-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 1 0 1.06 1.06L12 13.06l1.72 1.72a.75.75 0 1 0 1.06-1.06L13.06 12l1.72-1.72a.75.75 0 1 0-1.06-1.06L12 10.94l-1.72-1.72Z",clipRule:"evenodd"}))}const l_e=$.forwardRef(o_e);var n0={},H7,EU;function c_e(){return EU||(EU=1,H7=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),H7}var V7={},gd={},_U;function ep(){if(_U)return gd;_U=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return gd.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},gd.getSymbolTotalCodewords=function(n){return e[n]},gd.getBCHDigit=function(r){let n=0;for(;r!==0;)n++,r>>>=1;return n},gd.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');t=n},gd.isKanjiModeEnabled=function(){return typeof t<"u"},gd.toSJIS=function(n){return t(n)},gd}var G7={},CU;function nT(){return CU||(CU=1,function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,i){if(t.isValid(n))return n;try{return e(n)}catch{return i}}}(G7)),G7}var K7,AU;function u_e(){if(AU)return K7;AU=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const r=Math.floor(e/8);return(this.buffer[r]>>>7-e%8&1)===1},put:function(e,r){for(let n=0;n<r;n++)this.putBit((e>>>r-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),e&&(this.buffer[r]|=128>>>this.length%8),this.length++}},K7=t,K7}var Y7,SU;function d_e(){if(SU)return Y7;SU=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,r,n,i){const s=e*this.size+r;this.data[s]=n,i&&(this.reservedBit[s]=!0)},t.prototype.get=function(e,r){return this.data[e*this.size+r]},t.prototype.xor=function(e,r,n){this.data[e*this.size+r]^=n},t.prototype.isReserved=function(e,r){return this.reservedBit[e*this.size+r]},Y7=t,Y7}var Z7={},kU;function h_e(){return kU||(kU=1,function(t){const e=ep().getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,s=e(n),a=s===145?26:Math.ceil((s-13)/(2*i-2))*2,o=[s-7];for(let l=1;l<i-1;l++)o[l]=o[l-1]-a;return o.push(6),o.reverse()},t.getPositions=function(n){const i=[],s=t.getRowColCoords(n),a=s.length;for(let o=0;o<a;o++)for(let l=0;l<a;l++)o===0&&l===0||o===0&&l===a-1||o===a-1&&l===0||i.push([s[o],s[l]]);return i}}(Z7)),Z7}var Q7={},$U;function f_e(){if($U)return Q7;$U=1;const t=ep().getSymbolSize,e=7;return Q7.getPositions=function(n){const i=t(n);return[[0,0],[i-e,0],[0,i-e]]},Q7}var X7={},TU;function p_e(){return TU||(TU=1,function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let a=0,o=0,l=0,u=null,h=null;for(let f=0;f<s;f++){o=l=0,u=h=null;for(let g=0;g<s;g++){let y=i.get(f,g);y===u?o++:(o>=5&&(a+=e.N1+(o-5)),u=y,o=1),y=i.get(g,f),y===h?l++:(l>=5&&(a+=e.N1+(l-5)),h=y,l=1)}o>=5&&(a+=e.N1+(o-5)),l>=5&&(a+=e.N1+(l-5))}return a},t.getPenaltyN2=function(i){const s=i.size;let a=0;for(let o=0;o<s-1;o++)for(let l=0;l<s-1;l++){const u=i.get(o,l)+i.get(o,l+1)+i.get(o+1,l)+i.get(o+1,l+1);(u===4||u===0)&&a++}return a*e.N2},t.getPenaltyN3=function(i){const s=i.size;let a=0,o=0,l=0;for(let u=0;u<s;u++){o=l=0;for(let h=0;h<s;h++)o=o<<1&2047|i.get(u,h),h>=10&&(o===1488||o===93)&&a++,l=l<<1&2047|i.get(h,u),h>=10&&(l===1488||l===93)&&a++}return a*e.N3},t.getPenaltyN4=function(i){let s=0;const a=i.data.length;for(let l=0;l<a;l++)s+=i.data[l];return Math.abs(Math.ceil(s*100/a/5)-10)*e.N4};function r(n,i,s){switch(n){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(i,s){const a=s.size;for(let o=0;o<a;o++)for(let l=0;l<a;l++)s.isReserved(l,o)||s.xor(l,o,r(i,l,o))},t.getBestMask=function(i,s){const a=Object.keys(t.Patterns).length;let o=0,l=1/0;for(let u=0;u<a;u++){s(u),t.applyMask(u,i);const h=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(u,i),h<l&&(l=h,o=u)}return o}}(X7)),X7}var Cv={},IU;function aQ(){if(IU)return Cv;IU=1;const t=nT(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],r=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Cv.getBlocksCount=function(i,s){switch(s){case t.L:return e[(i-1)*4+0];case t.M:return e[(i-1)*4+1];case t.Q:return e[(i-1)*4+2];case t.H:return e[(i-1)*4+3];default:return}},Cv.getTotalCodewordsCount=function(i,s){switch(s){case t.L:return r[(i-1)*4+0];case t.M:return r[(i-1)*4+1];case t.Q:return r[(i-1)*4+2];case t.H:return r[(i-1)*4+3];default:return}},Cv}var J7={},u1={},NU;function g_e(){if(NU)return u1;NU=1;const t=new Uint8Array(512),e=new Uint8Array(256);return function(){let n=1;for(let i=0;i<255;i++)t[i]=n,e[n]=i,n<<=1,n&256&&(n^=285);for(let i=255;i<512;i++)t[i]=t[i-255]}(),u1.log=function(n){if(n<1)throw new Error("log("+n+")");return e[n]},u1.exp=function(n){return t[n]},u1.mul=function(n,i){return n===0||i===0?0:t[e[n]+e[i]]},u1}var PU;function m_e(){return PU||(PU=1,function(t){const e=g_e();t.mul=function(n,i){const s=new Uint8Array(n.length+i.length-1);for(let a=0;a<n.length;a++)for(let o=0;o<i.length;o++)s[a+o]^=e.mul(n[a],i[o]);return s},t.mod=function(n,i){let s=new Uint8Array(n);for(;s.length-i.length>=0;){const a=s[0];for(let l=0;l<i.length;l++)s[l]^=e.mul(i[l],a);let o=0;for(;o<s.length&&s[o]===0;)o++;s=s.slice(o)}return s},t.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let s=0;s<n;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}}(J7)),J7}var eE,OU;function y_e(){if(OU)return eE;OU=1;const t=m_e();function e(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(n){this.degree=n,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(n.length+this.degree);i.set(n);const s=t.mod(i,this.genPoly),a=this.degree-s.length;if(a>0){const o=new Uint8Array(this.degree);return o.set(s,a),o}return s},eE=e,eE}var tE={},rE={},nE={},MU;function oQ(){return MU||(MU=1,nE.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),nE}var jl={},RU;function lQ(){if(RU)return jl;RU=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+`)(?:.|[\r
]))+`;jl.KANJI=new RegExp(r,"g"),jl.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),jl.BYTE=new RegExp(n,"g"),jl.NUMERIC=new RegExp(t,"g"),jl.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+r+"$"),s=new RegExp("^"+t+"$"),a=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return jl.testKanji=function(l){return i.test(l)},jl.testNumeric=function(l){return s.test(l)},jl.testAlphanumeric=function(l){return a.test(l)},jl}var jU;function tp(){return jU||(jU=1,function(t){const e=oQ(),r=lQ();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,a){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(a))throw new Error("Invalid version: "+a);return a>=1&&a<10?s.ccBits[0]:a<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return r.testNumeric(s)?t.NUMERIC:r.testAlphanumeric(s)?t.ALPHANUMERIC:r.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,a){if(t.isValid(s))return s;try{return n(s)}catch{return a}}}(rE)),rE}var DU;function b_e(){return DU||(DU=1,function(t){const e=ep(),r=aQ(),n=nT(),i=tp(),s=oQ(),a=7973,o=e.getBCHDigit(a);function l(g,y,b){for(let w=1;w<=40;w++)if(y<=t.getCapacity(w,b,g))return w}function u(g,y){return i.getCharCountIndicator(g,y)+4}function h(g,y){let b=0;return g.forEach(function(w){const x=u(w.mode,y);b+=x+w.getBitsLength()}),b}function f(g,y){for(let b=1;b<=40;b++)if(h(g,b)<=t.getCapacity(b,y,i.MIXED))return b}t.from=function(y,b){return s.isValid(y)?parseInt(y,10):b},t.getCapacity=function(y,b,w){if(!s.isValid(y))throw new Error("Invalid QR Code version");typeof w>"u"&&(w=i.BYTE);const x=e.getSymbolTotalCodewords(y),E=r.getTotalCodewordsCount(y,b),S=(x-E)*8;if(w===i.MIXED)return S;const _=S-u(w,y);switch(w){case i.NUMERIC:return Math.floor(_/10*3);case i.ALPHANUMERIC:return Math.floor(_/11*2);case i.KANJI:return Math.floor(_/13);case i.BYTE:default:return Math.floor(_/8)}},t.getBestVersionForData=function(y,b){let w;const x=n.from(b,n.M);if(Array.isArray(y)){if(y.length>1)return f(y,x);if(y.length===0)return 1;w=y[0]}else w=y;return l(w.mode,w.getLength(),x)},t.getEncodedBits=function(y){if(!s.isValid(y)||y<7)throw new Error("Invalid QR Code version");let b=y<<12;for(;e.getBCHDigit(b)-o>=0;)b^=a<<e.getBCHDigit(b)-o;return y<<12|b}}(tE)),tE}var iE={},UU;function w_e(){if(UU)return iE;UU=1;const t=ep(),e=1335,r=21522,n=t.getBCHDigit(e);return iE.getEncodedBits=function(s,a){const o=s.bit<<3|a;let l=o<<10;for(;t.getBCHDigit(l)-n>=0;)l^=e<<t.getBCHDigit(l)-n;return(o<<10|l)^r},iE}var sE={},aE,BU;function v_e(){if(BU)return aE;BU=1;const t=tp();function e(r){this.mode=t.NUMERIC,this.data=r.toString()}return e.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){let i,s,a;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),a=parseInt(s,10),n.put(a,10);const o=this.data.length-i;o>0&&(s=this.data.substr(i),a=parseInt(s,10),n.put(a,o*3+1))},aE=e,aE}var oE,LU;function x_e(){if(LU)return oE;LU=1;const t=tp(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function r(n){this.mode=t.ALPHANUMERIC,this.data=n}return r.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let a=e.indexOf(this.data[s])*45;a+=e.indexOf(this.data[s+1]),i.put(a,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},oE=r,oE}var lE,FU;function E_e(){if(FU)return lE;FU=1;const t=tp();function e(r){this.mode=t.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}return e.getBitsLength=function(n){return n*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){for(let n=0,i=this.data.length;n<i;n++)r.put(this.data[n],8)},lE=e,lE}var cE,zU;function __e(){if(zU)return cE;zU=1;const t=tp(),e=ep();function r(n){this.mode=t.KANJI,this.data=n}return r.getBitsLength=function(i){return i*13},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(n){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),n.put(s,13)}},cE=r,cE}var uE={exports:{}},WU;function C_e(){return WU||(WU=1,function(t){var e={single_source_shortest_paths:function(r,n,i){var s={},a={};a[n]=0;var o=e.PriorityQueue.make();o.push(n,0);for(var l,u,h,f,g,y,b,w,x;!o.empty();){l=o.pop(),u=l.value,f=l.cost,g=r[u]||{};for(h in g)g.hasOwnProperty(h)&&(y=g[h],b=f+y,w=a[h],x=typeof a[h]>"u",(x||w>b)&&(a[h]=b,o.push(h,b),s[h]=u))}if(typeof i<"u"&&typeof a[i]>"u"){var E=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(E)}return s},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],s=n;s;)i.push(s),r[s],s=r[s];return i.reverse(),i},find_path:function(r,n,i){var s=e.single_source_shortest_paths(r,n,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,i={},s;r=r||{};for(s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e}(uE)),uE.exports}var qU;function A_e(){return qU||(qU=1,function(t){const e=tp(),r=v_e(),n=x_e(),i=E_e(),s=__e(),a=lQ(),o=ep(),l=C_e();function u(E){return unescape(encodeURIComponent(E)).length}function h(E,S,_){const I=[];let A;for(;(A=E.exec(_))!==null;)I.push({data:A[0],index:A.index,mode:S,length:A[0].length});return I}function f(E){const S=h(a.NUMERIC,e.NUMERIC,E),_=h(a.ALPHANUMERIC,e.ALPHANUMERIC,E);let I,A;return o.isKanjiModeEnabled()?(I=h(a.BYTE,e.BYTE,E),A=h(a.KANJI,e.KANJI,E)):(I=h(a.BYTE_KANJI,e.BYTE,E),A=[]),S.concat(_,I,A).sort(function(F,H){return F.index-H.index}).map(function(F){return{data:F.data,mode:F.mode,length:F.length}})}function g(E,S){switch(S){case e.NUMERIC:return r.getBitsLength(E);case e.ALPHANUMERIC:return n.getBitsLength(E);case e.KANJI:return s.getBitsLength(E);case e.BYTE:return i.getBitsLength(E)}}function y(E){return E.reduce(function(S,_){const I=S.length-1>=0?S[S.length-1]:null;return I&&I.mode===_.mode?(S[S.length-1].data+=_.data,S):(S.push(_),S)},[])}function b(E){const S=[];for(let _=0;_<E.length;_++){const I=E[_];switch(I.mode){case e.NUMERIC:S.push([I,{data:I.data,mode:e.ALPHANUMERIC,length:I.length},{data:I.data,mode:e.BYTE,length:I.length}]);break;case e.ALPHANUMERIC:S.push([I,{data:I.data,mode:e.BYTE,length:I.length}]);break;case e.KANJI:S.push([I,{data:I.data,mode:e.BYTE,length:u(I.data)}]);break;case e.BYTE:S.push([{data:I.data,mode:e.BYTE,length:u(I.data)}])}}return S}function w(E,S){const _={},I={start:{}};let A=["start"];for(let O=0;O<E.length;O++){const F=E[O],H=[];for(let L=0;L<F.length;L++){const z=F[L],V=""+O+L;H.push(V),_[V]={node:z,lastCount:0},I[V]={};for(let K=0;K<A.length;K++){const B=A[K];_[B]&&_[B].node.mode===z.mode?(I[B][V]=g(_[B].lastCount+z.length,z.mode)-g(_[B].lastCount,z.mode),_[B].lastCount+=z.length):(_[B]&&(_[B].lastCount=z.length),I[B][V]=g(z.length,z.mode)+4+e.getCharCountIndicator(z.mode,S))}}A=H}for(let O=0;O<A.length;O++)I[A[O]].end=0;return{map:I,table:_}}function x(E,S){let _;const I=e.getBestModeForData(E);if(_=e.from(S,I),_!==e.BYTE&&_.bit<I.bit)throw new Error('"'+E+'" cannot be encoded with mode '+e.toString(_)+`.
 Suggested mode is: `+e.toString(I));switch(_===e.KANJI&&!o.isKanjiModeEnabled()&&(_=e.BYTE),_){case e.NUMERIC:return new r(E);case e.ALPHANUMERIC:return new n(E);case e.KANJI:return new s(E);case e.BYTE:return new i(E)}}t.fromArray=function(S){return S.reduce(function(_,I){return typeof I=="string"?_.push(x(I,null)):I.data&&_.push(x(I.data,I.mode)),_},[])},t.fromString=function(S,_){const I=f(S,o.isKanjiModeEnabled()),A=b(I),O=w(A,_),F=l.find_path(O.map,"start","end"),H=[];for(let L=1;L<F.length-1;L++)H.push(O.table[F[L]].node);return t.fromArray(y(H))},t.rawSplit=function(S){return t.fromArray(f(S,o.isKanjiModeEnabled()))}}(sE)),sE}var HU;function S_e(){if(HU)return V7;HU=1;const t=ep(),e=nT(),r=u_e(),n=d_e(),i=h_e(),s=f_e(),a=p_e(),o=aQ(),l=y_e(),u=b_e(),h=w_e(),f=tp(),g=A_e();function y(O,F){const H=O.size,L=s.getPositions(F);for(let z=0;z<L.length;z++){const V=L[z][0],K=L[z][1];for(let B=-1;B<=7;B++)if(!(V+B<=-1||H<=V+B))for(let C=-1;C<=7;C++)K+C<=-1||H<=K+C||(B>=0&&B<=6&&(C===0||C===6)||C>=0&&C<=6&&(B===0||B===6)||B>=2&&B<=4&&C>=2&&C<=4?O.set(V+B,K+C,!0,!0):O.set(V+B,K+C,!1,!0))}}function b(O){const F=O.size;for(let H=8;H<F-8;H++){const L=H%2===0;O.set(H,6,L,!0),O.set(6,H,L,!0)}}function w(O,F){const H=i.getPositions(F);for(let L=0;L<H.length;L++){const z=H[L][0],V=H[L][1];for(let K=-2;K<=2;K++)for(let B=-2;B<=2;B++)K===-2||K===2||B===-2||B===2||K===0&&B===0?O.set(z+K,V+B,!0,!0):O.set(z+K,V+B,!1,!0)}}function x(O,F){const H=O.size,L=u.getEncodedBits(F);let z,V,K;for(let B=0;B<18;B++)z=Math.floor(B/3),V=B%3+H-8-3,K=(L>>B&1)===1,O.set(z,V,K,!0),O.set(V,z,K,!0)}function E(O,F,H){const L=O.size,z=h.getEncodedBits(F,H);let V,K;for(V=0;V<15;V++)K=(z>>V&1)===1,V<6?O.set(V,8,K,!0):V<8?O.set(V+1,8,K,!0):O.set(L-15+V,8,K,!0),V<8?O.set(8,L-V-1,K,!0):V<9?O.set(8,15-V-1+1,K,!0):O.set(8,15-V-1,K,!0);O.set(L-8,8,1,!0)}function S(O,F){const H=O.size;let L=-1,z=H-1,V=7,K=0;for(let B=H-1;B>0;B-=2)for(B===6&&B--;;){for(let C=0;C<2;C++)if(!O.isReserved(z,B-C)){let k=!1;K<F.length&&(k=(F[K]>>>V&1)===1),O.set(z,B-C,k),V--,V===-1&&(K++,V=7)}if(z+=L,z<0||H<=z){z-=L,L=-L;break}}}function _(O,F,H){const L=new r;H.forEach(function(C){L.put(C.mode.bit,4),L.put(C.getLength(),f.getCharCountIndicator(C.mode,O)),C.write(L)});const z=t.getSymbolTotalCodewords(O),V=o.getTotalCodewordsCount(O,F),K=(z-V)*8;for(L.getLengthInBits()+4<=K&&L.put(0,4);L.getLengthInBits()%8!==0;)L.putBit(0);const B=(K-L.getLengthInBits())/8;for(let C=0;C<B;C++)L.put(C%2?17:236,8);return I(L,O,F)}function I(O,F,H){const L=t.getSymbolTotalCodewords(F),z=o.getTotalCodewordsCount(F,H),V=L-z,K=o.getBlocksCount(F,H),B=L%K,C=K-B,k=Math.floor(L/K),N=Math.floor(V/K),D=N+1,P=k-N,R=new l(P);let j=0;const W=new Array(K),M=new Array(K);let G=0;const re=new Uint8Array(O.buffer);for(let ce=0;ce<K;ce++){const be=ce<C?N:D;W[ce]=re.slice(j,j+be),M[ce]=R.encode(W[ce]),j+=be,G=Math.max(G,be)}const q=new Uint8Array(L);let X=0,ne,ee;for(ne=0;ne<G;ne++)for(ee=0;ee<K;ee++)ne<W[ee].length&&(q[X++]=W[ee][ne]);for(ne=0;ne<P;ne++)for(ee=0;ee<K;ee++)q[X++]=M[ee][ne];return q}function A(O,F,H,L){let z;if(Array.isArray(O))z=g.fromArray(O);else if(typeof O=="string"){let k=F;if(!k){const N=g.rawSplit(O);k=u.getBestVersionForData(N,H)}z=g.fromString(O,k||40)}else throw new Error("Invalid data");const V=u.getBestVersionForData(z,H);if(!V)throw new Error("The amount of data is too big to be stored in a QR Code");if(!F)F=V;else if(F<V)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+V+`.
`);const K=_(F,H,z),B=t.getSymbolSize(F),C=new n(B);return y(C,F),b(C),w(C,F),E(C,H,0),F>=7&&x(C,F),S(C,K),isNaN(L)&&(L=a.getBestMask(C,E.bind(null,C,H))),a.applyMask(L,C),E(C,H,L),{modules:C,version:F,errorCorrectionLevel:H,maskPattern:L,segments:z}}return V7.create=function(F,H){if(typeof F>"u"||F==="")throw new Error("No input text");let L=e.M,z,V;return typeof H<"u"&&(L=e.from(H.errorCorrectionLevel,e.M),z=u.from(H.version),V=a.from(H.maskPattern),H.toSJISFunc&&t.setToSJISFunction(H.toSJISFunc)),A(F,z,L,V)},V7}var dE={},hE={},VU;function cQ(){return VU||(VU=1,function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,a=n.scale||4;return{width:s,scale:s?4:a,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},t.getImageWidth=function(n,i){const s=t.getScale(n,i);return Math.floor((n+i.margin*2)*s)},t.qrToImageData=function(n,i,s){const a=i.modules.size,o=i.modules.data,l=t.getScale(a,s),u=Math.floor((a+s.margin*2)*l),h=s.margin*l,f=[s.color.light,s.color.dark];for(let g=0;g<u;g++)for(let y=0;y<u;y++){let b=(g*u+y)*4,w=s.color.light;if(g>=h&&y>=h&&g<u-h&&y<u-h){const x=Math.floor((g-h)/l),E=Math.floor((y-h)/l);w=f[o[x*a+E]?1:0]}n[b++]=w.r,n[b++]=w.g,n[b++]=w.b,n[b]=w.a}}}(hE)),hE}var GU;function k_e(){return GU||(GU=1,function(t){const e=cQ();function r(i,s,a){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=a,s.width=a,s.style.height=a+"px",s.style.width=a+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,a,o){let l=o,u=a;typeof l>"u"&&(!a||!a.getContext)&&(l=a,a=void 0),a||(u=n()),l=e.getOptions(l);const h=e.getImageWidth(s.modules.size,l),f=u.getContext("2d"),g=f.createImageData(h,h);return e.qrToImageData(g.data,s,l),r(f,u,h),f.putImageData(g,0,0),u},t.renderToDataURL=function(s,a,o){let l=o;typeof l>"u"&&(!a||!a.getContext)&&(l=a,a=void 0),l||(l={});const u=t.render(s,a,l),h=l.type||"image/png",f=l.rendererOpts||{};return u.toDataURL(h,f.quality)}}(dE)),dE}var fE={},KU;function $_e(){if(KU)return fE;KU=1;const t=cQ();function e(i,s){const a=i.a/255,o=s+'="'+i.hex+'"';return a<1?o+" "+s+'-opacity="'+a.toFixed(2).slice(1)+'"':o}function r(i,s,a){let o=i+s;return typeof a<"u"&&(o+=" "+a),o}function n(i,s,a){let o="",l=0,u=!1,h=0;for(let f=0;f<i.length;f++){const g=Math.floor(f%s),y=Math.floor(f/s);!g&&!u&&(u=!0),i[f]?(h++,f>0&&g>0&&i[f-1]||(o+=u?r("M",g+a,.5+y+a):r("m",l,0),l=0,u=!1),g+1<s&&i[f+1]||(o+=r("h",h),h=0)):l++}return o}return fE.render=function(s,a,o){const l=t.getOptions(a),u=s.modules.size,h=s.modules.data,f=u+l.margin*2,g=l.color.light.a?"<path "+e(l.color.light,"fill")+' d="M0 0h'+f+"v"+f+'H0z"/>':"",y="<path "+e(l.color.dark,"stroke")+' d="'+n(h,u,l.margin)+'"/>',b='viewBox="0 0 '+f+" "+f+'"',x='<svg xmlns="http://www.w3.org/2000/svg" '+(l.width?'width="'+l.width+'" height="'+l.width+'" ':"")+b+' shape-rendering="crispEdges">'+g+y+`</svg>
`;return typeof o=="function"&&o(null,x),x},fE}var YU;function T_e(){if(YU)return n0;YU=1;const t=c_e(),e=S_e(),r=k_e(),n=$_e();function i(s,a,o,l,u){const h=[].slice.call(arguments,1),f=h.length,g=typeof h[f-1]=="function";if(!g&&!t())throw new Error("Callback required as last argument");if(g){if(f<2)throw new Error("Too few arguments provided");f===2?(u=o,o=a,a=l=void 0):f===3&&(a.getContext&&typeof u>"u"?(u=l,l=void 0):(u=l,l=o,o=a,a=void 0))}else{if(f<1)throw new Error("Too few arguments provided");return f===1?(o=a,a=l=void 0):f===2&&!a.getContext&&(l=o,o=a,a=void 0),new Promise(function(y,b){try{const w=e.create(o,l);y(s(w,a,l))}catch(w){b(w)}})}try{const y=e.create(o,l);u(null,s(y,a,l))}catch(y){u(y)}}return n0.create=e.create,n0.toCanvas=i.bind(null,r.render),n0.toDataURL=i.bind(null,r.renderToDataURL),n0.toString=i.bind(null,function(s,a,o){return n.render(s,o)}),n0}var I_e=T_e();const N_e=ra(I_e),ZU=t=>{let e;const r=new Set,n=(u,h)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const g=e;e=h??(typeof f!="object"||f===null)?f:Object.assign({},e,f),r.forEach(y=>y(e,g))}},i=()=>e,o={setState:n,getState:i,getInitialState:()=>l,subscribe:u=>(r.add(u),()=>r.delete(u))},l=e=t(n,i,o);return o},P_e=t=>t?ZU(t):ZU,O_e=t=>t;function M_e(t,e=O_e){const r=et.useSyncExternalStore(t.subscribe,et.useCallback(()=>e(t.getState()),[t,e]),et.useCallback(()=>e(t.getInitialState()),[t,e]));return et.useDebugValue(r),r}const QU=t=>{const e=P_e(t),r=n=>M_e(e,n);return Object.assign(r,e),r},Yg=t=>t?QU(t):QU;var Av={exports:{}},XU;function R_e(){if(XU)return Av.exports;XU=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(A,O,F){return Function.prototype.apply.call(A,O,F)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(A){return Object.getOwnPropertyNames(A).concat(Object.getOwnPropertySymbols(A))}:r=function(A){return Object.getOwnPropertyNames(A)};function n(I){console&&console.warn&&console.warn(I)}var i=Number.isNaN||function(A){return A!==A};function s(){s.init.call(this)}Av.exports=s,Av.exports.once=E,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var a=10;function o(I){if(typeof I!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof I)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return a},set:function(I){if(typeof I!="number"||I<0||i(I))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+I+".");a=I}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(A){if(typeof A!="number"||A<0||i(A))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+A+".");return this._maxListeners=A,this};function l(I){return I._maxListeners===void 0?s.defaultMaxListeners:I._maxListeners}s.prototype.getMaxListeners=function(){return l(this)},s.prototype.emit=function(A){for(var O=[],F=1;F<arguments.length;F++)O.push(arguments[F]);var H=A==="error",L=this._events;if(L!==void 0)H=H&&L.error===void 0;else if(!H)return!1;if(H){var z;if(O.length>0&&(z=O[0]),z instanceof Error)throw z;var V=new Error("Unhandled error."+(z?" ("+z.message+")":""));throw V.context=z,V}var K=L[A];if(K===void 0)return!1;if(typeof K=="function")e(K,this,O);else for(var B=K.length,C=b(K,B),F=0;F<B;++F)e(C[F],this,O);return!0};function u(I,A,O,F){var H,L,z;if(o(O),L=I._events,L===void 0?(L=I._events=Object.create(null),I._eventsCount=0):(L.newListener!==void 0&&(I.emit("newListener",A,O.listener?O.listener:O),L=I._events),z=L[A]),z===void 0)z=L[A]=O,++I._eventsCount;else if(typeof z=="function"?z=L[A]=F?[O,z]:[z,O]:F?z.unshift(O):z.push(O),H=l(I),H>0&&z.length>H&&!z.warned){z.warned=!0;var V=new Error("Possible EventEmitter memory leak detected. "+z.length+" "+String(A)+" listeners added. Use emitter.setMaxListeners() to increase limit");V.name="MaxListenersExceededWarning",V.emitter=I,V.type=A,V.count=z.length,n(V)}return I}s.prototype.addListener=function(A,O){return u(this,A,O,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(A,O){return u(this,A,O,!0)};function h(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(I,A,O){var F={fired:!1,wrapFn:void 0,target:I,type:A,listener:O},H=h.bind(F);return H.listener=O,F.wrapFn=H,H}s.prototype.once=function(A,O){return o(O),this.on(A,f(this,A,O)),this},s.prototype.prependOnceListener=function(A,O){return o(O),this.prependListener(A,f(this,A,O)),this},s.prototype.removeListener=function(A,O){var F,H,L,z,V;if(o(O),H=this._events,H===void 0)return this;if(F=H[A],F===void 0)return this;if(F===O||F.listener===O)--this._eventsCount===0?this._events=Object.create(null):(delete H[A],H.removeListener&&this.emit("removeListener",A,F.listener||O));else if(typeof F!="function"){for(L=-1,z=F.length-1;z>=0;z--)if(F[z]===O||F[z].listener===O){V=F[z].listener,L=z;break}if(L<0)return this;L===0?F.shift():w(F,L),F.length===1&&(H[A]=F[0]),H.removeListener!==void 0&&this.emit("removeListener",A,V||O)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(A){var O,F,H;if(F=this._events,F===void 0)return this;if(F.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):F[A]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete F[A]),this;if(arguments.length===0){var L=Object.keys(F),z;for(H=0;H<L.length;++H)z=L[H],z!=="removeListener"&&this.removeAllListeners(z);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(O=F[A],typeof O=="function")this.removeListener(A,O);else if(O!==void 0)for(H=O.length-1;H>=0;H--)this.removeListener(A,O[H]);return this};function g(I,A,O){var F=I._events;if(F===void 0)return[];var H=F[A];return H===void 0?[]:typeof H=="function"?O?[H.listener||H]:[H]:O?x(H):b(H,H.length)}s.prototype.listeners=function(A){return g(this,A,!0)},s.prototype.rawListeners=function(A){return g(this,A,!1)},s.listenerCount=function(I,A){return typeof I.listenerCount=="function"?I.listenerCount(A):y.call(I,A)},s.prototype.listenerCount=y;function y(I){var A=this._events;if(A!==void 0){var O=A[I];if(typeof O=="function")return 1;if(O!==void 0)return O.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function b(I,A){for(var O=new Array(A),F=0;F<A;++F)O[F]=I[F];return O}function w(I,A){for(;A+1<I.length;A++)I[A]=I[A+1];I.pop()}function x(I){for(var A=new Array(I.length),O=0;O<A.length;++O)A[O]=I[O].listener||I[O];return A}function E(I,A){return new Promise(function(O,F){function H(z){I.removeListener(A,L),F(z)}function L(){typeof I.removeListener=="function"&&I.removeListener("error",H),O([].slice.call(arguments))}_(I,A,L,{once:!0}),A!=="error"&&S(I,H,{once:!0})})}function S(I,A,O){typeof I.on=="function"&&_(I,"error",A,O)}function _(I,A,O,F){if(typeof I.on=="function")F.once?I.once(A,O):I.on(A,O);else if(typeof I.addEventListener=="function")I.addEventListener(A,function H(L){F.once&&I.removeEventListener(A,H),O(L)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof I)}return Av.exports}var Ba=R_e();const iT=ra(Ba);var JU=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))},j_e=function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t}(),D_e=function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t}(),U_e=function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t}(),B_e=function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t}(),L_e=function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t}(),F_e=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,z_e=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,eB=3,W_e=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",F_e]],tB=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function q_e(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new L_e:typeof navigator<"u"?V_e(navigator.userAgent):K_e()}function H_e(t){return t!==""&&W_e.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}function V_e(t){var e=H_e(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new B_e;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<eB&&(i=JU(JU([],i,!0),Y_e(eB-i.length),!0)):i=[];var s=i.join("."),a=G_e(t),o=z_e.exec(t);return o&&o[1]?new U_e(r,s,a,o[1]):new j_e(r,s,a)}function G_e(t){for(var e=0,r=tB.length;e<r;e++){var n=tB[e],i=n[0],s=n[1],a=s.exec(t);if(a)return i}return null}function K_e(){var t=typeof process<"u"&&process.version;return t?new D_e(process.version.slice(1)):null}function Y_e(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var pE={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var AA=function(t,e){return AA=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},AA(t,e)};function Z_e(t,e){AA(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var SA=function(){return SA=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},SA.apply(this,arguments)};function Q_e(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function X_e(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,r,s):a(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function J_e(t,e){return function(r,n){e(r,n,t)}}function eCe(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function tCe(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(h){try{u(n.next(h))}catch(f){a(f)}}function l(h){try{u(n.throw(h))}catch(f){a(f)}}function u(h){h.done?s(h.value):i(h.value).then(o,l)}u((n=n.apply(t,e||[])).next())})}function rCe(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a;return a={next:o(0),throw:o(1),return:o(2)},typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(h){return l([u,h])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(h){u=[6,h],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}function nCe(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function iCe(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function kA(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function uQ(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return s}function sCe(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(uQ(arguments[e]));return t}function aCe(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n}function z2(t){return this instanceof z2?(this.v=t,this):new z2(t)}function oCe(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(g){n[g]&&(i[g]=function(y){return new Promise(function(b,w){s.push([g,y,b,w])>1||o(g,y)})})}function o(g,y){try{l(n[g](y))}catch(b){f(s[0][3],b)}}function l(g){g.value instanceof z2?Promise.resolve(g.value.v).then(u,h):f(s[0][2],g)}function u(g){o("next",g)}function h(g){o("throw",g)}function f(g,y){g(y),s.shift(),s.length&&o(s[0][0],s[0][1])}}function lCe(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(a){return(r=!r)?{value:z2(t[i](a)),done:i==="return"}:s?s(a):a}:s}}function cCe(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof kA=="function"?kA(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(a){return new Promise(function(o,l){a=t[s](a),i(o,l,a.done,a.value)})}}function i(s,a,o,l){Promise.resolve(l).then(function(u){s({value:u,done:o})},a)}}function uCe(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function dCe(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function hCe(t){return t&&t.__esModule?t:{default:t}}function fCe(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function pCe(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const gCe=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return SA},__asyncDelegator:lCe,__asyncGenerator:oCe,__asyncValues:cCe,__await:z2,__awaiter:tCe,__classPrivateFieldGet:fCe,__classPrivateFieldSet:pCe,__createBinding:nCe,__decorate:X_e,__exportStar:iCe,__extends:Z_e,__generator:rCe,__importDefault:hCe,__importStar:dCe,__makeTemplateObject:uCe,__metadata:eCe,__param:J_e,__read:uQ,__rest:Q_e,__spread:sCe,__spreadArrays:aCe,__values:kA},Symbol.toStringTag,{value:"Module"})),$b=pq(gCe);var gE={},d1={},rB;function mCe(){if(rB)return d1;rB=1,Object.defineProperty(d1,"__esModule",{value:!0}),d1.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return d1.delay=t,d1}var Uh={},mE={},Bh={},nB;function yCe(){return nB||(nB=1,Object.defineProperty(Bh,"__esModule",{value:!0}),Bh.ONE_THOUSAND=Bh.ONE_HUNDRED=void 0,Bh.ONE_HUNDRED=100,Bh.ONE_THOUSAND=1e3),Bh}var yE={},iB;function bCe(){return iB||(iB=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365}(yE)),yE}var sB;function dQ(){return sB||(sB=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=$b;e.__exportStar(yCe(),t),e.__exportStar(bCe(),t)}(mE)),mE}var aB;function wCe(){if(aB)return Uh;aB=1,Object.defineProperty(Uh,"__esModule",{value:!0}),Uh.fromMiliseconds=Uh.toMiliseconds=void 0;const t=dQ();function e(n){return n*t.ONE_THOUSAND}Uh.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return Uh.fromMiliseconds=r,Uh}var oB;function vCe(){return oB||(oB=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=$b;e.__exportStar(mCe(),t),e.__exportStar(wCe(),t)}(gE)),gE}var i0={},lB;function xCe(){if(lB)return i0;lB=1,Object.defineProperty(i0,"__esModule",{value:!0}),i0.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return i0.Watch=t,i0.default=t,i0}var bE={},h1={},cB;function ECe(){if(cB)return h1;cB=1,Object.defineProperty(h1,"__esModule",{value:!0}),h1.IWatch=void 0;class t{}return h1.IWatch=t,h1}var uB;function _Ce(){return uB||(uB=1,function(t){Object.defineProperty(t,"__esModule",{value:!0}),$b.__exportStar(ECe(),t)}(bE)),bE}var dB;function CCe(){return dB||(dB=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=$b;e.__exportStar(vCe(),t),e.__exportStar(xCe(),t),e.__exportStar(_Ce(),t),e.__exportStar(dQ(),t)}(pE)),pE}var it=CCe(),Zr={},hB;function hQ(){if(hB)return Zr;hB=1,Object.defineProperty(Zr,"__esModule",{value:!0}),Zr.getLocalStorage=Zr.getLocalStorageOrThrow=Zr.getCrypto=Zr.getCryptoOrThrow=Zr.getLocation=Zr.getLocationOrThrow=Zr.getNavigator=Zr.getNavigatorOrThrow=Zr.getDocument=Zr.getDocumentOrThrow=Zr.getFromWindowOrThrow=Zr.getFromWindow=void 0;function t(g){let y;return typeof window<"u"&&typeof window[g]<"u"&&(y=window[g]),y}Zr.getFromWindow=t;function e(g){const y=t(g);if(!y)throw new Error(`${g} is not defined in Window`);return y}Zr.getFromWindowOrThrow=e;function r(){return e("document")}Zr.getDocumentOrThrow=r;function n(){return t("document")}Zr.getDocument=n;function i(){return e("navigator")}Zr.getNavigatorOrThrow=i;function s(){return t("navigator")}Zr.getNavigator=s;function a(){return e("location")}Zr.getLocationOrThrow=a;function o(){return t("location")}Zr.getLocation=o;function l(){return e("crypto")}Zr.getCryptoOrThrow=l;function u(){return t("crypto")}Zr.getCrypto=u;function h(){return e("localStorage")}Zr.getLocalStorageOrThrow=h;function f(){return t("localStorage")}return Zr.getLocalStorage=f,Zr}var ku=hQ(),f1={},fB;function ACe(){if(fB)return f1;fB=1,Object.defineProperty(f1,"__esModule",{value:!0}),f1.getWindowMetadata=void 0;const t=hQ();function e(){let r,n;try{r=t.getDocumentOrThrow(),n=t.getLocationOrThrow()}catch{return null}function i(){const y=r.getElementsByTagName("link"),b=[];for(let w=0;w<y.length;w++){const x=y[w],E=x.getAttribute("rel");if(E&&E.toLowerCase().indexOf("icon")>-1){const S=x.getAttribute("href");if(S)if(S.toLowerCase().indexOf("https:")===-1&&S.toLowerCase().indexOf("http:")===-1&&S.indexOf("//")!==0){let _=n.protocol+"//"+n.host;if(S.indexOf("/")===0)_+=S;else{const I=n.pathname.split("/");I.pop();const A=I.join("/");_+=A+"/"+S}b.push(_)}else if(S.indexOf("//")===0){const _=n.protocol+S;b.push(_)}else b.push(S)}}return b}function s(...y){const b=r.getElementsByTagName("meta");for(let w=0;w<b.length;w++){const x=b[w],E=["itemprop","property","name"].map(S=>x.getAttribute(S)).filter(S=>S?y.includes(S):!1);if(E.length&&E){const S=x.getAttribute("content");if(S)return S}}return""}function a(){let y=s("name","og:site_name","og:title","twitter:title");return y||(y=r.title),y}function o(){return s("description","og:description","twitter:description","keywords")}const l=a(),u=o(),h=n.origin,f=i();return{description:u,url:h,icons:f,name:l}}return f1.getWindowMetadata=e,f1}var SCe=ACe();function W2(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function $A(t){return W2(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const fQ="2.31.0";let p1={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${fQ}`};class Rf extends Error{constructor(e,r={}){var o;const n=(()=>{var l;return r.cause instanceof Rf?r.cause.details:(l=r.cause)!=null&&l.message?r.cause.message:r.details})(),i=r.cause instanceof Rf&&r.cause.docsPath||r.docsPath,s=(o=p1.getDocsUrl)==null?void 0:o.call(p1,{...r,docsPath:i}),a=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...p1.version?[`Version: ${p1.version}`]:[]].join(`
`);super(a,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=fQ}walk(e){return pQ(this,e)}}function pQ(t,e){return e!=null&&e(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?pQ(t.cause,e):e?null:t}class gQ extends Rf{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}}function Zg(t,{dir:e,size:r=32}={}){return typeof t=="string"?kCe(t,{dir:e,size:r}):$Ce(t,{dir:e,size:r})}function kCe(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new gQ({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function $Ce(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new gQ({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}class TCe extends Rf{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}}class ICe extends Rf{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Qg(t,{size:e}){if($A(t)>e)throw new ICe({givenSize:$A(t),maxSize:e})}function TA(t,e={}){const{signed:r}=e;e.size&&Qg(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function NCe(t,e={}){return Number(TA(t,e))}const PCe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function IA(t,e={}){return typeof t=="number"||typeof t=="bigint"?yQ(t,e):typeof t=="string"?RCe(t,e):typeof t=="boolean"?OCe(t,e):mQ(t,e)}function OCe(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(Qg(r,{size:e.size}),Zg(r,{size:e.size})):r}function mQ(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=PCe[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(Qg(n,{size:e.size}),Zg(n,{dir:"right",size:e.size})):n}function yQ(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const a=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<a){const l=typeof t=="bigint"?"n":"";throw new TCe({max:s?`${s}${l}`:void 0,min:`${a}${l}`,signed:r,size:n,value:`${t}${l}`})}const o=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?Zg(o,{size:n}):o}const MCe=new TextEncoder;function RCe(t,e={}){const r=MCe.encode(t);return mQ(r,e)}const jCe=new TextEncoder;function DCe(t,e={}){return typeof t=="number"||typeof t=="bigint"?BCe(t,e):typeof t=="boolean"?UCe(t,e):W2(t)?bQ(t,e):wQ(t,e)}function UCe(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(Qg(r,{size:e.size}),Zg(r,{size:e.size})):r}const qc={zero:48,nine:57,A:65,F:70,a:97,f:102};function pB(t){if(t>=qc.zero&&t<=qc.nine)return t-qc.zero;if(t>=qc.A&&t<=qc.F)return t-(qc.A-10);if(t>=qc.a&&t<=qc.f)return t-(qc.a-10)}function bQ(t,e={}){let r=t;e.size&&(Qg(r,{size:e.size}),r=Zg(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let a=0,o=0;a<i;a++){const l=pB(n.charCodeAt(o++)),u=pB(n.charCodeAt(o++));if(l===void 0||u===void 0)throw new Rf(`Invalid byte sequence ("${n[o-2]}${n[o-1]}" in "${n}").`);s[a]=l*16+u}return s}function BCe(t,e){const r=yQ(t,e);return bQ(r)}function wQ(t,e={}){const r=jCe.encode(t);return typeof e.size=="number"?(Qg(r,{size:e.size}),Zg(r,{dir:"right",size:e.size})):r}function vQ(t,e){const r=e||"hex",n=fk(W2(t,{strict:!1})?DCe(t):t);return r==="bytes"?n:IA(n)}class LCe extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const wE=new LCe(8192);function FCe(t,e){if(wE.has(`${t}.${e}`))return wE.get(`${t}.${e}`);const r=t.substring(2).toLowerCase(),n=vQ(wQ(r),"bytes"),i=r.split("");for(let a=0;a<40;a+=2)n[a>>1]>>4>=8&&i[a]&&(i[a]=i[a].toUpperCase()),(n[a>>1]&15)>=8&&i[a+1]&&(i[a+1]=i[a+1].toUpperCase());const s=`0x${i.join("")}`;return wE.set(`${t}.${e}`,s),s}function zCe(t){const e=vQ(`0x${t.substring(4)}`).substring(26);return FCe(`0x${e}`)}async function WCe({hash:t,signature:e}){const r=W2(t)?t:IA(t),{secp256k1:n}=await ic(async()=>{const{secp256k1:a}=await Promise.resolve().then(()=>CV);return{secp256k1:a}},void 0,import.meta.url);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:u,s:h,v:f,yParity:g}=e,y=Number(g??f),b=gB(y);return new n.Signature(TA(u),TA(h)).addRecoveryBit(b)}const a=W2(e)?e:IA(e);if($A(a)!==65)throw new Error("invalid signature length");const o=NCe(`0x${a.slice(130)}`),l=gB(o);return n.Signature.fromCompact(a.substring(2,130)).addRecoveryBit(l)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function gB(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function qCe({hash:t,signature:e}){return zCe(await WCe({hash:t,signature:e}))}function HCe(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let u=0;u<e.length;u++)e[u]=255;for(let u=0;u<t.length;u++){const h=t.charAt(u),f=h.charCodeAt(0);if(e[f]!==255)throw new TypeError(h+" is ambiguous");e[f]=u}const r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function a(u){if(u instanceof Uint8Array||(ArrayBuffer.isView(u)?u=new Uint8Array(u.buffer,u.byteOffset,u.byteLength):Array.isArray(u)&&(u=Uint8Array.from(u))),!(u instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(u.length===0)return"";let h=0,f=0,g=0;const y=u.length;for(;g!==y&&u[g]===0;)g++,h++;const b=(y-g)*s+1>>>0,w=new Uint8Array(b);for(;g!==y;){let S=u[g],_=0;for(let I=b-1;(S!==0||_<f)&&I!==-1;I--,_++)S+=256*w[I]>>>0,w[I]=S%r>>>0,S=S/r>>>0;if(S!==0)throw new Error("Non-zero carry");f=_,g++}let x=b-f;for(;x!==b&&w[x]===0;)x++;let E=n.repeat(h);for(;x<b;++x)E+=t.charAt(w[x]);return E}function o(u){if(typeof u!="string")throw new TypeError("Expected String");if(u.length===0)return new Uint8Array;let h=0,f=0,g=0;for(;u[h]===n;)f++,h++;const y=(u.length-h)*i+1>>>0,b=new Uint8Array(y);for(;h<u.length;){const S=u.charCodeAt(h);if(S>255)return;let _=e[S];if(_===255)return;let I=0;for(let A=y-1;(_!==0||I<g)&&A!==-1;A--,I++)_+=r*b[A]>>>0,b[A]=_%256>>>0,_=_/256>>>0;if(_!==0)throw new Error("Non-zero carry");g=I,h++}let w=y-g;for(;w!==y&&b[w]===0;)w++;const x=new Uint8Array(f+(y-w));let E=f;for(;w!==y;)x[E++]=b[w++];return x}function l(u){const h=o(u);if(h)return h;throw new Error("Non-base"+r+" character")}return{encode:a,decodeUnsafe:o,decode:l}}var VCe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Tb=HCe(VCe);function GCe(t){const e=t.length;let r=0,n=0;for(;n<e;){let i=t.charCodeAt(n++);if(i&4294967168)if(!(i&4294965248))r+=2;else{if(i>=55296&&i<=56319&&n<e){const s=t.charCodeAt(n);(s&64512)===56320&&(++n,i=((i&1023)<<10)+(s&1023)+65536)}i&4294901760?r+=4:r+=3}else{r++;continue}}return r}function KCe(t,e,r){const n=t.length;let i=r,s=0;for(;s<n;){let a=t.charCodeAt(s++);if(a&4294967168)if(!(a&4294965248))e[i++]=a>>6&31|192;else{if(a>=55296&&a<=56319&&s<n){const o=t.charCodeAt(s);(o&64512)===56320&&(++s,a=((a&1023)<<10)+(o&1023)+65536)}a&4294901760?(e[i++]=a>>18&7|240,e[i++]=a>>12&63|128,e[i++]=a>>6&63|128):(e[i++]=a>>12&15|224,e[i++]=a>>6&63|128)}else{e[i++]=a;continue}e[i++]=a&63|128}}const YCe=new TextEncoder,ZCe=50;function QCe(t,e,r){YCe.encodeInto(t,e.subarray(r))}function XCe(t,e,r){t.length>ZCe?QCe(t,e,r):KCe(t,e,r)}const JCe=4096;function xQ(t,e,r){let n=e;const i=n+r,s=[];let a="";for(;n<i;){const o=t[n++];if(!(o&128))s.push(o);else if((o&224)===192){const l=t[n++]&63;s.push((o&31)<<6|l)}else if((o&240)===224){const l=t[n++]&63,u=t[n++]&63;s.push((o&31)<<12|l<<6|u)}else if((o&248)===240){const l=t[n++]&63,u=t[n++]&63,h=t[n++]&63;let f=(o&7)<<18|l<<12|u<<6|h;f>65535&&(f-=65536,s.push(f>>>10&1023|55296),f=56320|f&1023),s.push(f)}else s.push(o);s.length>=JCe&&(a+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(a+=String.fromCharCode(...s)),a}const eAe=new TextDecoder,tAe=200;function rAe(t,e,r){const n=t.subarray(e,e+r);return eAe.decode(n)}function nAe(t,e,r){return r>tAe?rAe(t,e,r):xQ(t,e,r)}class Sv{constructor(e,r){this.type=e,this.data=r}}class _a extends Error{constructor(e){super(e);const r=Object.create(_a.prototype);Object.setPrototypeOf(this,r),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:_a.name})}}const g1=4294967295;function iAe(t,e,r){const n=r/4294967296,i=r;t.setUint32(e,n),t.setUint32(e+4,i)}function EQ(t,e,r){const n=Math.floor(r/4294967296),i=r;t.setUint32(e,n),t.setUint32(e+4,i)}function _Q(t,e){const r=t.getInt32(e),n=t.getUint32(e+4);return r*4294967296+n}function sAe(t,e){const r=t.getUint32(e),n=t.getUint32(e+4);return r*4294967296+n}const aAe=-1,oAe=4294967296-1,lAe=17179869184-1;function cAe({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=lAe)if(e===0&&t<=oAe){const r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,t),r}else{const r=t/4294967296,n=t&4294967295,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,e<<2|r&3),s.setUint32(4,n),i}else{const r=new Uint8Array(12),n=new DataView(r.buffer);return n.setUint32(0,e),EQ(n,4,t),r}}function uAe(t){const e=t.getTime(),r=Math.floor(e/1e3),n=(e-r*1e3)*1e6,i=Math.floor(n/1e9);return{sec:r+i,nsec:n-i*1e9}}function dAe(t){if(t instanceof Date){const e=uAe(t);return cAe(e)}else return null}function hAe(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const r=e.getUint32(0),n=e.getUint32(4),i=(r&3)*4294967296+n,s=r>>>2;return{sec:i,nsec:s}}case 12:{const r=_Q(e,4),n=e.getUint32(0);return{sec:r,nsec:n}}default:throw new _a(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function fAe(t){const e=hAe(t);return new Date(e.sec*1e3+e.nsec/1e6)}const pAe={type:aAe,encode:dAe,decode:fAe};class A5{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(pAe)}register({type:e,encode:r,decode:n}){if(e>=0)this.encoders[e]=r,this.decoders[e]=n;else{const i=-1-e;this.builtInEncoders[i]=r,this.builtInDecoders[i]=n}}tryToEncode(e,r){for(let n=0;n<this.builtInEncoders.length;n++){const i=this.builtInEncoders[n];if(i!=null){const s=i(e,r);if(s!=null){const a=-1-n;return new Sv(a,s)}}}for(let n=0;n<this.encoders.length;n++){const i=this.encoders[n];if(i!=null){const s=i(e,r);if(s!=null){const a=n;return new Sv(a,s)}}}return e instanceof Sv?e:null}decode(e,r,n){const i=r<0?this.builtInDecoders[-1-r]:this.decoders[r];return i?i(e,r,n):new Sv(r,e)}}A5.defaultCodec=new A5;function gAe(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function NA(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):gAe(t)?new Uint8Array(t):Uint8Array.from(t)}const mAe=100,yAe=2048;let bAe=class CQ{constructor(e){this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??A5.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.maxDepth=(e==null?void 0:e.maxDepth)??mAe,this.initialBufferSize=(e==null?void 0:e.initialBufferSize)??yAe,this.sortKeys=(e==null?void 0:e.sortKeys)??!1,this.forceFloat32=(e==null?void 0:e.forceFloat32)??!1,this.ignoreUndefined=(e==null?void 0:e.ignoreUndefined)??!1,this.forceIntegerToFloat=(e==null?void 0:e.forceIntegerToFloat)??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new CQ({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,r){if(r>this.maxDepth)throw new Error(`Too deep objects in depth ${r}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,r)}ensureBufferSizeToWrite(e){const r=this.pos+e;this.view.byteLength<r&&this.resizeBuffer(r*2)}resizeBuffer(e){const r=new ArrayBuffer(e),n=new Uint8Array(r),i=new DataView(r);n.set(this.bytes),this.view=i,this.bytes=n}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const n=GCe(e);this.ensureBufferSizeToWrite(5+n),this.writeStringHeader(n),XCe(e,this.bytes,this.pos),this.pos+=n}encodeObject(e,r){const n=this.extensionCodec.tryToEncode(e,this.context);if(n!=null)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,r);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,r);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const r=e.byteLength;if(r<256)this.writeU8(196),this.writeU8(r);else if(r<65536)this.writeU8(197),this.writeU16(r);else if(r<4294967296)this.writeU8(198),this.writeU32(r);else throw new Error(`Too large binary: ${r}`);const n=NA(e);this.writeU8a(n)}encodeArray(e,r){const n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else if(n<4294967296)this.writeU8(221),this.writeU32(n);else throw new Error(`Too large array: ${n}`);for(const i of e)this.doEncode(i,r+1)}countWithoutUndefined(e,r){let n=0;for(const i of r)e[i]!==void 0&&n++;return n}encodeMap(e,r){const n=Object.keys(e);this.sortKeys&&n.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const s of n){const a=e[s];this.ignoreUndefined&&a===void 0||(this.encodeString(s),this.doEncode(a,r+1))}}encodeExtension(e){if(typeof e.data=="function"){const n=e.data(this.pos+6),i=n.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(n);return}const r=e.data.length;if(r===1)this.writeU8(212);else if(r===2)this.writeU8(213);else if(r===4)this.writeU8(214);else if(r===8)this.writeU8(215);else if(r===16)this.writeU8(216);else if(r<256)this.writeU8(199),this.writeU8(r);else if(r<65536)this.writeU8(200),this.writeU16(r);else if(r<4294967296)this.writeU8(201),this.writeU32(r);else throw new Error(`Too large extension object: ${r}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const r=e.length;this.ensureBufferSizeToWrite(r),this.bytes.set(e,this.pos),this.pos+=r}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),iAe(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),EQ(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function wAe(t,e){return new bAe(e).encodeSharedRef(t)}function vE(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const vAe=16,xAe=16;class EAe{constructor(e=vAe,r=xAe){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=r,this.caches=[];for(let n=0;n<this.maxKeyLength;n++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,r,n){const i=this.caches[n-1];e:for(const s of i){const a=s.bytes;for(let o=0;o<n;o++)if(a[o]!==e[r+o])continue e;return s.str}return null}store(e,r){const n=this.caches[e.length-1],i={bytes:e,str:r};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=i:n.push(i)}decode(e,r,n){const i=this.find(e,r,n);if(i!=null)return this.hit++,i;this.miss++;const s=xQ(e,r,n),a=Uint8Array.prototype.slice.call(e,r,r+n);return this.store(a,s),s}}const PA="array",Ty="map_key",AQ="map_value",_Ae=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new _a("The type of key must be string or number but "+typeof t)};class CAe{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const r=this.getUninitializedStateFromPool();r.type=PA,r.position=0,r.size=e,r.array=new Array(e)}pushMapState(e){const r=this.getUninitializedStateFromPool();r.type=Ty,r.readCount=0,r.size=e,r.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===PA){const n=e;n.size=0,n.array=void 0,n.position=0,n.type=void 0}if(e.type===Ty||e.type===AQ){const n=e;n.size=0,n.map=void 0,n.readCount=0,n.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const m1=-1,sT=new DataView(new ArrayBuffer(0)),AAe=new Uint8Array(sT.buffer);try{sT.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const mB=new RangeError("Insufficient data"),SAe=new EAe;let kAe=class SQ{constructor(e){this.totalPos=0,this.pos=0,this.view=sT,this.bytes=AAe,this.headByte=m1,this.stack=new CAe,this.entered=!1,this.extensionCodec=(e==null?void 0:e.extensionCodec)??A5.defaultCodec,this.context=e==null?void 0:e.context,this.useBigInt64=(e==null?void 0:e.useBigInt64)??!1,this.rawStrings=(e==null?void 0:e.rawStrings)??!1,this.maxStrLength=(e==null?void 0:e.maxStrLength)??g1,this.maxBinLength=(e==null?void 0:e.maxBinLength)??g1,this.maxArrayLength=(e==null?void 0:e.maxArrayLength)??g1,this.maxMapLength=(e==null?void 0:e.maxMapLength)??g1,this.maxExtLength=(e==null?void 0:e.maxExtLength)??g1,this.keyDecoder=(e==null?void 0:e.keyDecoder)!==void 0?e.keyDecoder:SAe,this.mapKeyConverter=(e==null?void 0:e.mapKeyConverter)??_Ae}clone(){return new SQ({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=m1,this.stack.reset()}setBuffer(e){const r=NA(e);this.bytes=r,this.view=new DataView(r.buffer,r.byteOffset,r.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===m1&&!this.hasRemaining(1))this.setBuffer(e);else{const r=this.bytes.subarray(this.pos),n=NA(e),i=new Uint8Array(r.length+n.length);i.set(r),i.set(n,r.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:r,pos:n}=this;return new RangeError(`Extra ${r.byteLength-n} of ${r.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const r=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return r}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let r=!1,n;for await(const o of e){if(r)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(o);try{n=this.doDecodeSync(),r=!0}catch(l){if(!(l instanceof RangeError))throw l}this.totalPos+=this.pos}if(r){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return n}const{headByte:i,pos:s,totalPos:a}=this;throw new RangeError(`Insufficient data in parsing ${vE(i)} at ${a} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,r){if(this.entered){yield*this.clone().decodeMultiAsync(e,r);return}try{this.entered=!0;let n=r,i=-1;for await(const s of e){if(r&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),n&&(i=this.readArraySize(),n=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(a){if(!(a instanceof RangeError))throw a}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let r;if(e>=224)r=e-256;else if(e<192)if(e<128)r=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else{const i=e-160;r=this.decodeString(i,0)}else if(e===192)r=null;else if(e===194)r=!1;else if(e===195)r=!0;else if(e===202)r=this.readF32();else if(e===203)r=this.readF64();else if(e===204)r=this.readU8();else if(e===205)r=this.readU16();else if(e===206)r=this.readU32();else if(e===207)this.useBigInt64?r=this.readU64AsBigInt():r=this.readU64();else if(e===208)r=this.readI8();else if(e===209)r=this.readI16();else if(e===210)r=this.readI32();else if(e===211)this.useBigInt64?r=this.readI64AsBigInt():r=this.readI64();else if(e===217){const i=this.lookU8();r=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();r=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();r=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e===196){const i=this.lookU8();r=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();r=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();r=this.decodeBinary(i,4)}else if(e===212)r=this.decodeExtension(1,0);else if(e===213)r=this.decodeExtension(2,0);else if(e===214)r=this.decodeExtension(4,0);else if(e===215)r=this.decodeExtension(8,0);else if(e===216)r=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();r=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();r=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();r=this.decodeExtension(i,4)}else throw new _a(`Unrecognized type byte: ${vE(e)}`);this.complete();const n=this.stack;for(;n.length>0;){const i=n.top();if(i.type===PA)if(i.array[i.position]=r,i.position++,i.position===i.size)r=i.array,n.release(i);else continue e;else if(i.type===Ty){if(r==="__proto__")throw new _a("The key __proto__ is not allowed");i.key=this.mapKeyConverter(r),i.type=AQ;continue e}else if(i.map[i.key]=r,i.readCount++,i.readCount===i.size)r=i.map,n.release(i);else{i.key=null,i.type=Ty;continue e}}return r}}readHeadByte(){return this.headByte===m1&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=m1}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new _a(`Unrecognized array type byte: ${vE(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new _a(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new _a(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,r){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,r):this.decodeBinary(e,r)}decodeUtf8String(e,r){var s;if(e>this.maxStrLength)throw new _a(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+r+e)throw mB;const n=this.pos+r;let i;return this.stateIsMapKey()&&((s=this.keyDecoder)!=null&&s.canBeCached(e))?i=this.keyDecoder.decode(this.bytes,n,e):i=nAe(this.bytes,n,e),this.pos+=r+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===Ty:!1}decodeBinary(e,r){if(e>this.maxBinLength)throw new _a(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+r))throw mB;const n=this.pos+r,i=this.bytes.subarray(n,n+e);return this.pos+=r+e,i}decodeExtension(e,r){if(e>this.maxExtLength)throw new _a(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const n=this.view.getInt8(this.pos+r),i=this.decodeBinary(e,r+1);return this.extensionCodec.decode(i,n,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=sAe(this.view,this.pos);return this.pos+=8,e}readI64(){const e=_Q(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function $Ae(t,e){return new kAe(e).decode(t)}const TAe=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),IAe=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function jf(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return IAe(t)}catch{return t}}function $u(t){return typeof t=="string"?t:TAe(t)||""}function NAe(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function kQ(t,...e){if(!NAe(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function yB(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function PAe(t,e){kQ(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const s0=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const xE=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function OAe(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function $Q(t){return typeof t=="string"&&(t=OAe(t)),kQ(t),t}let MAe=class{clone(){return this._cloneInto()}};function RAe(t){const e=n=>t().update($Q(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function TQ(t=32){if(s0&&typeof s0.getRandomValues=="function")return s0.getRandomValues(new Uint8Array(t));if(s0&&typeof s0.randomBytes=="function")return s0.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function jAe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),o=Number(r&s),l=n?4:0,u=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+u,o,n)}let DAe=class extends MAe{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=xE(this.buffer)}update(e){yB(this);const{view:r,buffer:n,blockLen:i}=this;e=$Q(e);const s=e.length;for(let a=0;a<s;){const o=Math.min(i-this.pos,s-a);if(o===i){const l=xE(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){yB(this),PAe(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:a}=this;r[a++]=128,this.buffer.subarray(a).fill(0),this.padOffset>i-a&&(this.process(n,0),a=0);for(let f=a;f<i;f++)r[f]=0;jAe(n,i-8,BigInt(this.length*8),s),this.process(n,0);const o=xE(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)o.setUint32(4*f,h[f],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:o}=this;return e.length=i,e.pos=o,e.finished=s,e.destroyed=a,i%r&&e.buffer.set(n),e}};const kv=BigInt(2**32-1),OA=BigInt(32);function IQ(t,e=!1){return e?{h:Number(t&kv),l:Number(t>>OA&kv)}:{h:Number(t>>OA&kv)|0,l:Number(t&kv)|0}}function UAe(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:a}=IQ(t[i],e);[r[i],n[i]]=[s,a]}return[r,n]}const BAe=(t,e)=>BigInt(t>>>0)<<OA|BigInt(e>>>0),LAe=(t,e,r)=>t>>>r,FAe=(t,e,r)=>t<<32-r|e>>>r,zAe=(t,e,r)=>t>>>r|e<<32-r,WAe=(t,e,r)=>t<<32-r|e>>>r,qAe=(t,e,r)=>t<<64-r|e>>>r-32,HAe=(t,e,r)=>t>>>r-32|e<<64-r,VAe=(t,e)=>e,GAe=(t,e)=>t,KAe=(t,e,r)=>t<<r|e>>>32-r,YAe=(t,e,r)=>e<<r|t>>>32-r,ZAe=(t,e,r)=>e<<r-32|t>>>64-r,QAe=(t,e,r)=>t<<r-32|e>>>64-r;function XAe(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const JAe=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),eSe=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,tSe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),rSe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,nSe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),iSe=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,or={fromBig:IQ,split:UAe,toBig:BAe,shrSH:LAe,shrSL:FAe,rotrSH:zAe,rotrSL:WAe,rotrBH:qAe,rotrBL:HAe,rotr32H:VAe,rotr32L:GAe,rotlSH:KAe,rotlSL:YAe,rotlBH:ZAe,rotlBL:QAe,add:XAe,add3L:JAe,add3H:eSe,add4L:tSe,add4H:rSe,add5H:iSe,add5L:nSe},[sSe,aSe]=or.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),md=new Uint32Array(80),yd=new Uint32Array(80);let oSe=class extends DAe{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:o,Dl:l,Eh:u,El:h,Fh:f,Fl:g,Gh:y,Gl:b,Hh:w,Hl:x}=this;return[e,r,n,i,s,a,o,l,u,h,f,g,y,b,w,x]}set(e,r,n,i,s,a,o,l,u,h,f,g,y,b,w,x){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=o|0,this.Dl=l|0,this.Eh=u|0,this.El=h|0,this.Fh=f|0,this.Fl=g|0,this.Gh=y|0,this.Gl=b|0,this.Hh=w|0,this.Hl=x|0}process(e,r){for(let _=0;_<16;_++,r+=4)md[_]=e.getUint32(r),yd[_]=e.getUint32(r+=4);for(let _=16;_<80;_++){const I=md[_-15]|0,A=yd[_-15]|0,O=or.rotrSH(I,A,1)^or.rotrSH(I,A,8)^or.shrSH(I,A,7),F=or.rotrSL(I,A,1)^or.rotrSL(I,A,8)^or.shrSL(I,A,7),H=md[_-2]|0,L=yd[_-2]|0,z=or.rotrSH(H,L,19)^or.rotrBH(H,L,61)^or.shrSH(H,L,6),V=or.rotrSL(H,L,19)^or.rotrBL(H,L,61)^or.shrSL(H,L,6),K=or.add4L(F,V,yd[_-7],yd[_-16]),B=or.add4H(K,O,z,md[_-7],md[_-16]);md[_]=B|0,yd[_]=K|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:o,Cl:l,Dh:u,Dl:h,Eh:f,El:g,Fh:y,Fl:b,Gh:w,Gl:x,Hh:E,Hl:S}=this;for(let _=0;_<80;_++){const I=or.rotrSH(f,g,14)^or.rotrSH(f,g,18)^or.rotrBH(f,g,41),A=or.rotrSL(f,g,14)^or.rotrSL(f,g,18)^or.rotrBL(f,g,41),O=f&y^~f&w,F=g&b^~g&x,H=or.add5L(S,A,F,aSe[_],yd[_]),L=or.add5H(H,E,I,O,sSe[_],md[_]),z=H|0,V=or.rotrSH(n,i,28)^or.rotrBH(n,i,34)^or.rotrBH(n,i,39),K=or.rotrSL(n,i,28)^or.rotrBL(n,i,34)^or.rotrBL(n,i,39),B=n&s^n&o^s&o,C=i&a^i&l^a&l;E=w|0,S=x|0,w=y|0,x=b|0,y=f|0,b=g|0,{h:f,l:g}=or.add(u|0,h|0,L|0,z|0),u=o|0,h=l|0,o=s|0,l=a|0,s=n|0,a=i|0;const k=or.add3L(z,K,C);n=or.add3H(k,L,V,B),i=k|0}({h:n,l:i}=or.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=or.add(this.Bh|0,this.Bl|0,s|0,a|0),{h:o,l}=or.add(this.Ch|0,this.Cl|0,o|0,l|0),{h:u,l:h}=or.add(this.Dh|0,this.Dl|0,u|0,h|0),{h:f,l:g}=or.add(this.Eh|0,this.El|0,f|0,g|0),{h:y,l:b}=or.add(this.Fh|0,this.Fl|0,y|0,b|0),{h:w,l:x}=or.add(this.Gh|0,this.Gl|0,w|0,x|0),{h:E,l:S}=or.add(this.Hh|0,this.Hl|0,E|0,S|0),this.set(n,i,s,a,o,l,u,h,f,g,y,b,w,x,E,S)}roundClean(){md.fill(0),yd.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const lSe=RAe(()=>new oSe);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const aT=BigInt(0),NQ=BigInt(1),cSe=BigInt(2);function oT(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function lT(t){if(!oT(t))throw new Error("Uint8Array expected")}function EE(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const uSe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function cT(t){lT(t);let e="";for(let r=0;r<t.length;r++)e+=uSe[t[r]];return e}function PQ(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?aT:BigInt("0x"+t)}const Hc={_0:48,_9:57,A:65,F:70,a:97,f:102};function bB(t){if(t>=Hc._0&&t<=Hc._9)return t-Hc._0;if(t>=Hc.A&&t<=Hc.F)return t-(Hc.A-10);if(t>=Hc.a&&t<=Hc.f)return t-(Hc.a-10)}function OQ(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const a=bB(t.charCodeAt(s)),o=bB(t.charCodeAt(s+1));if(a===void 0||o===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=a*16+o}return n}function dSe(t){return PQ(cT(t))}function E3(t){return lT(t),PQ(cT(Uint8Array.from(t).reverse()))}function MQ(t,e){return OQ(t.toString(16).padStart(e*2,"0"))}function MA(t,e){return MQ(t,e).reverse()}function Vc(t,e,r){let n;if(typeof e=="string")try{n=OQ(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(oT(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function wB(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];lT(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}const _E=t=>typeof t=="bigint"&&aT<=t;function hSe(t,e,r){return _E(t)&&_E(e)&&_E(r)&&e<=t&&t<r}function y1(t,e,r,n){if(!hSe(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function fSe(t){let e;for(e=0;t>aT;t>>=NQ,e+=1);return e}const pSe=t=>(cSe<<BigInt(t-1))-NQ,gSe={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||oT(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function uT(t,e,r={}){const n=(i,s,a)=>{const o=gSe[s];if(typeof o!="function")throw new Error("invalid validator function");const l=t[i];if(!(a&&l===void 0)&&!o(l,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+l)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}function vB(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const Ti=BigInt(0),Vn=BigInt(1),Zh=BigInt(2),mSe=BigInt(3),RA=BigInt(4),xB=BigInt(5),EB=BigInt(8);function pi(t,e){const r=t%e;return r>=Ti?r:e+r}function ySe(t,e,r){if(e<Ti)throw new Error("invalid exponent, negatives unsupported");if(r<=Ti)throw new Error("invalid modulus");if(r===Vn)return Ti;let n=Vn;for(;e>Ti;)e&Vn&&(n=n*t%r),t=t*t%r,e>>=Vn;return n}function Dl(t,e,r){let n=t;for(;e-- >Ti;)n*=n,n%=r;return n}function _B(t,e){if(t===Ti)throw new Error("invert: expected non-zero number");if(e<=Ti)throw new Error("invert: expected positive modulus, got "+e);let r=pi(t,e),n=e,i=Ti,s=Vn;for(;r!==Ti;){const a=n/r,o=n%r,l=i-s*a;n=r,r=o,i=s,s=l}if(n!==Vn)throw new Error("invert: does not exist");return pi(i,e)}function bSe(t){const e=(t-Vn)/Zh;let r,n,i;for(r=t-Vn,n=0;r%Zh===Ti;r/=Zh,n++);for(i=Zh;i<t&&ySe(i,e,t)!==t-Vn;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const a=(t+Vn)/RA;return function(o,l){const u=o.pow(l,a);if(!o.eql(o.sqr(u),l))throw new Error("Cannot find square root");return u}}const s=(r+Vn)/Zh;return function(a,o){if(a.pow(o,e)===a.neg(a.ONE))throw new Error("Cannot find square root");let l=n,u=a.pow(a.mul(a.ONE,i),r),h=a.pow(o,s),f=a.pow(o,r);for(;!a.eql(f,a.ONE);){if(a.eql(f,a.ZERO))return a.ZERO;let g=1;for(let b=a.sqr(f);g<l&&!a.eql(b,a.ONE);g++)b=a.sqr(b);const y=a.pow(u,Vn<<BigInt(l-g-1));u=a.sqr(y),h=a.mul(h,y),f=a.mul(f,u),l=g}return h}}function wSe(t){if(t%RA===mSe){const e=(t+Vn)/RA;return function(r,n){const i=r.pow(n,e);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(t%EB===xB){const e=(t-xB)/EB;return function(r,n){const i=r.mul(n,Zh),s=r.pow(i,e),a=r.mul(n,s),o=r.mul(r.mul(a,Zh),s),l=r.mul(a,r.sub(o,r.ONE));if(!r.eql(r.sqr(l),n))throw new Error("Cannot find square root");return l}}return bSe(t)}const vSe=(t,e)=>(pi(t,e)&Vn)===Vn,xSe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function ESe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=xSe.reduce((n,i)=>(n[i]="function",n),e);return uT(t,r)}function _Se(t,e,r){if(r<Ti)throw new Error("invalid exponent, negatives unsupported");if(r===Ti)return t.ONE;if(r===Vn)return e;let n=t.ONE,i=e;for(;r>Ti;)r&Vn&&(n=t.mul(n,i)),i=t.sqr(i),r>>=Vn;return n}function CSe(t,e){const r=new Array(e.length),n=e.reduce((s,a,o)=>t.is0(a)?s:(r[o]=s,t.mul(s,a)),t.ONE),i=t.inv(n);return e.reduceRight((s,a,o)=>t.is0(a)?s:(r[o]=t.mul(s,r[o]),t.mul(s,a)),i),r}function RQ(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function jQ(t,e,r=!1,n={}){if(t<=Ti)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=RQ(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let a;const o=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:pSe(i),ZERO:Ti,ONE:Vn,create:l=>pi(l,t),isValid:l=>{if(typeof l!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof l);return Ti<=l&&l<t},is0:l=>l===Ti,isOdd:l=>(l&Vn)===Vn,neg:l=>pi(-l,t),eql:(l,u)=>l===u,sqr:l=>pi(l*l,t),add:(l,u)=>pi(l+u,t),sub:(l,u)=>pi(l-u,t),mul:(l,u)=>pi(l*u,t),pow:(l,u)=>_Se(o,l,u),div:(l,u)=>pi(l*_B(u,t),t),sqrN:l=>l*l,addN:(l,u)=>l+u,subN:(l,u)=>l-u,mulN:(l,u)=>l*u,inv:l=>_B(l,t),sqrt:n.sqrt||(l=>(a||(a=wSe(t)),a(o,l))),invertBatch:l=>CSe(o,l),cmov:(l,u,h)=>h?u:l,toBytes:l=>r?MA(l,s):MQ(l,s),fromBytes:l=>{if(l.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+l.length);return r?E3(l):dSe(l)}});return Object.freeze(o)}const CB=BigInt(0),$v=BigInt(1);function CE(t,e){const r=e.negate();return t?r:e}function DQ(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function AE(t,e){DQ(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function ASe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function SSe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const SE=new WeakMap,UQ=new WeakMap;function kE(t){return UQ.get(t)||1}function kSe(t,e){return{constTimeNegate:CE,hasPrecomputes(r){return kE(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>CB;)n&$v&&(i=i.add(s)),s=s.double(),n>>=$v;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=AE(n,e),a=[];let o=r,l=o;for(let u=0;u<i;u++){l=o,a.push(l);for(let h=1;h<s;h++)l=l.add(o),a.push(l);o=l.double()}return a},wNAF(r,n,i){const{windows:s,windowSize:a}=AE(r,e);let o=t.ZERO,l=t.BASE;const u=BigInt(2**r-1),h=2**r,f=BigInt(r);for(let g=0;g<s;g++){const y=g*a;let b=Number(i&u);i>>=f,b>a&&(b-=h,i+=$v);const w=y,x=y+Math.abs(b)-1,E=g%2!==0,S=b<0;b===0?l=l.add(CE(E,n[w])):o=o.add(CE(S,n[x]))}return{p:o,f:l}},wNAFUnsafe(r,n,i,s=t.ZERO){const{windows:a,windowSize:o}=AE(r,e),l=BigInt(2**r-1),u=2**r,h=BigInt(r);for(let f=0;f<a;f++){const g=f*o;if(i===CB)break;let y=Number(i&l);if(i>>=h,y>o&&(y-=u,i+=$v),y===0)continue;let b=n[g+Math.abs(y)-1];y<0&&(b=b.negate()),s=s.add(b)}return s},getPrecomputes(r,n,i){let s=SE.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&SE.set(n,i(s))),s},wNAFCached(r,n,i){const s=kE(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const a=kE(r);return a===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(a,this.getPrecomputes(a,r,i),n,s)},setWindowSize(r,n){DQ(n,e),UQ.set(r,n),SE.delete(r)}}}function $Se(t,e,r,n){if(ASe(r,t),SSe(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=fSe(BigInt(r.length)),a=s>12?s-3:s>4?s-2:s?2:1,o=(1<<a)-1,l=new Array(o+1).fill(i),u=Math.floor((e.BITS-1)/a)*a;let h=i;for(let f=u;f>=0;f-=a){l.fill(i);for(let y=0;y<n.length;y++){const b=n[y],w=Number(b>>BigInt(f)&BigInt(o));l[w]=l[w].add(r[y])}let g=i;for(let y=l.length-1,b=i;y>0;y--)b=b.add(l[y]),g=g.add(b);if(h=h.add(g),f!==0)for(let y=0;y<a;y++)h=h.double()}return h}function TSe(t){return ESe(t.Fp),uT(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...RQ(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Bo=BigInt(0),Ds=BigInt(1),Tv=BigInt(2),ISe=BigInt(8),NSe={zip215:!0};function PSe(t){const e=TSe(t);return uT(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function OSe(t){const e=PSe(t),{Fp:r,n,prehash:i,hash:s,randomBytes:a,nByteLength:o,h:l}=e,u=Tv<<BigInt(o*8)-Ds,h=r.create,f=jQ(e.n,e.nBitLength),g=e.uvRatio||((k,N)=>{try{return{isValid:!0,value:r.sqrt(k*r.inv(N))}}catch{return{isValid:!1,value:Bo}}}),y=e.adjustScalarBytes||(k=>k),b=e.domain||((k,N,D)=>{if(EE("phflag",D),N.length||D)throw new Error("Contexts/pre-hash are not supported");return k});function w(k,N){y1("coordinate "+k,N,Bo,u)}function x(k){if(!(k instanceof _))throw new Error("ExtendedPoint expected")}const E=vB((k,N)=>{const{ex:D,ey:P,ez:R}=k,j=k.is0();N==null&&(N=j?ISe:r.inv(R));const W=h(D*N),M=h(P*N),G=h(R*N);if(j)return{x:Bo,y:Ds};if(G!==Ds)throw new Error("invZ was invalid");return{x:W,y:M}}),S=vB(k=>{const{a:N,d:D}=e;if(k.is0())throw new Error("bad point: ZERO");const{ex:P,ey:R,ez:j,et:W}=k,M=h(P*P),G=h(R*R),re=h(j*j),q=h(re*re),X=h(M*N),ne=h(re*h(X+G)),ee=h(q+h(D*h(M*G)));if(ne!==ee)throw new Error("bad point: equation left != right (1)");const ce=h(P*R),be=h(j*W);if(ce!==be)throw new Error("bad point: equation left != right (2)");return!0});class _{constructor(N,D,P,R){this.ex=N,this.ey=D,this.ez=P,this.et=R,w("x",N),w("y",D),w("z",P),w("t",R),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(N){if(N instanceof _)throw new Error("extended point not allowed");const{x:D,y:P}=N||{};return w("x",D),w("y",P),new _(D,P,Ds,h(D*P))}static normalizeZ(N){const D=r.invertBatch(N.map(P=>P.ez));return N.map((P,R)=>P.toAffine(D[R])).map(_.fromAffine)}static msm(N,D){return $Se(_,f,N,D)}_setWindowSize(N){O.setWindowSize(this,N)}assertValidity(){S(this)}equals(N){x(N);const{ex:D,ey:P,ez:R}=this,{ex:j,ey:W,ez:M}=N,G=h(D*M),re=h(j*R),q=h(P*M),X=h(W*R);return G===re&&q===X}is0(){return this.equals(_.ZERO)}negate(){return new _(h(-this.ex),this.ey,this.ez,h(-this.et))}double(){const{a:N}=e,{ex:D,ey:P,ez:R}=this,j=h(D*D),W=h(P*P),M=h(Tv*h(R*R)),G=h(N*j),re=D+P,q=h(h(re*re)-j-W),X=G+W,ne=X-M,ee=G-W,ce=h(q*ne),be=h(X*ee),ve=h(q*ee),ge=h(ne*X);return new _(ce,be,ge,ve)}add(N){x(N);const{a:D,d:P}=e,{ex:R,ey:j,ez:W,et:M}=this,{ex:G,ey:re,ez:q,et:X}=N;if(D===BigInt(-1)){const Ae=h((j-R)*(re+G)),je=h((j+R)*(re-G)),gt=h(je-Ae);if(gt===Bo)return this.double();const Qt=h(W*Tv*X),Ie=h(M*Tv*q),pt=Ie+Qt,Ze=je+Ae,ht=Ie-Qt,bt=h(pt*gt),jt=h(Ze*ht),yt=h(pt*ht),Dt=h(gt*Ze);return new _(bt,jt,Dt,yt)}const ne=h(R*G),ee=h(j*re),ce=h(M*P*X),be=h(W*q),ve=h((R+j)*(G+re)-ne-ee),ge=be-ce,Ee=be+ce,ye=h(ee-D*ne),$e=h(ve*ge),we=h(Ee*ye),qe=h(ve*ye),Ge=h(ge*Ee);return new _($e,we,Ge,qe)}subtract(N){return this.add(N.negate())}wNAF(N){return O.wNAFCached(this,N,_.normalizeZ)}multiply(N){const D=N;y1("scalar",D,Ds,n);const{p:P,f:R}=this.wNAF(D);return _.normalizeZ([P,R])[0]}multiplyUnsafe(N,D=_.ZERO){const P=N;return y1("scalar",P,Bo,n),P===Bo?A:this.is0()||P===Ds?this:O.wNAFCachedUnsafe(this,P,_.normalizeZ,D)}isSmallOrder(){return this.multiplyUnsafe(l).is0()}isTorsionFree(){return O.unsafeLadder(this,n).is0()}toAffine(N){return E(this,N)}clearCofactor(){const{h:N}=e;return N===Ds?this:this.multiplyUnsafe(N)}static fromHex(N,D=!1){const{d:P,a:R}=e,j=r.BYTES;N=Vc("pointHex",N,j),EE("zip215",D);const W=N.slice(),M=N[j-1];W[j-1]=M&-129;const G=E3(W),re=D?u:r.ORDER;y1("pointHex.y",G,Bo,re);const q=h(G*G),X=h(q-Ds),ne=h(P*q-R);let{isValid:ee,value:ce}=g(X,ne);if(!ee)throw new Error("Point.fromHex: invalid y coordinate");const be=(ce&Ds)===Ds,ve=(M&128)!==0;if(!D&&ce===Bo&&ve)throw new Error("Point.fromHex: x=0 and x_0=1");return ve!==be&&(ce=h(-ce)),_.fromAffine({x:ce,y:G})}static fromPrivateKey(N){return L(N).point}toRawBytes(){const{x:N,y:D}=this.toAffine(),P=MA(D,r.BYTES);return P[P.length-1]|=N&Ds?128:0,P}toHex(){return cT(this.toRawBytes())}}_.BASE=new _(e.Gx,e.Gy,Ds,h(e.Gx*e.Gy)),_.ZERO=new _(Bo,Ds,Ds,Bo);const{BASE:I,ZERO:A}=_,O=kSe(_,o*8);function F(k){return pi(k,n)}function H(k){return F(E3(k))}function L(k){const N=r.BYTES;k=Vc("private key",k,N);const D=Vc("hashed private key",s(k),2*N),P=y(D.slice(0,N)),R=D.slice(N,2*N),j=H(P),W=I.multiply(j),M=W.toRawBytes();return{head:P,prefix:R,scalar:j,point:W,pointBytes:M}}function z(k){return L(k).pointBytes}function V(k=new Uint8Array,...N){const D=wB(...N);return H(s(b(D,Vc("context",k),!!i)))}function K(k,N,D={}){k=Vc("message",k),i&&(k=i(k));const{prefix:P,scalar:R,pointBytes:j}=L(N),W=V(D.context,P,k),M=I.multiply(W).toRawBytes(),G=V(D.context,M,j,k),re=F(W+G*R);y1("signature.s",re,Bo,n);const q=wB(M,MA(re,r.BYTES));return Vc("result",q,r.BYTES*2)}const B=NSe;function C(k,N,D,P=B){const{context:R,zip215:j}=P,W=r.BYTES;k=Vc("signature",k,2*W),N=Vc("message",N),D=Vc("publicKey",D,W),j!==void 0&&EE("zip215",j),i&&(N=i(N));const M=E3(k.slice(W,2*W));let G,re,q;try{G=_.fromHex(D,j),re=_.fromHex(k.slice(0,W),j),q=I.multiplyUnsafe(M)}catch{return!1}if(!j&&G.isSmallOrder())return!1;const X=V(R,re.toRawBytes(),G.toRawBytes(),N);return re.add(G.multiplyUnsafe(X)).subtract(q).clearCofactor().equals(_.ZERO)}return I._setWindowSize(8),{CURVE:e,getPublicKey:z,sign:K,verify:C,ExtendedPoint:_,utils:{getExtendedPublicKey:L,randomPrivateKey:()=>a(r.BYTES),precompute(k=8,N=_.BASE){return N._setWindowSize(k),N.multiply(BigInt(3)),N}}}}BigInt(0),BigInt(1);const dT=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),AB=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const MSe=BigInt(1),SB=BigInt(2);BigInt(3);const RSe=BigInt(5),jSe=BigInt(8);function DSe(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=dT,a=t*t%s*t%s,o=Dl(a,SB,s)*a%s,l=Dl(o,MSe,s)*t%s,u=Dl(l,RSe,s)*l%s,h=Dl(u,e,s)*u%s,f=Dl(h,r,s)*h%s,g=Dl(f,n,s)*f%s,y=Dl(g,i,s)*g%s,b=Dl(y,i,s)*g%s,w=Dl(b,e,s)*u%s;return{pow_p_5_8:Dl(w,SB,s)*t%s,b2:a}}function USe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function BSe(t,e){const r=dT,n=pi(e*e*e,r),i=pi(n*n*e,r),s=DSe(t*i).pow_p_5_8;let a=pi(t*n*s,r);const o=pi(e*a*a,r),l=a,u=pi(a*AB,r),h=o===t,f=o===pi(-t,r),g=o===pi(-t*AB,r);return h&&(a=l),(f||g)&&(a=u),vSe(a,r)&&(a=pi(-a,r)),{isValid:h||f,value:a}}const LSe=jQ(dT,void 0,!0),FSe={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:LSe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:jSe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:lSe,randomBytes:TQ,adjustScalarBytes:USe,uvRatio:BSe},BQ=OSe(FSe),zSe="EdDSA",WSe="JWT",S5=".",g4="base64url",LQ="utf8",FQ="utf8",qSe=":",HSe="did",VSe="key",kB="base58btc",GSe="z",KSe="K36",YSe=32;function hT(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function zQ(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?hT(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function WQ(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=zQ(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return hT(r)}function ZSe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=i}var o=t.length,l=t.charAt(0),u=Math.log(o)/Math.log(256),h=Math.log(256)/Math.log(o);function f(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var w=0,x=0,E=0,S=b.length;E!==S&&b[E]===0;)E++,w++;for(var _=(S-E)*h+1>>>0,I=new Uint8Array(_);E!==S;){for(var A=b[E],O=0,F=_-1;(A!==0||O<x)&&F!==-1;F--,O++)A+=256*I[F]>>>0,I[F]=A%o>>>0,A=A/o>>>0;if(A!==0)throw new Error("Non-zero carry");x=O,E++}for(var H=_-x;H!==_&&I[H]===0;)H++;for(var L=l.repeat(w);H<_;++H)L+=t.charAt(I[H]);return L}function g(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var w=0;if(b[w]!==" "){for(var x=0,E=0;b[w]===l;)x++,w++;for(var S=(b.length-w)*u+1>>>0,_=new Uint8Array(S);b[w];){var I=r[b.charCodeAt(w)];if(I===255)return;for(var A=0,O=S-1;(I!==0||A<E)&&O!==-1;O--,A++)I+=o*_[O]>>>0,_[O]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");E=A,w++}if(b[w]!==" "){for(var F=S-E;F!==S&&_[F]===0;)F++;for(var H=new Uint8Array(x+(S-F)),L=x;F!==S;)H[L++]=_[F++];return H}}}function y(b){var w=g(b);if(w)return w;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:g,decode:y}}var QSe=ZSe,XSe=QSe;const qQ=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},JSe=t=>new TextEncoder().encode(t),eke=t=>new TextDecoder().decode(t);let tke=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},rke=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return HQ(this,e)}},nke=class{constructor(e){this.decoders=e}or(e){return HQ(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const HQ=(t,e)=>new nke({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let ike=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new tke(e,r,n),this.decoder=new rke(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const m4=({name:t,prefix:e,encode:r,decode:n})=>new ike(t,e,r,n),Ib=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=XSe(r,e);return m4({prefix:t,name:e,encode:n,decode:s=>qQ(i(s))})},ske=(t,e,r,n)=>{const i={};for(let h=0;h<e.length;++h)i[e[h]]=h;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*r/8|0);let o=0,l=0,u=0;for(let h=0;h<s;++h){const f=i[t[h]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);l=l<<r|f,o+=r,o>=8&&(o-=8,a[u++]=255&l>>o)}if(o>=r||255&l<<8-o)throw new SyntaxError("Unexpected end of data");return a},ake=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",a=0,o=0;for(let l=0;l<t.length;++l)for(o=o<<8|t[l],a+=8;a>r;)a-=r,s+=e[i&o>>a];if(a&&(s+=e[i&o<<r-a]),n)for(;s.length*r&7;)s+="=";return s},Gi=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>m4({prefix:e,name:t,encode(i){return ake(i,n,r)},decode(i){return ske(i,n,r,t)}}),oke=m4({prefix:"\0",name:"identity",encode:t=>eke(t),decode:t=>JSe(t)});var lke=Object.freeze({__proto__:null,identity:oke});const cke=Gi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var uke=Object.freeze({__proto__:null,base2:cke});const dke=Gi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var hke=Object.freeze({__proto__:null,base8:dke});const fke=Ib({prefix:"9",name:"base10",alphabet:"0123456789"});var pke=Object.freeze({__proto__:null,base10:fke});const gke=Gi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),mke=Gi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var yke=Object.freeze({__proto__:null,base16:gke,base16upper:mke});const bke=Gi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),wke=Gi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),vke=Gi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),xke=Gi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Eke=Gi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),_ke=Gi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Cke=Gi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Ake=Gi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Ske=Gi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var kke=Object.freeze({__proto__:null,base32:bke,base32upper:wke,base32pad:vke,base32padupper:xke,base32hex:Eke,base32hexupper:_ke,base32hexpad:Cke,base32hexpadupper:Ake,base32z:Ske});const $ke=Ib({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Tke=Ib({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Ike=Object.freeze({__proto__:null,base36:$ke,base36upper:Tke});const Nke=Ib({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Pke=Ib({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Oke=Object.freeze({__proto__:null,base58btc:Nke,base58flickr:Pke});const Mke=Gi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Rke=Gi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),jke=Gi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),Dke=Gi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Uke=Object.freeze({__proto__:null,base64:Mke,base64pad:Rke,base64url:jke,base64urlpad:Dke});const VQ=Array.from(""),Bke=VQ.reduce((t,e,r)=>(t[r]=e,t),[]),Lke=VQ.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Fke(t){return t.reduce((e,r)=>(e+=Bke[r],e),"")}function zke(t){const e=[];for(const r of t){const n=Lke[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const Wke=m4({prefix:"",name:"base256emoji",encode:Fke,decode:zke});var qke=Object.freeze({__proto__:null,base256emoji:Wke}),Hke=GQ,$B=128,Vke=-128,Gke=Math.pow(2,31);function GQ(t,e,r){e=e||[],r=r||0;for(var n=r;t>=Gke;)e[r++]=t&255|$B,t/=128;for(;t&Vke;)e[r++]=t&255|$B,t>>>=7;return e[r]=t|0,GQ.bytes=r-n+1,e}var Kke=jA,Yke=128,TB=127;function jA(t,n){var r=0,n=n||0,i=0,s=n,a,o=t.length;do{if(s>=o)throw jA.bytes=0,new RangeError("Could not decode varint");a=t[s++],r+=i<28?(a&TB)<<i:(a&TB)*Math.pow(2,i),i+=7}while(a>=Yke);return jA.bytes=s-n,r}var Zke=Math.pow(2,7),Qke=Math.pow(2,14),Xke=Math.pow(2,21),Jke=Math.pow(2,28),e$e=Math.pow(2,35),t$e=Math.pow(2,42),r$e=Math.pow(2,49),n$e=Math.pow(2,56),i$e=Math.pow(2,63),s$e=function(t){return t<Zke?1:t<Qke?2:t<Xke?3:t<Jke?4:t<e$e?5:t<t$e?6:t<r$e?7:t<n$e?8:t<i$e?9:10},a$e={encode:Hke,decode:Kke,encodingLength:s$e},KQ=a$e;const IB=(t,e,r=0)=>(KQ.encode(t,e,r),e),NB=t=>KQ.encodingLength(t),DA=(t,e)=>{const r=e.byteLength,n=NB(t),i=n+NB(r),s=new Uint8Array(i+r);return IB(t,s,0),IB(r,s,n),s.set(e,i),new o$e(t,r,e,s)};let o$e=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};const YQ=({name:t,code:e,encode:r})=>new l$e(t,e,r);let l$e=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?DA(this.code,r):r.then(n=>DA(this.code,n))}else throw Error("Unknown type, must be binary type")}};const ZQ=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),c$e=YQ({name:"sha2-256",code:18,encode:ZQ("SHA-256")}),u$e=YQ({name:"sha2-512",code:19,encode:ZQ("SHA-512")});var d$e=Object.freeze({__proto__:null,sha256:c$e,sha512:u$e});const QQ=0,h$e="identity",XQ=qQ,f$e=t=>DA(QQ,XQ(t)),p$e={code:QQ,name:h$e,encode:XQ,digest:f$e};var g$e=Object.freeze({__proto__:null,identity:p$e});new TextEncoder,new TextDecoder;const PB={...lke,...uke,...hke,...pke,...yke,...kke,...Ike,...Oke,...Uke,...qke};({...d$e,...g$e});function JQ(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const OB=JQ("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),$E=JQ("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=zQ(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),eX={utf8:OB,"utf-8":OB,hex:PB.base16,latin1:$E,ascii:$E,binary:$E,...PB};function y4(t,e="utf8"){const r=eX[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function Xg(t,e="utf8"){const r=eX[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?hT(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function MB(t){return jf(y4(Xg(t,g4),LQ))}function k5(t){return y4(Xg($u(t),LQ),g4)}function tX(t){const e=Xg(KSe,kB),r=GSe+y4(WQ([e,t]),kB);return[HSe,VSe,r].join(qSe)}function m$e(t){return y4(t,g4)}function y$e(t){return Xg(t,g4)}function b$e(t){return Xg([k5(t.header),k5(t.payload)].join(S5),FQ)}function w$e(t){return[k5(t.header),k5(t.payload),m$e(t.signature)].join(S5)}function UA(t){const e=t.split(S5),r=MB(e[0]),n=MB(e[1]),i=y$e(e[2]),s=Xg(e.slice(0,2).join(S5),FQ);return{header:r,payload:n,signature:i,data:s}}function RB(t=TQ(YSe)){const e=BQ.getPublicKey(t);return{secretKey:WQ([t,e]),publicKey:e}}async function v$e(t,e,r,n,i=it.fromMiliseconds(Date.now())){const s={alg:zSe,typ:WSe},a=tX(n.publicKey),o=i+r,l={iss:a,sub:t,aud:e,iat:i,exp:o},u=b$e({header:s,payload:l}),h=BQ.sign(u,n.secretKey.slice(0,32));return w$e({header:s,payload:l,signature:h})}function fT(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function rX(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?fT(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function Iy(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=rX(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return fT(r)}function x$e(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=i}var o=t.length,l=t.charAt(0),u=Math.log(o)/Math.log(256),h=Math.log(256)/Math.log(o);function f(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var w=0,x=0,E=0,S=b.length;E!==S&&b[E]===0;)E++,w++;for(var _=(S-E)*h+1>>>0,I=new Uint8Array(_);E!==S;){for(var A=b[E],O=0,F=_-1;(A!==0||O<x)&&F!==-1;F--,O++)A+=256*I[F]>>>0,I[F]=A%o>>>0,A=A/o>>>0;if(A!==0)throw new Error("Non-zero carry");x=O,E++}for(var H=_-x;H!==_&&I[H]===0;)H++;for(var L=l.repeat(w);H<_;++H)L+=t.charAt(I[H]);return L}function g(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var w=0;if(b[w]!==" "){for(var x=0,E=0;b[w]===l;)x++,w++;for(var S=(b.length-w)*u+1>>>0,_=new Uint8Array(S);b[w];){var I=r[b.charCodeAt(w)];if(I===255)return;for(var A=0,O=S-1;(I!==0||A<E)&&O!==-1;O--,A++)I+=o*_[O]>>>0,_[O]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");E=A,w++}if(b[w]!==" "){for(var F=S-E;F!==S&&_[F]===0;)F++;for(var H=new Uint8Array(x+(S-F)),L=x;F!==S;)H[L++]=_[F++];return H}}}function y(b){var w=g(b);if(w)return w;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:g,decode:y}}var E$e=x$e,_$e=E$e;const C$e=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},A$e=t=>new TextEncoder().encode(t),S$e=t=>new TextDecoder().decode(t);class k$e{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class $$e{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return nX(this,e)}}class T$e{constructor(e){this.decoders=e}or(e){return nX(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const nX=(t,e)=>new T$e({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class I$e{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new k$e(e,r,n),this.decoder=new $$e(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const b4=({name:t,prefix:e,encode:r,decode:n})=>new I$e(t,e,r,n),Nb=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=_$e(r,e);return b4({prefix:t,name:e,encode:n,decode:s=>C$e(i(s))})},N$e=(t,e,r,n)=>{const i={};for(let h=0;h<e.length;++h)i[e[h]]=h;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*r/8|0);let o=0,l=0,u=0;for(let h=0;h<s;++h){const f=i[t[h]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);l=l<<r|f,o+=r,o>=8&&(o-=8,a[u++]=255&l>>o)}if(o>=r||255&l<<8-o)throw new SyntaxError("Unexpected end of data");return a},P$e=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",a=0,o=0;for(let l=0;l<t.length;++l)for(o=o<<8|t[l],a+=8;a>r;)a-=r,s+=e[i&o>>a];if(a&&(s+=e[i&o<<r-a]),n)for(;s.length*r&7;)s+="=";return s},Ki=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>b4({prefix:e,name:t,encode(i){return P$e(i,n,r)},decode(i){return N$e(i,n,r,t)}}),O$e=b4({prefix:"\0",name:"identity",encode:t=>S$e(t),decode:t=>A$e(t)}),M$e=Object.freeze(Object.defineProperty({__proto__:null,identity:O$e},Symbol.toStringTag,{value:"Module"})),R$e=Ki({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),j$e=Object.freeze(Object.defineProperty({__proto__:null,base2:R$e},Symbol.toStringTag,{value:"Module"})),D$e=Ki({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),U$e=Object.freeze(Object.defineProperty({__proto__:null,base8:D$e},Symbol.toStringTag,{value:"Module"})),B$e=Nb({prefix:"9",name:"base10",alphabet:"0123456789"}),L$e=Object.freeze(Object.defineProperty({__proto__:null,base10:B$e},Symbol.toStringTag,{value:"Module"})),F$e=Ki({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),z$e=Ki({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),W$e=Object.freeze(Object.defineProperty({__proto__:null,base16:F$e,base16upper:z$e},Symbol.toStringTag,{value:"Module"})),q$e=Ki({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),H$e=Ki({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),V$e=Ki({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),G$e=Ki({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),K$e=Ki({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),Y$e=Ki({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Z$e=Ki({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Q$e=Ki({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),X$e=Ki({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),J$e=Object.freeze(Object.defineProperty({__proto__:null,base32:q$e,base32hex:K$e,base32hexpad:Z$e,base32hexpadupper:Q$e,base32hexupper:Y$e,base32pad:V$e,base32padupper:G$e,base32upper:H$e,base32z:X$e},Symbol.toStringTag,{value:"Module"})),eTe=Nb({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),tTe=Nb({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),rTe=Object.freeze(Object.defineProperty({__proto__:null,base36:eTe,base36upper:tTe},Symbol.toStringTag,{value:"Module"})),nTe=Nb({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),iTe=Nb({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),sTe=Object.freeze(Object.defineProperty({__proto__:null,base58btc:nTe,base58flickr:iTe},Symbol.toStringTag,{value:"Module"})),aTe=Ki({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),oTe=Ki({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),lTe=Ki({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),cTe=Ki({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),uTe=Object.freeze(Object.defineProperty({__proto__:null,base64:aTe,base64pad:oTe,base64url:lTe,base64urlpad:cTe},Symbol.toStringTag,{value:"Module"})),iX=Array.from(""),dTe=iX.reduce((t,e,r)=>(t[r]=e,t),[]),hTe=iX.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function fTe(t){return t.reduce((e,r)=>(e+=dTe[r],e),"")}function pTe(t){const e=[];for(const r of t){const n=hTe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const gTe=b4({prefix:"",name:"base256emoji",encode:fTe,decode:pTe}),mTe=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:gTe},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const jB={...M$e,...j$e,...U$e,...L$e,...W$e,...J$e,...rTe,...sTe,...uTe,...mTe};function sX(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const DB=sX("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),TE=sX("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=rX(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),aX={utf8:DB,"utf-8":DB,hex:jB.base16,latin1:TE,ascii:TE,binary:TE,...jB};function mo(t,e="utf8"){const r=aX[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?fT(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function ea(t,e="utf8"){const r=aX[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}const yTe={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var IE,UB;function oX(){if(UB)return IE;UB=1;const t="Input must be an string, Buffer or Uint8Array";function e(a){let o;if(a instanceof Uint8Array)o=a;else if(typeof a=="string")o=new TextEncoder().encode(a);else throw new Error(t);return o}function r(a){return Array.prototype.map.call(a,function(o){return(o<16?"0":"")+o.toString(16)}).join("")}function n(a){return(4294967296+a).toString(16).substring(1)}function i(a,o,l){let u=`
`+a+" = ";for(let h=0;h<o.length;h+=2){if(l===32)u+=n(o[h]).toUpperCase(),u+=" ",u+=n(o[h+1]).toUpperCase();else if(l===64)u+=n(o[h+1]).toUpperCase(),u+=n(o[h]).toUpperCase();else throw new Error("Invalid size "+l);h%6===4?u+=`
`+new Array(a.length+4).join(" "):h<o.length-2&&(u+=" ")}console.log(u)}function s(a,o,l){let u=new Date().getTime();const h=new Uint8Array(o);for(let g=0;g<o;g++)h[g]=g%256;const f=new Date().getTime();console.log("Generated random input in "+(f-u)+"ms"),u=f;for(let g=0;g<l;g++){const y=a(h),b=new Date().getTime(),w=b-u;u=b,console.log("Hashed in "+w+"ms: "+y.substring(0,20)+"..."),console.log(Math.round(o/(1<<20)/(w/1e3)*100)/100+" MB PER SECOND")}}return IE={normalizeInput:e,toHex:r,debugPrint:i,testSpeed:s},IE}var NE,BB;function bTe(){if(BB)return NE;BB=1;const t=oX();function e(E,S,_){const I=E[S]+E[_];let A=E[S+1]+E[_+1];I>=4294967296&&A++,E[S]=I,E[S+1]=A}function r(E,S,_,I){let A=E[S]+_;_<0&&(A+=4294967296);let O=E[S+1]+I;A>=4294967296&&O++,E[S]=A,E[S+1]=O}function n(E,S){return E[S]^E[S+1]<<8^E[S+2]<<16^E[S+3]<<24}function i(E,S,_,I,A,O){const F=u[A],H=u[A+1],L=u[O],z=u[O+1];e(l,E,S),r(l,E,F,H);let V=l[I]^l[E],K=l[I+1]^l[E+1];l[I]=K,l[I+1]=V,e(l,_,I),V=l[S]^l[_],K=l[S+1]^l[_+1],l[S]=V>>>24^K<<8,l[S+1]=K>>>24^V<<8,e(l,E,S),r(l,E,L,z),V=l[I]^l[E],K=l[I+1]^l[E+1],l[I]=V>>>16^K<<16,l[I+1]=K>>>16^V<<16,e(l,_,I),V=l[S]^l[_],K=l[S+1]^l[_+1],l[S]=K>>>31^V<<1,l[S+1]=V>>>31^K<<1}const s=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),a=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],o=new Uint8Array(a.map(function(E){return E*2})),l=new Uint32Array(32),u=new Uint32Array(32);function h(E,S){let _=0;for(_=0;_<16;_++)l[_]=E.h[_],l[_+16]=s[_];for(l[24]=l[24]^E.t,l[25]=l[25]^E.t/4294967296,S&&(l[28]=~l[28],l[29]=~l[29]),_=0;_<32;_++)u[_]=n(E.b,4*_);for(_=0;_<12;_++)i(0,8,16,24,o[_*16+0],o[_*16+1]),i(2,10,18,26,o[_*16+2],o[_*16+3]),i(4,12,20,28,o[_*16+4],o[_*16+5]),i(6,14,22,30,o[_*16+6],o[_*16+7]),i(0,10,20,30,o[_*16+8],o[_*16+9]),i(2,12,22,24,o[_*16+10],o[_*16+11]),i(4,14,16,26,o[_*16+12],o[_*16+13]),i(6,8,18,28,o[_*16+14],o[_*16+15]);for(_=0;_<16;_++)E.h[_]=E.h[_]^l[_]^l[_+16]}const f=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function g(E,S,_,I){if(E===0||E>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(S&&S.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(_&&_.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(I&&I.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const A={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:E};f.fill(0),f[0]=E,S&&(f[1]=S.length),f[2]=1,f[3]=1,_&&f.set(_,32),I&&f.set(I,48);for(let O=0;O<16;O++)A.h[O]=s[O]^n(f,O*4);return S&&(y(A,S),A.c=128),A}function y(E,S){for(let _=0;_<S.length;_++)E.c===128&&(E.t+=E.c,h(E,!1),E.c=0),E.b[E.c++]=S[_]}function b(E){for(E.t+=E.c;E.c<128;)E.b[E.c++]=0;h(E,!0);const S=new Uint8Array(E.outlen);for(let _=0;_<E.outlen;_++)S[_]=E.h[_>>2]>>8*(_&3);return S}function w(E,S,_,I,A){_=_||64,E=t.normalizeInput(E),I&&(I=t.normalizeInput(I)),A&&(A=t.normalizeInput(A));const O=g(_,S,I,A);return y(O,E),b(O)}function x(E,S,_,I,A){const O=w(E,S,_,I,A);return t.toHex(O)}return NE={blake2b:w,blake2bHex:x,blake2bInit:g,blake2bUpdate:y,blake2bFinal:b},NE}var PE,LB;function wTe(){if(LB)return PE;LB=1;const t=oX();function e(b,w){return b[w]^b[w+1]<<8^b[w+2]<<16^b[w+3]<<24}function r(b,w,x,E,S,_){a[b]=a[b]+a[w]+S,a[E]=n(a[E]^a[b],16),a[x]=a[x]+a[E],a[w]=n(a[w]^a[x],12),a[b]=a[b]+a[w]+_,a[E]=n(a[E]^a[b],8),a[x]=a[x]+a[E],a[w]=n(a[w]^a[x],7)}function n(b,w){return b>>>w^b<<32-w}const i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),s=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),a=new Uint32Array(16),o=new Uint32Array(16);function l(b,w){let x=0;for(x=0;x<8;x++)a[x]=b.h[x],a[x+8]=i[x];for(a[12]^=b.t,a[13]^=b.t/4294967296,w&&(a[14]=~a[14]),x=0;x<16;x++)o[x]=e(b.b,4*x);for(x=0;x<10;x++)r(0,4,8,12,o[s[x*16+0]],o[s[x*16+1]]),r(1,5,9,13,o[s[x*16+2]],o[s[x*16+3]]),r(2,6,10,14,o[s[x*16+4]],o[s[x*16+5]]),r(3,7,11,15,o[s[x*16+6]],o[s[x*16+7]]),r(0,5,10,15,o[s[x*16+8]],o[s[x*16+9]]),r(1,6,11,12,o[s[x*16+10]],o[s[x*16+11]]),r(2,7,8,13,o[s[x*16+12]],o[s[x*16+13]]),r(3,4,9,14,o[s[x*16+14]],o[s[x*16+15]]);for(x=0;x<8;x++)b.h[x]^=a[x]^a[x+8]}function u(b,w){if(!(b>0&&b<=32))throw new Error("Incorrect output length, should be in [1, 32]");const x=w?w.length:0;if(w&&!(x>0&&x<=32))throw new Error("Incorrect key length, should be in [1, 32]");const E={h:new Uint32Array(i),b:new Uint8Array(64),c:0,t:0,outlen:b};return E.h[0]^=16842752^x<<8^b,x>0&&(h(E,w),E.c=64),E}function h(b,w){for(let x=0;x<w.length;x++)b.c===64&&(b.t+=b.c,l(b,!1),b.c=0),b.b[b.c++]=w[x]}function f(b){for(b.t+=b.c;b.c<64;)b.b[b.c++]=0;l(b,!0);const w=new Uint8Array(b.outlen);for(let x=0;x<b.outlen;x++)w[x]=b.h[x>>2]>>8*(x&3)&255;return w}function g(b,w,x){x=x||32,b=t.normalizeInput(b);const E=u(x,w);return h(E,b),f(E)}function y(b,w,x){const E=g(b,w,x);return t.toHex(E)}return PE={blake2s:g,blake2sHex:y,blake2sInit:u,blake2sUpdate:h,blake2sFinal:f},PE}var OE,FB;function vTe(){if(FB)return OE;FB=1;const t=bTe(),e=wTe();return OE={blake2b:t.blake2b,blake2bHex:t.blake2bHex,blake2bInit:t.blake2bInit,blake2bUpdate:t.blake2bUpdate,blake2bFinal:t.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},OE}var xTe=vTe(),ETe={};const _Te=":";function yf(t){const[e,r]=t.split(_Te);return{namespace:e,reference:r}}function zB(t,e=[]){const r=[];return Object.keys(t).forEach(n=>{if(e.length&&!e.includes(n))return;const i=t[n];r.push(...i.accounts)}),r}function lX(t,e){return t.includes(":")?[t]:e.chains||[]}var CTe=Object.defineProperty,ATe=Object.defineProperties,STe=Object.getOwnPropertyDescriptors,WB=Object.getOwnPropertySymbols,kTe=Object.prototype.hasOwnProperty,$Te=Object.prototype.propertyIsEnumerable,BA=(t,e,r)=>e in t?CTe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qB=(t,e)=>{for(var r in e||(e={}))kTe.call(e,r)&&BA(t,r,e[r]);if(WB)for(var r of WB(e))$Te.call(e,r)&&BA(t,r,e[r]);return t},TTe=(t,e)=>ATe(t,STe(e)),HB=(t,e,r)=>BA(t,typeof e!="symbol"?e+"":e,r);const ITe="ReactNative",Na={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},NTe="js";function $5(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function ah(){return!ku.getDocument()&&!!ku.getNavigator()&&navigator.product===ITe}function PTe(){return ah()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function OTe(){return ah()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Jg(){return!$5()&&!!ku.getNavigator()&&!!ku.getDocument()}function Pb(){return ah()?Na.reactNative:$5()?Na.node:Jg()?Na.browser:Na.unknown}function VB(){var t;try{return ah()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function MTe(t,e){const r=new URLSearchParams(t);for(const n of Object.keys(e).sort())if(e.hasOwnProperty(n)){const i=e[n];i!==void 0&&r.set(n,i)}return r.toString()}function RTe(t){var e,r;const n=cX();try{return t!=null&&t.url&&n.url&&new URL(t.url).host!==new URL(n.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),t.url=n.url),(e=t==null?void 0:t.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),TTe(qB(qB({},n),t),{url:(t==null?void 0:t.url)||n.url,name:(t==null?void 0:t.name)||n.name,description:(t==null?void 0:t.description)||n.description,icons:(r=t==null?void 0:t.icons)!=null&&r.length&&t.icons.length>0?t.icons:n.icons})}catch(i){return console.warn("Error populating app metadata",i),t||n}}function cX(){return SCe.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function jTe(){if(Pb()===Na.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const t=q_e();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function DTe(){var t;const e=Pb();return e===Na.browser?[e,((t=ku.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function uX(t,e,r){const n=jTe(),i=DTe();return[[t,e].join("-"),[NTe,r].join("-"),n,i].join("/")}function UTe({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:a,bundleId:o,packageName:l}){const u=r.split("?"),h=uX(t,e,n),f={auth:i,ua:h,projectId:s,useOnCloseEvent:a,packageName:l||void 0,bundleId:o||void 0},g=MTe(u[1]||"",f);return u[0]+"?"+g}function lf(t,e){return t.filter(r=>e.includes(r)).length===t.length}function LA(t){return Object.fromEntries(t.entries())}function FA(t){return new Map(Object.entries(t))}function Vh(t=it.FIVE_MINUTES,e){const r=it.toMiliseconds(t||it.FIVE_MINUTES);let n,i,s,a;return{resolve:o=>{s&&n&&(clearTimeout(s),n(o),a=Promise.resolve(o))},reject:o=>{s&&i&&(clearTimeout(s),i(o))},done:()=>new Promise((o,l)=>{if(a)return o(a);s=setTimeout(()=>{const u=new Error(e);a=Promise.reject(u),l(u)},r),n=o,i=l})}}function nc(t,e,r){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(r)),e);try{const a=await t;n(a)}catch(a){i(a)}clearTimeout(s)})}function dX(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function BTe(t){return dX("topic",t)}function LTe(t){return dX("id",t)}function hX(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function fi(t,e){return it.fromMiliseconds(Date.now()+it.toMiliseconds(t))}function Id(t){return Date.now()>=it.toMiliseconds(t)}function Lr(t,e){return`${t}${e?`:${e}`:""}`}function cc(t=[],e=[]){return[...new Set([...t,...e])]}async function FTe({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;const i=typeof r=="string"?JSON.parse(r):r,s=i==null?void 0:i.href;if(typeof s!="string")return;const a=zTe(s,t,e),o=Pb();if(o===Na.browser){if(!((n=ku.getDocument())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}WTe(a)}else o===Na.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(a)}catch(i){console.error(i)}}function zTe(t,e,r){const n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${GTe(n,!0)}`}else i=`${i}/wc?${n}`;return i}function WTe(t){let e="_self";VTe()?e="_top":(HTe()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function qTe(t,e){let r="";try{if(Jg()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(n){console.error(n)}return r}function GB(t,e){if(!t.includes(e))return null;const r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function KB(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function pT(){return typeof process<"u"&&ETe.IS_VITEST==="true"}function HTe(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function VTe(){try{return window.self!==window.top}catch{return!1}}function GTe(t,e=!1){const r=Buffer.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function fX(t){return Buffer.from(t,"base64").toString("utf-8")}function KTe(t){return new Promise(e=>setTimeout(e,t))}let YTe=class{constructor({limit:e}){HB(this,"limit"),HB(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const r=this.set.values().next().value;r&&this.set.delete(r)}this.set.add(e)}}has(e){return this.set.has(e)}};const Iv=BigInt(2**32-1),YB=BigInt(32);function pX(t,e=!1){return e?{h:Number(t&Iv),l:Number(t>>YB&Iv)}:{h:Number(t>>YB&Iv)|0,l:Number(t&Iv)|0}}function gX(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:a,l:o}=pX(t[s],e);[n[s],i[s]]=[a,o]}return[n,i]}const ZB=(t,e,r)=>t>>>r,QB=(t,e,r)=>t<<32-r|e>>>r,Nd=(t,e,r)=>t>>>r|e<<32-r,Pd=(t,e,r)=>t<<32-r|e>>>r,hy=(t,e,r)=>t<<64-r|e>>>r-32,fy=(t,e,r)=>t>>>r-32|e<<64-r,ZTe=(t,e)=>e,QTe=(t,e)=>t,XTe=(t,e,r)=>t<<r|e>>>32-r,JTe=(t,e,r)=>e<<r|t>>>32-r,eIe=(t,e,r)=>e<<r-32|t>>>64-r,tIe=(t,e,r)=>t<<r-32|e>>>64-r;function Go(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const gT=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),mT=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,rIe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),nIe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,iIe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),sIe=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,a0=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function yT(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Tu(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function xo(t,...e){if(!yT(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function bT(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Tu(t.outputLen),Tu(t.blockLen)}function th(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function wT(t,e){xo(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function q2(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Eo(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function ME(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Ul(t,e){return t<<32-e|t>>>e}const mX=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function yX(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const Jc=mX?t=>t:t=>yX(t);function aIe(t){for(let e=0;e<t.length;e++)t[e]=yX(t[e]);return t}const Od=mX?t=>t:aIe,bX=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",oIe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function H2(t){if(xo(t),bX)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=oIe[t[r]];return e}const Gc={_0:48,_9:57,A:65,F:70,a:97,f:102};function XB(t){if(t>=Gc._0&&t<=Gc._9)return t-Gc._0;if(t>=Gc.A&&t<=Gc.F)return t-(Gc.A-10);if(t>=Gc.a&&t<=Gc.f)return t-(Gc.a-10)}function vT(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(bX)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const a=XB(t.charCodeAt(s)),o=XB(t.charCodeAt(s+1));if(a===void 0||o===void 0){const l=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+l+'" at index '+s)}n[i]=a*16+o}return n}function lIe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function il(t){return typeof t=="string"&&(t=lIe(t)),xo(t),t}function cf(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];xo(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}let w4=class{};function Ob(t){const e=n=>t().update(il(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function cIe(t){const e=(n,i)=>t(i).update(il(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function em(t=32){if(a0&&typeof a0.getRandomValues=="function")return a0.getRandomValues(new Uint8Array(t));if(a0&&typeof a0.randomBytes=="function")return Uint8Array.from(a0.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const uIe=BigInt(0),b1=BigInt(1),dIe=BigInt(2),hIe=BigInt(7),fIe=BigInt(256),pIe=BigInt(113),wX=[],vX=[],xX=[];for(let t=0,e=b1,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],wX.push(2*(5*n+r)),vX.push((t+1)*(t+2)/2%64);let i=uIe;for(let s=0;s<7;s++)e=(e<<b1^(e>>hIe)*pIe)%fIe,e&dIe&&(i^=b1<<(b1<<BigInt(s))-b1);xX.push(i)}const EX=gX(xX,!0),gIe=EX[0],mIe=EX[1],JB=(t,e,r)=>r>32?eIe(t,e,r):XTe(t,e,r),eL=(t,e,r)=>r>32?tIe(t,e,r):JTe(t,e,r);function yIe(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let a=0;a<10;a++)r[a]=t[a]^t[a+10]^t[a+20]^t[a+30]^t[a+40];for(let a=0;a<10;a+=2){const o=(a+8)%10,l=(a+2)%10,u=r[l],h=r[l+1],f=JB(u,h,1)^r[o],g=eL(u,h,1)^r[o+1];for(let y=0;y<50;y+=10)t[a+y]^=f,t[a+y+1]^=g}let i=t[2],s=t[3];for(let a=0;a<24;a++){const o=vX[a],l=JB(i,s,o),u=eL(i,s,o),h=wX[a];i=t[h],s=t[h+1],t[h]=l,t[h+1]=u}for(let a=0;a<50;a+=10){for(let o=0;o<10;o++)r[o]=t[a+o];for(let o=0;o<10;o++)t[a+o]^=~r[(o+2)%10]&r[(o+4)%10]}t[0]^=gIe[n],t[1]^=mIe[n]}Eo(r)}let bIe=class _X extends w4{constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,Tu(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=q2(this.state)}clone(){return this._cloneInto()}keccak(){Od(this.state32),yIe(this.state32,this.rounds),Od(this.state32),this.posOut=0,this.pos=0}update(e){th(this),e=il(e),xo(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const a=Math.min(r-this.pos,i-s);for(let o=0;o<a;o++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,r&128&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){th(this,!1),xo(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const a=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+a),i),this.posOut+=a,i+=a}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Tu(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(wT(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Eo(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:a}=this;return e||(e=new _X(r,n,i,a,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=a,e.destroyed=this.destroyed,e}};const wIe=(t,e,r)=>Ob(()=>new bIe(e,t,r)),vIe=wIe(1,136,256/8);function xIe(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),o=Number(r&s),l=n?4:0,u=n?0:4;t.setUint32(e+l,a,n),t.setUint32(e+u,o,n)}function EIe(t,e,r){return t&e^~t&r}function _Ie(t,e,r){return t&e^t&r^e&r}let CX=class extends w4{constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=ME(this.buffer)}update(e){th(this),e=il(e),xo(e);const{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let a=0;a<s;){const o=Math.min(i-this.pos,s-a);if(o===i){const l=ME(e);for(;i<=s-a;a+=i)this.process(l,a);continue}n.set(e.subarray(a,a+o),this.pos),this.pos+=o,a+=o,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){th(this),wT(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:a}=this;r[a++]=128,Eo(this.buffer.subarray(a)),this.padOffset>i-a&&(this.process(n,0),a=0);for(let f=a;f<i;f++)r[f]=0;xIe(n,i-8,BigInt(this.length*8),s),this.process(n,0);const o=ME(e),l=this.outputLen;if(l%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const u=l/4,h=this.get();if(u>h.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<u;f++)o.setUint32(4*f,h[f],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:a,pos:o}=this;return e.destroyed=a,e.finished=s,e.length=i,e.pos=o,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};const bd=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),ts=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),rs=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),CIe=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),wd=new Uint32Array(64);let AIe=class extends CX{constructor(e=32){super(64,e,8,!1),this.A=bd[0]|0,this.B=bd[1]|0,this.C=bd[2]|0,this.D=bd[3]|0,this.E=bd[4]|0,this.F=bd[5]|0,this.G=bd[6]|0,this.H=bd[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:a,G:o,H:l}=this;return[e,r,n,i,s,a,o,l]}set(e,r,n,i,s,a,o,l){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=a|0,this.G=o|0,this.H=l|0}process(e,r){for(let f=0;f<16;f++,r+=4)wd[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){const g=wd[f-15],y=wd[f-2],b=Ul(g,7)^Ul(g,18)^g>>>3,w=Ul(y,17)^Ul(y,19)^y>>>10;wd[f]=w+wd[f-7]+b+wd[f-16]|0}let{A:n,B:i,C:s,D:a,E:o,F:l,G:u,H:h}=this;for(let f=0;f<64;f++){const g=Ul(o,6)^Ul(o,11)^Ul(o,25),y=h+g+EIe(o,l,u)+CIe[f]+wd[f]|0,b=(Ul(n,2)^Ul(n,13)^Ul(n,22))+_Ie(n,i,s)|0;h=u,u=l,l=o,o=a+y|0,a=s,s=i,i=n,n=y+b|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,a=a+this.D|0,o=o+this.E|0,l=l+this.F|0,u=u+this.G|0,h=h+this.H|0,this.set(n,i,s,a,o,l,u,h)}roundClean(){Eo(wd)}destroy(){this.set(0,0,0,0,0,0,0,0),Eo(this.buffer)}};const AX=gX(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),SIe=AX[0],kIe=AX[1],vd=new Uint32Array(80),xd=new Uint32Array(80);let xT=class extends CX{constructor(e=64){super(128,e,16,!1),this.Ah=rs[0]|0,this.Al=rs[1]|0,this.Bh=rs[2]|0,this.Bl=rs[3]|0,this.Ch=rs[4]|0,this.Cl=rs[5]|0,this.Dh=rs[6]|0,this.Dl=rs[7]|0,this.Eh=rs[8]|0,this.El=rs[9]|0,this.Fh=rs[10]|0,this.Fl=rs[11]|0,this.Gh=rs[12]|0,this.Gl=rs[13]|0,this.Hh=rs[14]|0,this.Hl=rs[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:a,Dh:o,Dl:l,Eh:u,El:h,Fh:f,Fl:g,Gh:y,Gl:b,Hh:w,Hl:x}=this;return[e,r,n,i,s,a,o,l,u,h,f,g,y,b,w,x]}set(e,r,n,i,s,a,o,l,u,h,f,g,y,b,w,x){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=a|0,this.Dh=o|0,this.Dl=l|0,this.Eh=u|0,this.El=h|0,this.Fh=f|0,this.Fl=g|0,this.Gh=y|0,this.Gl=b|0,this.Hh=w|0,this.Hl=x|0}process(e,r){for(let _=0;_<16;_++,r+=4)vd[_]=e.getUint32(r),xd[_]=e.getUint32(r+=4);for(let _=16;_<80;_++){const I=vd[_-15]|0,A=xd[_-15]|0,O=Nd(I,A,1)^Nd(I,A,8)^ZB(I,A,7),F=Pd(I,A,1)^Pd(I,A,8)^QB(I,A,7),H=vd[_-2]|0,L=xd[_-2]|0,z=Nd(H,L,19)^hy(H,L,61)^ZB(H,L,6),V=Pd(H,L,19)^fy(H,L,61)^QB(H,L,6),K=rIe(F,V,xd[_-7],xd[_-16]),B=nIe(K,O,z,vd[_-7],vd[_-16]);vd[_]=B|0,xd[_]=K|0}let{Ah:n,Al:i,Bh:s,Bl:a,Ch:o,Cl:l,Dh:u,Dl:h,Eh:f,El:g,Fh:y,Fl:b,Gh:w,Gl:x,Hh:E,Hl:S}=this;for(let _=0;_<80;_++){const I=Nd(f,g,14)^Nd(f,g,18)^hy(f,g,41),A=Pd(f,g,14)^Pd(f,g,18)^fy(f,g,41),O=f&y^~f&w,F=g&b^~g&x,H=iIe(S,A,F,kIe[_],xd[_]),L=sIe(H,E,I,O,SIe[_],vd[_]),z=H|0,V=Nd(n,i,28)^hy(n,i,34)^hy(n,i,39),K=Pd(n,i,28)^fy(n,i,34)^fy(n,i,39),B=n&s^n&o^s&o,C=i&a^i&l^a&l;E=w|0,S=x|0,w=y|0,x=b|0,y=f|0,b=g|0,{h:f,l:g}=Go(u|0,h|0,L|0,z|0),u=o|0,h=l|0,o=s|0,l=a|0,s=n|0,a=i|0;const k=gT(z,K,C);n=mT(k,L,V,B),i=k|0}({h:n,l:i}=Go(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:a}=Go(this.Bh|0,this.Bl|0,s|0,a|0),{h:o,l}=Go(this.Ch|0,this.Cl|0,o|0,l|0),{h:u,l:h}=Go(this.Dh|0,this.Dl|0,u|0,h|0),{h:f,l:g}=Go(this.Eh|0,this.El|0,f|0,g|0),{h:y,l:b}=Go(this.Fh|0,this.Fl|0,y|0,b|0),{h:w,l:x}=Go(this.Gh|0,this.Gl|0,w|0,x|0),{h:E,l:S}=Go(this.Hh|0,this.Hl|0,E|0,S|0),this.set(n,i,s,a,o,l,u,h,f,g,y,b,w,x,E,S)}roundClean(){Eo(vd,xd)}destroy(){Eo(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},$Ie=class extends xT{constructor(){super(48),this.Ah=ts[0]|0,this.Al=ts[1]|0,this.Bh=ts[2]|0,this.Bl=ts[3]|0,this.Ch=ts[4]|0,this.Cl=ts[5]|0,this.Dh=ts[6]|0,this.Dl=ts[7]|0,this.Eh=ts[8]|0,this.El=ts[9]|0,this.Fh=ts[10]|0,this.Fl=ts[11]|0,this.Gh=ts[12]|0,this.Gl=ts[13]|0,this.Hh=ts[14]|0,this.Hl=ts[15]|0}};const ns=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);let TIe=class extends xT{constructor(){super(32),this.Ah=ns[0]|0,this.Al=ns[1]|0,this.Bh=ns[2]|0,this.Bl=ns[3]|0,this.Ch=ns[4]|0,this.Cl=ns[5]|0,this.Dh=ns[6]|0,this.Dl=ns[7]|0,this.Eh=ns[8]|0,this.El=ns[9]|0,this.Fh=ns[10]|0,this.Fl=ns[11]|0,this.Gh=ns[12]|0,this.Gl=ns[13]|0,this.Hh=ns[14]|0,this.Hl=ns[15]|0}};const v4=Ob(()=>new AIe),IIe=Ob(()=>new xT),NIe=Ob(()=>new $Ie),PIe=Ob(()=>new TIe),OIe=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),ui=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),ft=new Uint32Array(32);function Ed(t,e,r,n,i,s){const a=i[s],o=i[s+1];let l=ft[2*t],u=ft[2*t+1],h=ft[2*e],f=ft[2*e+1],g=ft[2*r],y=ft[2*r+1],b=ft[2*n],w=ft[2*n+1],x=gT(l,h,a);u=mT(x,u,f,o),l=x|0,{Dh:w,Dl:b}={Dh:w^u,Dl:b^l},{Dh:w,Dl:b}={Dh:ZTe(w,b),Dl:QTe(w)},{h:y,l:g}=Go(y,g,w,b),{Bh:f,Bl:h}={Bh:f^y,Bl:h^g},{Bh:f,Bl:h}={Bh:Nd(f,h,24),Bl:Pd(f,h,24)},ft[2*t]=l,ft[2*t+1]=u,ft[2*e]=h,ft[2*e+1]=f,ft[2*r]=g,ft[2*r+1]=y,ft[2*n]=b,ft[2*n+1]=w}function _d(t,e,r,n,i,s){const a=i[s],o=i[s+1];let l=ft[2*t],u=ft[2*t+1],h=ft[2*e],f=ft[2*e+1],g=ft[2*r],y=ft[2*r+1],b=ft[2*n],w=ft[2*n+1],x=gT(l,h,a);u=mT(x,u,f,o),l=x|0,{Dh:w,Dl:b}={Dh:w^u,Dl:b^l},{Dh:w,Dl:b}={Dh:Nd(w,b,16),Dl:Pd(w,b,16)},{h:y,l:g}=Go(y,g,w,b),{Bh:f,Bl:h}={Bh:f^y,Bl:h^g},{Bh:f,Bl:h}={Bh:hy(f,h,63),Bl:fy(f,h,63)},ft[2*t]=l,ft[2*t+1]=u,ft[2*e]=h,ft[2*e+1]=f,ft[2*r]=g,ft[2*r+1]=y,ft[2*n]=b,ft[2*n+1]=w}function MIe(t,e={},r,n,i){if(Tu(r),t<0||t>r)throw new Error("outputLen bigger than keyLen");const{key:s,salt:a,personalization:o}=e;if(s!==void 0&&(s.length<1||s.length>r))throw new Error("key length must be undefined or 1.."+r);if(a!==void 0&&a.length!==n)throw new Error("salt must be undefined or "+n);if(o!==void 0&&o.length!==i)throw new Error("personalization must be undefined or "+i)}let RIe=class extends w4{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Tu(e),Tu(r),this.blockLen=e,this.outputLen=r,this.buffer=new Uint8Array(e),this.buffer32=q2(this.buffer)}update(e){th(this),e=il(e),xo(e);const{blockLen:r,buffer:n,buffer32:i}=this,s=e.length,a=e.byteOffset,o=e.buffer;for(let l=0;l<s;){this.pos===r&&(Od(i),this.compress(i,0,!1),Od(i),this.pos=0);const u=Math.min(r-this.pos,s-l),h=a+l;if(u===r&&!(h%4)&&l+u<s){const f=new Uint32Array(o,h,Math.floor((s-l)/4));Od(f);for(let g=0;l+r<s;g+=i.length,l+=r)this.length+=r,this.compress(f,g,!1);Od(f);continue}n.set(e.subarray(l,l+u),this.pos),this.pos+=u,this.length+=u,l+=u}return this}digestInto(e){th(this),wT(e,this);const{pos:r,buffer32:n}=this;this.finished=!0,Eo(this.buffer.subarray(r)),Od(n),this.compress(n,0,!0),Od(n);const i=q2(e);this.get().forEach((s,a)=>i[a]=Jc(s))}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){const{buffer:r,length:n,finished:i,destroyed:s,outputLen:a,pos:o}=this;return e||(e=new this.constructor({dkLen:a})),e.set(...this.get()),e.buffer.set(r),e.destroyed=s,e.finished=i,e.length=n,e.pos=o,e.outputLen=a,e}clone(){return this._cloneInto()}},jIe=class extends RIe{constructor(e={}){const r=e.dkLen===void 0?64:e.dkLen;super(128,r),this.v0l=ui[0]|0,this.v0h=ui[1]|0,this.v1l=ui[2]|0,this.v1h=ui[3]|0,this.v2l=ui[4]|0,this.v2h=ui[5]|0,this.v3l=ui[6]|0,this.v3h=ui[7]|0,this.v4l=ui[8]|0,this.v4h=ui[9]|0,this.v5l=ui[10]|0,this.v5h=ui[11]|0,this.v6l=ui[12]|0,this.v6h=ui[13]|0,this.v7l=ui[14]|0,this.v7h=ui[15]|0,MIe(r,e,64,16,16);let{key:n,personalization:i,salt:s}=e,a=0;if(n!==void 0&&(n=il(n),a=n.length),this.v0l^=this.outputLen|a<<8|65536|1<<24,s!==void 0){s=il(s);const o=q2(s);this.v4l^=Jc(o[0]),this.v4h^=Jc(o[1]),this.v5l^=Jc(o[2]),this.v5h^=Jc(o[3])}if(i!==void 0){i=il(i);const o=q2(i);this.v6l^=Jc(o[0]),this.v6h^=Jc(o[1]),this.v7l^=Jc(o[2]),this.v7h^=Jc(o[3])}if(n!==void 0){const o=new Uint8Array(this.blockLen);o.set(n),this.update(o)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:s,v2h:a,v3l:o,v3h:l,v4l:u,v4h:h,v5l:f,v5h:g,v6l:y,v6h:b,v7l:w,v7h:x}=this;return[e,r,n,i,s,a,o,l,u,h,f,g,y,b,w,x]}set(e,r,n,i,s,a,o,l,u,h,f,g,y,b,w,x){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=s|0,this.v2h=a|0,this.v3l=o|0,this.v3h=l|0,this.v4l=u|0,this.v4h=h|0,this.v5l=f|0,this.v5h=g|0,this.v6l=y|0,this.v6h=b|0,this.v7l=w|0,this.v7h=x|0}compress(e,r,n){this.get().forEach((l,u)=>ft[u]=l),ft.set(ui,16);let{h:i,l:s}=pX(BigInt(this.length));ft[24]=ui[8]^s,ft[25]=ui[9]^i,n&&(ft[28]=~ft[28],ft[29]=~ft[29]);let a=0;const o=OIe;for(let l=0;l<12;l++)Ed(0,4,8,12,e,r+2*o[a++]),_d(0,4,8,12,e,r+2*o[a++]),Ed(1,5,9,13,e,r+2*o[a++]),_d(1,5,9,13,e,r+2*o[a++]),Ed(2,6,10,14,e,r+2*o[a++]),_d(2,6,10,14,e,r+2*o[a++]),Ed(3,7,11,15,e,r+2*o[a++]),_d(3,7,11,15,e,r+2*o[a++]),Ed(0,5,10,15,e,r+2*o[a++]),_d(0,5,10,15,e,r+2*o[a++]),Ed(1,6,11,12,e,r+2*o[a++]),_d(1,6,11,12,e,r+2*o[a++]),Ed(2,7,8,13,e,r+2*o[a++]),_d(2,7,8,13,e,r+2*o[a++]),Ed(3,4,9,14,e,r+2*o[a++]),_d(3,4,9,14,e,r+2*o[a++]);this.v0l^=ft[0]^ft[16],this.v0h^=ft[1]^ft[17],this.v1l^=ft[2]^ft[18],this.v1h^=ft[3]^ft[19],this.v2l^=ft[4]^ft[20],this.v2h^=ft[5]^ft[21],this.v3l^=ft[6]^ft[22],this.v3h^=ft[7]^ft[23],this.v4l^=ft[8]^ft[24],this.v4h^=ft[9]^ft[25],this.v5l^=ft[10]^ft[26],this.v5h^=ft[11]^ft[27],this.v6l^=ft[12]^ft[28],this.v6h^=ft[13]^ft[29],this.v7l^=ft[14]^ft[30],this.v7h^=ft[15]^ft[31],Eo(ft)}destroy(){this.destroyed=!0,Eo(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const DIe=cIe(t=>new jIe(t)),UIe="https://rpc.walletconnect.org/v1";function SX(t){const e=`Ethereum Signed Message:
${t.length}`,r=new TextEncoder().encode(e+t);return"0x"+Buffer.from(vIe(r)).toString("hex")}async function BIe(t,e,r,n,i,s){switch(r.t){case"eip191":return await LIe(t,e,r.s);case"eip1271":return await FIe(t,e,r.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function LIe(t,e,r){return(await qCe({hash:SX(e),signature:r})).toLowerCase()===t.toLowerCase()}async function FIe(t,e,r,n,i,s){const a=yf(n);if(!a.namespace||!a.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const o="0x1626ba7e",l="0000000000000000000000000000000000000000000000000000000000000040",u=r.substring(2),h=(u.length/2).toString(16).padStart(64,"0"),f=(e.startsWith("0x")?e:SX(e)).substring(2),g=o+f+l+h+u,y=await fetch(`${s||UIe}/?chainId=${n}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:zIe(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:g},"latest"]})}),{result:b}=await y.json();return b?b.slice(0,o.length).toLowerCase()===o.toLowerCase():!1}catch(o){return console.error("isValidEip1271Signature: ",o),!1}}function zIe(){return Date.now()+Math.floor(Math.random()*1e3)}function WIe(t){const e=atob(t),r=new Uint8Array(e.length);for(let a=0;a<e.length;a++)r[a]=e.charCodeAt(a);const n=r[0];if(n===0)throw new Error("No signatures found");const i=1+n*64;if(r.length<i)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return Tb.encode(s)}function qIe(t){const e=new Uint8Array(Buffer.from(t,"base64")),r=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),n=new Uint8Array(r.length+e.length);n.set(r),n.set(e,r.length);const i=DIe(n,{dkLen:32});return Tb.encode(i)}function tL(t){const e=new Uint8Array(v4(HIe(t)));return Tb.encode(e)}function HIe(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function rL(t){const e=Buffer.from(t,"base64"),r=$Ae(e).txn;if(!r)throw new Error("Invalid signed transaction: missing 'txn' field");const n=wAe(r),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(n)]),a=PIe(s);return wEe.encode(a).replace(/=+$/,"")}function RE(t){const e=[];let r=BigInt(t);for(;r>=BigInt(128);)e.push(Number(r&BigInt(127)|BigInt(128))),r>>=BigInt(7);return e.push(Number(r)),Buffer.from(e)}function VIe(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),r=Buffer.from(t.signed.authInfoBytes,"base64"),n=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(RE(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(RE(r.length)),i.push(r),i.push(Buffer.from([26])),i.push(RE(n.length)),i.push(n);const s=Buffer.concat(i),a=v4(s);return Buffer.from(a).toString("hex").toUpperCase()}var GIe=Object.defineProperty,KIe=Object.defineProperties,YIe=Object.getOwnPropertyDescriptors,nL=Object.getOwnPropertySymbols,ZIe=Object.prototype.hasOwnProperty,QIe=Object.prototype.propertyIsEnumerable,iL=(t,e,r)=>e in t?GIe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,XIe=(t,e)=>{for(var r in e||(e={}))ZIe.call(e,r)&&iL(t,r,e[r]);if(nL)for(var r of nL(e))QIe.call(e,r)&&iL(t,r,e[r]);return t},JIe=(t,e)=>KIe(t,YIe(e));const eNe="did:pkh:",ET=t=>t==null?void 0:t.split(":"),tNe=t=>{const e=t&&ET(t);if(e)return t.includes(eNe)?e[3]:e[1]},zA=t=>{const e=t&&ET(t);if(e)return e[2]+":"+e[3]},T5=t=>{const e=t&&ET(t);if(e)return e.pop()};async function sL(t){const{cacao:e,projectId:r}=t,{s:n,p:i}=e,s=kX(i,i.iss),a=T5(i.iss);return await BIe(a,s,n,zA(i.iss),r)}const kX=(t,e)=>{const r=`${t.domain} wants you to sign in with your Ethereum account:`,n=T5(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,a=`Version: ${t.version}`,o=`Chain ID: ${tNe(e)}`,l=`Nonce: ${t.nonce}`,u=`Issued At: ${t.iat}`,h=t.exp?`Expiration Time: ${t.exp}`:void 0,f=t.nbf?`Not Before: ${t.nbf}`:void 0,g=t.requestId?`Request ID: ${t.requestId}`:void 0,y=t.resources?`Resources:${t.resources.map(w=>`
- ${w}`).join("")}`:void 0,b=_3(t.resources);if(b){const w=V2(b);i=uNe(i,w)}return[r,n,"",i,"",s,a,o,l,u,h,f,g,y].filter(w=>w!=null).join(`
`)};function rNe(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function nNe(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function Df(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{const n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(i=>{const s=n[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(a=>{if(typeof a!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${a}`)})})})}function iNe(t,e,r,n={}){return r==null||r.sort((i,s)=>i.localeCompare(s)),{att:{[t]:sNe(e,r,n)}}}function sNe(t,e,r={}){e=e==null?void 0:e.sort((i,s)=>i.localeCompare(s));const n=e.map(i=>({[`${t}/${i}`]:[r]}));return Object.assign({},...n)}function $X(t){return Df(t),`urn:recap:${rNe(t).replace(/=/g,"")}`}function V2(t){const e=nNe(t.replace("urn:recap:",""));return Df(e),e}function aNe(t,e,r){const n=iNe(t,e,r);return $X(n)}function oNe(t){return t&&t.includes("urn:recap:")}function lNe(t,e){const r=V2(t),n=V2(e),i=cNe(r,n);return $X(i)}function cNe(t,e){Df(t),Df(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),n={att:{}};return r.forEach(i=>{var s,a;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((a=e.att)==null?void 0:a[i])||{})).sort((o,l)=>o.localeCompare(l)).forEach(o=>{var l,u;n.att[i]=JIe(XIe({},n.att[i]),{[o]:((l=t.att[i])==null?void 0:l[o])||((u=e.att[i])==null?void 0:u[o])})})}),n}function uNe(t="",e){Df(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const n=[];let i=0;Object.keys(e.att).forEach(o=>{const l=Object.keys(e.att[o]).map(f=>({ability:f.split("/")[0],action:f.split("/")[1]}));l.sort((f,g)=>f.action.localeCompare(g.action));const u={};l.forEach(f=>{u[f.ability]||(u[f.ability]=[]),u[f.ability].push(f.action)});const h=Object.keys(u).map(f=>(i++,`(${i}) '${f}': '${u[f].join("', '")}' for '${o}'.`));n.push(h.join(", ").replace(".,","."))});const s=n.join(" "),a=`${r}${s}`;return`${t?t+" ":""}${a}`}function aL(t){var e;const r=V2(t);Df(r);const n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(i=>i.split("/")[1]):[]}function oL(t){const e=V2(t);Df(e);const r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(i=>{var s;(s=i==null?void 0:i[0])!=null&&s.chains&&r.push(i[0].chains)})}),[...new Set(r.flat())]}function _3(t){if(!t)return;const e=t==null?void 0:t[t.length-1];return oNe(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function TX(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function WA(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function jE(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Hs(t,...e){if(!TX(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function lL(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function dNe(t,e){Hs(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Gd(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Cg(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function hNe(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const fNe=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function pNe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function qA(t){if(typeof t=="string")t=pNe(t);else if(TX(t))t=HA(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function gNe(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function mNe(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}const yNe=(t,e)=>{function r(n,...i){if(Hs(n),!fNe)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const u=i[0];if(!u)throw new Error("nonce / iv required");t.varSizeNonce?Hs(u):Hs(u,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&Hs(i[1]);const a=e(n,...i),o=(u,h)=>{if(h!==void 0){if(u!==2)throw new Error("cipher output not supported");Hs(h)}};let l=!1;return{encrypt(u,h){if(l)throw new Error("cannot encrypt() twice with same key + nonce");return l=!0,Hs(u),o(a.encrypt.length,h),a.encrypt(u,h)},decrypt(u,h){if(Hs(u),s&&u.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return o(a.decrypt.length,h),a.decrypt(u,h)}}}return Object.assign(r,t),r};function cL(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!wNe(e))throw new Error("invalid output, must be aligned");return e}function uL(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),a=Number(r>>i&s),o=Number(r&s);t.setUint32(e+4,a,n),t.setUint32(e+0,o,n)}function bNe(t,e,r){WA(r);const n=new Uint8Array(16),i=hNe(n);return uL(i,0,BigInt(e),r),uL(i,8,BigInt(t),r),n}function wNe(t){return t.byteOffset%4===0}function HA(t){return Uint8Array.from(t)}const IX=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),vNe=IX("expand 16-byte k"),xNe=IX("expand 32-byte k"),ENe=Gd(vNe),_Ne=Gd(xNe);function Pr(t,e){return t<<e|t>>>32-e}function VA(t){return t.byteOffset%4===0}const Nv=64,CNe=16,NX=2**32-1,dL=new Uint32Array;function ANe(t,e,r,n,i,s,a,o){const l=i.length,u=new Uint8Array(Nv),h=Gd(u),f=VA(i)&&VA(s),g=f?Gd(i):dL,y=f?Gd(s):dL;for(let b=0;b<l;a++){if(t(e,r,n,h,a,o),a>=NX)throw new Error("arx: counter overflow");const w=Math.min(Nv,l-b);if(f&&w===Nv){const x=b/4;if(b%4!==0)throw new Error("arx: invalid block position");for(let E=0,S;E<CNe;E++)S=x+E,y[S]=g[S]^h[E];b+=Nv;continue}for(let x=0,E;x<w;x++)E=b+x,s[E]=i[E]^u[x];b+=w}}function SNe(t,e){const{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:s,rounds:a}=gNe({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return jE(i),jE(a),WA(s),WA(r),(o,l,u,h,f=0)=>{Hs(o),Hs(l),Hs(u);const g=u.length;if(h===void 0&&(h=new Uint8Array(g)),Hs(h),jE(f),f<0||f>=NX)throw new Error("arx: counter overflow");if(h.length<g)throw new Error(`arx: output (${h.length}) is shorter than data (${g})`);const y=[];let b=o.length,w,x;if(b===32)y.push(w=HA(o)),x=_Ne;else if(b===16&&r)w=new Uint8Array(32),w.set(o),w.set(o,16),x=ENe,y.push(w);else throw new Error(`arx: invalid 32-byte key, got length=${b}`);VA(l)||y.push(l=HA(l));const E=Gd(w);if(n){if(l.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(x,E,Gd(l.subarray(0,16)),E),l=l.subarray(16)}const S=16-i;if(S!==l.length)throw new Error(`arx: nonce must be ${S} or 16 bytes`);if(S!==12){const I=new Uint8Array(12);I.set(l,s?0:12-l.length),l=I,y.push(l)}const _=Gd(l);return ANe(t,x,E,_,u,h,f,a),Cg(...y),h}}const Ri=(t,e)=>t[e++]&255|(t[e++]&255)<<8;let kNe=class{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=qA(e),Hs(e,32);const r=Ri(e,0),n=Ri(e,2),i=Ri(e,4),s=Ri(e,6),a=Ri(e,8),o=Ri(e,10),l=Ri(e,12),u=Ri(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|a<<12)&255,this.r[5]=a>>>1&8190,this.r[6]=(a>>>14|o<<2)&8191,this.r[7]=(o>>>11|l<<5)&8065,this.r[8]=(l>>>8|u<<8)&8191,this.r[9]=u>>>5&127;for(let h=0;h<8;h++)this.pad[h]=Ri(e,16+2*h)}process(e,r,n=!1){const i=n?0:2048,{h:s,r:a}=this,o=a[0],l=a[1],u=a[2],h=a[3],f=a[4],g=a[5],y=a[6],b=a[7],w=a[8],x=a[9],E=Ri(e,r+0),S=Ri(e,r+2),_=Ri(e,r+4),I=Ri(e,r+6),A=Ri(e,r+8),O=Ri(e,r+10),F=Ri(e,r+12),H=Ri(e,r+14);let L=s[0]+(E&8191),z=s[1]+((E>>>13|S<<3)&8191),V=s[2]+((S>>>10|_<<6)&8191),K=s[3]+((_>>>7|I<<9)&8191),B=s[4]+((I>>>4|A<<12)&8191),C=s[5]+(A>>>1&8191),k=s[6]+((A>>>14|O<<2)&8191),N=s[7]+((O>>>11|F<<5)&8191),D=s[8]+((F>>>8|H<<8)&8191),P=s[9]+(H>>>5|i),R=0,j=R+L*o+z*(5*x)+V*(5*w)+K*(5*b)+B*(5*y);R=j>>>13,j&=8191,j+=C*(5*g)+k*(5*f)+N*(5*h)+D*(5*u)+P*(5*l),R+=j>>>13,j&=8191;let W=R+L*l+z*o+V*(5*x)+K*(5*w)+B*(5*b);R=W>>>13,W&=8191,W+=C*(5*y)+k*(5*g)+N*(5*f)+D*(5*h)+P*(5*u),R+=W>>>13,W&=8191;let M=R+L*u+z*l+V*o+K*(5*x)+B*(5*w);R=M>>>13,M&=8191,M+=C*(5*b)+k*(5*y)+N*(5*g)+D*(5*f)+P*(5*h),R+=M>>>13,M&=8191;let G=R+L*h+z*u+V*l+K*o+B*(5*x);R=G>>>13,G&=8191,G+=C*(5*w)+k*(5*b)+N*(5*y)+D*(5*g)+P*(5*f),R+=G>>>13,G&=8191;let re=R+L*f+z*h+V*u+K*l+B*o;R=re>>>13,re&=8191,re+=C*(5*x)+k*(5*w)+N*(5*b)+D*(5*y)+P*(5*g),R+=re>>>13,re&=8191;let q=R+L*g+z*f+V*h+K*u+B*l;R=q>>>13,q&=8191,q+=C*o+k*(5*x)+N*(5*w)+D*(5*b)+P*(5*y),R+=q>>>13,q&=8191;let X=R+L*y+z*g+V*f+K*h+B*u;R=X>>>13,X&=8191,X+=C*l+k*o+N*(5*x)+D*(5*w)+P*(5*b),R+=X>>>13,X&=8191;let ne=R+L*b+z*y+V*g+K*f+B*h;R=ne>>>13,ne&=8191,ne+=C*u+k*l+N*o+D*(5*x)+P*(5*w),R+=ne>>>13,ne&=8191;let ee=R+L*w+z*b+V*y+K*g+B*f;R=ee>>>13,ee&=8191,ee+=C*h+k*u+N*l+D*o+P*(5*x),R+=ee>>>13,ee&=8191;let ce=R+L*x+z*w+V*b+K*y+B*g;R=ce>>>13,ce&=8191,ce+=C*f+k*h+N*u+D*l+P*o,R+=ce>>>13,ce&=8191,R=(R<<2)+R|0,R=R+j|0,j=R&8191,R=R>>>13,W+=R,s[0]=j,s[1]=W,s[2]=M,s[3]=G,s[4]=re,s[5]=q,s[6]=X,s[7]=ne,s[8]=ee,s[9]=ce}finalize(){const{h:e,pad:r}=this,n=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let o=2;o<10;o++)e[o]+=i,i=e[o]>>>13,e[o]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,n[0]=e[0]+5,i=n[0]>>>13,n[0]&=8191;for(let o=1;o<10;o++)n[o]=e[o]+i,i=n[o]>>>13,n[o]&=8191;n[9]-=8192;let s=(i^1)-1;for(let o=0;o<10;o++)n[o]&=s;s=~s;for(let o=0;o<10;o++)e[o]=e[o]&s|n[o];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let a=e[0]+r[0];e[0]=a&65535;for(let o=1;o<8;o++)a=(e[o]+r[o]|0)+(a>>>16)|0,e[o]=a&65535;Cg(n)}update(e){lL(this),e=qA(e),Hs(e);const{buffer:r,blockLen:n}=this,i=e.length;for(let s=0;s<i;){const a=Math.min(n-this.pos,i-s);if(a===n){for(;n<=i-s;s+=n)this.process(e,s);continue}r.set(e.subarray(s,s+a),this.pos),this.pos+=a,s+=a,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){Cg(this.h,this.r,this.buffer,this.pad)}digestInto(e){lL(this),dNe(e,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let s=0;for(let a=0;a<8;a++)e[s++]=n[a]>>>0,e[s++]=n[a]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}};function $Ne(t){const e=(n,i)=>t(i).update(qA(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const TNe=$Ne(t=>new kNe(t));function INe(t,e,r,n,i,s=20){let a=t[0],o=t[1],l=t[2],u=t[3],h=e[0],f=e[1],g=e[2],y=e[3],b=e[4],w=e[5],x=e[6],E=e[7],S=i,_=r[0],I=r[1],A=r[2],O=a,F=o,H=l,L=u,z=h,V=f,K=g,B=y,C=b,k=w,N=x,D=E,P=S,R=_,j=I,W=A;for(let G=0;G<s;G+=2)O=O+z|0,P=Pr(P^O,16),C=C+P|0,z=Pr(z^C,12),O=O+z|0,P=Pr(P^O,8),C=C+P|0,z=Pr(z^C,7),F=F+V|0,R=Pr(R^F,16),k=k+R|0,V=Pr(V^k,12),F=F+V|0,R=Pr(R^F,8),k=k+R|0,V=Pr(V^k,7),H=H+K|0,j=Pr(j^H,16),N=N+j|0,K=Pr(K^N,12),H=H+K|0,j=Pr(j^H,8),N=N+j|0,K=Pr(K^N,7),L=L+B|0,W=Pr(W^L,16),D=D+W|0,B=Pr(B^D,12),L=L+B|0,W=Pr(W^L,8),D=D+W|0,B=Pr(B^D,7),O=O+V|0,W=Pr(W^O,16),N=N+W|0,V=Pr(V^N,12),O=O+V|0,W=Pr(W^O,8),N=N+W|0,V=Pr(V^N,7),F=F+K|0,P=Pr(P^F,16),D=D+P|0,K=Pr(K^D,12),F=F+K|0,P=Pr(P^F,8),D=D+P|0,K=Pr(K^D,7),H=H+B|0,R=Pr(R^H,16),C=C+R|0,B=Pr(B^C,12),H=H+B|0,R=Pr(R^H,8),C=C+R|0,B=Pr(B^C,7),L=L+z|0,j=Pr(j^L,16),k=k+j|0,z=Pr(z^k,12),L=L+z|0,j=Pr(j^L,8),k=k+j|0,z=Pr(z^k,7);let M=0;n[M++]=a+O|0,n[M++]=o+F|0,n[M++]=l+H|0,n[M++]=u+L|0,n[M++]=h+z|0,n[M++]=f+V|0,n[M++]=g+K|0,n[M++]=y+B|0,n[M++]=b+C|0,n[M++]=w+k|0,n[M++]=x+N|0,n[M++]=E+D|0,n[M++]=S+P|0,n[M++]=_+R|0,n[M++]=I+j|0,n[M++]=A+W|0}const NNe=SNe(INe,{counterRight:!1,counterLength:4,allowShortKeys:!1}),PNe=new Uint8Array(16),hL=(t,e)=>{t.update(e);const r=e.length%16;r&&t.update(PNe.subarray(r))},ONe=new Uint8Array(32);function fL(t,e,r,n,i){const s=t(e,r,ONe),a=TNe.create(s);i&&hL(a,i),hL(a,n);const o=bNe(n.length,i?i.length:0,!0);a.update(o);const l=a.digest();return Cg(s,o),l}const MNe=t=>(e,r,n)=>({encrypt(i,s){const a=i.length;s=cL(a+16,s,!1),s.set(i);const o=s.subarray(0,-16);t(e,r,o,o,1);const l=fL(t,e,r,o,n);return s.set(l,a),Cg(l),s},decrypt(i,s){s=cL(i.length-16,s,!1);const a=i.subarray(0,-16),o=i.subarray(-16),l=fL(t,e,r,a,n);if(!mNe(o,l))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,r,s,s,1),Cg(l),s}}),PX=yNe({blockSize:64,nonceLength:12,tagLength:16},MNe(NNe));let OX=class extends w4{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,bT(e);const n=il(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let a=0;a<s.length;a++)s[a]^=54;this.iHash.update(s),this.oHash=e.create();for(let a=0;a<s.length;a++)s[a]^=106;this.oHash.update(s),Eo(s)}update(e){return th(this),this.iHash.update(e),this}digestInto(e){th(this),xo(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:a,outputLen:o}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=a,e.outputLen=o,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const x4=(t,e,r)=>new OX(t,e).update(r).digest();x4.create=(t,e)=>new OX(t,e);function RNe(t,e,r){return bT(t),r===void 0&&(r=new Uint8Array(t.outputLen)),x4(t,il(r),il(e))}const DE=Uint8Array.from([0]),pL=Uint8Array.of();function jNe(t,e,r,n=32){bT(t),Tu(n);const i=t.outputLen;if(n>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(n/i);r===void 0&&(r=pL);const a=new Uint8Array(s*i),o=x4.create(t,e),l=o._cloneInto(),u=new Uint8Array(o.outputLen);for(let h=0;h<s;h++)DE[0]=h+1,l.update(h===0?pL:u).update(r).update(DE).digestInto(u),a.set(u,i*h),o._cloneInto(l);return o.destroy(),l.destroy(),Eo(u,DE),a.slice(0,n)}const DNe=(t,e,r,n,i)=>jNe(t,RNe(t,e,r),n,i),E4=v4,_T=BigInt(0),GA=BigInt(1);function I5(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function Pv(t){const e=t.toString(16);return e.length&1?"0"+e:e}function MX(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?_T:BigInt("0x"+t)}function _4(t){return MX(H2(t))}function N5(t){return xo(t),MX(H2(Uint8Array.from(t).reverse()))}function CT(t,e){return vT(t.toString(16).padStart(e*2,"0"))}function AT(t,e){return CT(t,e).reverse()}function Ws(t,e,r){let n;if(typeof e=="string")try{n=vT(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(yT(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}const UE=t=>typeof t=="bigint"&&_T<=t;function UNe(t,e,r){return UE(t)&&UE(e)&&UE(r)&&e<=t&&t<r}function KA(t,e,r,n){if(!UNe(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function BNe(t){let e;for(e=0;t>_T;t>>=GA,e+=1);return e}const C4=t=>(GA<<BigInt(t))-GA;function LNe(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");const n=g=>new Uint8Array(g),i=g=>Uint8Array.of(g);let s=n(t),a=n(t),o=0;const l=()=>{s.fill(1),a.fill(0),o=0},u=(...g)=>r(a,s,...g),h=(g=n(0))=>{a=u(i(0),g),s=u(),g.length!==0&&(a=u(i(1),g),s=u())},f=()=>{if(o++>=1e3)throw new Error("drbg: tried 1000 values");let g=0;const y=[];for(;g<e;){s=u();const b=s.slice();y.push(b),g+=s.length}return cf(...y)};return(g,y)=>{l(),h(g);let b;for(;!(b=y(f()));)h();return l(),b}}function A4(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(i,s,a){const o=t[i];if(a&&o===void 0)return;const l=typeof o;if(l!==s||o===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${l}`)}Object.entries(e).forEach(([i,s])=>n(i,s,!1)),Object.entries(r).forEach(([i,s])=>n(i,s,!0))}function gL(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const Xs=BigInt(0),ks=BigInt(1),uf=BigInt(2),FNe=BigInt(3),RX=BigInt(4),jX=BigInt(5),DX=BigInt(8);function uo(t,e){const r=t%e;return r>=Xs?r:e+r}function Ho(t,e,r){let n=t;for(;e-- >Xs;)n*=n,n%=r;return n}function mL(t,e){if(t===Xs)throw new Error("invert: expected non-zero number");if(e<=Xs)throw new Error("invert: expected positive modulus, got "+e);let r=uo(t,e),n=e,i=Xs,s=ks;for(;r!==Xs;){const a=n/r,o=n%r,l=i-s*a;n=r,r=o,i=s,s=l}if(n!==ks)throw new Error("invert: does not exist");return uo(i,e)}function UX(t,e){const r=(t.ORDER+ks)/RX,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function zNe(t,e){const r=(t.ORDER-jX)/DX,n=t.mul(e,uf),i=t.pow(n,r),s=t.mul(e,i),a=t.mul(t.mul(s,uf),i),o=t.mul(s,t.sub(a,t.ONE));if(!t.eql(t.sqr(o),e))throw new Error("Cannot find square root");return o}function WNe(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-ks,r=0;for(;e%uf===Xs;)e/=uf,r++;let n=uf;const i=tm(t);for(;yL(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return UX;let s=i.pow(n,e);const a=(e+ks)/uf;return function(o,l){if(o.is0(l))return l;if(yL(o,l)!==1)throw new Error("Cannot find square root");let u=r,h=o.mul(o.ONE,s),f=o.pow(l,e),g=o.pow(l,a);for(;!o.eql(f,o.ONE);){if(o.is0(f))return o.ZERO;let y=1,b=o.sqr(f);for(;!o.eql(b,o.ONE);)if(y++,b=o.sqr(b),y===u)throw new Error("Cannot find square root");const w=ks<<BigInt(u-y-1),x=o.pow(h,w);u=y,h=o.sqr(x),f=o.mul(f,h),g=o.mul(g,x)}return g}}function qNe(t){return t%RX===FNe?UX:t%DX===jX?zNe:WNe(t)}const HNe=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function VNe(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=HNe.reduce((n,i)=>(n[i]="function",n),e);return A4(t,r),t}function GNe(t,e,r){if(r<Xs)throw new Error("invalid exponent, negatives unsupported");if(r===Xs)return t.ONE;if(r===ks)return e;let n=t.ONE,i=e;for(;r>Xs;)r&ks&&(n=t.mul(n,i)),i=t.sqr(i),r>>=ks;return n}function BX(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((a,o,l)=>t.is0(o)?a:(n[l]=a,t.mul(a,o)),t.ONE),s=t.inv(i);return e.reduceRight((a,o,l)=>t.is0(o)?a:(n[l]=t.mul(a,n[l]),t.mul(a,o)),s),n}function yL(t,e){const r=(t.ORDER-ks)/uf,n=t.pow(e,r),i=t.eql(n,t.ONE),s=t.eql(n,t.ZERO),a=t.eql(n,t.neg(t.ONE));if(!i&&!s&&!a)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function KNe(t,e){e!==void 0&&Tu(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function tm(t,e,r=!1,n={}){if(t<=Xs)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const h=e;h.BITS&&(i=h.BITS),h.sqrt&&(s=h.sqrt),typeof h.isLE=="boolean"&&(r=h.isLE)}else typeof e=="number"&&(i=e),n.sqrt&&(s=n.sqrt);const{nBitLength:a,nByteLength:o}=KNe(t,i);if(o>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let l;const u=Object.freeze({ORDER:t,isLE:r,BITS:a,BYTES:o,MASK:C4(a),ZERO:Xs,ONE:ks,create:h=>uo(h,t),isValid:h=>{if(typeof h!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof h);return Xs<=h&&h<t},is0:h=>h===Xs,isValidNot0:h=>!u.is0(h)&&u.isValid(h),isOdd:h=>(h&ks)===ks,neg:h=>uo(-h,t),eql:(h,f)=>h===f,sqr:h=>uo(h*h,t),add:(h,f)=>uo(h+f,t),sub:(h,f)=>uo(h-f,t),mul:(h,f)=>uo(h*f,t),pow:(h,f)=>GNe(u,h,f),div:(h,f)=>uo(h*mL(f,t),t),sqrN:h=>h*h,addN:(h,f)=>h+f,subN:(h,f)=>h-f,mulN:(h,f)=>h*f,inv:h=>mL(h,t),sqrt:s||(h=>(l||(l=qNe(t)),l(u,h))),toBytes:h=>r?AT(h,o):CT(h,o),fromBytes:h=>{if(h.length!==o)throw new Error("Field.fromBytes: expected "+o+" bytes, got "+h.length);return r?N5(h):_4(h)},invertBatch:h=>BX(u,h),cmov:(h,f,g)=>g?f:h});return Object.freeze(u)}function LX(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function FX(t){const e=LX(t);return e+Math.ceil(e/2)}function YNe(t,e,r=!1){const n=t.length,i=LX(e),s=FX(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const a=r?N5(t):_4(t),o=uo(a,e-ks)+ks;return r?AT(o,i):CT(o,i)}const Ag=BigInt(0),df=BigInt(1);function Ny(t,e){const r=e.negate();return t?r:e}function ZNe(t,e,r){const n=s=>s.pz,i=BX(t.Fp,r.map(n));return r.map((s,a)=>s.toAffine(i[a])).map(t.fromAffine)}function zX(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function BE(t,e){zX(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,s=C4(t),a=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:a}}function bL(t,e,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:a}=r;let o=Number(t&i),l=t>>a;o>n&&(o-=s,l+=df);const u=e*n,h=u+Math.abs(o)-1,f=o===0,g=o<0,y=e%2!==0;return{nextN:l,offset:h,isZero:f,isNeg:g,isNegF:y,offsetF:u}}function QNe(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function XNe(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const LE=new WeakMap,WX=new WeakMap;function FE(t){return WX.get(t)||1}function wL(t){if(t!==Ag)throw new Error("invalid wNAF")}function JNe(t,e){return{constTimeNegate:Ny,hasPrecomputes(r){return FE(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>Ag;)n&df&&(i=i.add(s)),s=s.double(),n>>=df;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=BE(n,e),a=[];let o=r,l=o;for(let u=0;u<i;u++){l=o,a.push(l);for(let h=1;h<s;h++)l=l.add(o),a.push(l);o=l.double()}return a},wNAF(r,n,i){let s=t.ZERO,a=t.BASE;const o=BE(r,e);for(let l=0;l<o.windows;l++){const{nextN:u,offset:h,isZero:f,isNeg:g,isNegF:y,offsetF:b}=bL(i,l,o);i=u,f?a=a.add(Ny(y,n[b])):s=s.add(Ny(g,n[h]))}return wL(i),{p:s,f:a}},wNAFUnsafe(r,n,i,s=t.ZERO){const a=BE(r,e);for(let o=0;o<a.windows&&i!==Ag;o++){const{nextN:l,offset:u,isZero:h,isNeg:f}=bL(i,o,a);if(i=l,!h){const g=n[u];s=s.add(f?g.negate():g)}}return wL(i),s},getPrecomputes(r,n,i){let s=LE.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&(typeof i=="function"&&(s=i(s)),LE.set(n,s))),s},wNAFCached(r,n,i){const s=FE(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const a=FE(r);return a===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(a,this.getPrecomputes(a,r,i),n,s)},setWindowSize(r,n){zX(n,e),WX.set(r,n),LE.delete(r)}}}function ePe(t,e,r,n){let i=e,s=t.ZERO,a=t.ZERO;for(;r>Ag||n>Ag;)r&df&&(s=s.add(i)),n&df&&(a=a.add(i)),i=i.double(),r>>=df,n>>=df;return{p1:s,p2:a}}function tPe(t,e,r,n){QNe(r,t),XNe(n,e);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const a=t.ZERO,o=BNe(BigInt(i));let l=1;o>12?l=o-3:o>4?l=o-2:o>0&&(l=2);const u=C4(l),h=new Array(Number(u)+1).fill(a),f=Math.floor((e.BITS-1)/l)*l;let g=a;for(let y=f;y>=0;y-=l){h.fill(a);for(let w=0;w<s;w++){const x=n[w],E=Number(x>>BigInt(y)&u);h[E]=h[E].add(r[w])}let b=a;for(let w=h.length-1,x=a;w>0;w--)x=x.add(h[w]),b=b.add(x);if(g=g.add(b),y!==0)for(let w=0;w<l;w++)g=g.double()}return g}function vL(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return VNe(e),e}else return tm(t)}function rPe(t,e,r={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const a of["p","n","h"]){const o=e[a];if(!(typeof o=="bigint"&&o>Ag))throw new Error(`CURVE.${a} must be positive bigint`)}const n=vL(e.p,r.Fp),i=vL(e.n,r.Fn),s=["Gx","Gy","a","b"];for(const a of s)if(!n.isValid(e[a]))throw new Error(`CURVE.${a} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const w1=BigInt(0),o0=BigInt(1),Ov=BigInt(2);function nPe(t){return A4(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function iPe(t){const e=nPe(t),{P:r,type:n,adjustScalarBytes:i,powPminus2:s,randomBytes:a}=e,o=n==="x25519";if(!o&&n!=="x448")throw new Error("invalid type");const l=a||em,u=o?255:448,h=o?32:56,f=BigInt(o?9:5),g=BigInt(o?121665:39081),y=o?Ov**BigInt(254):Ov**BigInt(447),b=o?BigInt(8)*Ov**BigInt(251)-o0:BigInt(4)*Ov**BigInt(445)-o0,w=y+b+o0,x=L=>uo(L,r),E=S(f);function S(L){return AT(x(L),h)}function _(L){const z=Ws("u coordinate",L,h);return o&&(z[31]&=127),x(N5(z))}function I(L){return N5(i(Ws("scalar",L,h)))}function A(L,z){const V=H(_(z),I(L));if(V===w1)throw new Error("invalid private or public key received");return S(V)}function O(L){return A(L,E)}function F(L,z,V){const K=x(L*(z-V));return z=x(z-K),V=x(V+K),{x_2:z,x_3:V}}function H(L,z){KA("u",L,w1,r),KA("scalar",z,y,w);const V=z,K=L;let B=o0,C=w1,k=L,N=o0,D=w1;for(let R=BigInt(u-1);R>=w1;R--){const j=V>>R&o0;D^=j,{x_2:B,x_3:k}=F(D,B,k),{x_2:C,x_3:N}=F(D,C,N),D=j;const W=B+C,M=x(W*W),G=B-C,re=x(G*G),q=M-re,X=k+N,ne=k-N,ee=x(ne*W),ce=x(X*G),be=ee+ce,ve=ee-ce;k=x(be*be),N=x(K*x(ve*ve)),B=x(M*re),C=x(q*(M+x(g*q)))}({x_2:B,x_3:k}=F(D,B,k)),{x_2:C,x_3:N}=F(D,C,N);const P=s(C);return x(B*P)}return{scalarMult:A,scalarMultBase:O,getSharedSecret:(L,z)=>A(L,z),getPublicKey:L=>O(L),utils:{randomPrivateKey:()=>l(h)},GuBytes:E.slice()}}BigInt(0);const sPe=BigInt(1),xL=BigInt(2),aPe=BigInt(3),oPe=BigInt(5);BigInt(8);const qX={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function lPe(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=qX.p,a=t*t%s*t%s,o=Ho(a,xL,s)*a%s,l=Ho(o,sPe,s)*t%s,u=Ho(l,oPe,s)*l%s,h=Ho(u,e,s)*u%s,f=Ho(h,r,s)*h%s,g=Ho(f,n,s)*f%s,y=Ho(g,i,s)*g%s,b=Ho(y,i,s)*g%s,w=Ho(b,e,s)*u%s;return{pow_p_5_8:Ho(w,xL,s)*t%s,b2:a}}function cPe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const YA=(()=>{const t=qX.p;return iPe({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:r,b2:n}=lPe(e);return uo(Ho(r,aPe,t)*n,t)},adjustScalarBytes:cPe})})();function EL(t){t.lowS!==void 0&&I5("lowS",t.lowS),t.prehash!==void 0&&I5("prehash",t.prehash)}let uPe=class extends Error{constructor(e=""){super(e)}};const au={Err:uPe,_tlv:{encode:(t,e)=>{const{Err:r}=au;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=Pv(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?Pv(i.length/2|128):"";return Pv(t)+s+i+e},decode(t,e){const{Err:r}=au;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let a=0;if(!s)a=i;else{const l=i&127;if(!l)throw new r("tlv.decode(long): indefinite length not supported");if(l>4)throw new r("tlv.decode(long): byte length is too big");const u=e.subarray(n,n+l);if(u.length!==l)throw new r("tlv.decode: length bytes not complete");if(u[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const h of u)a=a<<8|h;if(n+=l,a<128)throw new r("tlv.decode(long): not minimal encoding")}const o=e.subarray(n,n+a);if(o.length!==a)throw new r("tlv.decode: wrong value length");return{v:o,l:e.subarray(n+a)}}},_int:{encode(t){const{Err:e}=au;if(t<Py)throw new e("integer: negative integers are not allowed");let r=Pv(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=au;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return _4(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=au,i=Ws("signature",t),{v:s,l:a}=n.decode(48,i);if(a.length)throw new e("invalid signature: left bytes after parsing");const{v:o,l}=n.decode(2,s),{v:u,l:h}=n.decode(2,l);if(h.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(o),s:r.decode(u)}},hexFromSig(t){const{_tlv:e,_int:r}=au,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}},Py=BigInt(0),Oy=BigInt(1),dPe=BigInt(2),Mv=BigInt(3),hPe=BigInt(4);function fPe(t,e,r){function n(i){const s=t.sqr(i),a=t.mul(s,i);return t.add(t.add(a,t.mul(i,e)),r)}return n}function HX(t,e,r){const{BYTES:n}=t;function i(s){let a;if(typeof s=="bigint")a=s;else{let o=Ws("private key",s);if(e){if(!e.includes(o.length*2))throw new Error("invalid private key");const l=new Uint8Array(n);l.set(o,l.length-o.length),o=l}try{a=t.fromBytes(o)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof s}`)}}if(r&&(a=t.create(a)),!t.isValidNot0(a))throw new Error("invalid private key: out of range [1..N-1]");return a}return i}function pPe(t,e={}){const{Fp:r,Fn:n}=rPe("weierstrass",t,e),{h:i,n:s}=t;A4(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:a}=e;if(a&&(!r.is0(t.a)||typeof a.beta!="bigint"||typeof a.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function o(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function l(H,L,z){const{x:V,y:K}=L.toAffine(),B=r.toBytes(V);if(I5("isCompressed",z),z){o();const C=!r.isOdd(K);return cf(VX(C),B)}else return cf(Uint8Array.of(4),B,r.toBytes(K))}function u(H){xo(H);const L=r.BYTES,z=L+1,V=2*L+1,K=H.length,B=H[0],C=H.subarray(1);if(K===z&&(B===2||B===3)){const k=r.fromBytes(C);if(!r.isValid(k))throw new Error("bad point: is not on curve, wrong x");const N=g(k);let D;try{D=r.sqrt(N)}catch(R){const j=R instanceof Error?": "+R.message:"";throw new Error("bad point: is not on curve, sqrt error"+j)}o();const P=r.isOdd(D);return(B&1)===1!==P&&(D=r.neg(D)),{x:k,y:D}}else if(K===V&&B===4){const k=r.fromBytes(C.subarray(L*0,L*1)),N=r.fromBytes(C.subarray(L*1,L*2));if(!y(k,N))throw new Error("bad point: is not on curve");return{x:k,y:N}}else throw new Error(`bad point: got length ${K}, expected compressed=${z} or uncompressed=${V}`)}const h=e.toBytes||l,f=e.fromBytes||u,g=fPe(r,t.a,t.b);function y(H,L){const z=r.sqr(L),V=g(H);return r.eql(z,V)}if(!y(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const b=r.mul(r.pow(t.a,Mv),hPe),w=r.mul(r.sqr(t.b),BigInt(27));if(r.is0(r.add(b,w)))throw new Error("bad curve params: a or b");function x(H,L,z=!1){if(!r.isValid(L)||z&&r.is0(L))throw new Error(`bad point coordinate ${H}`);return L}function E(H){if(!(H instanceof A))throw new Error("ProjectivePoint expected")}const S=gL((H,L)=>{const{px:z,py:V,pz:K}=H;if(r.eql(K,r.ONE))return{x:z,y:V};const B=H.is0();L==null&&(L=B?r.ONE:r.inv(K));const C=r.mul(z,L),k=r.mul(V,L),N=r.mul(K,L);if(B)return{x:r.ZERO,y:r.ZERO};if(!r.eql(N,r.ONE))throw new Error("invZ was invalid");return{x:C,y:k}}),_=gL(H=>{if(H.is0()){if(e.allowInfinityPoint&&!r.is0(H.py))return;throw new Error("bad point: ZERO")}const{x:L,y:z}=H.toAffine();if(!r.isValid(L)||!r.isValid(z))throw new Error("bad point: x or y not field elements");if(!y(L,z))throw new Error("bad point: equation left != right");if(!H.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function I(H,L,z,V,K){return z=new A(r.mul(z.px,H),z.py,z.pz),L=Ny(V,L),z=Ny(K,z),L.add(z)}class A{constructor(L,z,V){this.px=x("x",L),this.py=x("y",z,!0),this.pz=x("z",V),Object.freeze(this)}static fromAffine(L){const{x:z,y:V}=L||{};if(!L||!r.isValid(z)||!r.isValid(V))throw new Error("invalid affine point");if(L instanceof A)throw new Error("projective point not allowed");return r.is0(z)&&r.is0(V)?A.ZERO:new A(z,V,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(L){return ZNe(A,"pz",L)}static fromBytes(L){return xo(L),A.fromHex(L)}static fromHex(L){const z=A.fromAffine(f(Ws("pointHex",L)));return z.assertValidity(),z}static fromPrivateKey(L){const z=HX(n,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return A.BASE.multiply(z(L))}static msm(L,z){return tPe(A,n,L,z)}precompute(L=8,z=!0){return F.setWindowSize(this,L),z||this.multiply(Mv),this}_setWindowSize(L){this.precompute(L)}assertValidity(){_(this)}hasEvenY(){const{y:L}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(L)}equals(L){E(L);const{px:z,py:V,pz:K}=this,{px:B,py:C,pz:k}=L,N=r.eql(r.mul(z,k),r.mul(B,K)),D=r.eql(r.mul(V,k),r.mul(C,K));return N&&D}negate(){return new A(this.px,r.neg(this.py),this.pz)}double(){const{a:L,b:z}=t,V=r.mul(z,Mv),{px:K,py:B,pz:C}=this;let k=r.ZERO,N=r.ZERO,D=r.ZERO,P=r.mul(K,K),R=r.mul(B,B),j=r.mul(C,C),W=r.mul(K,B);return W=r.add(W,W),D=r.mul(K,C),D=r.add(D,D),k=r.mul(L,D),N=r.mul(V,j),N=r.add(k,N),k=r.sub(R,N),N=r.add(R,N),N=r.mul(k,N),k=r.mul(W,k),D=r.mul(V,D),j=r.mul(L,j),W=r.sub(P,j),W=r.mul(L,W),W=r.add(W,D),D=r.add(P,P),P=r.add(D,P),P=r.add(P,j),P=r.mul(P,W),N=r.add(N,P),j=r.mul(B,C),j=r.add(j,j),P=r.mul(j,W),k=r.sub(k,P),D=r.mul(j,R),D=r.add(D,D),D=r.add(D,D),new A(k,N,D)}add(L){E(L);const{px:z,py:V,pz:K}=this,{px:B,py:C,pz:k}=L;let N=r.ZERO,D=r.ZERO,P=r.ZERO;const R=t.a,j=r.mul(t.b,Mv);let W=r.mul(z,B),M=r.mul(V,C),G=r.mul(K,k),re=r.add(z,V),q=r.add(B,C);re=r.mul(re,q),q=r.add(W,M),re=r.sub(re,q),q=r.add(z,K);let X=r.add(B,k);return q=r.mul(q,X),X=r.add(W,G),q=r.sub(q,X),X=r.add(V,K),N=r.add(C,k),X=r.mul(X,N),N=r.add(M,G),X=r.sub(X,N),P=r.mul(R,q),N=r.mul(j,G),P=r.add(N,P),N=r.sub(M,P),P=r.add(M,P),D=r.mul(N,P),M=r.add(W,W),M=r.add(M,W),G=r.mul(R,G),q=r.mul(j,q),M=r.add(M,G),G=r.sub(W,G),G=r.mul(R,G),q=r.add(q,G),W=r.mul(M,q),D=r.add(D,W),W=r.mul(X,q),N=r.mul(re,N),N=r.sub(N,W),W=r.mul(re,M),P=r.mul(X,P),P=r.add(P,W),new A(N,D,P)}subtract(L){return this.add(L.negate())}is0(){return this.equals(A.ZERO)}multiply(L){const{endo:z}=e;if(!n.isValidNot0(L))throw new Error("invalid scalar: out of range");let V,K;const B=C=>F.wNAFCached(this,C,A.normalizeZ);if(z){const{k1neg:C,k1:k,k2neg:N,k2:D}=z.splitScalar(L),{p:P,f:R}=B(k),{p:j,f:W}=B(D);K=R.add(W),V=I(z.beta,P,j,C,N)}else{const{p:C,f:k}=B(L);V=C,K=k}return A.normalizeZ([V,K])[0]}multiplyUnsafe(L){const{endo:z}=e,V=this;if(!n.isValid(L))throw new Error("invalid scalar: out of range");if(L===Py||V.is0())return A.ZERO;if(L===Oy)return V;if(F.hasPrecomputes(this))return this.multiply(L);if(z){const{k1neg:K,k1:B,k2neg:C,k2:k}=z.splitScalar(L),{p1:N,p2:D}=ePe(A,V,B,k);return I(z.beta,N,D,K,C)}else return F.wNAFCachedUnsafe(V,L)}multiplyAndAddUnsafe(L,z,V){const K=this.multiplyUnsafe(z).add(L.multiplyUnsafe(V));return K.is0()?void 0:K}toAffine(L){return S(this,L)}isTorsionFree(){const{isTorsionFree:L}=e;return i===Oy?!0:L?L(A,this):F.wNAFCachedUnsafe(this,s).is0()}clearCofactor(){const{clearCofactor:L}=e;return i===Oy?this:L?L(A,this):this.multiplyUnsafe(i)}toBytes(L=!0){return I5("isCompressed",L),this.assertValidity(),h(A,this,L)}toRawBytes(L=!0){return this.toBytes(L)}toHex(L=!0){return H2(this.toBytes(L))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}A.BASE=new A(t.Gx,t.Gy,r.ONE),A.ZERO=new A(r.ZERO,r.ONE,r.ZERO),A.Fp=r,A.Fn=n;const O=n.BITS,F=JNe(A,e.endo?Math.ceil(O/2):O);return A}function VX(t){return Uint8Array.of(t?2:3)}function gPe(t,e,r={}){A4(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=e.randomBytes||em,i=e.hmac||((V,...K)=>x4(e.hash,V,cf(...K))),{Fp:s,Fn:a}=t,{ORDER:o,BITS:l}=a;function u(V){const K=o>>Oy;return V>K}function h(V){return u(V)?a.neg(V):V}function f(V,K){if(!a.isValidNot0(K))throw new Error(`invalid signature ${V}: out of range 1..CURVE.n`)}class g{constructor(K,B,C){f("r",K),f("s",B),this.r=K,this.s=B,C!=null&&(this.recovery=C),Object.freeze(this)}static fromCompact(K){const B=a.BYTES,C=Ws("compactSignature",K,B*2);return new g(a.fromBytes(C.subarray(0,B)),a.fromBytes(C.subarray(B,B*2)))}static fromDER(K){const{r:B,s:C}=au.toSig(Ws("DER",K));return new g(B,C)}assertValidity(){}addRecoveryBit(K){return new g(this.r,this.s,K)}recoverPublicKey(K){const B=s.ORDER,{r:C,s:k,recovery:N}=this;if(N==null||![0,1,2,3].includes(N))throw new Error("recovery id invalid");if(o*dPe<B&&N>1)throw new Error("recovery id is ambiguous for h>1 curve");const D=N===2||N===3?C+o:C;if(!s.isValid(D))throw new Error("recovery id 2 or 3 invalid");const P=s.toBytes(D),R=t.fromHex(cf(VX((N&1)===0),P)),j=a.inv(D),W=_(Ws("msgHash",K)),M=a.create(-W*j),G=a.create(k*j),re=t.BASE.multiplyUnsafe(M).add(R.multiplyUnsafe(G));if(re.is0())throw new Error("point at infinify");return re.assertValidity(),re}hasHighS(){return u(this.s)}normalizeS(){return this.hasHighS()?new g(this.r,a.neg(this.s),this.recovery):this}toBytes(K){if(K==="compact")return cf(a.toBytes(this.r),a.toBytes(this.s));if(K==="der")return vT(au.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return H2(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return H2(this.toBytes("compact"))}}const y=HX(a,r.allowedPrivateKeyLengths,r.wrapPrivateKey),b={isValidPrivateKey(V){try{return y(V),!0}catch{return!1}},normPrivateKeyToScalar:y,randomPrivateKey:()=>{const V=o;return YNe(n(FX(V)),V)},precompute(V=8,K=t.BASE){return K.precompute(V,!1)}};function w(V,K=!0){return t.fromPrivateKey(V).toBytes(K)}function x(V){if(typeof V=="bigint")return!1;if(V instanceof t)return!0;const K=Ws("key",V).length,B=s.BYTES,C=B+1,k=2*B+1;if(!(r.allowedPrivateKeyLengths||a.BYTES===C))return K===C||K===k}function E(V,K,B=!0){if(x(V)===!0)throw new Error("first arg must be private key");if(x(K)===!1)throw new Error("second arg must be public key");return t.fromHex(K).multiply(y(V)).toBytes(B)}const S=e.bits2int||function(V){if(V.length>8192)throw new Error("input is too large");const K=_4(V),B=V.length*8-l;return B>0?K>>BigInt(B):K},_=e.bits2int_modN||function(V){return a.create(S(V))},I=C4(l);function A(V){return KA("num < 2^"+l,V,Py,I),a.toBytes(V)}function O(V,K,B=F){if(["recovered","canonical"].some(re=>re in B))throw new Error("sign() legacy options not supported");const{hash:C}=e;let{lowS:k,prehash:N,extraEntropy:D}=B;k==null&&(k=!0),V=Ws("msgHash",V),EL(B),N&&(V=Ws("prehashed msgHash",C(V)));const P=_(V),R=y(K),j=[A(R),A(P)];if(D!=null&&D!==!1){const re=D===!0?n(s.BYTES):D;j.push(Ws("extraEntropy",re))}const W=cf(...j),M=P;function G(re){const q=S(re);if(!a.isValidNot0(q))return;const X=a.inv(q),ne=t.BASE.multiply(q).toAffine(),ee=a.create(ne.x);if(ee===Py)return;const ce=a.create(X*a.create(M+ee*R));if(ce===Py)return;let be=(ne.x===ee?0:2)|Number(ne.y&Oy),ve=ce;return k&&u(ce)&&(ve=h(ce),be^=1),new g(ee,ve,be)}return{seed:W,k2sig:G}}const F={lowS:e.lowS,prehash:!1},H={lowS:e.lowS,prehash:!1};function L(V,K,B=F){const{seed:C,k2sig:k}=O(V,K,B);return LNe(e.hash.outputLen,a.BYTES,i)(C,k)}t.BASE.precompute(8);function z(V,K,B,C=H){const k=V;K=Ws("msgHash",K),B=Ws("publicKey",B),EL(C);const{lowS:N,prehash:D,format:P}=C;if("strict"in C)throw new Error("options.strict was renamed to lowS");if(P!==void 0&&!["compact","der","js"].includes(P))throw new Error('format must be "compact", "der" or "js"');const R=typeof k=="string"||yT(k),j=!R&&!P&&typeof k=="object"&&k!==null&&typeof k.r=="bigint"&&typeof k.s=="bigint";if(!R&&!j)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let W,M;try{if(j)if(P===void 0||P==="js")W=new g(k.r,k.s);else throw new Error("invalid format");if(R){try{P!=="compact"&&(W=g.fromDER(k))}catch(be){if(!(be instanceof au.Err))throw be}!W&&P!=="der"&&(W=g.fromCompact(k))}M=t.fromHex(B)}catch{return!1}if(!W||N&&W.hasHighS())return!1;D&&(K=e.hash(K));const{r:G,s:re}=W,q=_(K),X=a.inv(re),ne=a.create(q*X),ee=a.create(G*X),ce=t.BASE.multiplyUnsafe(ne).add(M.multiplyUnsafe(ee));return ce.is0()?!1:a.create(ce.x)===G}return Object.freeze({getPublicKey:w,getSharedSecret:E,sign:L,verify:z,utils:b,Point:t,Signature:g})}function mPe(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=tm(e.n,t.nBitLength),i={Fp:r,Fn:n,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function yPe(t){const{CURVE:e,curveOpts:r}=mPe(t),n={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,ecdsaOpts:n}}function bPe(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function wPe(t){const{CURVE:e,curveOpts:r,ecdsaOpts:n}=yPe(t),i=pPe(e,r),s=gPe(i,n,r);return bPe(t,s)}function ZA(t,e){const r=n=>wPe({...t,hash:n});return{...r(e),create:r}}const GX={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},KX={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},YX={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},vPe=tm(GX.p),xPe=tm(KX.p),EPe=tm(YX.p),_Pe=ZA({...GX,Fp:vPe,lowS:!1},v4);ZA({...KX,Fp:xPe,lowS:!1},NIe),ZA({...YX,Fp:EPe,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},IIe);const CPe=_Pe,ZX="base10",$s="base16",Vs="base64pad",Bd="base64url",Mb="utf8",QX=0,yu=1,Rb=2,APe=0,_L=1,My=12,ST=32;function SPe(){const t=YA.utils.randomPrivateKey(),e=YA.getPublicKey(t);return{privateKey:ea(t,$s),publicKey:ea(e,$s)}}function QA(){const t=em(ST);return ea(t,$s)}function kPe(t,e){const r=YA.getSharedSecret(mo(t,$s),mo(e,$s)),n=DNe(E4,r,void 0,void 0,ST);return ea(n,$s)}function C3(t){const e=E4(mo(t,$s));return ea(e,$s)}function lo(t){const e=E4(mo(t,Mb));return ea(e,$s)}function XX(t){return mo(`${t}`,ZX)}function Uf(t){return Number(ea(t,ZX))}function JX(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function eJ(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),r=(4-e.length%4)%4;return e+"=".repeat(r)}function $Pe(t){const e=XX(typeof t.type<"u"?t.type:QX);if(Uf(e)===yu&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?mo(t.senderPublicKey,$s):void 0,n=typeof t.iv<"u"?mo(t.iv,$s):em(My),i=mo(t.symKey,$s),s=PX(i,n).encrypt(mo(t.message,Mb)),a=tJ({type:e,sealed:s,iv:n,senderPublicKey:r});return t.encoding===Bd?JX(a):a}function TPe(t){const e=mo(t.symKey,$s),{sealed:r,iv:n}=G2({encoded:t.encoded,encoding:t.encoding}),i=PX(e,n).decrypt(r);if(i===null)throw new Error("Failed to decrypt");return ea(i,Mb)}function IPe(t,e){const r=XX(Rb),n=em(My),i=mo(t,Mb),s=tJ({type:r,sealed:i,iv:n});return e===Bd?JX(s):s}function NPe(t,e){const{sealed:r}=G2({encoded:t,encoding:e});return ea(r,Mb)}function tJ(t){if(Uf(t.type)===Rb)return ea(Iy([t.type,t.sealed]),Vs);if(Uf(t.type)===yu){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return ea(Iy([t.type,t.senderPublicKey,t.iv,t.sealed]),Vs)}return ea(Iy([t.type,t.iv,t.sealed]),Vs)}function G2(t){const e=(t.encoding||Vs)===Bd?eJ(t.encoded):t.encoded,r=mo(e,Vs),n=r.slice(APe,_L),i=_L;if(Uf(n)===yu){const l=i+ST,u=l+My,h=r.slice(i,l),f=r.slice(l,u),g=r.slice(u);return{type:n,sealed:g,iv:f,senderPublicKey:h}}if(Uf(n)===Rb){const l=r.slice(i),u=em(My);return{type:n,sealed:l,iv:u}}const s=i+My,a=r.slice(i,s),o=r.slice(s);return{type:n,sealed:o,iv:a}}function PPe(t,e){const r=G2({encoded:t,encoding:e==null?void 0:e.encoding});return rJ({type:Uf(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?ea(r.senderPublicKey,$s):void 0,receiverPublicKey:e==null?void 0:e.receiverPublicKey})}function rJ(t){const e=(t==null?void 0:t.type)||QX;if(e===yu){if(typeof(t==null?void 0:t.senderPublicKey)>"u")throw new Error("missing sender public key");if(typeof(t==null?void 0:t.receiverPublicKey)>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t==null?void 0:t.senderPublicKey,receiverPublicKey:t==null?void 0:t.receiverPublicKey}}function CL(t){return t.type===yu&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function AL(t){return t.type===Rb}function OPe(t){const e=Buffer.from(t.x,"base64"),r=Buffer.from(t.y,"base64");return Iy([new Uint8Array([4]),e,r])}function MPe(t,e){const[r,n,i]=t.split("."),s=Buffer.from(eJ(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const a=s.slice(0,32),o=s.slice(32,64),l=`${r}.${n}`,u=E4(l),h=OPe(e);if(!CPe.verify(Iy([a,o]),u,h))throw new Error("Invalid signature");return UA(t).payload}const RPe="irn";function P5(t){return(t==null?void 0:t.relay)||{protocol:RPe}}function j0(t){const e=yTe[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function jPe(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),a=t[i];r[s]=a}}),r}function SL(t){if(!t.includes("wc:")){const u=fX(t);u!=null&&u.includes("wc:")&&(t=u)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",a=new URLSearchParams(s),o={};a.forEach((u,h)=>{o[h]=u});const l=typeof o.methods=="string"?o.methods.split(","):void 0;return{protocol:n,topic:DPe(i[0]),version:parseInt(i[1],10),symKey:o.symKey,relay:jPe(o),methods:l,expiryTimestamp:o.expiryTimestamp?parseInt(o.expiryTimestamp,10):void 0}}function DPe(t){return t.startsWith("//")?t.substring(2):t}function UPe(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(i=>{const s=i,a=r+e+s;t[s]&&(n[a]=t[s])}),n}function kL(t){const e=new URLSearchParams,r=UPe(t.relay);Object.keys(r).sort().forEach(i=>{e.set(i,r[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const n=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${n}`}function Rv(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}var BPe=Object.defineProperty,LPe=Object.defineProperties,FPe=Object.getOwnPropertyDescriptors,$L=Object.getOwnPropertySymbols,zPe=Object.prototype.hasOwnProperty,WPe=Object.prototype.propertyIsEnumerable,TL=(t,e,r)=>e in t?BPe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qPe=(t,e)=>{for(var r in e||(e={}))zPe.call(e,r)&&TL(t,r,e[r]);if($L)for(var r of $L(e))WPe.call(e,r)&&TL(t,r,e[r]);return t},HPe=(t,e)=>LPe(t,FPe(e));function rm(t){const e=[];return t.forEach(r=>{const[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function VPe(t){const e=[];return Object.values(t).forEach(r=>{e.push(...rm(r.accounts))}),e}function GPe(t,e){const r=[];return Object.values(t).forEach(n=>{rm(n.accounts).includes(e)&&r.push(...n.methods)}),r}function KPe(t,e){const r=[];return Object.values(t).forEach(n=>{rm(n.accounts).includes(e)&&r.push(...n.events)}),r}function S4(t){return t.includes(":")}function D0(t){return S4(t)?t.split(":")[0]:t}function IL(t){var e,r,n;const i={};if(!uc(t))return i;for(const[s,a]of Object.entries(t)){const o=S4(s)?[s]:a.chains,l=a.methods||[],u=a.events||[],h=D0(s);i[h]=HPe(qPe({},i[h]),{chains:cc(o,(e=i[h])==null?void 0:e.chains),methods:cc(l,(r=i[h])==null?void 0:r.methods),events:cc(u,(n=i[h])==null?void 0:n.events)})}return i}function YPe(t){const e={};return t==null||t.forEach(r=>{var n;const[i,s]=r.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(r),(n=e[i].chains)==null||n.push(`${i}:${s}`)}),e}function NL(t,e){e=e.map(n=>n.replace("did:pkh:",""));const r=YPe(e);for(const[n,i]of Object.entries(r))i.methods?i.methods=cc(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return r}function ZPe(t,e){var r,n,i,s,a,o;const l=IL(t),u=IL(e),h={},f=Object.keys(l).concat(Object.keys(u));for(const g of f)h[g]={chains:cc((r=l[g])==null?void 0:r.chains,(n=u[g])==null?void 0:n.chains),methods:cc((i=l[g])==null?void 0:i.methods,(s=u[g])==null?void 0:s.methods),events:cc((a=l[g])==null?void 0:a.events,(o=u[g])==null?void 0:o.events)};return h}const QPe={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},XPe={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function nt(t,e){const{message:r,code:n}=XPe[t];return{message:e?`${r} ${e}`:r,code:n}}function pn(t,e){const{message:r,code:n}=QPe[t];return{message:e?`${r} ${e}`:r,code:n}}function yo(t,e){return!!Array.isArray(t)}function uc(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function gi(t){return typeof t>"u"}function si(t,e){return e&&gi(t)?!0:typeof t=="string"&&!!t.trim().length}function kT(t,e){return e&&gi(t)?!0:typeof t=="number"&&!isNaN(t)}function JPe(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let s=!0;return lf(i,n)?(n.forEach(a=>{const{accounts:o,methods:l,events:u}=t.namespaces[a],h=rm(o),f=r[a];(!lf(lX(a,f),h)||!lf(f.methods,l)||!lf(f.events,u))&&(s=!1)}),s):!1}function O5(t){return si(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function eOe(t){if(si(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&O5(r)}}return!1}function tOe(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(si(t,!1)){if(e(t))return!0;const r=fX(t);return e(r)}}catch{}return!1}function rOe(t){var e;return(e=t==null?void 0:t.proposer)==null?void 0:e.publicKey}function nOe(t){return t==null?void 0:t.topic}function iOe(t,e){let r=null;return si(t==null?void 0:t.publicKey,!1)||(r=nt("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function PL(t){let e=!0;return yo(t)?t.length&&(e=t.every(r=>si(r,!1))):e=!1,e}function sOe(t,e,r){let n=null;return yo(e)&&e.length?e.forEach(i=>{n||O5(i)||(n=pn("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):O5(t)||(n=pn("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function aOe(t,e,r){let n=null;return Object.entries(t).forEach(([i,s])=>{if(n)return;const a=sOe(i,lX(i,s),`${e} ${r}`);a&&(n=a)}),n}function oOe(t,e){let r=null;return yo(t)?t.forEach(n=>{r||eOe(n)||(r=pn("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=pn("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function lOe(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=oOe(n==null?void 0:n.accounts,`${e} namespace`);i&&(r=i)}),r}function cOe(t,e){let r=null;return PL(t==null?void 0:t.methods)?PL(t==null?void 0:t.events)||(r=pn("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=pn("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function nJ(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=cOe(n,`${e}, namespace`);i&&(r=i)}),r}function uOe(t,e,r){let n=null;if(t&&uc(t)){const i=nJ(t,e);i&&(n=i);const s=aOe(t,e,r);s&&(n=s)}else n=nt("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function zE(t,e){let r=null;if(t&&uc(t)){const n=nJ(t,e);n&&(r=n);const i=lOe(t,e);i&&(r=i)}else r=nt("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function iJ(t){return si(t.protocol,!0)}function dOe(t,e){let r=!1;return t?t&&yo(t)&&t.length&&t.forEach(n=>{r=iJ(n)}):r=!0,r}function hOe(t){return typeof t=="number"}function zs(t){return typeof t<"u"&&typeof t!==null}function fOe(t){return!(!t||typeof t!="object"||!t.code||!kT(t.code,!1)||!t.message||!si(t.message,!1))}function pOe(t){return!(gi(t)||!si(t.method,!1))}function gOe(t){return!(gi(t)||gi(t.result)&&gi(t.error)||!kT(t.id,!1)||!si(t.jsonrpc,!1))}function mOe(t){return!(gi(t)||!si(t.name,!1))}function OL(t,e){return!(!O5(e)||!VPe(t).includes(e))}function yOe(t,e,r){return si(r,!1)?GPe(t,e).includes(r):!1}function bOe(t,e,r){return si(r,!1)?KPe(t,e).includes(r):!1}function ML(t,e,r){let n=null;const i=wOe(t),s=vOe(e),a=Object.keys(i),o=Object.keys(s),l=RL(Object.keys(t)),u=RL(Object.keys(e)),h=l.filter(f=>!u.includes(f));return h.length&&(n=nt("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${h.toString()}
      Received: ${Object.keys(e).toString()}`)),lf(a,o)||(n=nt("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${a.toString()}
      Approved: ${o.toString()}`)),Object.keys(e).forEach(f=>{if(!f.includes(":")||n)return;const g=rm(e[f].accounts);g.includes(f)||(n=nt("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${g.toString()}`))}),a.forEach(f=>{n||(lf(i[f].methods,s[f].methods)?lf(i[f].events,s[f].events)||(n=nt("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${f}`)):n=nt("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${f}`))}),n}function wOe(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function RL(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function vOe(t){const e={};return Object.keys(t).forEach(r=>{if(r.includes(":"))e[r]=t[r];else{const n=rm(t[r].accounts);n==null||n.forEach(i=>{e[i]={accounts:t[r].accounts.filter(s=>s.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}}),e}function xOe(t,e){return kT(t,!1)&&t<=e.max&&t>=e.min}function jL(){const t=Pb();return new Promise(e=>{switch(t){case Na.browser:e(EOe());break;case Na.reactNative:e(_Oe());break;case Na.node:e(COe());break;default:e(!0)}})}function EOe(){return Jg()&&(navigator==null?void 0:navigator.onLine)}async function _Oe(){if(ah()&&typeof global<"u"&&global!=null&&global.NetInfo){const t=await(global==null?void 0:global.NetInfo.fetch());return t==null?void 0:t.isConnected}return!0}function COe(){return!0}function AOe(t){switch(Pb()){case Na.browser:SOe(t);break;case Na.reactNative:kOe(t);break}}function SOe(t){!ah()&&Jg()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function kOe(t){ah()&&typeof global<"u"&&global!=null&&global.NetInfo&&(global==null||global.NetInfo.addEventListener(e=>t(e==null?void 0:e.isConnected)))}function $Oe(){var t;return Jg()&&ku.getDocument()?((t=ku.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const WE={};let v1=class{static get(e){return WE[e]}static set(e,r){WE[e]=r}static delete(e){delete WE[e]}};function TOe(t){const e=Tb.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function IOe({publicKey:t,signature:e,payload:r}){var n;const i=XA(r.method),s=128|parseInt(((n=r.version)==null?void 0:n.toString())||"4"),a=OOe(r.address),o=r.era==="00"?new Uint8Array([0]):XA(r.era);if(o.length!==1&&o.length!==2)throw new Error("Invalid era length");const l=parseInt(r.nonce,16),u=new Uint8Array([l&255,l>>8&255]),h=BigInt(`0x${POe(r.tip)}`),f=ROe(h),g=new Uint8Array([0,...t,a,...e,...o,...u,...f,...i]),y=MOe(g.length+1);return new Uint8Array([...y,s,...g])}function NOe(t){const e=XA(t),r=xTe.blake2b(e,void 0,32);return"0x"+Buffer.from(r).toString("hex")}function XA(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function POe(t){return t.startsWith("0x")?t.slice(2):t}function OOe(t){const e=Tb.decode(t)[0];return e===42?0:e===60?2:1}function MOe(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function ROe(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function jOe(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),r=TOe(t.transaction.address),n=IOe({publicKey:r,signature:e,payload:t.transaction}),i=Buffer.from(n).toString("hex");return NOe(i)}class rp{}let DOe=class extends rp{constructor(e){super()}};const DL=it.FIVE_SECONDS,np={pulse:"heartbeat_pulse"};let UOe=class sJ extends DOe{constructor(e){super(e),this.events=new Ba.EventEmitter,this.interval=DL,this.interval=(e==null?void 0:e.interval)||DL}static async init(e){const r=new sJ(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),it.toMiliseconds(this.interval))}pulse(){this.events.emit(np.pulse)}};function BOe(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function Ai(t,...e){try{return BOe(t(...e))}catch(r){return Promise.reject(r)}}function LOe(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function FOe(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function A3(t){if(LOe(t))return String(t);if(FOe(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return A3(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const JA="base64:";function zOe(t){return typeof t=="string"?t:JA+HOe(t)}function WOe(t){return typeof t!="string"||!t.startsWith(JA)?t:qOe(t.slice(JA.length))}function qOe(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function HOe(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function Ls(t){var e;return t&&((e=t.split("?")[0])==null?void 0:e.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,""))||""}function VOe(...t){return Ls(t.join(":"))}function jv(t){return t=Ls(t),t?t+":":""}function GOe(t,e){if(e===void 0)return!0;let r=0,n=t.indexOf(":");for(;n>-1;)r++,n=t.indexOf(":",n+1);return r<=e}function KOe(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const YOe="memory",ZOe=()=>{const t=new Map;return{name:YOe,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function QOe(t={}){const e={mounts:{"":t.driver||ZOe()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=u=>{for(const h of e.mountpoints)if(u.startsWith(h))return{base:h,relativeKey:u.slice(h.length),driver:e.mounts[h]};return{base:"",relativeKey:u,driver:e.mounts[""]}},n=(u,h)=>e.mountpoints.filter(f=>f.startsWith(u)||h&&u.startsWith(f)).map(f=>({relativeBase:u.length>f.length?u.slice(f.length):void 0,mountpoint:f,driver:e.mounts[f]})),i=(u,h)=>{if(e.watching){h=Ls(h);for(const f of e.watchListeners)f(u,h)}},s=async()=>{if(!e.watching){e.watching=!0;for(const u in e.mounts)e.unwatch[u]=await UL(e.mounts[u],i,u)}},a=async()=>{if(e.watching){for(const u in e.unwatch)await e.unwatch[u]();e.unwatch={},e.watching=!1}},o=(u,h,f)=>{const g=new Map,y=b=>{let w=g.get(b.base);return w||(w={driver:b.driver,base:b.base,items:[]},g.set(b.base,w)),w};for(const b of u){const w=typeof b=="string",x=Ls(w?b:b.key),E=w?void 0:b.value,S=w||!b.options?h:{...h,...b.options},_=r(x);y(_).items.push({key:x,value:E,relativeKey:_.relativeKey,options:S})}return Promise.all([...g.values()].map(b=>f(b))).then(b=>b.flat())},l={hasItem(u,h={}){u=Ls(u);const{relativeKey:f,driver:g}=r(u);return Ai(g.hasItem,f,h)},getItem(u,h={}){u=Ls(u);const{relativeKey:f,driver:g}=r(u);return Ai(g.getItem,f,h).then(y=>ay(y))},getItems(u,h={}){return o(u,h,f=>f.driver.getItems?Ai(f.driver.getItems,f.items.map(g=>({key:g.relativeKey,options:g.options})),h).then(g=>g.map(y=>({key:VOe(f.base,y.key),value:ay(y.value)}))):Promise.all(f.items.map(g=>Ai(f.driver.getItem,g.relativeKey,g.options).then(y=>({key:g.key,value:ay(y)})))))},getItemRaw(u,h={}){u=Ls(u);const{relativeKey:f,driver:g}=r(u);return g.getItemRaw?Ai(g.getItemRaw,f,h):Ai(g.getItem,f,h).then(y=>WOe(y))},async setItem(u,h,f={}){if(h===void 0)return l.removeItem(u);u=Ls(u);const{relativeKey:g,driver:y}=r(u);y.setItem&&(await Ai(y.setItem,g,A3(h),f),y.watch||i("update",u))},async setItems(u,h){await o(u,h,async f=>{if(f.driver.setItems)return Ai(f.driver.setItems,f.items.map(g=>({key:g.relativeKey,value:A3(g.value),options:g.options})),h);f.driver.setItem&&await Promise.all(f.items.map(g=>Ai(f.driver.setItem,g.relativeKey,A3(g.value),g.options)))})},async setItemRaw(u,h,f={}){if(h===void 0)return l.removeItem(u,f);u=Ls(u);const{relativeKey:g,driver:y}=r(u);if(y.setItemRaw)await Ai(y.setItemRaw,g,h,f);else if(y.setItem)await Ai(y.setItem,g,zOe(h),f);else return;y.watch||i("update",u)},async removeItem(u,h={}){typeof h=="boolean"&&(h={removeMeta:h}),u=Ls(u);const{relativeKey:f,driver:g}=r(u);g.removeItem&&(await Ai(g.removeItem,f,h),(h.removeMeta||h.removeMata)&&await Ai(g.removeItem,f+"$",h),g.watch||i("remove",u))},async getMeta(u,h={}){typeof h=="boolean"&&(h={nativeOnly:h}),u=Ls(u);const{relativeKey:f,driver:g}=r(u),y=Object.create(null);if(g.getMeta&&Object.assign(y,await Ai(g.getMeta,f,h)),!h.nativeOnly){const b=await Ai(g.getItem,f+"$",h).then(w=>ay(w));b&&typeof b=="object"&&(typeof b.atime=="string"&&(b.atime=new Date(b.atime)),typeof b.mtime=="string"&&(b.mtime=new Date(b.mtime)),Object.assign(y,b))}return y},setMeta(u,h,f={}){return this.setItem(u+"$",h,f)},removeMeta(u,h={}){return this.removeItem(u+"$",h)},async getKeys(u,h={}){var x;u=jv(u);const f=n(u,!0);let g=[];const y=[];let b=!0;for(const E of f){(x=E.driver.flags)!=null&&x.maxDepth||(b=!1);const S=await Ai(E.driver.getKeys,E.relativeBase,h);for(const _ of S){const I=E.mountpoint+Ls(_);g.some(A=>I.startsWith(A))||y.push(I)}g=[E.mountpoint,...g.filter(_=>!_.startsWith(E.mountpoint))]}const w=h.maxDepth!==void 0&&!b;return y.filter(E=>(!w||GOe(E,h.maxDepth))&&KOe(E,u))},async clear(u,h={}){u=jv(u),await Promise.all(n(u,!1).map(async f=>{if(f.driver.clear)return Ai(f.driver.clear,f.relativeBase,h);if(f.driver.removeItem){const g=await f.driver.getKeys(f.relativeBase||"",h);return Promise.all(g.map(y=>f.driver.removeItem(y,h)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(u=>BL(u)))},async watch(u){return await s(),e.watchListeners.push(u),async()=>{e.watchListeners=e.watchListeners.filter(h=>h!==u),e.watchListeners.length===0&&await a()}},async unwatch(){e.watchListeners=[],await a()},mount(u,h){if(u=jv(u),u&&e.mounts[u])throw new Error(`already mounted at ${u}`);return u&&(e.mountpoints.push(u),e.mountpoints.sort((f,g)=>g.length-f.length)),e.mounts[u]=h,e.watching&&Promise.resolve(UL(h,i,u)).then(f=>{e.unwatch[u]=f}).catch(console.error),l},async unmount(u,h=!0){var f,g;u=jv(u),!(!u||!e.mounts[u])&&(e.watching&&u in e.unwatch&&((g=(f=e.unwatch)[u])==null||g.call(f),delete e.unwatch[u]),h&&await BL(e.mounts[u]),e.mountpoints=e.mountpoints.filter(y=>y!==u),delete e.mounts[u])},getMount(u=""){u=Ls(u)+":";const h=r(u);return{driver:h.driver,base:h.base}},getMounts(u="",h={}){return u=Ls(u),n(u,h.parents).map(g=>({driver:g.driver,base:g.mountpoint}))},keys:(u,h={})=>l.getKeys(u,h),get:(u,h={})=>l.getItem(u,h),set:(u,h,f={})=>l.setItem(u,h,f),has:(u,h={})=>l.hasItem(u,h),del:(u,h={})=>l.removeItem(u,h),remove:(u,h={})=>l.removeItem(u,h)};return l}function UL(t,e,r){return t.watch?t.watch((n,i)=>e(n,r+i)):()=>{}}async function BL(t){typeof t.dispose=="function"&&await Ai(t.dispose)}function ip(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function aJ(t,e){let r;const n=()=>{if(r)return r;const i=indexedDB.open(t);return i.onupgradeneeded=()=>i.result.createObjectStore(e),r=ip(i),r.then(s=>{s.onclose=()=>r=void 0},()=>{}),r};return(i,s)=>n().then(a=>s(a.transaction(e,i).objectStore(e)))}let qE;function jb(){return qE||(qE=aJ("keyval-store","keyval")),qE}function LL(t,e=jb()){return e("readonly",r=>ip(r.get(t)))}function XOe(t,e,r=jb()){return r("readwrite",n=>(n.put(e,t),ip(n.transaction)))}function JOe(t,e=jb()){return e("readwrite",r=>(r.delete(t),ip(r.transaction)))}function eMe(t=jb()){return t("readwrite",e=>(e.clear(),ip(e.transaction)))}function tMe(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},ip(t.transaction)}function rMe(t=jb()){return t("readonly",e=>{if(e.getAllKeys)return ip(e.getAllKeys());const r=[];return tMe(e,n=>r.push(n.key)).then(()=>r)})}const nMe="idb-keyval";var iMe=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=i=>e+i;let n;return t.dbName&&t.storeName&&(n=aJ(t.dbName,t.storeName)),{name:nMe,options:t,async hasItem(i){return!(typeof await LL(r(i),n)>"u")},async getItem(i){return await LL(r(i),n)??null},setItem(i,s){return XOe(r(i),s,n)},removeItem(i){return JOe(r(i),n)},getKeys(){return rMe(n)},clear(){return eMe(n)}}};const sMe="WALLET_CONNECT_V2_INDEXED_DB",aMe="keyvaluestorage";let oMe=class{constructor(){this.indexedDb=QOe({driver:iMe({dbName:sMe,storeName:aMe})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,$u(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var HE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},S3={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof HE<"u"&&HE.localStorage?S3.exports=HE.localStorage:typeof window<"u"&&window.localStorage?S3.exports=window.localStorage:S3.exports=new e})();function lMe(t){var e;return[t[0],jf((e=t[1])!=null?e:"")]}let cMe=class{constructor(){this.localStorage=S3.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(lMe)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return jf(r)}async setItem(e,r){this.localStorage.setItem(e,$u(r))}async removeItem(e){this.localStorage.removeItem(e)}};const uMe="wc_storage_version",FL=1,dMe=async(t,e,r)=>{const n=uMe,i=await e.getItem(n);if(i&&i>=FL){r(e);return}const s=await t.getKeys();if(!s.length){r(e);return}const a=[];for(;s.length;){const o=s.shift();if(!o)continue;const l=o.toLowerCase();if(l.includes("wc@")||l.includes("walletconnect")||l.includes("wc_")||l.includes("wallet_connect")){const u=await t.getItem(o);await e.setItem(o,u),a.push(o)}}await e.setItem(n,FL),r(e),hMe(t,a)},hMe=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let fMe=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new cMe;this.storage=e;try{const r=new oMe;dMe(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};var VE,zL;function pMe(){if(zL)return VE;zL=1;function t(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}VE=e;function e(r,n,i){var s=i&&i.stringify||t,a=1;if(typeof r=="object"&&r!==null){var o=n.length+a;if(o===1)return r;var l=new Array(o);l[0]=s(r);for(var u=1;u<o;u++)l[u]=s(n[u]);return l.join(" ")}if(typeof r!="string")return r;var h=n.length;if(h===0)return r;for(var f="",g=1-a,y=-1,b=r&&r.length||0,w=0;w<b;){if(r.charCodeAt(w)===37&&w+1<b){switch(y=y>-1?y:0,r.charCodeAt(w+1)){case 100:case 102:if(g>=h||n[g]==null)break;y<w&&(f+=r.slice(y,w)),f+=Number(n[g]),y=w+2,w++;break;case 105:if(g>=h||n[g]==null)break;y<w&&(f+=r.slice(y,w)),f+=Math.floor(Number(n[g])),y=w+2,w++;break;case 79:case 111:case 106:if(g>=h||n[g]===void 0)break;y<w&&(f+=r.slice(y,w));var x=typeof n[g];if(x==="string"){f+="'"+n[g]+"'",y=w+2,w++;break}if(x==="function"){f+=n[g].name||"<anonymous>",y=w+2,w++;break}f+=s(n[g]),y=w+2,w++;break;case 115:if(g>=h)break;y<w&&(f+=r.slice(y,w)),f+=String(n[g]),y=w+2,w++;break;case 37:y<w&&(f+=r.slice(y,w)),f+="%",y=w+2,w++,g--;break}++g}++w}return y===-1?r:(y<b&&(f+=r.slice(y)),f)}return VE}var GE,WL;function gMe(){if(WL)return GE;WL=1;const t=pMe();GE=i;const e=A().console||{},r={mapHttpRequest:b,mapHttpResponse:b,wrapRequestSerializer:w,wrapResponseSerializer:w,wrapErrorSerializer:w,req:b,res:b,err:g};function n(O,F){return Array.isArray(O)?O.filter(function(L){return L!=="!stdSerializers.err"}):O===!0?Object.keys(F):!1}function i(O){O=O||{},O.browser=O.browser||{};const F=O.browser.transmit;if(F&&typeof F.send!="function")throw Error("pino: transmit option must have a send function");const H=O.browser.write||e;O.browser.write&&(O.browser.asObject=!0);const L=O.serializers||{},z=n(O.browser.serialize,L);let V=O.browser.serialize;Array.isArray(O.browser.serialize)&&O.browser.serialize.indexOf("!stdSerializers.err")>-1&&(V=!1);const K=["error","fatal","warn","info","debug","trace"];typeof H=="function"&&(H.error=H.fatal=H.warn=H.info=H.debug=H.trace=H),O.enabled===!1&&(O.level="silent");const B=O.level||"info",C=Object.create(H);C.log||(C.log=x),Object.defineProperty(C,"levelVal",{get:N}),Object.defineProperty(C,"level",{get:D,set:P});const k={transmit:F,serialize:z,asObject:O.browser.asObject,levels:K,timestamp:y(O)};C.levels=i.levels,C.level=B,C.setMaxListeners=C.getMaxListeners=C.emit=C.addListener=C.on=C.prependListener=C.once=C.prependOnceListener=C.removeListener=C.removeAllListeners=C.listeners=C.listenerCount=C.eventNames=C.write=C.flush=x,C.serializers=L,C._serialize=z,C._stdErrSerialize=V,C.child=R,F&&(C._logEvent=f());function N(){return this.level==="silent"?1/0:this.levels.values[this.level]}function D(){return this._level}function P(j){if(j!=="silent"&&!this.levels.values[j])throw Error("unknown level "+j);this._level=j,s(k,C,"error","log"),s(k,C,"fatal","error"),s(k,C,"warn","error"),s(k,C,"info","log"),s(k,C,"debug","log"),s(k,C,"trace","log")}function R(j,W){if(!j)throw new Error("missing bindings for child Pino");W=W||{},z&&j.serializers&&(W.serializers=j.serializers);const M=W.serializers;if(z&&M){var G=Object.assign({},L,M),re=O.browser.serialize===!0?Object.keys(G):z;delete j.serializers,l([j],re,G,this._stdErrSerialize)}function q(X){this._childLevel=(X._childLevel|0)+1,this.error=u(X,j,"error"),this.fatal=u(X,j,"fatal"),this.warn=u(X,j,"warn"),this.info=u(X,j,"info"),this.debug=u(X,j,"debug"),this.trace=u(X,j,"trace"),G&&(this.serializers=G,this._serialize=re),F&&(this._logEvent=f([].concat(X._logEvent.bindings,j)))}return q.prototype=this,new q(this)}return C}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=r,i.stdTimeFunctions=Object.assign({},{nullTime:E,epochTime:S,unixTime:_,isoTime:I});function s(O,F,H,L){const z=Object.getPrototypeOf(F);F[H]=F.levelVal>F.levels.values[H]?x:z[H]?z[H]:e[H]||e[L]||x,a(O,F,H)}function a(O,F,H){!O.transmit&&F[H]===x||(F[H]=function(L){return function(){const V=O.timestamp(),K=new Array(arguments.length),B=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var C=0;C<K.length;C++)K[C]=arguments[C];if(O.serialize&&!O.asObject&&l(K,this._serialize,this.serializers,this._stdErrSerialize),O.asObject?L.call(B,o(this,H,K,V)):L.apply(B,K),O.transmit){const k=O.transmit.level||F.level,N=i.levels.values[k],D=i.levels.values[H];if(D<N)return;h(this,{ts:V,methodLevel:H,methodValue:D,transmitValue:i.levels.values[O.transmit.level||F.level],send:O.transmit.send,val:F.levelVal},K)}}}(F[H]))}function o(O,F,H,L){O._serialize&&l(H,O._serialize,O.serializers,O._stdErrSerialize);const z=H.slice();let V=z[0];const K={};L&&(K.time=L),K.level=i.levels.values[F];let B=(O._childLevel|0)+1;if(B<1&&(B=1),V!==null&&typeof V=="object"){for(;B--&&typeof z[0]=="object";)Object.assign(K,z.shift());V=z.length?t(z.shift(),z):void 0}else typeof V=="string"&&(V=t(z.shift(),z));return V!==void 0&&(K.msg=V),K}function l(O,F,H,L){for(const z in O)if(L&&O[z]instanceof Error)O[z]=i.stdSerializers.err(O[z]);else if(typeof O[z]=="object"&&!Array.isArray(O[z]))for(const V in O[z])F&&F.indexOf(V)>-1&&V in H&&(O[z][V]=H[V](O[z][V]))}function u(O,F,H){return function(){const L=new Array(1+arguments.length);L[0]=F;for(var z=1;z<L.length;z++)L[z]=arguments[z-1];return O[H].apply(this,L)}}function h(O,F,H){const L=F.send,z=F.ts,V=F.methodLevel,K=F.methodValue,B=F.val,C=O._logEvent.bindings;l(H,O._serialize||Object.keys(O.serializers),O.serializers,O._stdErrSerialize===void 0?!0:O._stdErrSerialize),O._logEvent.ts=z,O._logEvent.messages=H.filter(function(k){return C.indexOf(k)===-1}),O._logEvent.level.label=V,O._logEvent.level.value=K,L(V,O._logEvent,B),O._logEvent=f(C)}function f(O){return{ts:0,messages:[],bindings:O||[],level:{label:"",value:0}}}function g(O){const F={type:O.constructor.name,msg:O.message,stack:O.stack};for(const H in O)F[H]===void 0&&(F[H]=O[H]);return F}function y(O){return typeof O.timestamp=="function"?O.timestamp:O.timestamp===!1?E:S}function b(){return{}}function w(O){return O}function x(){}function E(){return!1}function S(){return Date.now()}function _(){return Math.round(Date.now()/1e3)}function I(){return new Date(Date.now()).toISOString()}function A(){function O(F){return typeof F<"u"&&F}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return O(self)||O(window)||O(this)||{}}}return GE}var S0=gMe();const Db=ra(S0),mMe={level:"info"},Ub="custom_context",$T=1e3*1024;let yMe=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},qL=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new yMe(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}},oJ=class{constructor(e,r=$T){this.level=e??"error",this.levelValue=S0.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new qL(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===S0.levels.values.error?console.error(e):r===S0.levels.values.warn?console.warn(e):r===S0.levels.values.debug?console.debug(e):r===S0.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append($u({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new qL(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push($u({extraMetadata:e})),new Blob(r,{type:"application/json"})}},bMe=class{constructor(e,r=$T){this.baseChunkLogger=new oJ(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},wMe=class{constructor(e,r=$T){this.baseChunkLogger=new oJ(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var vMe=Object.defineProperty,xMe=Object.defineProperties,EMe=Object.getOwnPropertyDescriptors,HL=Object.getOwnPropertySymbols,_Me=Object.prototype.hasOwnProperty,CMe=Object.prototype.propertyIsEnumerable,VL=(t,e,r)=>e in t?vMe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,M5=(t,e)=>{for(var r in e||(e={}))_Me.call(e,r)&&VL(t,r,e[r]);if(HL)for(var r of HL(e))CMe.call(e,r)&&VL(t,r,e[r]);return t},R5=(t,e)=>xMe(t,EMe(e));function k4(t){return R5(M5({},t),{level:(t==null?void 0:t.level)||mMe.level})}function AMe(t,e=Ub){return t[e]||""}function SMe(t,e,r=Ub){return t[r]=e,t}function la(t,e=Ub){let r="";return typeof t.bindings>"u"?r=AMe(t,e):r=t.bindings().context||"",r}function kMe(t,e,r=Ub){const n=la(t,r);return n.trim()?`${n}/${e}`:e}function Ns(t,e,r=Ub){const n=kMe(t,e,r),i=t.child({context:n});return SMe(i,n,r)}function $Me(t){var e,r;const n=new bMe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Db(R5(M5({},t.opts),{level:"trace",browser:R5(M5({},(r=t.opts)==null?void 0:r.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function TMe(t){var e;const r=new wMe((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:Db(R5(M5({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function IMe(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?$Me(t):TMe(t)}var NMe=Object.defineProperty,PMe=(t,e,r)=>e in t?NMe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,GL=(t,e,r)=>PMe(t,typeof e!="symbol"?e+"":e,r);let OMe=class extends rp{constructor(e){super(),this.opts=e,GL(this,"protocol","wc"),GL(this,"version",2)}};var MMe=Object.defineProperty,RMe=(t,e,r)=>e in t?MMe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,jMe=(t,e,r)=>RMe(t,e+"",r);let DMe=class extends rp{constructor(e,r){super(),this.core=e,this.logger=r,jMe(this,"records",new Map)}},UMe=class{constructor(e,r){this.logger=e,this.core=r}},BMe=class extends rp{constructor(e,r){super(),this.relayer=e,this.logger=r}},LMe=class extends rp{constructor(e){super()}},FMe=class{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}},zMe=class extends rp{constructor(e,r){super(),this.relayer=e,this.logger=r}},WMe=class extends rp{constructor(e,r){super(),this.core=e,this.logger=r}},qMe=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},HMe=class{constructor(e,r){this.projectId=e,this.logger=r}},VMe=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}};var GMe=Object.defineProperty,KMe=(t,e,r)=>e in t?GMe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,KL=(t,e,r)=>KMe(t,typeof e!="symbol"?e+"":e,r);let YMe=class{constructor(e){this.opts=e,KL(this,"protocol","wc"),KL(this,"version",2)}},ZMe=class{constructor(e){this.client=e}};const QMe="PARSE_ERROR",XMe="INVALID_REQUEST",JMe="METHOD_NOT_FOUND",eRe="INVALID_PARAMS",lJ="INTERNAL_ERROR",TT="SERVER_ERROR",tRe=[-32700,-32600,-32601,-32602,-32603],Ry={[QMe]:{code:-32700,message:"Parse error"},[XMe]:{code:-32600,message:"Invalid Request"},[JMe]:{code:-32601,message:"Method not found"},[eRe]:{code:-32602,message:"Invalid params"},[lJ]:{code:-32603,message:"Internal error"},[TT]:{code:-32e3,message:"Server error"}},cJ=TT;function rRe(t){return tRe.includes(t)}function YL(t){return Object.keys(Ry).includes(t)?Ry[t]:Ry[cJ]}function nRe(t){const e=Object.values(Ry).find(r=>r.code===t);return e||Ry[cJ]}function uJ(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var KE={},Kc={},ZL;function iRe(){if(ZL)return Kc;ZL=1,Object.defineProperty(Kc,"__esModule",{value:!0}),Kc.isBrowserCryptoAvailable=Kc.getSubtleCrypto=Kc.getBrowerCrypto=void 0;function t(){return(Zo==null?void 0:Zo.crypto)||(Zo==null?void 0:Zo.msCrypto)||{}}Kc.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}Kc.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return Kc.isBrowserCryptoAvailable=r,Kc}var Yc={},QL;function sRe(){if(QL)return Yc;QL=1,Object.defineProperty(Yc,"__esModule",{value:!0}),Yc.isBrowser=Yc.isNode=Yc.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}Yc.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}Yc.isNode=e;function r(){return!t()&&!e()}return Yc.isBrowser=r,Yc}var XL;function aRe(){return XL||(XL=1,function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=$b;e.__exportStar(iRe(),t),e.__exportStar(sRe(),t)}(KE)),KE}var oRe=aRe();function Kl(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function zd(t=6){return BigInt(Kl(t))}function ec(t,e,r){return{id:r||Kl(),jsonrpc:"2.0",method:t,params:e}}function K2(t,e){return{id:t,jsonrpc:"2.0",result:e}}function $4(t,e,r){return{id:t,jsonrpc:"2.0",error:lRe(e)}}function lRe(t,e){return typeof t>"u"?YL(lJ):(typeof t=="string"&&(t=Object.assign(Object.assign({},YL(TT)),{message:t})),rRe(t.code)&&(t=nRe(t.code)),t)}let cRe=class{},uRe=class extends cRe{constructor(){super()}},dRe=class extends uRe{constructor(e){super()}};const hRe="^https?:",fRe="^wss?:";function pRe(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function dJ(t,e){const r=pRe(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function JL(t){return dJ(t,hRe)}function eF(t){return dJ(t,fRe)}function gRe(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function hJ(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function IT(t){return hJ(t)&&"method"in t}function T4(t){return hJ(t)&&(Yl(t)||co(t))}function Yl(t){return"result"in t}function co(t){return"error"in t}let No=class extends dRe{constructor(e){super(e),this.events=new Ba.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(ec(e.method,e.params||[],e.id||zd().toString()),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{co(s)?i(s.error):n(s.result)});try{await this.connection.send(e,r)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),T4(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const mRe=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),yRe=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",tF=t=>t.split("?")[0],rF=10,bRe=mRe();let wRe=class{constructor(e){if(this.url=e,this.events=new Ba.EventEmitter,this.registering=!1,!eF(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send($u(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!eF(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const i=oRe.isReactNative()?void 0:{rejectUnauthorized:!gRe(e)},s=new bRe(e,[],i);yRe()?s.onerror=a=>{const o=a;n(this.emitError(o.error))}:s.on("error",a=>{n(this.emitError(a))}),s.onopen=()=>{this.onOpen(s),r(s)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?jf(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=$4(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return uJ(e,tF(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>rF&&this.events.setMaxListeners(rF)}emitError(e){const r=this.parseError(new Error((e==null?void 0:e.message)||`WebSocket connection failed for host: ${tF(this.url)}`));return this.events.emit("register_error",r),r}};var vRe={CLI_CEB_DEV:"false",CLI_CEB_FIREFOX:"false",CEB_NODE_ENV:"production"};const fJ="wc",pJ=2,eS="core",fc=`${fJ}@2:${eS}:`,xRe={logger:"error"},ERe={database:":memory:"},_Re="crypto",nF="client_ed25519_seed",CRe=it.ONE_DAY,ARe="keychain",SRe="0.3",kRe="messages",$Re="0.3",TRe=it.SIX_HOURS,IRe="publisher",gJ="irn",NRe="error",mJ="wss://relay.walletconnect.org",PRe="relayer",Wn={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},ORe="_subscription",Ja={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},MRe=.1,tS="2.21.7",fn={link_mode:"link_mode",relay:"relay"},k3={inbound:"inbound",outbound:"outbound"},RRe="0.3",jRe="WALLETCONNECT_CLIENT_ID",iF="WALLETCONNECT_LINK_MODE_APPS",va={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},DRe="subscription",URe="0.3",BRe="pairing",LRe="0.3",x1={wc_pairingDelete:{req:{ttl:it.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:it.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:it.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:it.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:it.ONE_DAY,prompt:!1,tag:0},res:{ttl:it.ONE_DAY,prompt:!1,tag:0}}},Qh={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},Lo={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},FRe="history",zRe="0.3",WRe="expirer",ao={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},qRe="0.3",HRe="verify-api",VRe="https://verify.walletconnect.com",yJ="https://verify.walletconnect.org",jy=yJ,GRe=`${jy}/v3`,KRe=[VRe,yJ],YRe="echo",ZRe="https://echo.walletconnect.com",Vl={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},eu={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Cd={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},E1={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Lh={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},_1={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},QRe=.1,XRe="event-client",JRe=86400,eje="https://pulse.walletconnect.org/batch";function tje(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),a=s.charCodeAt(0);if(r[a]!==255)throw new TypeError(s+" is ambiguous");r[a]=i}var o=t.length,l=t.charAt(0),u=Math.log(o)/Math.log(256),h=Math.log(256)/Math.log(o);function f(b){if(b instanceof Uint8Array||(ArrayBuffer.isView(b)?b=new Uint8Array(b.buffer,b.byteOffset,b.byteLength):Array.isArray(b)&&(b=Uint8Array.from(b))),!(b instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(b.length===0)return"";for(var w=0,x=0,E=0,S=b.length;E!==S&&b[E]===0;)E++,w++;for(var _=(S-E)*h+1>>>0,I=new Uint8Array(_);E!==S;){for(var A=b[E],O=0,F=_-1;(A!==0||O<x)&&F!==-1;F--,O++)A+=256*I[F]>>>0,I[F]=A%o>>>0,A=A/o>>>0;if(A!==0)throw new Error("Non-zero carry");x=O,E++}for(var H=_-x;H!==_&&I[H]===0;)H++;for(var L=l.repeat(w);H<_;++H)L+=t.charAt(I[H]);return L}function g(b){if(typeof b!="string")throw new TypeError("Expected String");if(b.length===0)return new Uint8Array;var w=0;if(b[w]!==" "){for(var x=0,E=0;b[w]===l;)x++,w++;for(var S=(b.length-w)*u+1>>>0,_=new Uint8Array(S);b[w];){var I=r[b.charCodeAt(w)];if(I===255)return;for(var A=0,O=S-1;(I!==0||A<E)&&O!==-1;O--,A++)I+=o*_[O]>>>0,_[O]=I%256>>>0,I=I/256>>>0;if(I!==0)throw new Error("Non-zero carry");E=A,w++}if(b[w]!==" "){for(var F=S-E;F!==S&&_[F]===0;)F++;for(var H=new Uint8Array(x+(S-F)),L=x;F!==S;)H[L++]=_[F++];return H}}}function y(b){var w=g(b);if(w)return w;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:g,decode:y}}var rje=tje,nje=rje;const bJ=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},ije=t=>new TextEncoder().encode(t),sje=t=>new TextDecoder().decode(t);let aje=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},oje=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return wJ(this,e)}},lje=class{constructor(e){this.decoders=e}or(e){return wJ(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const wJ=(t,e)=>new lje({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let cje=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new aje(e,r,n),this.decoder=new oje(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const I4=({name:t,prefix:e,encode:r,decode:n})=>new cje(t,e,r,n),Bb=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=nje(r,e);return I4({prefix:t,name:e,encode:n,decode:s=>bJ(i(s))})},uje=(t,e,r,n)=>{const i={};for(let h=0;h<e.length;++h)i[e[h]]=h;let s=t.length;for(;t[s-1]==="=";)--s;const a=new Uint8Array(s*r/8|0);let o=0,l=0,u=0;for(let h=0;h<s;++h){const f=i[t[h]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);l=l<<r|f,o+=r,o>=8&&(o-=8,a[u++]=255&l>>o)}if(o>=r||255&l<<8-o)throw new SyntaxError("Unexpected end of data");return a},dje=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",a=0,o=0;for(let l=0;l<t.length;++l)for(o=o<<8|t[l],a+=8;a>r;)a-=r,s+=e[i&o>>a];if(a&&(s+=e[i&o<<r-a]),n)for(;s.length*r&7;)s+="=";return s},Yi=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>I4({prefix:e,name:t,encode(i){return dje(i,n,r)},decode(i){return uje(i,n,r,t)}}),hje=I4({prefix:"\0",name:"identity",encode:t=>sje(t),decode:t=>ije(t)});var fje=Object.freeze({__proto__:null,identity:hje});const pje=Yi({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var gje=Object.freeze({__proto__:null,base2:pje});const mje=Yi({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var yje=Object.freeze({__proto__:null,base8:mje});const bje=Bb({prefix:"9",name:"base10",alphabet:"0123456789"});var wje=Object.freeze({__proto__:null,base10:bje});const vje=Yi({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),xje=Yi({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Eje=Object.freeze({__proto__:null,base16:vje,base16upper:xje});const _je=Yi({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),Cje=Yi({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Aje=Yi({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Sje=Yi({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),kje=Yi({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),$je=Yi({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Tje=Yi({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),Ije=Yi({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),Nje=Yi({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Pje=Object.freeze({__proto__:null,base32:_je,base32upper:Cje,base32pad:Aje,base32padupper:Sje,base32hex:kje,base32hexupper:$je,base32hexpad:Tje,base32hexpadupper:Ije,base32z:Nje});const Oje=Bb({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Mje=Bb({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Rje=Object.freeze({__proto__:null,base36:Oje,base36upper:Mje});const jje=Bb({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Dje=Bb({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Uje=Object.freeze({__proto__:null,base58btc:jje,base58flickr:Dje});const Bje=Yi({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Lje=Yi({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Fje=Yi({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),zje=Yi({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var Wje=Object.freeze({__proto__:null,base64:Bje,base64pad:Lje,base64url:Fje,base64urlpad:zje});const vJ=Array.from(""),qje=vJ.reduce((t,e,r)=>(t[r]=e,t),[]),Hje=vJ.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function Vje(t){return t.reduce((e,r)=>(e+=qje[r],e),"")}function Gje(t){const e=[];for(const r of t){const n=Hje[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const Kje=I4({prefix:"",name:"base256emoji",encode:Vje,decode:Gje});var Yje=Object.freeze({__proto__:null,base256emoji:Kje}),Zje=xJ,sF=128,Qje=-128,Xje=Math.pow(2,31);function xJ(t,e,r){e=e||[],r=r||0;for(var n=r;t>=Xje;)e[r++]=t&255|sF,t/=128;for(;t&Qje;)e[r++]=t&255|sF,t>>>=7;return e[r]=t|0,xJ.bytes=r-n+1,e}var Jje=rS,eDe=128,aF=127;function rS(t,n){var r=0,n=n||0,i=0,s=n,a,o=t.length;do{if(s>=o)throw rS.bytes=0,new RangeError("Could not decode varint");a=t[s++],r+=i<28?(a&aF)<<i:(a&aF)*Math.pow(2,i),i+=7}while(a>=eDe);return rS.bytes=s-n,r}var tDe=Math.pow(2,7),rDe=Math.pow(2,14),nDe=Math.pow(2,21),iDe=Math.pow(2,28),sDe=Math.pow(2,35),aDe=Math.pow(2,42),oDe=Math.pow(2,49),lDe=Math.pow(2,56),cDe=Math.pow(2,63),uDe=function(t){return t<tDe?1:t<rDe?2:t<nDe?3:t<iDe?4:t<sDe?5:t<aDe?6:t<oDe?7:t<lDe?8:t<cDe?9:10},dDe={encode:Zje,decode:Jje,encodingLength:uDe},EJ=dDe;const oF=(t,e,r=0)=>(EJ.encode(t,e,r),e),lF=t=>EJ.encodingLength(t),nS=(t,e)=>{const r=e.byteLength,n=lF(t),i=n+lF(r),s=new Uint8Array(i+r);return oF(t,s,0),oF(r,s,n),s.set(e,i),new hDe(t,r,e,s)};let hDe=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};const _J=({name:t,code:e,encode:r})=>new fDe(t,e,r);let fDe=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?nS(this.code,r):r.then(n=>nS(this.code,n))}else throw Error("Unknown type, must be binary type")}};const CJ=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),pDe=_J({name:"sha2-256",code:18,encode:CJ("SHA-256")}),gDe=_J({name:"sha2-512",code:19,encode:CJ("SHA-512")});var mDe=Object.freeze({__proto__:null,sha256:pDe,sha512:gDe});const AJ=0,yDe="identity",SJ=bJ,bDe=t=>nS(AJ,SJ(t)),wDe={code:AJ,name:yDe,encode:SJ,digest:bDe};var vDe=Object.freeze({__proto__:null,identity:wDe});new TextEncoder,new TextDecoder;const cF={...fje,...gje,...yje,...wje,...Eje,...Pje,...Rje,...Uje,...Wje,...Yje};({...mDe,...vDe});function kJ(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function xDe(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?kJ(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function $J(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const uF=$J("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),YE=$J("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=xDe(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),EDe={utf8:uF,"utf-8":uF,hex:cF.base16,latin1:YE,ascii:YE,binary:YE,...cF};function _De(t,e="utf8"){const r=EDe[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?kJ(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var CDe=Object.defineProperty,ADe=(t,e,r)=>e in t?CDe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Bl=(t,e,r)=>ADe(t,typeof e!="symbol"?e+"":e,r);let SDe=class{constructor(e,r){this.core=e,this.logger=r,Bl(this,"keychain",new Map),Bl(this,"name",ARe),Bl(this,"version",SRe),Bl(this,"initialized",!1),Bl(this,"storagePrefix",fc),Bl(this,"init",async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),Bl(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),Bl(this,"set",async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()}),Bl(this,"get",n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=nt("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i}),Bl(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=e,this.logger=Ns(r,this.name)}get context(){return la(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,LA(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?FA(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=nt("NOT_INITIALIZED",this.name);throw new Error(e)}}};var kDe=Object.defineProperty,$De=(t,e,r)=>e in t?kDe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ji=(t,e,r)=>$De(t,typeof e!="symbol"?e+"":e,r);let TDe=class{constructor(e,r,n){this.core=e,this.logger=r,ji(this,"name",_Re),ji(this,"keychain"),ji(this,"randomSessionIdentifier",QA()),ji(this,"initialized",!1),ji(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),ji(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),ji(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=RB(i);return tX(s.publicKey)}),ji(this,"generateKeyPair",()=>{this.isInitialized();const i=SPe();return this.setPrivateKey(i.publicKey,i.privateKey)}),ji(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),a=RB(s),o=this.randomSessionIdentifier;return await v$e(o,i,CRe,a)}),ji(this,"generateSharedKey",(i,s,a)=>{this.isInitialized();const o=this.getPrivateKey(i),l=kPe(o,s);return this.setSymKey(l,a)}),ji(this,"setSymKey",async(i,s)=>{this.isInitialized();const a=s||C3(i);return await this.keychain.set(a,i),a}),ji(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),ji(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),ji(this,"encode",async(i,s,a)=>{this.isInitialized();const o=rJ(a),l=$u(s);if(AL(o))return IPe(l,a==null?void 0:a.encoding);if(CL(o)){const g=o.senderPublicKey,y=o.receiverPublicKey;i=await this.generateSharedKey(g,y)}const u=this.getSymKey(i),{type:h,senderPublicKey:f}=o;return $Pe({type:h,symKey:u,message:l,senderPublicKey:f,encoding:a==null?void 0:a.encoding})}),ji(this,"decode",async(i,s,a)=>{this.isInitialized();const o=PPe(s,a);if(AL(o)){const l=NPe(s,a==null?void 0:a.encoding);return jf(l)}if(CL(o)){const l=o.receiverPublicKey,u=o.senderPublicKey;i=await this.generateSharedKey(l,u)}try{const l=this.getSymKey(i),u=TPe({symKey:l,encoded:s,encoding:a==null?void 0:a.encoding});return jf(u)}catch(l){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(l)}}),ji(this,"getPayloadType",(i,s=Vs)=>{const a=G2({encoded:i,encoding:s});return Uf(a.type)}),ji(this,"getPayloadSenderPublicKey",(i,s=Vs)=>{const a=G2({encoded:i,encoding:s});return a.senderPublicKey?ea(a.senderPublicKey,$s):void 0}),this.core=e,this.logger=Ns(r,this.name),this.keychain=n||new SDe(this.core,this.logger)}get context(){return la(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(nF)}catch{e=QA(),await this.keychain.set(nF,e)}return _De(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=nt("NOT_INITIALIZED",this.name);throw new Error(e)}}};var IDe=Object.defineProperty,NDe=Object.defineProperties,PDe=Object.getOwnPropertyDescriptors,dF=Object.getOwnPropertySymbols,ODe=Object.prototype.hasOwnProperty,MDe=Object.prototype.propertyIsEnumerable,iS=(t,e,r)=>e in t?IDe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,RDe=(t,e)=>{for(var r in e||(e={}))ODe.call(e,r)&&iS(t,r,e[r]);if(dF)for(var r of dF(e))MDe.call(e,r)&&iS(t,r,e[r]);return t},jDe=(t,e)=>NDe(t,PDe(e)),ya=(t,e,r)=>iS(t,typeof e!="symbol"?e+"":e,r);let DDe=class extends UMe{constructor(e,r){super(e,r),this.logger=e,this.core=r,ya(this,"messages",new Map),ya(this,"messagesWithoutClientAck",new Map),ya(this,"name",kRe),ya(this,"version",$Re),ya(this,"initialized",!1),ya(this,"storagePrefix",fc),ya(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),ya(this,"set",async(n,i,s)=>{this.isInitialized();const a=lo(i);let o=this.messages.get(n);if(typeof o>"u"&&(o={}),typeof o[a]<"u")return a;if(o[a]=i,this.messages.set(n,o),s===k3.inbound){const l=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,jDe(RDe({},l),{[a]:i}))}return await this.persist(),a}),ya(this,"get",n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i}),ya(this,"getWithoutAck",n=>{this.isInitialized();const i={};for(const s of n){const a=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(a)}return i}),ya(this,"has",(n,i)=>{this.isInitialized();const s=this.get(n),a=lo(i);return typeof s[a]<"u"}),ya(this,"ack",async(n,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(n);if(typeof s>"u")return;const a=lo(i);delete s[a],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,s),await this.persist()}),ya(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=Ns(e,this.name),this.core=r}get context(){return la(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,LA(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,LA(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?FA(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?FA(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=nt("NOT_INITIALIZED",this.name);throw new Error(e)}}};var UDe=Object.defineProperty,BDe=Object.defineProperties,LDe=Object.getOwnPropertyDescriptors,hF=Object.getOwnPropertySymbols,FDe=Object.prototype.hasOwnProperty,zDe=Object.prototype.propertyIsEnumerable,sS=(t,e,r)=>e in t?UDe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,l0=(t,e)=>{for(var r in e||(e={}))FDe.call(e,r)&&sS(t,r,e[r]);if(hF)for(var r of hF(e))zDe.call(e,r)&&sS(t,r,e[r]);return t},fF=(t,e)=>BDe(t,LDe(e)),eo=(t,e,r)=>sS(t,typeof e!="symbol"?e+"":e,r);let WDe=class extends BMe{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,eo(this,"events",new Ba.EventEmitter),eo(this,"name",IRe),eo(this,"queue",new Map),eo(this,"publishTimeout",it.toMiliseconds(it.ONE_MINUTE)),eo(this,"initialPublishTimeout",it.toMiliseconds(it.ONE_SECOND*15)),eo(this,"needsTransportRestart",!1),eo(this,"publish",async(n,i,s)=>{var a,o,l,u,h;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});const f=(s==null?void 0:s.ttl)||TRe,g=(s==null?void 0:s.prompt)||!1,y=(s==null?void 0:s.tag)||0,b=(s==null?void 0:s.id)||zd().toString(),w=j0(P5().protocol),x={id:b,method:(s==null?void 0:s.publishMethod)||w.publish,params:l0({topic:n,message:i,ttl:f,prompt:g,tag:y,attestation:s==null?void 0:s.attestation},(s==null?void 0:s.tvf)&&{tvf:s.tvf})},E=`Failed to publish payload, please try again. id:${b} tag:${y}`;try{gi((a=x.params)==null?void 0:a.prompt)&&((o=x.params)==null||delete o.prompt),gi((l=x.params)==null?void 0:l.tag)&&((u=x.params)==null||delete u.tag);const S=new Promise(async _=>{const I=({id:O})=>{var F;((F=x.id)==null?void 0:F.toString())===O.toString()&&(this.removeRequestFromQueue(O),this.relayer.events.removeListener(Wn.publish,I),_())};this.relayer.events.on(Wn.publish,I);const A=nc(new Promise((O,F)=>{this.rpcPublish(x,s).then(O).catch(H=>{this.logger.warn(H,H==null?void 0:H.message),F(H)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${b} tag:${y}`);try{await A,this.events.removeListener(Wn.publish,I)}catch(O){this.queue.set(b,{request:x,opts:s,attempt:1}),this.logger.warn(O,O==null?void 0:O.message)}});this.logger.trace({type:"method",method:"publish",params:{id:b,topic:n,message:i,opts:s}}),await nc(S,this.publishTimeout,E)}catch(S){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(S),(h=s==null?void 0:s.internal)!=null&&h.throwOnFailedPublish)throw S}finally{this.queue.delete(b)}}),eo(this,"publishCustom",async n=>{var i,s,a,o,l;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:n});const{payload:u,opts:h={}}=n,{attestation:f,tvf:g,publishMethod:y,prompt:b,tag:w,ttl:x=it.FIVE_MINUTES}=h,E=h.id||zd().toString(),S=j0(P5().protocol),_=y||S.publish,I={id:E,method:_,params:l0(fF(l0({},u),{ttl:x,prompt:b,tag:w,attestation:f}),g)},A=`Failed to publish custom payload, please try again. id:${E} tag:${w}`;try{gi((i=I.params)==null?void 0:i.prompt)&&((s=I.params)==null||delete s.prompt),gi((a=I.params)==null?void 0:a.tag)&&((o=I.params)==null||delete o.tag);const O=new Promise(async F=>{const H=({id:z})=>{var V;((V=I.id)==null?void 0:V.toString())===z.toString()&&(this.removeRequestFromQueue(z),this.relayer.events.removeListener(Wn.publish,H),F())};this.relayer.events.on(Wn.publish,H);const L=nc(new Promise((z,V)=>{this.rpcPublish(I,h).then(z).catch(K=>{this.logger.warn(K,K==null?void 0:K.message),V(K)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${_} id:${E} tag:${w}`);try{await L,this.events.removeListener(Wn.publish,H)}catch(z){this.queue.set(E,{request:I,opts:h,attempt:1}),this.logger.warn(z,z==null?void 0:z.message)}});this.logger.trace({type:"method",method:"publish",params:{id:E,payload:u,opts:h}}),await nc(O,this.publishTimeout,A)}catch(O){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(O),(l=h==null?void 0:h.internal)!=null&&l.throwOnFailedPublish)throw O}finally{this.queue.delete(E)}}),eo(this,"on",(n,i)=>{this.events.on(n,i)}),eo(this,"once",(n,i)=>{this.events.once(n,i)}),eo(this,"off",(n,i)=>{this.events.off(n,i)}),eo(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.relayer=e,this.logger=Ns(r,this.name),this.registerEventListeners()}get context(){return la(this.logger)}async rpcPublish(e,r){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const n=await this.relayer.request(e);return this.relayer.events.emit(Wn.publish,l0(l0({},e),r)),this.logger.debug("Successfully Published Payload"),n}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,r)=>{var n;const i=e.attempt+1;this.queue.set(r,fF(l0({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(n=e.request.params)==null?void 0:n.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(np.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(Wn.connection_stalled);return}this.checkQueue()}),this.relayer.on(Wn.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}};var qDe=Object.defineProperty,HDe=(t,e,r)=>e in t?qDe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,c0=(t,e,r)=>HDe(t,typeof e!="symbol"?e+"":e,r);let VDe=class{constructor(){c0(this,"map",new Map),c0(this,"set",(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])}),c0(this,"get",e=>this.map.get(e)||[]),c0(this,"exists",(e,r)=>this.get(e).includes(r)),c0(this,"delete",(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const i=n.filter(s=>s!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),c0(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}};var GDe=Object.defineProperty,KDe=Object.defineProperties,YDe=Object.getOwnPropertyDescriptors,pF=Object.getOwnPropertySymbols,ZDe=Object.prototype.hasOwnProperty,QDe=Object.prototype.propertyIsEnumerable,aS=(t,e,r)=>e in t?GDe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,C1=(t,e)=>{for(var r in e||(e={}))ZDe.call(e,r)&&aS(t,r,e[r]);if(pF)for(var r of pF(e))QDe.call(e,r)&&aS(t,r,e[r]);return t},ZE=(t,e)=>KDe(t,YDe(e)),Qr=(t,e,r)=>aS(t,typeof e!="symbol"?e+"":e,r);let XDe=class extends zMe{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,Qr(this,"subscriptions",new Map),Qr(this,"topicMap",new VDe),Qr(this,"events",new Ba.EventEmitter),Qr(this,"name",DRe),Qr(this,"version",URe),Qr(this,"pending",new Map),Qr(this,"cached",[]),Qr(this,"initialized",!1),Qr(this,"storagePrefix",fc),Qr(this,"subscribeTimeout",it.toMiliseconds(it.ONE_MINUTE)),Qr(this,"initialSubscribeTimeout",it.toMiliseconds(it.ONE_SECOND*15)),Qr(this,"clientId"),Qr(this,"batchSubscribeTopicsLimit",500),Qr(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),Qr(this,"subscribe",async(n,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const a=P5(i),o={topic:n,relay:a,transportType:i==null?void 0:i.transportType};(s=i==null?void 0:i.internal)!=null&&s.skipSubscribe||this.pending.set(n,o);const l=await this.rpcSubscribe(n,a,i);return typeof l=="string"&&(this.onSubscribe(l,o),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}})),l}catch(a){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(a),a}}),Qr(this,"unsubscribe",async(n,i)=>{this.isInitialized(),typeof(i==null?void 0:i.id)<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)}),Qr(this,"isSubscribed",n=>new Promise(i=>{i(this.topicMap.topics.includes(n))})),Qr(this,"isKnownTopic",n=>new Promise(i=>{i(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(s=>s.topic===n))})),Qr(this,"on",(n,i)=>{this.events.on(n,i)}),Qr(this,"once",(n,i)=>{this.events.once(n,i)}),Qr(this,"off",(n,i)=>{this.events.off(n,i)}),Qr(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),Qr(this,"start",async()=>{await this.onConnect()}),Qr(this,"stop",async()=>{await this.onDisconnect()}),Qr(this,"restart",async()=>{await this.restore(),await this.onRestart()}),Qr(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const n=[];this.pending.forEach(i=>{n.push(i)}),await this.batchSubscribe(n)}),Qr(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(np.pulse,async()=>{await this.checkPending()}),this.events.on(va.created,async n=>{const i=va.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()}),this.events.on(va.deleted,async n=>{const i=va.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()})}),this.relayer=e,this.logger=Ns(r,this.name),this.clientId=""}get context(){return la(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const i=P5(n);await this.restartToComplete({topic:e,id:r,relay:i}),await this.rpcUnsubscribe(e,r,i);const s=pn("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r,n){var i,s;const a=await this.getSubscriptionId(e);if((i=n==null?void 0:n.internal)!=null&&i.skipSubscribe)return a;(!n||(n==null?void 0:n.transportType)===fn.relay)&&await this.restartToComplete({topic:e,id:e,relay:r});const o={method:j0(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:o});const l=(s=n==null?void 0:n.internal)==null?void 0:s.throwOnFailedPublish;try{if((n==null?void 0:n.transportType)===fn.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(o).catch(f=>this.logger.warn(f))},it.toMiliseconds(it.ONE_SECOND)),a;const u=new Promise(async f=>{const g=y=>{y.topic===e&&(this.events.removeListener(va.created,g),f(y.id))};this.events.on(va.created,g);try{const y=await nc(new Promise((b,w)=>{this.relayer.request(o).catch(x=>{this.logger.warn(x,x==null?void 0:x.message),w(x)}).then(b)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(va.created,g),f(y)}catch{}}),h=await nc(u,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!h&&l)throw new Error(`Subscribing to ${e} failed, please try again`);return h?a:null}catch(u){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(Wn.connection_stalled),l)throw u}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:j0(r.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await nc(new Promise(i=>{this.relayer.request(n).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(Wn.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:j0(r.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let i;try{i=await await nc(new Promise((s,a)=>{this.relayer.request(n).catch(o=>{this.logger.warn(o),a(o)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(Wn.connection_stalled)}return i}rpcUnsubscribe(e,r,n){const i={method:j0(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,r){this.setSubscription(e,ZE(C1({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,C1({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,C1({},r)),this.topicMap.set(r.topic,e),this.events.emit(va.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=nt("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(va.deleted,ZE(C1({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(va.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(va.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(r=>{var n;return r.topic===((n=this.subscriptions.get(r.id))==null?void 0:n.topic)})){const{message:r}=nt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async r=>ZE(C1({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await KTe(it.toMiliseconds(it.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=nt("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return lo(e+await this.getClientId())}};var JDe=Object.defineProperty,gF=Object.getOwnPropertySymbols,eUe=Object.prototype.hasOwnProperty,tUe=Object.prototype.propertyIsEnumerable,oS=(t,e,r)=>e in t?JDe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,mF=(t,e)=>{for(var r in e||(e={}))eUe.call(e,r)&&oS(t,r,e[r]);if(gF)for(var r of gF(e))tUe.call(e,r)&&oS(t,r,e[r]);return t},Or=(t,e,r)=>oS(t,typeof e!="symbol"?e+"":e,r);let rUe=class extends LMe{constructor(e){super(e),Or(this,"protocol","wc"),Or(this,"version",2),Or(this,"core"),Or(this,"logger"),Or(this,"events",new Ba.EventEmitter),Or(this,"provider"),Or(this,"messages"),Or(this,"subscriber"),Or(this,"publisher"),Or(this,"name",PRe),Or(this,"transportExplicitlyClosed",!1),Or(this,"initialized",!1),Or(this,"connectionAttemptInProgress",!1),Or(this,"relayUrl"),Or(this,"projectId"),Or(this,"packageName"),Or(this,"bundleId"),Or(this,"hasExperiencedNetworkDisruption",!1),Or(this,"pingTimeout"),Or(this,"heartBeatTimeout",it.toMiliseconds(it.THIRTY_SECONDS+it.FIVE_SECONDS)),Or(this,"reconnectTimeout"),Or(this,"connectPromise"),Or(this,"reconnectInProgress",!1),Or(this,"requestsInFlight",[]),Or(this,"connectTimeout",it.toMiliseconds(it.ONE_SECOND*15)),Or(this,"request",async r=>{var n,i;this.logger.debug("Publishing Request Payload");const s=r.id||zd().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - publishing...");const a=`${s}:${((i=r.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(a);const o=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(l=>l!==a),o}catch(a){throw this.logger.debug(`Failed to Publish Request: ${s}`),a}}),Or(this,"resetPingTimeout",()=>{$5()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(a){this.logger.warn(a,a==null?void 0:a.message)}},this.heartBeatTimeout))}),Or(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),Or(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(Wn.connect)}),Or(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),Or(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(Wn.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),Or(this,"registerProviderListeners",()=>{this.provider.on(Ja.payload,this.onPayloadHandler),this.provider.on(Ja.connect,this.onConnectHandler),this.provider.on(Ja.disconnect,this.onDisconnectHandler),this.provider.on(Ja.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?Ns(e.logger,this.name):Db(k4({level:e.logger||NRe})),this.messages=new DDe(this.logger,e.core),this.subscriber=new XDe(this,this.logger),this.publisher=new WDe(this,this.logger),this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||mJ,PTe()?this.packageName=VB():OTe()&&(this.bundleId=VB()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e==null?void 0:e.message))}get context(){return la(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:fn.relay},k3.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,r){var n,i,s;this.isInitialized(),(!(r!=null&&r.transportType)||(r==null?void 0:r.transportType)==="relay")&&await this.toEstablishConnection();const a=typeof((n=r==null?void 0:r.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(i=r==null?void 0:r.internal)==null?void 0:i.throwOnFailedPublish;let o=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",l;const u=h=>{h.topic===e&&(this.subscriber.off(va.created,u),l())};return await Promise.all([new Promise(h=>{l=h,this.subscriber.on(va.created,u)}),new Promise(async(h,f)=>{o=await this.subscriber.subscribe(e,mF({internal:{throwOnFailedPublish:a}},r)).catch(g=>{a&&f(g)})||o,h()})]),o}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await nc(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(e).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await jL())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if((e==null?void 0:e.length)===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,i)=>n.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+(i==null?void 0:i.message))}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const i=fi(it.FIVE_MINUTES),s={topic:n,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,s)}this.events.emit(Wn.message,e),await this.recordMessageEvent(e,k3.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(Ja.disconnect,s),await nc(new Promise((a,o)=>{this.provider.connect().then(a).catch(o)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(a=>{i(a)}).finally(()=>{this.provider.off(Ja.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(a,o)=>{const l=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(Ja.disconnect,l),await this.subscriber.start().then(a).catch(o).finally(()=>{this.provider.off(Ja.disconnect,l)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();const i=n;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,it.toMiliseconds(r*1))),r++}}startPingTimeout(){var e,r,n,i,s;if($5())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((s=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(a){this.logger.warn(a,a==null?void 0:a.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new No(new wRe(UTe({sdkVersion:tS,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,r){const{topic:n,message:i}=e;await this.messages.set(n,i,r)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;const i=this.messages.has(r,n);return i&&this.logger.warn(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),IT(e)){if(!e.method.endsWith(ORe))return;const r=e.params,{topic:n,message:i,publishedAt:s,attestation:a}=r.data,o={topic:n,message:i,publishedAt:s,transportType:fn.relay,attestation:a};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(mF({type:"event",event:r.id},o)),this.events.emit(r.id,o),await this.acknowledgePayload(e),await this.onMessageEvent(o)}else T4(e)&&this.events.emit(Wn.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,k3.inbound),this.events.emit(Wn.message,e))}async acknowledgePayload(e){const r=K2(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(Ja.payload,this.onPayloadHandler),this.provider.off(Ja.connect,this.onConnectHandler),this.provider.off(Ja.disconnect,this.onDisconnectHandler),this.provider.off(Ja.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await jL();AOe(async r=>{e!==r&&(e=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n==null?void 0:n.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(np.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&$Oe())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(r){this.logger.warn(r,r==null?void 0:r.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(Wn.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e==null?void 0:e.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},it.toMiliseconds(MRe)))))}isInitialized(){if(!this.initialized){const{message:e}=nt("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}};function nUe(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function yF(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function bF(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const iUe="[object RegExp]",sUe="[object String]",aUe="[object Number]",oUe="[object Boolean]",wF="[object Arguments]",lUe="[object Symbol]",cUe="[object Date]",uUe="[object Map]",dUe="[object Set]",hUe="[object Array]",fUe="[object Function]",pUe="[object ArrayBuffer]",QE="[object Object]",gUe="[object Error]",mUe="[object DataView]",yUe="[object Uint8Array]",bUe="[object Uint8ClampedArray]",wUe="[object Uint16Array]",vUe="[object Uint32Array]",xUe="[object BigUint64Array]",EUe="[object Int8Array]",_Ue="[object Int16Array]",CUe="[object Int32Array]",AUe="[object BigInt64Array]",SUe="[object Float32Array]",kUe="[object Float64Array]";function $Ue(){}function vF(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function TUe(t,e,r){return py(t,e,void 0,void 0,void 0,void 0,r)}function py(t,e,r,n,i,s,a){const o=a(t,e,r,n,i,s);if(o!==void 0)return o;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return Dy(t,e,s,a)}return Dy(t,e,s,a)}function Dy(t,e,r,n){if(Object.is(t,e))return!0;let i=bF(t),s=bF(e);if(i===wF&&(i=QE),s===wF&&(s=QE),i!==s)return!1;switch(i){case sUe:return t.toString()===e.toString();case aUe:{const l=t.valueOf(),u=e.valueOf();return nUe(l,u)}case oUe:case cUe:case lUe:return Object.is(t.valueOf(),e.valueOf());case iUe:return t.source===e.source&&t.flags===e.flags;case fUe:return t===e}r=r??new Map;const a=r.get(t),o=r.get(e);if(a!=null&&o!=null)return a===e;r.set(t,e),r.set(e,t);try{switch(i){case uUe:{if(t.size!==e.size)return!1;for(const[l,u]of t.entries())if(!e.has(l)||!py(u,e.get(l),l,t,e,r,n))return!1;return!0}case dUe:{if(t.size!==e.size)return!1;const l=Array.from(t.values()),u=Array.from(e.values());for(let h=0;h<l.length;h++){const f=l[h],g=u.findIndex(y=>py(f,y,void 0,t,e,r,n));if(g===-1)return!1;u.splice(g,1)}return!0}case hUe:case yUe:case bUe:case wUe:case vUe:case xUe:case EUe:case _Ue:case CUe:case AUe:case SUe:case kUe:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let l=0;l<t.length;l++)if(!py(t[l],e[l],l,t,e,r,n))return!1;return!0}case pUe:return t.byteLength!==e.byteLength?!1:Dy(new Uint8Array(t),new Uint8Array(e),r,n);case mUe:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:Dy(new Uint8Array(t),new Uint8Array(e),r,n);case gUe:return t.name===e.name&&t.message===e.message;case QE:{if(!(Dy(t.constructor,e.constructor,r,n)||vF(t)&&vF(e)))return!1;const l=[...Object.keys(t),...yF(t)],u=[...Object.keys(e),...yF(e)];if(l.length!==u.length)return!1;for(let h=0;h<l.length;h++){const f=l[h],g=t[f];if(!Object.hasOwn(e,f))return!1;const y=e[f];if(!py(g,y,f,t,e,r,n))return!1}return!0}default:return!1}}finally{r.delete(t),r.delete(e)}}function IUe(t,e){return TUe(t,e,$Ue)}var NUe=Object.defineProperty,xF=Object.getOwnPropertySymbols,PUe=Object.prototype.hasOwnProperty,OUe=Object.prototype.propertyIsEnumerable,lS=(t,e,r)=>e in t?NUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,EF=(t,e)=>{for(var r in e||(e={}))PUe.call(e,r)&&lS(t,r,e[r]);if(xF)for(var r of xF(e))OUe.call(e,r)&&lS(t,r,e[r]);return t},Us=(t,e,r)=>lS(t,typeof e!="symbol"?e+"":e,r);let sp=class extends FMe{constructor(e,r,n,i=fc,s=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,Us(this,"map",new Map),Us(this,"version",RRe),Us(this,"cached",[]),Us(this,"initialized",!1),Us(this,"getKey"),Us(this,"storagePrefix",fc),Us(this,"recentlyDeleted",[]),Us(this,"recentlyDeletedLimit",200),Us(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(a=>{this.getKey&&a!==null&&!gi(a)?this.map.set(this.getKey(a),a):rOe(a)?this.map.set(a.id,a):nOe(a)&&this.map.set(a.topic,a)}),this.cached=[],this.initialized=!0)}),Us(this,"set",async(a,o)=>{this.isInitialized(),this.map.has(a)?await this.update(a,o):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:a,value:o}),this.map.set(a,o),await this.persist())}),Us(this,"get",a=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:a}),this.getData(a))),Us(this,"getAll",a=>(this.isInitialized(),a?this.values.filter(o=>Object.keys(a).every(l=>IUe(o[l],a[l]))):this.values)),Us(this,"update",async(a,o)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:a,update:o});const l=EF(EF({},this.getData(a)),o);this.map.set(a,l),await this.persist()}),Us(this,"delete",async(a,o)=>{this.isInitialized(),this.map.has(a)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:a,reason:o}),this.map.delete(a),this.addToRecentlyDeleted(a),await this.persist())}),this.logger=Ns(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return la(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:i}=nt("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:n}=nt("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=nt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=nt("NOT_INITIALIZED",this.name);throw new Error(e)}}};var MUe=Object.defineProperty,RUe=(t,e,r)=>e in t?MUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_r=(t,e,r)=>RUe(t,typeof e!="symbol"?e+"":e,r);let jUe=class{constructor(e,r){this.core=e,this.logger=r,_r(this,"name",BRe),_r(this,"version",LRe),_r(this,"events",new iT),_r(this,"pairings"),_r(this,"initialized",!1),_r(this,"storagePrefix",fc),_r(this,"ignoredPayloadTypes",[yu]),_r(this,"registeredMethods",[]),_r(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),_r(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),_r(this,"create",async n=>{this.isInitialized();const i=QA(),s=await this.core.crypto.setSymKey(i),a=fi(it.FIVE_MINUTES),o={protocol:gJ},l={topic:s,expiry:a,relay:o,active:!1,methods:n==null?void 0:n.methods},u=kL({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:o,expiryTimestamp:a,methods:n==null?void 0:n.methods});return this.events.emit(Qh.create,l),this.core.expirer.set(s,a),await this.pairings.set(s,l),await this.core.relayer.subscribe(s,{transportType:n==null?void 0:n.transportType,internal:n==null?void 0:n.internal}),{topic:s,uri:u}}),_r(this,"pair",async n=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:n==null?void 0:n.uri,trace:[Vl.pairing_started]}});this.isValidPair(n,i);const{topic:s,symKey:a,relay:o,expiryTimestamp:l,methods:u}=SL(n.uri);i.props.properties.topic=s,i.addTrace(Vl.pairing_uri_validation_success),i.addTrace(Vl.pairing_uri_not_expired);let h;if(this.pairings.keys.includes(s)){if(h=this.pairings.get(s),i.addTrace(Vl.existing_pairing),h.active)throw i.setError(eu.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(Vl.pairing_not_expired)}const f=l||fi(it.FIVE_MINUTES),g={topic:s,relay:o,expiry:f,active:!1,methods:u};this.core.expirer.set(s,f),await this.pairings.set(s,g),i.addTrace(Vl.store_new_pairing),n.activatePairing&&await this.activate({topic:s}),this.events.emit(Qh.create,g),i.addTrace(Vl.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(a,s),i.addTrace(Vl.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(eu.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:o})}catch(y){throw i.setError(eu.subscribe_pairing_topic_failure),y}return i.addTrace(Vl.subscribe_pairing_topic_success),g}),_r(this,"activate",async({topic:n})=>{this.isInitialized();const i=fi(it.FIVE_MINUTES);this.core.expirer.set(n,i),await this.pairings.update(n,{active:!0,expiry:i})}),_r(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:a,resolve:o,reject:l}=Vh();this.events.once(Lr("pairing_ping",s),({error:u})=>{u?l(u):o()}),await a()}}),_r(this,"updateExpiry",async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})}),_r(this,"updateMetadata",async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})}),_r(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),_r(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",pn("USER_DISCONNECTED")),await this.deletePairing(i))}),_r(this,"formatUriFromPairing",n=>{this.isInitialized();const{topic:i,relay:s,expiry:a,methods:o}=n,l=this.core.crypto.keychain.get(i);return kL({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:l,relay:s,expiryTimestamp:a,methods:o})}),_r(this,"sendRequest",async(n,i,s)=>{const a=ec(i,s),o=await this.core.crypto.encode(n,a),l=x1[i].req;return this.core.history.set(n,a),this.core.relayer.publish(n,o,l),a.id}),_r(this,"sendResult",async(n,i,s)=>{const a=K2(n,s),o=await this.core.crypto.encode(i,a),l=(await this.core.history.get(i,n)).request.method,u=x1[l].res;await this.core.relayer.publish(i,o,u),await this.core.history.resolve(a)}),_r(this,"sendError",async(n,i,s)=>{const a=$4(n,s),o=await this.core.crypto.encode(i,a),l=(await this.core.history.get(i,n)).request.method,u=x1[l]?x1[l].res:x1.unregistered_method.res;await this.core.relayer.publish(i,o,u),await this.core.history.resolve(a)}),_r(this,"deletePairing",async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,pn("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])}),_r(this,"cleanup",async()=>{const n=this.pairings.getAll().filter(i=>Id(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))}),_r(this,"onRelayEventRequest",async n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),_r(this,"onRelayEventResponse",async n=>{const{topic:i,payload:s}=n,a=(await this.core.history.get(i,s.id)).request.method;switch(a){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(a)}}),_r(this,"onPairingPingRequest",async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(Qh.ping,{id:s,topic:n})}catch(a){await this.sendError(s,n,a),this.logger.error(a)}}),_r(this,"onPairingPingResponse",(n,i)=>{const{id:s}=i;setTimeout(()=>{Yl(i)?this.events.emit(Lr("pairing_ping",s),{}):co(i)&&this.events.emit(Lr("pairing_ping",s),{error:i.error})},500)}),_r(this,"onPairingDeleteRequest",async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(Qh.delete,{id:s,topic:n})}catch(a){await this.sendError(s,n,a),this.logger.error(a)}}),_r(this,"onUnknownRpcMethodRequest",async(n,i)=>{const{id:s,method:a}=i;try{if(this.registeredMethods.includes(a))return;const o=pn("WC_METHOD_UNSUPPORTED",a);await this.sendError(s,n,o),this.logger.error(o)}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),_r(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error(pn("WC_METHOD_UNSUPPORTED",n))}),_r(this,"isValidPair",(n,i)=>{var s;if(!zs(n)){const{message:o}=nt("MISSING_OR_INVALID",`pair() params: ${n}`);throw i.setError(eu.malformed_pairing_uri),new Error(o)}if(!tOe(n.uri)){const{message:o}=nt("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw i.setError(eu.malformed_pairing_uri),new Error(o)}const a=SL(n==null?void 0:n.uri);if(!((s=a==null?void 0:a.relay)!=null&&s.protocol)){const{message:o}=nt("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(eu.malformed_pairing_uri),new Error(o)}if(!(a!=null&&a.symKey)){const{message:o}=nt("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(eu.malformed_pairing_uri),new Error(o)}if(a!=null&&a.expiryTimestamp&&it.toMiliseconds(a==null?void 0:a.expiryTimestamp)<Date.now()){i.setError(eu.pairing_expired);const{message:o}=nt("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(o)}}),_r(this,"isValidPing",async n=>{if(!zs(n)){const{message:s}=nt("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),_r(this,"isValidDisconnect",async n=>{if(!zs(n)){const{message:s}=nt("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),_r(this,"isValidPairingTopic",async n=>{if(!si(n,!1)){const{message:i}=nt("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=nt("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(Id(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=nt("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}}),this.core=e,this.logger=Ns(r,this.name),this.pairings=new sp(this.core,this.logger,this.name,this.storagePrefix)}get context(){return la(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=nt("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(Wn.message,async e=>{const{topic:r,message:n,transportType:i}=e;if(this.pairings.keys.includes(r)&&i!==fn.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const s=await this.core.crypto.decode(r,n);IT(s)?(this.core.history.set(r,s),await this.onRelayEventRequest({topic:r,payload:s})):T4(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.core.history.delete(r,s.id)),await this.core.relayer.messages.ack(r,n)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(ao.expired,async e=>{const{topic:r}=hX(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(Qh.expire,{topic:r}))})}};var DUe=Object.defineProperty,UUe=(t,e,r)=>e in t?DUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Di=(t,e,r)=>UUe(t,typeof e!="symbol"?e+"":e,r);let BUe=class extends DMe{constructor(e,r){super(e,r),this.core=e,this.logger=r,Di(this,"records",new Map),Di(this,"events",new Ba.EventEmitter),Di(this,"name",FRe),Di(this,"version",zRe),Di(this,"cached",[]),Di(this,"initialized",!1),Di(this,"storagePrefix",fc),Di(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Di(this,"set",(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const a={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:fi(it.THIRTY_DAYS)};this.records.set(a.id,a),this.persist(),this.events.emit(Lo.created,a)}),Di(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=co(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.persist(),this.events.emit(Lo.updated,i))}),Di(this,"get",async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i))),Di(this,"delete",(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(Lo.deleted,s)}}),this.persist()}),Di(this,"exists",async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1)),Di(this,"on",(n,i)=>{this.events.on(n,i)}),Di(this,"once",(n,i)=>{this.events.once(n,i)}),Di(this,"off",(n,i)=>{this.events.off(n,i)}),Di(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=Ns(r,this.name)}get context(){return la(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:ec(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=nt("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(Lo.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=nt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(Lo.created,e=>{const r=Lo.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Lo.updated,e=>{const r=Lo.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(Lo.deleted,e=>{const r=Lo.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(np.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{it.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(Lo.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=nt("NOT_INITIALIZED",this.name);throw new Error(e)}}};var LUe=Object.defineProperty,FUe=(t,e,r)=>e in t?LUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,is=(t,e,r)=>FUe(t,typeof e!="symbol"?e+"":e,r);let zUe=class extends WMe{constructor(e,r){super(e,r),this.core=e,this.logger=r,is(this,"expirations",new Map),is(this,"events",new Ba.EventEmitter),is(this,"name",WRe),is(this,"version",qRe),is(this,"cached",[]),is(this,"initialized",!1),is(this,"storagePrefix",fc),is(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),is(this,"has",n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}}),is(this,"set",(n,i)=>{this.isInitialized();const s=this.formatTarget(n),a={target:s,expiry:i};this.expirations.set(s,a),this.checkExpiry(s,a),this.events.emit(ao.created,{target:s,expiration:a})}),is(this,"get",n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)}),is(this,"del",n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(ao.deleted,{target:i,expiration:s})}}),is(this,"on",(n,i)=>{this.events.on(n,i)}),is(this,"once",(n,i)=>{this.events.once(n,i)}),is(this,"off",(n,i)=>{this.events.off(n,i)}),is(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=Ns(r,this.name)}get context(){return la(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return BTe(e);if(typeof e=="number")return LTe(e);const{message:r}=nt("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(ao.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=nt("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=nt("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;it.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(ao.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(np.pulse,()=>this.checkExpirations()),this.events.on(ao.created,e=>{const r=ao.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(ao.expired,e=>{const r=ao.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(ao.deleted,e=>{const r=ao.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=nt("NOT_INITIALIZED",this.name);throw new Error(e)}}};var WUe=Object.defineProperty,qUe=(t,e,r)=>e in t?WUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Xn=(t,e,r)=>qUe(t,typeof e!="symbol"?e+"":e,r);let HUe=class extends qMe{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,Xn(this,"name",HRe),Xn(this,"abortController"),Xn(this,"isDevEnv"),Xn(this,"verifyUrlV3",GRe),Xn(this,"storagePrefix",fc),Xn(this,"version",pJ),Xn(this,"publicKey"),Xn(this,"fetchPromise"),Xn(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&it.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),Xn(this,"register",async i=>{if(!Jg()||this.isDevEnv)return;const s=window.location.origin,{id:a,decryptedId:o}=i,l=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${a}&decryptedId=${o}`;try{const u=ku.getDocument(),h=this.startAbortTimer(it.ONE_SECOND*5),f=await new Promise((g,y)=>{const b=()=>{window.removeEventListener("message",x),u.body.removeChild(w),y("attestation aborted")};this.abortController.signal.addEventListener("abort",b);const w=u.createElement("iframe");w.src=l,w.style.display="none",w.addEventListener("error",b,{signal:this.abortController.signal});const x=E=>{if(E.data&&typeof E.data=="string")try{const S=JSON.parse(E.data);if(S.type==="verify_attestation"){if(UA(S.attestation).payload.id!==a)return;clearInterval(h),u.body.removeChild(w),this.abortController.signal.removeEventListener("abort",b),window.removeEventListener("message",x),g(S.attestation===null?"":S.attestation)}}catch(S){this.logger.warn(S)}};u.body.appendChild(w),window.addEventListener("message",x,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",f),f}catch(u){this.logger.warn(u)}return""}),Xn(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:a,encryptedId:o}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(UA(s).payload.id!==o)return;const u=await this.isValidJwtAttestation(s);if(u){if(!u.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return u}}if(!a)return;const l=this.getVerifyUrl(i==null?void 0:i.verifyUrl);return this.fetchAttestation(a,l)}),Xn(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const a=this.startAbortTimer(it.ONE_SECOND*5),o=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(a),o.status===200?await o.json():void 0}),Xn(this,"getVerifyUrl",i=>{let s=i||jy;return KRe.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${jy}`),s=jy),s}),Xn(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(it.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),Xn(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),Xn(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),Xn(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(o){this.logger.error(o),this.logger.warn("error validating attestation")}const a=await this.fetchAndPersistPublicKey();try{if(a)return this.validateAttestation(i,a)}catch(o){this.logger.error(o),this.logger.warn("error validating attestation")}}),Xn(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),Xn(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const a=await this.fetchPublicKey();a&&(await this.persistPublicKey(a),s(a))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),Xn(this,"validateAttestation",(i,s)=>{const a=MPe(i,s.publicKey),o={hasExpired:it.toMiliseconds(a.exp)<Date.now(),payload:a};if(o.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:o.payload.origin,isScam:o.payload.isScam,isVerified:o.payload.isVerified}}),this.logger=Ns(r,this.name),this.abortController=new AbortController,this.isDevEnv=pT(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return la(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),it.toMiliseconds(e))}};var VUe=Object.defineProperty,GUe=(t,e,r)=>e in t?VUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,_F=(t,e,r)=>GUe(t,typeof e!="symbol"?e+"":e,r);let KUe=class extends HMe{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,_F(this,"context",YRe),_F(this,"registerDeviceToken",async n=>{const{clientId:i,token:s,notificationType:a,enableEncrypted:o=!1}=n,l=`${ZRe}/${this.projectId}/clients`;await fetch(l,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:a,token:s,always_raw:o})})}),this.logger=Ns(r,this.context)}};var YUe=Object.defineProperty,CF=Object.getOwnPropertySymbols,ZUe=Object.prototype.hasOwnProperty,QUe=Object.prototype.propertyIsEnumerable,cS=(t,e,r)=>e in t?YUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,A1=(t,e)=>{for(var r in e||(e={}))ZUe.call(e,r)&&cS(t,r,e[r]);if(CF)for(var r of CF(e))QUe.call(e,r)&&cS(t,r,e[r]);return t},Ci=(t,e,r)=>cS(t,typeof e!="symbol"?e+"":e,r);let XUe=class extends VMe{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,Ci(this,"context",XRe),Ci(this,"storagePrefix",fc),Ci(this,"storageVersion",QRe),Ci(this,"events",new Map),Ci(this,"shouldPersist",!1),Ci(this,"init",async()=>{if(!pT())try{const i={eventId:KB(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:uX(this.core.relayer.protocol,this.core.relayer.version,tS)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Ci(this,"createEvent",i=>{const{event:s="ERROR",type:a="",properties:{topic:o,trace:l}}=i,u=KB(),h=this.core.projectId||"",f=Date.now(),g=A1({eventId:u,timestamp:f,props:{event:s,type:a,properties:{topic:o,trace:l}},bundleId:h,domain:this.getAppDomain()},this.setMethods(u));return this.telemetryEnabled&&(this.events.set(u,g),this.shouldPersist=!0),g}),Ci(this,"getEvent",i=>{const{eventId:s,topic:a}=i;if(s)return this.events.get(s);const o=Array.from(this.events.values()).find(l=>l.props.properties.topic===a);if(o)return A1(A1({},o),this.setMethods(o.eventId))}),Ci(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),Ci(this,"setEventListeners",()=>{this.core.heartbeat.on(np.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{it.fromMiliseconds(Date.now())-it.fromMiliseconds(i.timestamp)>JRe&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Ci(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),Ci(this,"addTrace",(i,s)=>{const a=this.events.get(i);a&&(a.props.properties.trace.push(s),this.events.set(i,a),this.shouldPersist=!0)}),Ci(this,"setError",(i,s)=>{const a=this.events.get(i);a&&(a.props.type=s,a.timestamp=Date.now(),this.events.set(i,a),this.shouldPersist=!0)}),Ci(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Ci(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,A1(A1({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),Ci(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,a]of this.events)a.props.type&&i.push(a);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Ci(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${eje}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${tS}${s}`,{method:"POST",body:JSON.stringify(i)})}),Ci(this,"getAppDomain",()=>cX().url),this.logger=Ns(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}};var JUe=Object.defineProperty,AF=Object.getOwnPropertySymbols,eBe=Object.prototype.hasOwnProperty,tBe=Object.prototype.propertyIsEnumerable,uS=(t,e,r)=>e in t?JUe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,SF=(t,e)=>{for(var r in e||(e={}))eBe.call(e,r)&&uS(t,r,e[r]);if(AF)for(var r of AF(e))tBe.call(e,r)&&uS(t,r,e[r]);return t},sn=(t,e,r)=>uS(t,typeof e!="symbol"?e+"":e,r);let rBe=class TJ extends OMe{constructor(e){var r;super(e),sn(this,"protocol",fJ),sn(this,"version",pJ),sn(this,"name",eS),sn(this,"relayUrl"),sn(this,"projectId"),sn(this,"customStoragePrefix"),sn(this,"events",new Ba.EventEmitter),sn(this,"logger"),sn(this,"heartbeat"),sn(this,"relayer"),sn(this,"crypto"),sn(this,"storage"),sn(this,"history"),sn(this,"expirer"),sn(this,"pairing"),sn(this,"verify"),sn(this,"echoClient"),sn(this,"linkModeSupportedApps"),sn(this,"eventClient"),sn(this,"initialized",!1),sn(this,"logChunkController"),sn(this,"on",(o,l)=>this.events.on(o,l)),sn(this,"once",(o,l)=>this.events.once(o,l)),sn(this,"off",(o,l)=>this.events.off(o,l)),sn(this,"removeListener",(o,l)=>this.events.removeListener(o,l)),sn(this,"dispatchEnvelope",({topic:o,message:l,sessionExists:u})=>{if(!o||!l)return;const h={topic:o,message:l,publishedAt:Date.now(),transportType:fn.link_mode};this.relayer.onLinkMessageEvent(h,{sessionExists:u})});const n=this.getGlobalCore(e==null?void 0:e.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(o){console.warn("Failed to copy global core",o)}this.projectId=e==null?void 0:e.projectId,this.relayUrl=(e==null?void 0:e.relayUrl)||mJ,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=k4({level:typeof(e==null?void 0:e.logger)=="string"&&e.logger?e.logger:xRe.logger,name:eS}),{logger:s,chunkLoggerController:a}=IMe({opts:i,maxSizeInBytes:e==null?void 0:e.maxLogBlobSizeInBytes,loggerOverride:e==null?void 0:e.logger});this.logChunkController=a,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var o,l;(o=this.logChunkController)!=null&&o.downloadLogsBlobInBrowser&&((l=this.logChunkController)==null||l.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=Ns(s,this.name),this.heartbeat=new UOe,this.crypto=new TDe(this,this.logger,e==null?void 0:e.keychain),this.history=new BUe(this,this.logger),this.expirer=new zUe(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new fMe(SF(SF({},ERe),e==null?void 0:e.storageOptions)),this.relayer=new rUe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new jUe(this,this.logger),this.verify=new HUe(this,this.logger,this.storage),this.echoClient=new KUe(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new XUe(this,this.logger,e==null?void 0:e.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const r=new TJ(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(jRe,n),r}get context(){return la(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(iF,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(iF)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${e}`,n=`${r}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[r]}catch(r){console.warn("Failed to get global WalletConnect core",r);return}}setGlobalCore(e){var r;try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${((r=e.opts)==null?void 0:r.customStoragePrefix)||""}`;globalThis[n]=e}catch(n){console.warn("Failed to set global WalletConnect core",n)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&vRe.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const nBe=rBe,IJ="wc",NJ=2,PJ="client",NT=`${IJ}@${NJ}:${PJ}:`,XE={name:PJ,logger:"error"},kF="WALLETCONNECT_DEEPLINK_CHOICE",iBe="proposal",$F="Proposal expired",sBe="session",u0=it.SEVEN_DAYS,aBe="engine",Ui={wc_sessionPropose:{req:{ttl:it.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:it.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:it.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:it.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:it.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:it.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:it.ONE_DAY,prompt:!1,tag:1104},res:{ttl:it.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:it.ONE_DAY,prompt:!1,tag:1106},res:{ttl:it.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:it.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:it.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:it.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:it.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:it.ONE_DAY,prompt:!1,tag:1112},res:{ttl:it.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:it.ONE_DAY,prompt:!1,tag:1114},res:{ttl:it.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:it.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:it.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:it.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:it.FIVE_MINUTES,prompt:!1,tag:1119}}},JE={min:it.FIVE_MINUTES,max:it.SEVEN_DAYS},Ll={idle:"IDLE",active:"ACTIVE"},oBe={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},lBe="request",cBe=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],uBe="wc",dBe="auth",hBe="authKeys",fBe="pairingTopics",pBe="requests",N4=`${uBe}@${1.5}:${dBe}:`,$3=`${N4}:PUB_KEY`;var gBe=Object.defineProperty,mBe=Object.defineProperties,yBe=Object.getOwnPropertyDescriptors,TF=Object.getOwnPropertySymbols,bBe=Object.prototype.hasOwnProperty,wBe=Object.prototype.propertyIsEnumerable,dS=(t,e,r)=>e in t?gBe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Fr=(t,e)=>{for(var r in e||(e={}))bBe.call(e,r)&&dS(t,r,e[r]);if(TF)for(var r of TF(e))wBe.call(e,r)&&dS(t,r,e[r]);return t},ss=(t,e)=>mBe(t,yBe(e)),Ke=(t,e,r)=>dS(t,typeof e!="symbol"?e+"":e,r);let vBe=class extends ZMe{constructor(e){super(e),Ke(this,"name",aBe),Ke(this,"events",new iT),Ke(this,"initialized",!1),Ke(this,"requestQueue",{state:Ll.idle,queue:[]}),Ke(this,"sessionRequestQueue",{state:Ll.idle,queue:[]}),Ke(this,"emittedSessionRequests",new YTe({limit:500})),Ke(this,"requestQueueDelay",it.ONE_SECOND),Ke(this,"expectedPairingMethodMap",new Map),Ke(this,"recentlyDeletedMap",new Map),Ke(this,"recentlyDeletedLimit",200),Ke(this,"relayMessageCache",[]),Ke(this,"pendingSessions",new Map),Ke(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(Ui)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},it.toMiliseconds(this.requestQueueDelay)))}),Ke(this,"connect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=ss(Fr({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n),n.optionalNamespaces=ZPe(n.requiredNamespaces,n.optionalNamespaces),n.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:a,sessionProperties:o,scopedProperties:l,relays:u}=n;let h=i,f,g=!1;try{if(h){const O=this.client.core.pairing.pairings.get(h);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),g=O.active}}catch(O){throw this.client.logger.error(`connect() -> pairing.get(${h}) failed`),O}if(!h||!g){const{topic:O,uri:F}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});h=O,f=F}if(!h){const{message:O}=nt("NO_MATCHING_KEY",`connect() pairing topic: ${h}`);throw new Error(O)}const y=await this.client.core.crypto.generateKeyPair(),b=Ui.wc_sessionPropose.req.ttl||it.FIVE_MINUTES,w=fi(b),x=ss(Fr(Fr({requiredNamespaces:s,optionalNamespaces:a,relays:u??[{protocol:gJ}],proposer:{publicKey:y,metadata:this.client.metadata},expiryTimestamp:w,pairingTopic:h},o&&{sessionProperties:o}),l&&{scopedProperties:l}),{id:Kl()}),E=Lr("session_connect",x.id),{reject:S,resolve:_,done:I}=Vh(b,$F),A=({id:O})=>{O===x.id&&(this.client.events.off("proposal_expire",A),this.pendingSessions.delete(x.id),this.events.emit(E,{error:{message:$F,code:0}}))};return this.client.events.on("proposal_expire",A),this.events.once(E,({error:O,session:F})=>{this.client.events.off("proposal_expire",A),O?S(O):F&&_(F)}),await this.sendProposeSession({proposal:x,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:x.id}}}),await this.setProposal(x.id,x),{uri:f,approval:I}}),Ke(this,"pair",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}}),Ke(this,"approve",async r=>{var n,i,s;const a=this.client.core.eventClient.createEvent({properties:{topic:(n=r==null?void 0:r.id)==null?void 0:n.toString(),trace:[Cd.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(L){throw a.setError(E1.no_internet_connection),L}try{await this.isValidProposalId(r==null?void 0:r.id)}catch(L){throw this.client.logger.error(`approve() -> proposal.get(${r==null?void 0:r.id}) failed`),a.setError(E1.proposal_not_found),L}try{await this.isValidApprove(r)}catch(L){throw this.client.logger.error("approve() -> isValidApprove() failed"),a.setError(E1.session_approve_namespace_validation_failure),L}const{id:o,relayProtocol:l,namespaces:u,sessionProperties:h,scopedProperties:f,sessionConfig:g}=r,y=this.client.proposal.get(o);this.client.core.eventClient.deleteEvent({eventId:a.eventId});const{pairingTopic:b,proposer:w,requiredNamespaces:x,optionalNamespaces:E}=y;let S=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:b});S||(S=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:Cd.session_approve_started,properties:{topic:b,trace:[Cd.session_approve_started,Cd.session_namespaces_validation_success]}}));const _=await this.client.core.crypto.generateKeyPair(),I=w.publicKey,A=await this.client.core.crypto.generateSharedKey(_,I),O=Fr(Fr(Fr({relay:{protocol:l??"irn"},namespaces:u,controller:{publicKey:_,metadata:this.client.metadata},expiry:fi(u0)},h&&{sessionProperties:h}),f&&{scopedProperties:f}),g&&{sessionConfig:g}),F=fn.relay;S.addTrace(Cd.subscribing_session_topic);try{await this.client.core.relayer.subscribe(A,{transportType:F,internal:{skipSubscribe:!0}})}catch(L){throw S.setError(E1.subscribe_session_topic_failure),L}S.addTrace(Cd.subscribe_session_topic_success);const H=ss(Fr({},O),{topic:A,requiredNamespaces:x,optionalNamespaces:E,pairingTopic:b,acknowledged:!1,self:O.controller,peer:{publicKey:w.publicKey,metadata:w.metadata},controller:_,transportType:fn.relay});await this.client.session.set(A,H),S.addTrace(Cd.store_session);try{await this.sendApproveSession({sessionTopic:A,proposal:y,pairingProposalResponse:{relay:{protocol:l??"irn"},responderPublicKey:_},sessionSettleRequest:O,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:o}}}),S.addTrace(Cd.session_approve_publish_success)}catch(L){throw this.client.logger.error(L),this.client.session.delete(A,pn("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(A),L}return this.client.core.eventClient.deleteEvent({eventId:S.eventId}),await this.client.core.pairing.updateMetadata({topic:b,metadata:w.metadata}),await this.deleteProposal(o),await this.client.core.pairing.activate({topic:b}),await this.setExpiry(A,fi(u0)),{topic:A,acknowledged:()=>Promise.resolve(this.client.session.get(A))}}),Ke(this,"reject",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(a){throw this.client.logger.error("reject() -> isValidReject() failed"),a}const{id:n,reason:i}=r;let s;try{s=this.client.proposal.get(n).pairingTopic}catch(a){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),a}s&&await this.sendError({id:n,topic:s,error:i,rpcOpts:Ui.wc_sessionPropose.reject}),await this.deleteProposal(n)}),Ke(this,"update",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(f){throw this.client.logger.error("update() -> isValidUpdate() failed"),f}const{topic:n,namespaces:i}=r,{done:s,resolve:a,reject:o}=Vh(),l=Kl(),u=zd().toString(),h=this.client.session.get(n).namespaces;return this.events.once(Lr("session_update",l),({error:f})=>{f?o(f):a()}),await this.client.session.update(n,{namespaces:i}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:l,relayRpcId:u}).catch(f=>{this.client.logger.error(f),this.client.session.update(n,{namespaces:h}),o(f)}),{acknowledged:s}}),Ke(this,"extend",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(l){throw this.client.logger.error("extend() -> isValidExtend() failed"),l}const{topic:n}=r,i=Kl(),{done:s,resolve:a,reject:o}=Vh();return this.events.once(Lr("session_extend",i),({error:l})=>{l?o(l):a()}),await this.setExpiry(n,fi(u0)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(l=>{o(l)}),{acknowledged:s}}),Ke(this,"request",async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(x){throw this.client.logger.error("request() -> isValidRequest() failed"),x}const{chainId:n,request:i,topic:s,expiry:a=Ui.wc_sessionRequest.req.ttl}=r,o=this.client.session.get(s);(o==null?void 0:o.transportType)===fn.relay&&await this.confirmOnlineStateOrThrow();const l=Kl(),u=zd().toString(),{done:h,resolve:f,reject:g}=Vh(a,"Request expired. Please try again.");this.events.once(Lr("session_request",l),({error:x,result:E})=>{x?g(x):f(E)});const y="wc_sessionRequest",b=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);if(b)return await this.sendRequest({clientRpcId:l,relayRpcId:u,topic:s,method:y,params:{request:ss(Fr({},i),{expiryTimestamp:fi(a)}),chainId:n},expiry:a,throwOnFailedPublish:!0,appLink:b}).catch(x=>g(x)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:l}),await h();const w={request:ss(Fr({},i),{expiryTimestamp:fi(a)}),chainId:n};return await Promise.all([new Promise(async x=>{await this.sendRequest({clientRpcId:l,relayRpcId:u,topic:s,method:y,params:w,expiry:a,throwOnFailedPublish:!0,tvf:this.getTVFParams(l,w)}).catch(E=>g(E)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:l}),x()}),new Promise(async x=>{var E;if(!((E=o.sessionConfig)!=null&&E.disableDeepLink)){const S=await qTe(this.client.core.storage,kF);await FTe({id:l,topic:s,wcDeepLink:S})}x()}),h()]).then(x=>x[2])}),Ke(this,"respond",async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:s}=i,a=this.client.session.get(n);a.transportType===fn.relay&&await this.confirmOnlineStateOrThrow();const o=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);Yl(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0,appLink:o}):co(i)&&await this.sendError({id:s,topic:n,error:i.error,appLink:o}),this.cleanupAfterResponse(r)}),Ke(this,"ping",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=Kl(),s=zd().toString(),{done:a,resolve:o,reject:l}=Vh();this.events.once(Lr("session_ping",i),({error:u})=>{u?l(u):o()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),a()])}else this.client.core.pairing.pairings.keys.includes(n)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:n}))}),Ke(this,"emit",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:i,chainId:s}=r,a=zd().toString(),o=Kl();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:a,clientRpcId:o})}),Ke(this,"disconnect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:pn("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:i}=nt("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}}),Ke(this,"find",r=>(this.isInitialized(),this.client.session.getAll().filter(n=>JPe(n,r)))),Ke(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),Ke(this,"authenticate",async(r,n)=>{var i;this.isInitialized(),this.isValidAuthenticate(r);const s=n&&this.client.core.linkModeSupportedApps.includes(n)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),a=s?fn.link_mode:fn.relay;a===fn.relay&&await this.confirmOnlineStateOrThrow();const{chains:o,statement:l="",uri:u,domain:h,nonce:f,type:g,exp:y,nbf:b,methods:w=[],expiry:x}=r,E=[...r.resources||[]],{topic:S,uri:_}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:a});this.client.logger.info({message:"Generated new pairing",pairing:{topic:S,uri:_}});const I=await this.client.core.crypto.generateKeyPair(),A=C3(I);if(await Promise.all([this.client.auth.authKeys.set($3,{responseTopic:A,publicKey:I}),this.client.auth.pairingTopics.set(A,{topic:A,pairingTopic:S})]),await this.client.core.relayer.subscribe(A,{transportType:a}),this.client.logger.info(`sending request to new pairing topic: ${S}`),w.length>0){const{namespace:R}=yf(o[0]);let j=aNe(R,"request",w);_3(E)&&(j=lNe(j,E.pop())),E.push(j)}const O=x&&x>Ui.wc_sessionAuthenticate.req.ttl?x:Ui.wc_sessionAuthenticate.req.ttl,F={authPayload:{type:g??"caip122",chains:o,statement:l,aud:u,domain:h,version:"1",nonce:f,iat:new Date().toISOString(),exp:y,nbf:b,resources:E},requester:{publicKey:I,metadata:this.client.metadata},expiryTimestamp:fi(O)},H={eip155:{chains:o,methods:[...new Set(["personal_sign",...w])],events:["chainChanged","accountsChanged"]}},L={requiredNamespaces:{},optionalNamespaces:H,relays:[{protocol:"irn"}],pairingTopic:S,proposer:{publicKey:I,metadata:this.client.metadata},expiryTimestamp:fi(Ui.wc_sessionPropose.req.ttl),id:Kl()},{done:z,resolve:V,reject:K}=Vh(O,"Request expired"),B=Kl(),C=Lr("session_connect",L.id),k=Lr("session_request",B),N=async({error:R,session:j})=>{this.events.off(k,D),R?K(R):j&&V({session:j})},D=async R=>{var j,W,M;if(await this.deletePendingAuthRequest(B,{message:"fulfilled",code:0}),R.error){const ce=pn("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return R.error.code===ce.code?void 0:(this.events.off(C,N),K(R.error.message))}await this.deleteProposal(L.id),this.events.off(C,N);const{cacaos:G,responder:re}=R.result,q=[],X=[];for(const ce of G){await sL({cacao:ce,projectId:this.client.core.projectId})||(this.client.logger.error(ce,"Signature verification failed"),K(pn("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:be}=ce,ve=_3(be.resources),ge=[zA(be.iss)],Ee=T5(be.iss);if(ve){const ye=aL(ve),$e=oL(ve);q.push(...ye),ge.push(...$e)}for(const ye of ge)X.push(`${ye}:${Ee}`)}const ne=await this.client.core.crypto.generateSharedKey(I,re.publicKey);let ee;q.length>0&&(ee={topic:ne,acknowledged:!0,self:{publicKey:I,metadata:this.client.metadata},peer:re,controller:re.publicKey,expiry:fi(u0),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:S,namespaces:NL([...new Set(q)],[...new Set(X)]),transportType:a},await this.client.core.relayer.subscribe(ne,{transportType:a}),await this.client.session.set(ne,ee),S&&await this.client.core.pairing.updateMetadata({topic:S,metadata:re.metadata}),ee=this.client.session.get(ne)),(j=this.client.metadata.redirect)!=null&&j.linkMode&&(W=re.metadata.redirect)!=null&&W.linkMode&&(M=re.metadata.redirect)!=null&&M.universal&&n&&(this.client.core.addLinkModeSupportedApp(re.metadata.redirect.universal),this.client.session.update(ne,{transportType:fn.link_mode})),V({auths:G,session:ee})};this.events.once(C,N),this.events.once(k,D);let P;try{if(s){const R=ec("wc_sessionAuthenticate",F,B);this.client.core.history.set(S,R);const j=await this.client.core.crypto.encode("",R,{type:Rb,encoding:Bd});P=Rv(n,S,j)}else await Promise.all([this.sendRequest({topic:S,method:"wc_sessionAuthenticate",params:F,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:B}),this.sendRequest({topic:S,method:"wc_sessionPropose",params:L,expiry:Ui.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:L.id})])}catch(R){throw this.events.off(C,N),this.events.off(k,D),R}return await this.setProposal(L.id,L),await this.setAuthRequest(B,{request:ss(Fr({},F),{verifyContext:{}}),pairingTopic:S,transportType:a}),{uri:P??_,response:z}}),Ke(this,"approveSessionAuthenticate",async r=>{const{id:n,auths:i}=r,s=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[Lh.authenticated_session_approve_started]}});try{this.isInitialized()}catch(x){throw s.setError(_1.no_internet_connection),x}const a=this.getPendingAuthRequest(n);if(!a)throw s.setError(_1.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const o=a.transportType||fn.relay;o===fn.relay&&await this.confirmOnlineStateOrThrow();const l=a.requester.publicKey,u=await this.client.core.crypto.generateKeyPair(),h=C3(l),f={type:yu,receiverPublicKey:l,senderPublicKey:u},g=[],y=[];for(const x of i){if(!await sL({cacao:x,projectId:this.client.core.projectId})){s.setError(_1.invalid_cacao);const A=pn("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:h,error:A,encodeOpts:f}),new Error(A.message)}s.addTrace(Lh.cacaos_verified);const{p:E}=x,S=_3(E.resources),_=[zA(E.iss)],I=T5(E.iss);if(S){const A=aL(S),O=oL(S);g.push(...A),_.push(...O)}for(const A of _)y.push(`${A}:${I}`)}const b=await this.client.core.crypto.generateSharedKey(u,l);s.addTrace(Lh.create_authenticated_session_topic);let w;if((g==null?void 0:g.length)>0){w={topic:b,acknowledged:!0,self:{publicKey:u,metadata:this.client.metadata},peer:{publicKey:l,metadata:a.requester.metadata},controller:l,expiry:fi(u0),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:a.pairingTopic,namespaces:NL([...new Set(g)],[...new Set(y)]),transportType:o},s.addTrace(Lh.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(b,{transportType:o})}catch(x){throw s.setError(_1.subscribe_authenticated_session_topic_failure),x}s.addTrace(Lh.subscribe_authenticated_session_topic_success),await this.client.session.set(b,w),s.addTrace(Lh.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:a.pairingTopic,metadata:a.requester.metadata})}s.addTrace(Lh.publishing_authenticated_session_approve);try{await this.sendResult({topic:h,id:n,result:{cacaos:i,responder:{publicKey:u,metadata:this.client.metadata}},encodeOpts:f,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(a.requester.metadata,o)})}catch(x){throw s.setError(_1.authenticated_session_approve_publish_failure),x}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:a.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:w}}),Ke(this,"rejectSessionAuthenticate",async r=>{this.isInitialized();const{id:n,reason:i}=r,s=this.getPendingAuthRequest(n);if(!s)throw new Error(`Could not find pending auth request with id ${n}`);s.transportType===fn.relay&&await this.confirmOnlineStateOrThrow();const a=s.requester.publicKey,o=await this.client.core.crypto.generateKeyPair(),l=C3(a),u={type:yu,receiverPublicKey:a,senderPublicKey:o};await this.sendError({id:n,topic:l,error:i,encodeOpts:u,rpcOpts:Ui.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.deleteProposal(n)}),Ke(this,"formatAuthMessage",r=>{this.isInitialized();const{request:n,iss:i}=r;return kX(n,i)}),Ke(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)}),Ke(this,"cleanupDuplicatePairings",async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var a,o;return((a=s.peerMetadata)==null?void 0:a.url)&&((o=s.peerMetadata)==null?void 0:o.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}}),Ke(this,"deleteSession",async r=>{var n;const{topic:i,expirerHasDeleted:s=!1,emitEvent:a=!0,id:o=0}=r,{self:l}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,pn("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(l.publicKey)&&await this.client.core.crypto.deleteKeyPair(l.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem(kF).catch(u=>this.client.logger.warn(u)),this.getPendingSessionRequests().forEach(u=>{u.topic===i&&this.deletePendingSessionRequest(u.id,pn("USER_DISCONNECTED"))}),i===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=Ll.idle),a&&this.client.events.emit("session_delete",{id:o,topic:i})}),Ke(this,"deleteProposal",async(r,n)=>{if(n)try{const i=this.client.proposal.get(r),s=this.client.core.eventClient.getEvent({topic:i.pairingTopic});s==null||s.setError(E1.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,pn("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")}),Ke(this,"deletePendingSessionRequest",async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),i&&(this.sessionRequestQueue.state=Ll.idle,this.client.events.emit("session_request_expire",{id:r}))}),Ke(this,"deletePendingAuthRequest",async(r,n,i=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])}),Ke(this,"setExpiry",async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))}),Ke(this,"setProposal",async(r,n)=>{this.client.core.expirer.set(r,fi(Ui.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)}),Ke(this,"setAuthRequest",async(r,n)=>{const{request:i,pairingTopic:s,transportType:a=fn.relay}=n;this.client.core.expirer.set(r,i.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:r,pairingTopic:s,verifyContext:i.verifyContext,transportType:a})}),Ke(this,"setPendingSessionRequest",async r=>{const{id:n,topic:i,params:s,verifyContext:a}=r,o=s.request.expiryTimestamp||fi(Ui.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,o),await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:a})}),Ke(this,"sendRequest",async r=>{const{topic:n,method:i,params:s,expiry:a,relayRpcId:o,clientRpcId:l,throwOnFailedPublish:u,appLink:h,tvf:f,publishOpts:g={}}=r,y=ec(i,s,l);let b;const w=!!h;try{const S=w?Bd:Vs;b=await this.client.core.crypto.encode(n,y,{encoding:S})}catch(S){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),S}let x;if(cBe.includes(i)){const S=lo(JSON.stringify(y)),_=lo(b);x=await this.client.core.verify.register({id:_,decryptedId:S})}const E=Fr(Fr({},Ui[i].req),g);if(E.attestation=x,a&&(E.ttl=a),o&&(E.id=o),this.client.core.history.set(n,y),w){const S=Rv(h,n,b);await global.Linking.openURL(S,this.client.name)}else E.tvf=ss(Fr({},f),{correlationId:y.id}),u?(E.internal=ss(Fr({},E.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,b,E)):this.client.core.relayer.publish(n,b,E).catch(S=>this.client.logger.error(S));return y.id}),Ke(this,"sendProposeSession",async r=>{const{proposal:n,publishOpts:i}=r,s=ec("wc_sessionPropose",n,n.id);this.client.core.history.set(n.pairingTopic,s);const a=await this.client.core.crypto.encode(n.pairingTopic,s,{encoding:Vs}),o=lo(JSON.stringify(s)),l=lo(a),u=await this.client.core.verify.register({id:l,decryptedId:o});await this.client.core.relayer.publishCustom({payload:{pairingTopic:n.pairingTopic,sessionProposal:a},opts:ss(Fr({},i),{publishMethod:"wc_proposeSession",attestation:u})})}),Ke(this,"sendApproveSession",async r=>{const{sessionTopic:n,pairingProposalResponse:i,proposal:s,sessionSettleRequest:a,publishOpts:o}=r,l=K2(s.id,i),u=await this.client.core.crypto.encode(s.pairingTopic,l,{encoding:Vs}),h=ec("wc_sessionSettle",a,o==null?void 0:o.id),f=await this.client.core.crypto.encode(n,h,{encoding:Vs});this.client.core.history.set(n,h),await this.client.core.relayer.publishCustom({payload:{sessionTopic:n,pairingTopic:s.pairingTopic,sessionProposalResponse:u,sessionSettlementRequest:f},opts:ss(Fr({},o),{publishMethod:"wc_approveSession"})})}),Ke(this,"sendResult",async r=>{const{id:n,topic:i,result:s,throwOnFailedPublish:a,encodeOpts:o,appLink:l}=r,u=K2(n,s);let h;const f=l&&typeof(global==null?void 0:global.Linking)<"u";try{const b=f?Bd:Vs;h=await this.client.core.crypto.encode(i,u,ss(Fr({},o||{}),{encoding:b}))}catch(b){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),b}let g,y;try{g=await this.client.core.history.get(i,n);const b=g.request;try{y=this.getTVFParams(n,b.params,s)}catch(w){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${w==null?void 0:w.message}`)}}catch(b){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${n}) failed`),b}if(f){const b=Rv(l,i,h);await global.Linking.openURL(b,this.client.name)}else{const b=g.request.method,w=Ui[b].res;w.tvf=ss(Fr({},y),{correlationId:n}),a?(w.internal=ss(Fr({},w.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,h,w)):this.client.core.relayer.publish(i,h,w).catch(x=>this.client.logger.error(x))}await this.client.core.history.resolve(u)}),Ke(this,"sendError",async r=>{const{id:n,topic:i,error:s,encodeOpts:a,rpcOpts:o,appLink:l}=r,u=$4(n,s);let h;const f=l&&typeof(global==null?void 0:global.Linking)<"u";try{const y=f?Bd:Vs;h=await this.client.core.crypto.encode(i,u,ss(Fr({},a||{}),{encoding:y}))}catch(y){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),y}let g;try{g=await this.client.core.history.get(i,n)}catch(y){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),y}if(f){const y=Rv(l,i,h);await global.Linking.openURL(y,this.client.name)}else{const y=g.request.method,b=o||Ui[y].res;this.client.core.relayer.publish(i,h,b)}await this.client.core.history.resolve(u)}),Ke(this,"cleanup",async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;Id(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Id(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])}),Ke(this,"onProviderMessageEvent",async r=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(r):await this.onRelayMessage(r)}),Ke(this,"onRelayEventRequest",async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()}),Ke(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Ll.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Ll.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=Ll.idle}),Ke(this,"processRequest",async r=>{const{topic:n,payload:i,attestation:s,transportType:a,encryptedId:o}=r,l=i.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:l}))switch(l){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:i,attestation:s,encryptedId:o});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,i);case"wc_sessionPing":return await this.onSessionPingRequest(n,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:i,attestation:s,encryptedId:o,transportType:a});case"wc_sessionEvent":return await this.onSessionEventRequest(n,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:i,attestation:s,encryptedId:o,transportType:a});default:return this.client.logger.info(`Unsupported request method ${l}`)}}),Ke(this,"onRelayEventResponse",async r=>{const{topic:n,payload:i,transportType:s}=r,a=(await this.client.core.history.get(n,i.id)).request.method;switch(a){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${a}`)}}),Ke(this,"onRelayEventUnknownPayload",r=>{const{topic:n}=r,{message:i}=nt("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),Ke(this,"shouldIgnorePairingRequest",r=>{const{topic:n,requestMethod:i}=r,s=this.expectedPairingMethodMap.get(n);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),Ke(this,"onSessionProposeRequest",async r=>{const{topic:n,payload:i,attestation:s,encryptedId:a}=r,{params:o,id:l}=i;try{const u=this.client.core.eventClient.getEvent({topic:n});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),u==null||u.setError(eu.proposal_listener_not_found)),this.isValidConnect(Fr({},i.params));const h=o.expiryTimestamp||fi(Ui.wc_sessionPropose.req.ttl),f=Fr({id:l,pairingTopic:n,expiryTimestamp:h,attestation:s,encryptedId:a},o);await this.setProposal(l,f);const g=await this.getVerifyContext({attestationId:s,hash:lo(JSON.stringify(i)),encryptedId:a,metadata:f.proposer.metadata});u==null||u.addTrace(Vl.emit_session_proposal),this.client.events.emit("session_proposal",{id:l,params:f,verifyContext:g})}catch(u){await this.sendError({id:l,topic:n,error:u,rpcOpts:Ui.wc_sessionPropose.autoReject}),this.client.logger.error(u)}}),Ke(this,"onSessionProposeResponse",async(r,n,i)=>{const{id:s}=n;if(Yl(n)){const{result:a}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:a});const o=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:o});const l=o.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:l});const u=a.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:u});const h=await this.client.core.crypto.generateSharedKey(l,u);this.pendingSessions.set(s,{sessionTopic:h,pairingTopic:r,proposalId:s,publicKey:l});const f=await this.client.core.relayer.subscribe(h,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),await this.client.core.pairing.activate({topic:r})}else if(co(n)){await this.deleteProposal(s);const a=Lr("session_connect",s);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners, 954`);this.events.emit(a,{error:n.error})}}),Ke(this,"onSessionSettleRequest",async(r,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:a,controller:o,expiry:l,namespaces:u,sessionProperties:h,scopedProperties:f,sessionConfig:g}=n.params,y=[...this.pendingSessions.values()].find(x=>x.sessionTopic===r);if(!y)return this.client.logger.error(`Pending session not found for topic ${r}`);const b=this.client.proposal.get(y.proposalId),w=ss(Fr(Fr(Fr({topic:r,relay:a,expiry:l,namespaces:u,acknowledged:!0,pairingTopic:y.pairingTopic,requiredNamespaces:b.requiredNamespaces,optionalNamespaces:b.optionalNamespaces,controller:o.publicKey,self:{publicKey:y.publicKey,metadata:this.client.metadata},peer:{publicKey:o.publicKey,metadata:o.metadata}},h&&{sessionProperties:h}),f&&{scopedProperties:f}),g&&{sessionConfig:g}),{transportType:fn.relay});await this.client.session.set(w.topic,w),await this.setExpiry(w.topic,w.expiry),await this.client.core.pairing.updateMetadata({topic:y.pairingTopic,metadata:w.peer.metadata}),this.client.events.emit("session_connect",{session:w}),this.events.emit(Lr("session_connect",y.proposalId),{session:w}),this.pendingSessions.delete(y.proposalId),this.deleteProposal(y.proposalId,!1),this.cleanupDuplicatePairings(w),await this.sendResult({id:n.id,topic:r,result:!0})}catch(a){await this.sendError({id:i,topic:r,error:a}),this.client.logger.error(a)}}),Ke(this,"onSessionSettleResponse",async(r,n)=>{const{id:i}=n;Yl(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(Lr("session_approve",i),{})):co(n)&&(await this.client.session.delete(r,pn("USER_DISCONNECTED")),this.events.emit(Lr("session_approve",i),{error:n.error}))}),Ke(this,"onSessionUpdateRequest",async(r,n)=>{const{params:i,id:s}=n;try{const a=`${r}_session_update`,o=v1.get(a);if(o&&this.isRequestOutOfSync(o,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:r,error:pn("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Fr({topic:r},i));try{v1.set(a,s),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:r,result:!0})}catch(l){throw v1.delete(a),l}this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(a){await this.sendError({id:s,topic:r,error:a}),this.client.logger.error(a)}}),Ke(this,"isRequestOutOfSync",(r,n)=>n.toString().slice(0,-3)<r.toString().slice(0,-3)),Ke(this,"onSessionUpdateResponse",(r,n)=>{const{id:i}=n,s=Lr("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Yl(n)?this.events.emit(Lr("session_update",i),{}):co(n)&&this.events.emit(Lr("session_update",i),{error:n.error})}),Ke(this,"onSessionExtendRequest",async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,fi(u0)),await this.sendResult({id:i,topic:r,result:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),Ke(this,"onSessionExtendResponse",(r,n)=>{const{id:i}=n,s=Lr("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Yl(n)?this.events.emit(Lr("session_extend",i),{}):co(n)&&this.events.emit(Lr("session_extend",i),{error:n.error})}),Ke(this,"onSessionPingRequest",async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),Ke(this,"onSessionPingResponse",(r,n)=>{const{id:i}=n,s=Lr("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);Yl(n)?this.events.emit(Lr("session_ping",i),{}):co(n)&&this.events.emit(Lr("session_ping",i),{error:n.error})},500)}),Ke(this,"onSessionDeleteRequest",async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(Wn.publish,async()=>{s(await this.deleteSession({topic:r,id:i}))})}),this.sendResult({id:i,topic:r,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:pn("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),Ke(this,"onSessionRequest",async r=>{var n,i,s;const{topic:a,payload:o,attestation:l,encryptedId:u,transportType:h}=r,{id:f,params:g}=o;try{await this.isValidRequest(Fr({topic:a},g));const y=this.client.session.get(a),b=await this.getVerifyContext({attestationId:l,hash:lo(JSON.stringify(ec("wc_sessionRequest",g,f))),encryptedId:u,metadata:y.peer.metadata,transportType:h}),w={id:f,topic:a,params:g,verifyContext:b};await this.setPendingSessionRequest(w),h===fn.link_mode&&(n=y.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((i=y.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(w):(this.addSessionRequestToSessionRequestQueue(w),this.processSessionRequestQueue())}catch(y){await this.sendError({id:f,topic:a,error:y}),this.client.logger.error(y)}}),Ke(this,"onSessionRequestResponse",(r,n)=>{const{id:i}=n,s=Lr("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);Yl(n)?this.events.emit(Lr("session_request",i),{result:n.result}):co(n)&&this.events.emit(Lr("session_request",i),{error:n.error})}),Ke(this,"onSessionEventRequest",async(r,n)=>{const{id:i,params:s}=n;try{const a=`${r}_session_event_${s.event.name}`,o=v1.get(a);if(o&&this.isRequestOutOfSync(o,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(Fr({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s}),v1.set(a,i)}catch(a){await this.sendError({id:i,topic:r,error:a}),this.client.logger.error(a)}}),Ke(this,"onSessionAuthenticateResponse",(r,n)=>{const{id:i}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),Yl(n)?this.events.emit(Lr("session_request",i),{result:n.result}):co(n)&&this.events.emit(Lr("session_request",i),{error:n.error})}),Ke(this,"onSessionAuthenticateRequest",async r=>{var n;const{topic:i,payload:s,attestation:a,encryptedId:o,transportType:l}=r;try{const{requester:u,authPayload:h,expiryTimestamp:f}=s.params,g=await this.getVerifyContext({attestationId:a,hash:lo(JSON.stringify(s)),encryptedId:o,metadata:u.metadata,transportType:l}),y={requester:u,pairingTopic:i,id:s.id,authPayload:h,verifyContext:g,expiryTimestamp:f};await this.setAuthRequest(s.id,{request:y,pairingTopic:i,transportType:l}),l===fn.link_mode&&(n=u.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(u.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:g})}catch(u){this.client.logger.error(u);const h=s.params.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),g=this.getAppLinkIfEnabled(s.params.requester.metadata,l),y={type:yu,receiverPublicKey:h,senderPublicKey:f};await this.sendError({id:s.id,topic:i,error:u,encodeOpts:y,rpcOpts:Ui.wc_sessionAuthenticate.autoReject,appLink:g})}}),Ke(this,"addSessionRequestToSessionRequestQueue",r=>{this.sessionRequestQueue.queue.push(r)}),Ke(this,"cleanupAfterResponse",r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Ll.idle,this.processSessionRequestQueue()},it.toMiliseconds(this.requestQueueDelay))}),Ke(this,"cleanupPendingSentRequestsForTopic",({topic:r,error:n})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{const a=s.request.id,o=Lr("session_request",a);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners`);this.events.emit(Lr("session_request",s.request.id),{error:n})})}),Ke(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Ll.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}}),Ke(this,"emitSessionRequest",r=>{if(this.emittedSessionRequests.has(r.id)){this.client.logger.warn({id:r.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${r.id}`);return}this.sessionRequestQueue.state=Ll.active,this.emittedSessionRequests.add(r.id),this.client.events.emit("session_request",r)}),Ke(this,"onPairingCreated",r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:ec("wc_sessionPropose",ss(Fr({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties,scopedProperties:n.scopedProperties}),n.id),attestation:n.attestation,encryptedId:n.encryptedId})}),Ke(this,"isValidConnect",async r=>{if(!zs(r)){const{message:u}=nt("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(u)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:a,scopedProperties:o,relays:l}=r;if(gi(n)||await this.isValidPairingTopic(n),!dOe(l)){const{message:u}=nt("MISSING_OR_INVALID",`connect() relays: ${l}`);throw new Error(u)}if(!gi(i)&&uc(i)!==0){const u="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(u):this.client.logger.warn(u),this.validateNamespaces(i,"requiredNamespaces")}if(!gi(s)&&uc(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),gi(a)||this.validateSessionProps(a,"sessionProperties"),!gi(o)){this.validateSessionProps(o,"scopedProperties");const u=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(o).every(h=>u.includes(h.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(o)}, required/optional namespaces: ${JSON.stringify(u)}`)}}),Ke(this,"validateNamespaces",(r,n)=>{const i=uOe(r,"connect()",n);if(i)throw new Error(i.message)}),Ke(this,"isValidApprove",async r=>{if(!zs(r))throw new Error(nt("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:a,scopedProperties:o}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const l=this.client.proposal.get(n),u=zE(i,"approve()");if(u)throw new Error(u.message);const h=ML(l.requiredNamespaces,i,"approve()");if(h)throw new Error(h.message);if(!si(s,!0)){const{message:f}=nt("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(f)}if(gi(a)||this.validateSessionProps(a,"sessionProperties"),!gi(o)){this.validateSessionProps(o,"scopedProperties");const f=new Set(Object.keys(i));if(!Object.keys(o).every(g=>f.has(g.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(o)}, approved namespaces: ${Array.from(f).join(", ")}`)}}),Ke(this,"isValidReject",async r=>{if(!zs(r)){const{message:s}=nt("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:n,reason:i}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!fOe(i)){const{message:s}=nt("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),Ke(this,"isValidSessionSettleRequest",r=>{if(!zs(r)){const{message:u}=nt("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(u)}const{relay:n,controller:i,namespaces:s,expiry:a}=r;if(!iJ(n)){const{message:u}=nt("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(u)}const o=iOe(i,"onSessionSettleRequest()");if(o)throw new Error(o.message);const l=zE(s,"onSessionSettleRequest()");if(l)throw new Error(l.message);if(Id(a)){const{message:u}=nt("EXPIRED","onSessionSettleRequest()");throw new Error(u)}}),Ke(this,"isValidUpdate",async r=>{if(!zs(r)){const{message:l}=nt("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(l)}const{topic:n,namespaces:i}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const s=this.client.session.get(n),a=zE(i,"update()");if(a)throw new Error(a.message);const o=ML(s.requiredNamespaces,i,"update()");if(o)throw new Error(o.message)}),Ke(this,"isValidExtend",async r=>{if(!zs(r)){const{message:i}=nt("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)}),Ke(this,"isValidRequest",async r=>{if(!zs(r)){const{message:l}=nt("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(l)}const{topic:n,request:i,chainId:s,expiry:a}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!OL(o,s)){const{message:l}=nt("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(l)}if(!pOe(i)){const{message:l}=nt("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(l)}if(!yOe(o,s,i.method)){const{message:l}=nt("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(l)}if(a&&!xOe(a,JE)){const{message:l}=nt("MISSING_OR_INVALID",`request() expiry: ${a}. Expiry must be a number (in seconds) between ${JE.min} and ${JE.max}`);throw new Error(l)}}),Ke(this,"isValidRespond",async r=>{var n;if(!zs(r)){const{message:a}=nt("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(a)}const{topic:i,response:s}=r;try{await this.isValidSessionTopic(i)}catch(a){throw(n=r==null?void 0:r.response)!=null&&n.id&&this.cleanupAfterResponse(r),a}if(!gOe(s)){const{message:a}=nt("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(a)}}),Ke(this,"isValidPing",async r=>{if(!zs(r)){const{message:i}=nt("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),Ke(this,"isValidEmit",async r=>{if(!zs(r)){const{message:o}=nt("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(o)}const{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!OL(a,s)){const{message:o}=nt("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(o)}if(!mOe(i)){const{message:o}=nt("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(o)}if(!bOe(a,s,i.name)){const{message:o}=nt("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(o)}}),Ke(this,"isValidDisconnect",async r=>{if(!zs(r)){const{message:i}=nt("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),Ke(this,"isValidAuthenticate",r=>{const{chains:n,uri:i,domain:s,nonce:a}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!si(i,!1))throw new Error("uri is required parameter");if(!si(s,!1))throw new Error("domain is required parameter");if(!si(a,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(l=>yf(l).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:o}=yf(n[0]);if(o!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),Ke(this,"getVerifyContext",async r=>{const{attestationId:n,hash:i,encryptedId:s,metadata:a,transportType:o}=r,l={verified:{verifyUrl:a.verifyUrl||jy,validation:"UNKNOWN",origin:a.url||""}};try{if(o===fn.link_mode){const h=this.getAppLinkIfEnabled(a,o);return l.verified.validation=h&&new URL(h).origin===new URL(a.url).origin?"VALID":"INVALID",l}const u=await this.client.core.verify.resolve({attestationId:n,hash:i,encryptedId:s,verifyUrl:a.verifyUrl});u&&(l.verified.origin=u.origin,l.verified.isScam=u.isScam,l.verified.validation=u.origin===new URL(a.url).origin?"VALID":"INVALID")}catch(u){this.client.logger.warn(u)}return this.client.logger.debug(`Verify context: ${JSON.stringify(l)}`),l}),Ke(this,"validateSessionProps",(r,n)=>{Object.values(r).forEach((i,s)=>{if(i==null){const{message:a}=nt("MISSING_OR_INVALID",`${n} must contain an existing value for each key. Received: ${i} for key ${Object.keys(r)[s]}`);throw new Error(a)}})}),Ke(this,"getPendingAuthRequest",r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0}),Ke(this,"addToRecentlyDeleted",(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const a of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(a)}}}),Ke(this,"checkRecentlyDeleted",r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:i}=nt("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(i)}}),Ke(this,"isLinkModeEnabled",(r,n)=>{var i,s,a,o,l,u,h,f,g;return!r||n!==fn.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((o=(a=this.client.metadata)==null?void 0:a.redirect)==null?void 0:o.universal)!==void 0&&((u=(l=this.client.metadata)==null?void 0:l.redirect)==null?void 0:u.universal)!==""&&((h=r==null?void 0:r.redirect)==null?void 0:h.universal)!==void 0&&((f=r==null?void 0:r.redirect)==null?void 0:f.universal)!==""&&((g=r==null?void 0:r.redirect)==null?void 0:g.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),Ke(this,"getAppLinkIfEnabled",(r,n)=>{var i;return this.isLinkModeEnabled(r,n)?(i=r==null?void 0:r.redirect)==null?void 0:i.universal:void 0}),Ke(this,"handleLinkModeMessage",({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=GB(r,"topic")||"",i=decodeURIComponent(GB(r,"wc_ev")||""),s=this.client.session.keys.includes(n);s&&this.client.session.update(n,{transportType:fn.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:i,sessionExists:s})}),Ke(this,"registerLinkModeListeners",async()=>{var r;if(pT()||ah()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=global==null?void 0:global.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await n.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),Ke(this,"getTVFParams",(r,n,i)=>{var s,a,o;if(!((s=n.request)!=null&&s.method))return{};const l={correlationId:r,rpcMethods:[n.request.method],chainId:n.chainId};try{const u=this.extractTxHashesFromResult(n.request,i);l.txHashes=u,l.contractAddresses=this.isValidContractData(n.request.params)?[(o=(a=n.request.params)==null?void 0:a[0])==null?void 0:o.to]:[]}catch(u){this.client.logger.warn("Error getting TVF params",u)}return l}),Ke(this,"isValidContractData",r=>{var n;if(!r)return!1;try{const i=(r==null?void 0:r.data)||((n=r==null?void 0:r[0])==null?void 0:n.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),Ke(this,"extractTxHashesFromResult",(r,n)=>{var i;try{if(!n)return[];const s=r.method,a=oBe[s];if(s==="sui_signTransaction")return[qIe(n.transactionBytes)];if(s==="near_signTransaction")return[tL(n)];if(s==="near_signTransactions")return n.map(l=>tL(l));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=n.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[jOe({transaction:r.params.transactionPayload,signature:n.signature})];if(s==="algo_signTxn")return yo(n)?n.map(l=>rL(l)):[rL(n)];if(s==="cosmos_signDirect")return[VIe(n)];if(typeof n=="string")return[n];const o=n[a.key];if(yo(o))return s==="solana_signAllTransactions"?o.map(l=>WIe(l)):o;if(typeof o=="string")return[o]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,r=this.client.core.relayer.messages.getWithoutAck(e);for(const[n,i]of Object.entries(r))for(const s of i)try{await this.onProviderMessageEvent({topic:n,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=nt("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(Wn.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:r,message:n,attestation:i,transportType:s}=e,{publicKey:a}=this.client.auth.authKeys.keys.includes($3)?this.client.auth.authKeys.get($3):{publicKey:void 0};try{const o=await this.client.core.crypto.decode(r,n,{receiverPublicKey:a,encoding:s===fn.link_mode?Bd:Vs});IT(o)?(this.client.core.history.set(r,o),await this.onRelayEventRequest({topic:r,payload:o,attestation:i,transportType:s,encryptedId:lo(n)})):T4(o)?(await this.client.core.history.resolve(o),await this.onRelayEventResponse({topic:r,payload:o,transportType:s}),this.client.core.history.delete(r,o.id)):await this.onRelayEventUnknownPayload({topic:r,payload:o,transportType:s}),await this.client.core.relayer.messages.ack(r,n)}catch(o){this.client.logger.error(o)}}registerExpirerEvents(){this.client.core.expirer.on(ao.expired,async e=>{const{topic:r,id:n}=hX(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,nt("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,nt("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(Qh.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(Qh.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!si(e,!1)){const{message:r}=nt("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=nt("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(Id(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=nt("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!si(e,!1)){const{message:r}=nt("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:r}=nt("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(Id(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:r}=nt("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){const{message:r}=nt("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(si(e,!1)){const{message:r}=nt("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=nt("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!hOe(e)){const{message:r}=nt("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=nt("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(Id(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:r}=nt("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}},xBe=class extends sp{constructor(e,r){super(e,r,iBe,NT),this.core=e,this.logger=r}},EBe=class extends sp{constructor(e,r){super(e,r,sBe,NT),this.core=e,this.logger=r}},_Be=class extends sp{constructor(e,r){super(e,r,lBe,NT,n=>n.id),this.core=e,this.logger=r}},CBe=class extends sp{constructor(e,r){super(e,r,hBe,N4,()=>$3),this.core=e,this.logger=r}},ABe=class extends sp{constructor(e,r){super(e,r,fBe,N4),this.core=e,this.logger=r}},SBe=class extends sp{constructor(e,r){super(e,r,pBe,N4,n=>n.id),this.core=e,this.logger=r}};var kBe=Object.defineProperty,$Be=(t,e,r)=>e in t?kBe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,e_=(t,e,r)=>$Be(t,typeof e!="symbol"?e+"":e,r);let TBe=class{constructor(e,r){this.core=e,this.logger=r,e_(this,"authKeys"),e_(this,"pairingTopics"),e_(this,"requests"),this.authKeys=new CBe(this.core,this.logger),this.pairingTopics=new ABe(this.core,this.logger),this.requests=new SBe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}};var IBe=Object.defineProperty,NBe=(t,e,r)=>e in t?IBe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Cr=(t,e,r)=>NBe(t,typeof e!="symbol"?e+"":e,r);let PBe=class OJ extends YMe{constructor(e){super(e),Cr(this,"protocol",IJ),Cr(this,"version",NJ),Cr(this,"name",XE.name),Cr(this,"metadata"),Cr(this,"core"),Cr(this,"logger"),Cr(this,"events",new Ba.EventEmitter),Cr(this,"engine"),Cr(this,"session"),Cr(this,"proposal"),Cr(this,"pendingRequest"),Cr(this,"auth"),Cr(this,"signConfig"),Cr(this,"on",(n,i)=>this.events.on(n,i)),Cr(this,"once",(n,i)=>this.events.once(n,i)),Cr(this,"off",(n,i)=>this.events.off(n,i)),Cr(this,"removeListener",(n,i)=>this.events.removeListener(n,i)),Cr(this,"removeAllListeners",n=>this.events.removeAllListeners(n)),Cr(this,"connect",async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}}),Cr(this,"pair",async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}}),Cr(this,"approve",async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}}),Cr(this,"reject",async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}}),Cr(this,"update",async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}}),Cr(this,"extend",async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}}),Cr(this,"request",async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}}),Cr(this,"respond",async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}}),Cr(this,"ping",async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}}),Cr(this,"emit",async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}}),Cr(this,"disconnect",async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}}),Cr(this,"find",n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}}),Cr(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}}),Cr(this,"authenticate",async(n,i)=>{try{return await this.engine.authenticate(n,i)}catch(s){throw this.logger.error(s.message),s}}),Cr(this,"formatAuthMessage",n=>{try{return this.engine.formatAuthMessage(n)}catch(i){throw this.logger.error(i.message),i}}),Cr(this,"approveSessionAuthenticate",async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),Cr(this,"rejectSessionAuthenticate",async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),this.name=(e==null?void 0:e.name)||XE.name,this.metadata=RTe(e==null?void 0:e.metadata),this.signConfig=e==null?void 0:e.signConfig;const r=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Db(k4({level:(e==null?void 0:e.logger)||XE.logger}));this.core=(e==null?void 0:e.core)||new nBe(e),this.logger=Ns(r,this.name),this.session=new EBe(this.core,this.logger),this.proposal=new xBe(this.core,this.logger),this.pendingRequest=new _Be(this.core,this.logger),this.engine=new vBe(this),this.auth=new TBe(this.core,this.logger)}static async init(e){const r=new OJ(e);return await r.initialize(),r}get context(){return la(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var Dv={exports:{}},IF;function OBe(){return IF||(IF=1,function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof Zo<"u"&&Zo,n=function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s}();(function(s){(function(a){var o=typeof s<"u"&&s||typeof self<"u"&&self||typeof Zo<"u"&&Zo||{},l={searchParams:"URLSearchParams"in o,iterable:"Symbol"in o&&"iterator"in Symbol,blob:"FileReader"in o&&"Blob"in o&&function(){try{return new Blob,!0}catch{return!1}}(),formData:"FormData"in o,arrayBuffer:"ArrayBuffer"in o};function u(k){return k&&DataView.prototype.isPrototypeOf(k)}if(l.arrayBuffer)var h=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(k){return k&&h.indexOf(Object.prototype.toString.call(k))>-1};function g(k){if(typeof k!="string"&&(k=String(k)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(k)||k==="")throw new TypeError('Invalid character in header field name: "'+k+'"');return k.toLowerCase()}function y(k){return typeof k!="string"&&(k=String(k)),k}function b(k){var N={next:function(){var D=k.shift();return{done:D===void 0,value:D}}};return l.iterable&&(N[Symbol.iterator]=function(){return N}),N}function w(k){this.map={},k instanceof w?k.forEach(function(N,D){this.append(D,N)},this):Array.isArray(k)?k.forEach(function(N){if(N.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+N.length);this.append(N[0],N[1])},this):k&&Object.getOwnPropertyNames(k).forEach(function(N){this.append(N,k[N])},this)}w.prototype.append=function(k,N){k=g(k),N=y(N);var D=this.map[k];this.map[k]=D?D+", "+N:N},w.prototype.delete=function(k){delete this.map[g(k)]},w.prototype.get=function(k){return k=g(k),this.has(k)?this.map[k]:null},w.prototype.has=function(k){return this.map.hasOwnProperty(g(k))},w.prototype.set=function(k,N){this.map[g(k)]=y(N)},w.prototype.forEach=function(k,N){for(var D in this.map)this.map.hasOwnProperty(D)&&k.call(N,this.map[D],D,this)},w.prototype.keys=function(){var k=[];return this.forEach(function(N,D){k.push(D)}),b(k)},w.prototype.values=function(){var k=[];return this.forEach(function(N){k.push(N)}),b(k)},w.prototype.entries=function(){var k=[];return this.forEach(function(N,D){k.push([D,N])}),b(k)},l.iterable&&(w.prototype[Symbol.iterator]=w.prototype.entries);function x(k){if(!k._noBody){if(k.bodyUsed)return Promise.reject(new TypeError("Already read"));k.bodyUsed=!0}}function E(k){return new Promise(function(N,D){k.onload=function(){N(k.result)},k.onerror=function(){D(k.error)}})}function S(k){var N=new FileReader,D=E(N);return N.readAsArrayBuffer(k),D}function _(k){var N=new FileReader,D=E(N),P=/charset=([A-Za-z0-9_-]+)/.exec(k.type),R=P?P[1]:"utf-8";return N.readAsText(k,R),D}function I(k){for(var N=new Uint8Array(k),D=new Array(N.length),P=0;P<N.length;P++)D[P]=String.fromCharCode(N[P]);return D.join("")}function A(k){if(k.slice)return k.slice(0);var N=new Uint8Array(k.byteLength);return N.set(new Uint8Array(k)),N.buffer}function O(){return this.bodyUsed=!1,this._initBody=function(k){this.bodyUsed=this.bodyUsed,this._bodyInit=k,k?typeof k=="string"?this._bodyText=k:l.blob&&Blob.prototype.isPrototypeOf(k)?this._bodyBlob=k:l.formData&&FormData.prototype.isPrototypeOf(k)?this._bodyFormData=k:l.searchParams&&URLSearchParams.prototype.isPrototypeOf(k)?this._bodyText=k.toString():l.arrayBuffer&&l.blob&&u(k)?(this._bodyArrayBuffer=A(k.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):l.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(k)||f(k))?this._bodyArrayBuffer=A(k):this._bodyText=k=Object.prototype.toString.call(k):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof k=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):l.searchParams&&URLSearchParams.prototype.isPrototypeOf(k)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},l.blob&&(this.blob=function(){var k=x(this);if(k)return k;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var k=x(this);return k||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(l.blob)return this.blob().then(S);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var k=x(this);if(k)return k;if(this._bodyBlob)return _(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(I(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},l.formData&&(this.formData=function(){return this.text().then(z)}),this.json=function(){return this.text().then(JSON.parse)},this}var F=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function H(k){var N=k.toUpperCase();return F.indexOf(N)>-1?N:k}function L(k,N){if(!(this instanceof L))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');N=N||{};var D=N.body;if(k instanceof L){if(k.bodyUsed)throw new TypeError("Already read");this.url=k.url,this.credentials=k.credentials,N.headers||(this.headers=new w(k.headers)),this.method=k.method,this.mode=k.mode,this.signal=k.signal,!D&&k._bodyInit!=null&&(D=k._bodyInit,k.bodyUsed=!0)}else this.url=String(k);if(this.credentials=N.credentials||this.credentials||"same-origin",(N.headers||!this.headers)&&(this.headers=new w(N.headers)),this.method=H(N.method||this.method||"GET"),this.mode=N.mode||this.mode||null,this.signal=N.signal||this.signal||function(){if("AbortController"in o){var j=new AbortController;return j.signal}}(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&D)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(D),(this.method==="GET"||this.method==="HEAD")&&(N.cache==="no-store"||N.cache==="no-cache")){var P=/([?&])_=[^&]*/;if(P.test(this.url))this.url=this.url.replace(P,"$1_="+new Date().getTime());else{var R=/\?/;this.url+=(R.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}L.prototype.clone=function(){return new L(this,{body:this._bodyInit})};function z(k){var N=new FormData;return k.trim().split("&").forEach(function(D){if(D){var P=D.split("="),R=P.shift().replace(/\+/g," "),j=P.join("=").replace(/\+/g," ");N.append(decodeURIComponent(R),decodeURIComponent(j))}}),N}function V(k){var N=new w,D=k.replace(/\r?\n[\t ]+/g," ");return D.split("\r").map(function(P){return P.indexOf(`
`)===0?P.substr(1,P.length):P}).forEach(function(P){var R=P.split(":"),j=R.shift().trim();if(j){var W=R.join(":").trim();try{N.append(j,W)}catch(M){console.warn("Response "+M.message)}}}),N}O.call(L.prototype);function K(k,N){if(!(this instanceof K))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(N||(N={}),this.type="default",this.status=N.status===void 0?200:N.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=N.statusText===void 0?"":""+N.statusText,this.headers=new w(N.headers),this.url=N.url||"",this._initBody(k)}O.call(K.prototype),K.prototype.clone=function(){return new K(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new w(this.headers),url:this.url})},K.error=function(){var k=new K(null,{status:200,statusText:""});return k.ok=!1,k.status=0,k.type="error",k};var B=[301,302,303,307,308];K.redirect=function(k,N){if(B.indexOf(N)===-1)throw new RangeError("Invalid status code");return new K(null,{status:N,headers:{location:k}})},a.DOMException=o.DOMException;try{new a.DOMException}catch{a.DOMException=function(N,D){this.message=N,this.name=D;var P=Error(N);this.stack=P.stack},a.DOMException.prototype=Object.create(Error.prototype),a.DOMException.prototype.constructor=a.DOMException}function C(k,N){return new Promise(function(D,P){var R=new L(k,N);if(R.signal&&R.signal.aborted)return P(new a.DOMException("Aborted","AbortError"));var j=new XMLHttpRequest;function W(){j.abort()}j.onload=function(){var re={statusText:j.statusText,headers:V(j.getAllResponseHeaders()||"")};R.url.indexOf("file://")===0&&(j.status<200||j.status>599)?re.status=200:re.status=j.status,re.url="responseURL"in j?j.responseURL:re.headers.get("X-Request-URL");var q="response"in j?j.response:j.responseText;setTimeout(function(){D(new K(q,re))},0)},j.onerror=function(){setTimeout(function(){P(new TypeError("Network request failed"))},0)},j.ontimeout=function(){setTimeout(function(){P(new TypeError("Network request timed out"))},0)},j.onabort=function(){setTimeout(function(){P(new a.DOMException("Aborted","AbortError"))},0)};function M(re){try{return re===""&&o.location.href?o.location.href:re}catch{return re}}if(j.open(R.method,M(R.url),!0),R.credentials==="include"?j.withCredentials=!0:R.credentials==="omit"&&(j.withCredentials=!1),"responseType"in j&&(l.blob?j.responseType="blob":l.arrayBuffer&&(j.responseType="arraybuffer")),N&&typeof N.headers=="object"&&!(N.headers instanceof w||o.Headers&&N.headers instanceof o.Headers)){var G=[];Object.getOwnPropertyNames(N.headers).forEach(function(re){G.push(g(re)),j.setRequestHeader(re,y(N.headers[re]))}),R.headers.forEach(function(re,q){G.indexOf(q)===-1&&j.setRequestHeader(q,re)})}else R.headers.forEach(function(re,q){j.setRequestHeader(q,re)});R.signal&&(R.signal.addEventListener("abort",W),j.onreadystatechange=function(){j.readyState===4&&R.signal.removeEventListener("abort",W)}),j.send(typeof R._bodyInit>"u"?null:R._bodyInit)})}return C.polyfill=!0,o.fetch||(o.fetch=C,o.Headers=w,o.Request=L,o.Response=K),a.Headers=w,a.Request=L,a.Response=K,a.fetch=C,Object.defineProperty(a,"__esModule",{value:!0}),a})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=r.fetch?r:n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e}(Dv,Dv.exports)),Dv.exports}var MBe=OBe();const NF=ra(MBe);var RBe=Object.defineProperty,jBe=Object.defineProperties,DBe=Object.getOwnPropertyDescriptors,PF=Object.getOwnPropertySymbols,UBe=Object.prototype.hasOwnProperty,BBe=Object.prototype.propertyIsEnumerable,OF=(t,e,r)=>e in t?RBe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,MF=(t,e)=>{for(var r in e||(e={}))UBe.call(e,r)&&OF(t,r,e[r]);if(PF)for(var r of PF(e))BBe.call(e,r)&&OF(t,r,e[r]);return t},RF=(t,e)=>jBe(t,DBe(e));const LBe={Accept:"application/json","Content-Type":"application/json"},FBe="POST",jF={headers:LBe,method:FBe},DF=10;let xl=class{constructor(e,r=!1){if(this.url=e,this.disableProviderPing=r,this.events=new Ba.EventEmitter,this.isAvailable=!1,this.registering=!1,!JL(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const r=$u(e),n=await(await NF(this.url,RF(MF({},jF),{body:r}))).json();this.onPayload({data:n})}catch(r){this.onError(e.id,r)}}async register(e=this.url){if(!JL(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const r=$u({id:1,jsonrpc:"2.0",method:"test",params:[]});await NF(e,RF(MF({},jF),{body:r}))}this.onOpen()}catch(r){const n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?jf(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=$4(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return uJ(e,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>DF&&this.events.setMaxListeners(DF)}};const UF="error",zBe="wss://relay.walletconnect.org",WBe="wc",qBe="universal_provider",Uv=`${WBe}@2:${qBe}:`,MJ="https://rpc.walletconnect.org/v1/",RJ="generic",HBe=`${MJ}bundler`,Po={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function PT(t){return t==null||typeof t!="object"&&typeof t!="function"}function jJ(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function DJ(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const VBe="[object RegExp]",UJ="[object String]",BJ="[object Number]",LJ="[object Boolean]",FJ="[object Arguments]",GBe="[object Symbol]",KBe="[object Date]",YBe="[object Map]",ZBe="[object Set]",QBe="[object Array]",XBe="[object ArrayBuffer]",JBe="[object Object]",eLe="[object DataView]",tLe="[object Uint8Array]",rLe="[object Uint8ClampedArray]",nLe="[object Uint16Array]",iLe="[object Uint32Array]",sLe="[object Int8Array]",aLe="[object Int16Array]",oLe="[object Int32Array]",lLe="[object Float32Array]",cLe="[object Float64Array]";function OT(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function uLe(t,e){return U0(t,void 0,t,new Map,e)}function U0(t,e,r,n=new Map,i=void 0){const s=i==null?void 0:i(t,e,r,n);if(s!=null)return s;if(PT(t))return t;if(n.has(t))return n.get(t);if(Array.isArray(t)){const a=new Array(t.length);n.set(t,a);for(let o=0;o<t.length;o++)a[o]=U0(t[o],o,r,n,i);return Object.hasOwn(t,"index")&&(a.index=t.index),Object.hasOwn(t,"input")&&(a.input=t.input),a}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const a=new RegExp(t.source,t.flags);return a.lastIndex=t.lastIndex,a}if(t instanceof Map){const a=new Map;n.set(t,a);for(const[o,l]of t)a.set(o,U0(l,o,r,n,i));return a}if(t instanceof Set){const a=new Set;n.set(t,a);for(const o of t)a.add(U0(o,void 0,r,n,i));return a}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(OT(t)){const a=new(Object.getPrototypeOf(t)).constructor(t.length);n.set(t,a);for(let o=0;o<t.length;o++)a[o]=U0(t[o],o,r,n,i);return a}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const a=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return n.set(t,a),Xh(a,t,r,n,i),a}if(typeof File<"u"&&t instanceof File){const a=new File([t],t.name,{type:t.type});return n.set(t,a),Xh(a,t,r,n,i),a}if(t instanceof Blob){const a=new Blob([t],{type:t.type});return n.set(t,a),Xh(a,t,r,n,i),a}if(t instanceof Error){const a=new t.constructor;return n.set(t,a),a.message=t.message,a.name=t.name,a.stack=t.stack,a.cause=t.cause,Xh(a,t,r,n,i),a}if(typeof t=="object"&&dLe(t)){const a=Object.create(Object.getPrototypeOf(t));return n.set(t,a),Xh(a,t,r,n,i),a}return t}function Xh(t,e,r=t,n,i){const s=[...Object.keys(e),...jJ(e)];for(let a=0;a<s.length;a++){const o=s[a],l=Object.getOwnPropertyDescriptor(t,o);(l==null||l.writable)&&(t[o]=U0(e[o],o,r,n,i))}}function dLe(t){switch(DJ(t)){case FJ:case QBe:case XBe:case eLe:case LJ:case KBe:case lLe:case cLe:case sLe:case aLe:case oLe:case YBe:case BJ:case JBe:case VBe:case ZBe:case UJ:case GBe:case tLe:case rLe:case nLe:case iLe:return!0;default:return!1}}function hLe(t,e){return uLe(t,(r,n,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case BJ:case UJ:case LJ:{const a=new t.constructor(t==null?void 0:t.valueOf());return Xh(a,t),a}case FJ:{const a={};return Xh(a,t),a.length=t.length,a[Symbol.iterator]=t[Symbol.iterator],a}default:return}})}function BF(t){return hLe(t)}function LF(t){return t!==null&&typeof t=="object"&&DJ(t)==="[object Arguments]"}function FF(t){return typeof t=="object"&&t!==null}function fLe(){}function pLe(t){return OT(t)}function gLe(t){var r;if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const n=t[Symbol.toStringTag];return n==null||!((r=Object.getOwnPropertyDescriptor(t,Symbol.toStringTag))!=null&&r.writable)?!1:t.toString()===`[object ${n}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function mLe(t){if(PT(t))return t;if(Array.isArray(t)||OT(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),r=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new r(t);if(t instanceof RegExp){const n=new r(t);return n.lastIndex=t.lastIndex,n}if(t instanceof DataView)return new r(t.buffer.slice(0));if(t instanceof Error){const n=new r(t.message);return n.stack=t.stack,n.name=t.name,n.cause=t.cause,n}if(typeof File<"u"&&t instanceof File)return new r([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const n=Object.create(e);return Object.assign(n,t)}return t}function yLe(t,...e){const r=e.slice(0,-1),n=e[e.length-1];let i=t;for(let s=0;s<r.length;s++){const a=r[s];i=hS(i,a,n,new Map)}return i}function hS(t,e,r,n){if(PT(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(n.has(e))return mLe(n.get(e));if(n.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...jJ(e)];for(let s=0;s<i.length;s++){const a=i[s];let o=e[a],l=t[a];if(LF(o)&&(o={...o}),LF(l)&&(l={...l}),typeof Buffer<"u"&&Buffer.isBuffer(o)&&(o=BF(o)),Array.isArray(o))if(typeof l=="object"&&l!=null){const h=[],f=Reflect.ownKeys(l);for(let g=0;g<f.length;g++){const y=f[g];h[y]=l[y]}l=h}else l=[];const u=r(l,o,a,t,e,n);u!=null?t[a]=u:Array.isArray(o)||FF(l)&&FF(o)?t[a]=hS(l,o,r,n):l==null&&gLe(o)?t[a]=hS({},o,r,n):l==null&&pLe(o)?t[a]=BF(o):(l===void 0||o!==void 0)&&(t[a]=o)}return t}function bLe(t,...e){return yLe(t,...e,fLe)}var wLe=Object.defineProperty,vLe=Object.defineProperties,xLe=Object.getOwnPropertyDescriptors,zF=Object.getOwnPropertySymbols,ELe=Object.prototype.hasOwnProperty,_Le=Object.prototype.propertyIsEnumerable,WF=(t,e,r)=>e in t?wLe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Bv=(t,e)=>{for(var r in e||(e={}))ELe.call(e,r)&&WF(t,r,e[r]);if(zF)for(var r of zF(e))_Le.call(e,r)&&WF(t,r,e[r]);return t},CLe=(t,e)=>vLe(t,xLe(e));function ja(t,e,r){var n;const i=yf(t);return((n=e.rpcMap)==null?void 0:n[i.reference])||`${MJ}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function ap(t){return t.includes(":")?t.split(":")[1]:t}function zJ(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function ALe(t,e){const r=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!r.length)return[];const n=[];return r.forEach(i=>{const s=e.namespaces[i].accounts;n.push(...s)}),n}function qF(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>{var n,i;return((n=r==null?void 0:r.chains)==null?void 0:n.length)&&((i=r==null?void 0:r.chains)==null?void 0:i.length)>0}))}function Lv(t={},e={}){const r=qF(HF(t)),n=qF(HF(e));return bLe(r,n)}function HF(t){var e,r,n,i,s;const a={};if(!uc(t))return a;for(const[o,l]of Object.entries(t)){const u=S4(o)?[o]:l.chains,h=l.methods||[],f=l.events||[],g=l.rpcMap||{},y=D0(o);a[y]=CLe(Bv(Bv({},a[y]),l),{chains:cc(u,(e=a[y])==null?void 0:e.chains),methods:cc(h,(r=a[y])==null?void 0:r.methods),events:cc(f,(n=a[y])==null?void 0:n.events)}),(uc(g)||uc(((i=a[y])==null?void 0:i.rpcMap)||{}))&&(a[y].rpcMap=Bv(Bv({},g),(s=a[y])==null?void 0:s.rpcMap))}return a}function VF(t){return t.includes(":")?t.split(":")[2]:t}function GF(t){const e={};for(const[r,n]of Object.entries(t)){const i=n.methods||[],s=n.events||[],a=n.accounts||[],o=S4(r)?[r]:n.chains?n.chains:zJ(n.accounts);e[r]={chains:o,methods:i,events:s,accounts:a}}return e}function t_(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const WJ={},Rr=t=>WJ[t],r_=(t,e)=>{WJ[t]=e};var SLe=Object.defineProperty,KF=Object.getOwnPropertySymbols,kLe=Object.prototype.hasOwnProperty,$Le=Object.prototype.propertyIsEnumerable,YF=(t,e,r)=>e in t?SLe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ZF=(t,e)=>{for(var r in e||(e={}))kLe.call(e,r)&&YF(t,r,e[r]);if(KF)for(var r of KF(e))$Le.call(e,r)&&YF(t,r,e[r]);return t};const QF="eip155",TLe=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],ILe=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,n_=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,XF=t=>Object.keys(t).filter(e=>TLe.includes(e)).reduce((e,r)=>(e[r]=t[r],e),{}),NLe=(t,e,r)=>{const{sessionProperties:n={},scopedProperties:i={}}=t,s={};if(!uc(i)&&!uc(n))return;const a=XF(n);for(const o of r){const l=ILe(o);if(!l)continue;s[n_(l)]=a;const u=i==null?void 0:i[`${QF}:${l}`];if(u){const h=u==null?void 0:u[`${QF}:${l}:${e}`];s[n_(l)]=ZF(ZF({},s[n_(l)]),XF(h||u))}}for(const[o,l]of Object.entries(s))Object.keys(l).length===0&&delete s[o];return Object.keys(s).length>0?s:void 0};var PLe=Object.defineProperty,OLe=(t,e,r)=>e in t?PLe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,d0=(t,e,r)=>OLe(t,typeof e!="symbol"?e+"":e,r);class MLe{constructor(e){d0(this,"name","polkadot"),d0(this,"client"),d0(this,"httpProviders"),d0(this,"events"),d0(this,"namespace"),d0(this,"chainId"),this.namespace=e.namespace,this.events=Rr("events"),this.client=Rr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Po.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=ap(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||ja(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new No(new xl(n,Rr("disableProviderPing")))}}var RLe=Object.defineProperty,jLe=Object.defineProperties,DLe=Object.getOwnPropertyDescriptors,JF=Object.getOwnPropertySymbols,ULe=Object.prototype.hasOwnProperty,BLe=Object.prototype.propertyIsEnumerable,fS=(t,e,r)=>e in t?RLe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ez=(t,e)=>{for(var r in e||(e={}))ULe.call(e,r)&&fS(t,r,e[r]);if(JF)for(var r of JF(e))BLe.call(e,r)&&fS(t,r,e[r]);return t},tz=(t,e)=>jLe(t,DLe(e)),h0=(t,e,r)=>fS(t,typeof e!="symbol"?e+"":e,r);class LLe{constructor(e){h0(this,"name","eip155"),h0(this,"client"),h0(this,"chainId"),h0(this,"namespace"),h0(this,"httpProviders"),h0(this,"events"),this.namespace=e.namespace,this.events=Rr("events"),this.client=Rr("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(parseInt(e),r),this.chainId=parseInt(e),this.events.emit(Po.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,r){const n=r||ja(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new No(new xl(n,Rr("disableProviderPing")))}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=parseInt(ap(r));e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}async handleSwitchChain(e){var r,n;let i=e.request.params?(r=e.request.params[0])==null?void 0:r.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var r,n,i,s,a;const o=(n=(r=e.request)==null?void 0:r.params)==null?void 0:n[0],l=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!o)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const u=this.client.session.get(e.topic),h=((a=u==null?void 0:u.sessionProperties)==null?void 0:a.capabilities)||{},f=`${o}${l.join(",")}`,g=h==null?void 0:h[f];if(g)return g;let y;try{y=NLe(u,o,l)}catch(w){console.warn("Failed to extract capabilities from session",w)}if(y)return y;const b=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:tz(ez({},u.sessionProperties||{}),{capabilities:tz(ez({},h||{}),{[f]:b})})})}catch(w){console.warn("Failed to update session with capabilities",w)}return b}async getCallStatus(e){var r,n;const i=this.client.session.get(e.topic),s=(r=i.sessionProperties)==null?void 0:r.bundler_name;if(s){const o=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(o,e)}catch(l){console.warn("Failed to fetch call status from bundler",l,o)}}const a=(n=i.sessionProperties)==null?void 0:n.bundler_url;if(a)try{return await this.getUserOperationReceipt(a,e)}catch(o){console.warn("Failed to fetch call status from custom bundler",o,a)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,r){var n;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(ec("eth_getUserOperationReceipt",[(n=r.request.params)==null?void 0:n[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,r){return`${HBe}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${r}`}}var FLe=Object.defineProperty,zLe=(t,e,r)=>e in t?FLe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,f0=(t,e,r)=>zLe(t,typeof e!="symbol"?e+"":e,r);class WLe{constructor(e){f0(this,"name","solana"),f0(this,"client"),f0(this,"httpProviders"),f0(this,"events"),f0(this,"namespace"),f0(this,"chainId"),this.namespace=e.namespace,this.events=Rr("events"),this.client=Rr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Po.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=ap(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||ja(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new No(new xl(n,Rr("disableProviderPing")))}}var qLe=Object.defineProperty,HLe=(t,e,r)=>e in t?qLe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,p0=(t,e,r)=>HLe(t,typeof e!="symbol"?e+"":e,r);let VLe=class{constructor(e){p0(this,"name","cosmos"),p0(this,"client"),p0(this,"httpProviders"),p0(this,"events"),p0(this,"namespace"),p0(this,"chainId"),this.namespace=e.namespace,this.events=Rr("events"),this.client=Rr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Po.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=ap(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||ja(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new No(new xl(n,Rr("disableProviderPing")))}};var GLe=Object.defineProperty,KLe=(t,e,r)=>e in t?GLe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,g0=(t,e,r)=>KLe(t,typeof e!="symbol"?e+"":e,r);class YLe{constructor(e){g0(this,"name","algorand"),g0(this,"client"),g0(this,"httpProviders"),g0(this,"events"),g0(this,"namespace"),g0(this,"chainId"),this.namespace=e.namespace,this.events=Rr("events"),this.client=Rr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(!this.httpProviders[e]){const n=r||ja(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(Po.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||ja(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new No(new xl(n,Rr("disableProviderPing")))}}var ZLe=Object.defineProperty,QLe=(t,e,r)=>e in t?ZLe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,m0=(t,e,r)=>QLe(t,typeof e!="symbol"?e+"":e,r);let XLe=class{constructor(e){m0(this,"name","cip34"),m0(this,"client"),m0(this,"httpProviders"),m0(this,"events"),m0(this,"namespace"),m0(this,"chainId"),this.namespace=e.namespace,this.events=Rr("events"),this.client=Rr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Po.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{const n=this.getCardanoRPCUrl(r),i=ap(r);e[i]=this.createHttpProvider(i,n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}getCardanoRPCUrl(e){const r=this.namespace.rpcMap;if(r)return r[e]}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||this.getCardanoRPCUrl(e);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new No(new xl(n,Rr("disableProviderPing")))}};var JLe=Object.defineProperty,eFe=(t,e,r)=>e in t?JLe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,y0=(t,e,r)=>eFe(t,typeof e!="symbol"?e+"":e,r);let tFe=class{constructor(e){y0(this,"name","elrond"),y0(this,"client"),y0(this,"httpProviders"),y0(this,"events"),y0(this,"namespace"),y0(this,"chainId"),this.namespace=e.namespace,this.events=Rr("events"),this.client=Rr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Po.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=ap(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||ja(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new No(new xl(n,Rr("disableProviderPing")))}};var rFe=Object.defineProperty,nFe=(t,e,r)=>e in t?rFe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,b0=(t,e,r)=>nFe(t,typeof e!="symbol"?e+"":e,r);let iFe=class{constructor(e){b0(this,"name","multiversx"),b0(this,"client"),b0(this,"httpProviders"),b0(this,"events"),b0(this,"namespace"),b0(this,"chainId"),this.namespace=e.namespace,this.events=Rr("events"),this.client=Rr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Po.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=ap(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||ja(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new No(new xl(n,Rr("disableProviderPing")))}};var sFe=Object.defineProperty,aFe=(t,e,r)=>e in t?sFe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,w0=(t,e,r)=>aFe(t,typeof e!="symbol"?e+"":e,r);let oFe=class{constructor(e){w0(this,"name","near"),w0(this,"client"),w0(this,"httpProviders"),w0(this,"events"),w0(this,"namespace"),w0(this,"chainId"),this.namespace=e.namespace,this.events=Rr("events"),this.client=Rr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||ja(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(Po.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||ja(e,this.namespace);return typeof n>"u"?void 0:new No(new xl(n,Rr("disableProviderPing")))}};var lFe=Object.defineProperty,cFe=(t,e,r)=>e in t?lFe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,v0=(t,e,r)=>cFe(t,typeof e!="symbol"?e+"":e,r);let uFe=class{constructor(e){v0(this,"name","tezos"),v0(this,"client"),v0(this,"httpProviders"),v0(this,"events"),v0(this,"namespace"),v0(this,"chainId"),this.namespace=e.namespace,this.events=Rr("events"),this.client=Rr("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||ja(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(Po.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{e[r]=this.createHttpProvider(r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||ja(e,this.namespace);return typeof n>"u"?void 0:new No(new xl(n))}};var dFe=Object.defineProperty,hFe=(t,e,r)=>e in t?dFe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,x0=(t,e,r)=>hFe(t,typeof e!="symbol"?e+"":e,r);let fFe=class{constructor(e){x0(this,"name",RJ),x0(this,"client"),x0(this,"httpProviders"),x0(this,"events"),x0(this,"namespace"),x0(this,"chainId"),this.namespace=e.namespace,this.events=Rr("events"),this.client=Rr("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(Po.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return yf(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var e,r;const n={};return(r=(e=this.namespace)==null?void 0:e.accounts)==null||r.forEach(i=>{const s=yf(i);n[s.reference]=this.createHttpProvider(i)}),n}getHttpProvider(e){const r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||ja(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new No(new xl(n,Rr("disableProviderPing")))}};var pFe=Object.defineProperty,gFe=Object.defineProperties,mFe=Object.getOwnPropertyDescriptors,rz=Object.getOwnPropertySymbols,yFe=Object.prototype.hasOwnProperty,bFe=Object.prototype.propertyIsEnumerable,pS=(t,e,r)=>e in t?pFe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Fv=(t,e)=>{for(var r in e||(e={}))yFe.call(e,r)&&pS(t,r,e[r]);if(rz)for(var r of rz(e))bFe.call(e,r)&&pS(t,r,e[r]);return t},i_=(t,e)=>gFe(t,mFe(e)),to=(t,e,r)=>pS(t,typeof e!="symbol"?e+"":e,r);let wFe=class qJ{constructor(e){to(this,"client"),to(this,"namespaces"),to(this,"optionalNamespaces"),to(this,"sessionProperties"),to(this,"scopedProperties"),to(this,"events",new iT),to(this,"rpcProviders",{}),to(this,"session"),to(this,"providerOpts"),to(this,"logger"),to(this,"uri"),to(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof(e==null?void 0:e.logger)<"u"&&typeof(e==null?void 0:e.logger)!="string"?e.logger:Db(k4({level:(e==null?void 0:e.logger)||UF})),this.disableProviderPing=(e==null?void 0:e.disableProviderPing)||!1}static async init(e){const r=new qJ(e);return await r.initialize(),r}async request(e,r,n){const[i,s]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:Fv({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:n})}sendAsync(e,r,n,i){const s=new Date().getTime();this.request(e,n,i).then(a=>r(null,K2(s,a))).catch(a=>r(a,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:pn("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:n,response:i}=await this.client.authenticate(e,r);n&&(this.uri=n,this.events.emit("display_uri",n));const s=await i();if(this.session=s.session,this.session){const a=GF(this.session.namespaces);this.namespaces=Lv(this.namespaces,a),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}async pair(e){const{uri:r,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});r&&(this.uri=r,this.events.emit("display_uri",r));const i=await n();this.session=i;const s=GF(i.namespaces);return this.namespaces=Lv(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,r){try{if(!this.session)return;const[n,i]=this.validateChain(e);this.getProvider(n).setDefaultChain(i,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(!yo(r))return;for(const n of r)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}catch(r){this.logger.warn("Failed to cleanup pending pairings",r)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,r;if(this.client=this.providerOpts.client||await PBe.init({core:this.providerOpts.core,logger:this.providerOpts.logger||UF,relayUrl:this.providerOpts.relayUrl||zBe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(n){throw this.logger.error("Failed to get session",n),new Error(`The provided session: ${(r=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:r.topic} doesn't exist in the Sign client`)}else{const n=this.client.session.getAll();this.session=n[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(r=>D0(r)))];r_("client",this.client),r_("events",this.events),r_("disableProviderPing",this.disableProviderPing),e.forEach(r=>{if(!this.session)return;const n=ALe(r,this.session);if((n==null?void 0:n.length)===0)return;const i=zJ(n),s=Lv(this.namespaces,this.optionalNamespaces),a=i_(Fv({},s[r]),{accounts:n,chains:i});switch(r){case"eip155":this.rpcProviders[r]=new LLe({namespace:a});break;case"algorand":this.rpcProviders[r]=new YLe({namespace:a});break;case"solana":this.rpcProviders[r]=new WLe({namespace:a});break;case"cosmos":this.rpcProviders[r]=new VLe({namespace:a});break;case"polkadot":this.rpcProviders[r]=new MLe({namespace:a});break;case"cip34":this.rpcProviders[r]=new XLe({namespace:a});break;case"elrond":this.rpcProviders[r]=new tFe({namespace:a});break;case"multiversx":this.rpcProviders[r]=new iFe({namespace:a});break;case"near":this.rpcProviders[r]=new oFe({namespace:a});break;case"tezos":this.rpcProviders[r]=new uFe({namespace:a});break;default:this.rpcProviders[r]=new fFe({namespace:a})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var r;const{topic:n}=e;n===((r=this.session)==null?void 0:r.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var r;const{params:n,topic:i}=e;if(i!==((r=this.session)==null?void 0:r.topic))return;const{event:s}=n;if(s.name==="accountsChanged"){const a=s.data;a&&yo(a)&&this.events.emit("accountsChanged",a.map(VF))}else if(s.name==="chainChanged"){const a=n.chainId,o=n.event.data,l=D0(a),u=t_(a)!==t_(o)?`${l}:${t_(o)}`:a;this.onChainChanged(u)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:r})=>{var n,i;if(e!==((n=this.session)==null?void 0:n.topic))return;const{namespaces:s}=r,a=(i=this.client)==null?void 0:i.session.get(e);this.session=i_(Fv({},a),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:r})}),this.client.on("session_delete",async e=>{var r;e.topic===((r=this.session)==null?void 0:r.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",i_(Fv({},pn("USER_DISCONNECTED")),{data:e.topic})))}),this.on(Po.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[RJ]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var r;this.getProvider(e).updateNamespace((r=this.session)==null?void 0:r.namespaces[e])})}setNamespaces(e){const{namespaces:r={},optionalNamespaces:n={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=Lv(r,n),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[r,n]=(e==null?void 0:e.split(":"))||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,n];if(r&&!Object.keys(this.namespaces||{}).map(a=>D0(a)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];const i=D0(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,r=!1){if(!this.namespaces)return;const[n,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(n,i);const s=this.getProvider(n).getDefaultChain();r?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:n,previousChainId:s,newChainId:e})):this.getProvider(n).setDefaultChain(i),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:r,newChainId:n}){var i,s;try{if(r===n)return;const a=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!a)return;const o=a.filter(l=>l.includes(`${n}:`)).map(VF);if(!yo(o))return;this.events.emit("accountsChanged",o)}catch(a){this.logger.warn("Failed to emit accountsChanged on chain change",a)}}updateNamespaceChain(e,r){if(!this.namespaces)return;const n=this.namespaces[e]?e:`${e}:${r}`,i={chains:[],methods:[],events:[],defaultChain:r};this.namespaces[n]?this.namespaces[n]&&(this.namespaces[n].defaultChain=r):this.namespaces[n]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,r){var n;const i=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.setItem(`${Uv}/${e}${i}`,r)}async getFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";return await this.client.core.storage.getItem(`${Uv}/${e}${n}`)}async deleteFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.removeItem(`${Uv}/${e}${n}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const r=await this.client.core.storage.getKeys();for(const n of r)n.startsWith(Uv)&&await this.client.core.storage.removeItem(n)}catch(r){this.logger.warn("Failed to cleanup storage",r)}}};const vFe=wFe,xFe="wc",EFe="ethereum_provider",_Fe=`${xFe}@2:${EFe}:`,CFe="https://rpc.walletconnect.org/v1/",gS=["eth_sendTransaction","personal_sign"],HJ=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_sendCalls","wallet_getCapabilities","wallet_getCallsStatus","wallet_showCallsStatus"],mS=["chainChanged","accountsChanged"],VJ=["chainChanged","accountsChanged","message","disconnect","connect"],AFe=async()=>{const{createAppKit:t}=await ic(()=>import("./core-C4FMjA9c.js").then(e=>e.X),[],import.meta.url);return t};var SFe=Object.defineProperty,kFe=Object.defineProperties,$Fe=Object.getOwnPropertyDescriptors,nz=Object.getOwnPropertySymbols,TFe=Object.prototype.hasOwnProperty,IFe=Object.prototype.propertyIsEnumerable,yS=(t,e,r)=>e in t?SFe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Gh=(t,e)=>{for(var r in e||(e={}))TFe.call(e,r)&&yS(t,r,e[r]);if(nz)for(var r of nz(e))IFe.call(e,r)&&yS(t,r,e[r]);return t},S1=(t,e)=>kFe(t,$Fe(e)),ba=(t,e,r)=>yS(t,typeof e!="symbol"?e+"":e,r);function j5(t){return Number(t[0].split(":")[1])}function zv(t){return`0x${t.toString(16)}`}function NFe(t){const{chains:e,optionalChains:r,methods:n,optionalMethods:i,events:s,optionalEvents:a,rpcMap:o}=t;if(!yo(e))throw new Error("Invalid chains");const l={chains:e,methods:n||gS,events:s||mS,rpcMap:Gh({},e.length?{[j5(e)]:o[j5(e)]}:{})},u=s==null?void 0:s.filter(y=>!mS.includes(y)),h=n==null?void 0:n.filter(y=>!gS.includes(y));if(!r&&!a&&!i&&!(u!=null&&u.length)&&!(h!=null&&h.length))return{required:e.length?l:void 0};const f=(u==null?void 0:u.length)&&(h==null?void 0:h.length)||!r,g={chains:[...new Set(f?l.chains.concat(r||[]):r)],methods:[...new Set(l.methods.concat(i!=null&&i.length?i:HJ))],events:[...new Set(l.events.concat(a!=null&&a.length?a:VJ))],rpcMap:o};return{required:e.length?l:void 0,optional:r.length?g:void 0}}class MT{constructor(){ba(this,"events",new Ba.EventEmitter),ba(this,"namespace","eip155"),ba(this,"accounts",[]),ba(this,"signer"),ba(this,"chainId",1),ba(this,"modal"),ba(this,"rpc"),ba(this,"STORAGE_KEY",_Fe),ba(this,"on",(e,r)=>(this.events.on(e,r),this)),ba(this,"once",(e,r)=>(this.events.once(e,r),this)),ba(this,"removeListener",(e,r)=>(this.events.removeListener(e,r),this)),ba(this,"off",(e,r)=>(this.events.off(e,r),this)),ba(this,"parseAccount",e=>this.isCompatibleChainId(e)?this.parseAccountId(e).address:e),this.signer={},this.rpc={}}static async init(e){const r=new MT;return await r.initialize(e),r}async request(e,r){return await this.signer.request(e,this.formatChainId(this.chainId),r)}sendAsync(e,r,n){this.signer.sendAsync(e,r,this.formatChainId(this.chainId),n)}get connected(){return this.signer.client?this.signer.client.core.relayer.connected:!1}get connecting(){return this.signer.client?this.signer.client.core.relayer.connecting:!1}async enable(){return this.session||await this.connect(),await this.request({method:"eth_requestAccounts"})}async connect(e){var r;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts(e);const{required:n,optional:i}=NFe(this.rpc);try{const s=await new Promise(async(o,l)=>{var u,h;this.rpc.showQrModal&&((u=this.modal)==null||u.open(),(h=this.modal)==null||h.subscribeState(g=>{!g.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),l(new Error("Connection request reset. Please try again.")))}));const f=e!=null&&e.scopedProperties?{[this.namespace]:e.scopedProperties}:void 0;await this.signer.connect(S1(Gh({namespaces:Gh({},n&&{[this.namespace]:n})},i&&{optionalNamespaces:{[this.namespace]:i}}),{pairingTopic:e==null?void 0:e.pairingTopic,scopedProperties:f})).then(g=>{o(g)}).catch(g=>{var y;(y=this.modal)==null||y.showErrorMessage("Unable to connect"),l(new Error(g.message))})});if(!s)return;const a=zB(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:a),this.setAccounts(a),this.events.emit("connect",{chainId:zv(this.chainId)})}catch(s){throw this.signer.logger.error(s),s}finally{(r=this.modal)==null||r.close()}}async authenticate(e,r){var n;if(!this.signer.client)throw new Error("Provider not initialized. Call init() first");this.loadConnectOpts({chains:e==null?void 0:e.chains});try{const i=await new Promise(async(a,o)=>{var l,u;this.rpc.showQrModal&&((l=this.modal)==null||l.open(),(u=this.modal)==null||u.subscribeState(h=>{!h.open&&!this.signer.session&&(this.signer.abortPairingAttempt(),o(new Error("Connection request reset. Please try again.")))})),await this.signer.authenticate(S1(Gh({},e),{chains:this.rpc.chains}),r).then(h=>{a(h)}).catch(h=>{var f;(f=this.modal)==null||f.showErrorMessage("Unable to connect"),o(new Error(h.message))})}),s=i.session;if(s){const a=zB(s.namespaces,[this.namespace]);this.setChainIds(this.rpc.chains.length?this.rpc.chains:a),this.setAccounts(a),this.events.emit("connect",{chainId:zv(this.chainId)})}return i}catch(i){throw this.signer.logger.error(i),i}finally{(n=this.modal)==null||n.close()}}async disconnect(){this.session&&await this.signer.disconnect(),this.reset()}get isWalletConnect(){return!0}get session(){return this.signer.session}registerEventListeners(){this.signer.on("session_event",e=>{const{params:r}=e,{event:n}=r;n.name==="accountsChanged"?(this.accounts=this.parseAccounts(n.data),this.events.emit("accountsChanged",this.accounts)):n.name==="chainChanged"?this.setChainId(this.formatChainId(n.data)):this.events.emit(n.name,n.data),this.events.emit("session_event",e)}),this.signer.on("accountsChanged",e=>{this.accounts=this.parseAccounts(e),this.events.emit("accountsChanged",this.accounts)}),this.signer.on("chainChanged",e=>{const r=parseInt(e);this.chainId=r,this.events.emit("chainChanged",zv(this.chainId)),this.persist()}),this.signer.on("session_update",e=>{this.events.emit("session_update",e)}),this.signer.on("session_delete",e=>{this.reset(),this.events.emit("session_delete",e),this.events.emit("disconnect",S1(Gh({},pn("USER_DISCONNECTED")),{data:e.topic,name:"USER_DISCONNECTED"}))}),this.signer.on("display_uri",e=>{this.events.emit("display_uri",e)})}switchEthereumChain(e){this.request({method:"wallet_switchEthereumChain",params:[{chainId:e.toString(16)}]})}isCompatibleChainId(e){return typeof e=="string"?e.startsWith(`${this.namespace}:`):!1}formatChainId(e){return`${this.namespace}:${e}`}parseChainId(e){return Number(e.split(":")[1])}setChainIds(e){const r=e.filter(n=>this.isCompatibleChainId(n)).map(n=>this.parseChainId(n));r.length&&(this.chainId=r[0],this.events.emit("chainChanged",zv(this.chainId)),this.persist())}setChainId(e){if(this.isCompatibleChainId(e)){const r=this.parseChainId(e);this.chainId=r,this.switchEthereumChain(r)}}parseAccountId(e){const[r,n,i]=e.split(":");return{chainId:`${r}:${n}`,address:i}}setAccounts(e){this.accounts=e.filter(r=>this.parseChainId(this.parseAccountId(r).chainId)===this.chainId).map(r=>this.parseAccountId(r).address),this.events.emit("accountsChanged",this.accounts)}getRpcConfig(e){var r,n;const i=(r=e==null?void 0:e.chains)!=null?r:[],s=(n=e==null?void 0:e.optionalChains)!=null?n:[],a=i.concat(s);if(!a.length)throw new Error("No chains specified in either `chains` or `optionalChains`");const o=i.length?(e==null?void 0:e.methods)||gS:[],l=i.length?(e==null?void 0:e.events)||mS:[],u=(e==null?void 0:e.optionalMethods)||[],h=(e==null?void 0:e.optionalEvents)||[],f=(e==null?void 0:e.rpcMap)||this.buildRpcMap(a,e.projectId),g=(e==null?void 0:e.qrModalOptions)||void 0;return{chains:i==null?void 0:i.map(y=>this.formatChainId(y)),optionalChains:s.map(y=>this.formatChainId(y)),methods:o,events:l,optionalMethods:u,optionalEvents:h,rpcMap:f,showQrModal:!!(e!=null&&e.showQrModal),qrModalOptions:g,projectId:e.projectId,metadata:e.metadata}}buildRpcMap(e,r){const n={};return e.forEach(i=>{n[i]=this.getRpcUrl(i,r)}),n}async initialize(e){if(this.rpc=this.getRpcConfig(e),this.chainId=this.rpc.chains.length?j5(this.rpc.chains):j5(this.rpc.optionalChains),this.signer=await vFe.init({projectId:this.rpc.projectId,metadata:this.rpc.metadata,disableProviderPing:e.disableProviderPing,relayUrl:e.relayUrl,storage:e.storage,storageOptions:e.storageOptions,customStoragePrefix:e.customStoragePrefix,telemetryEnabled:e.telemetryEnabled,logger:e.logger}),this.registerEventListeners(),await this.loadPersistedSession(),this.rpc.showQrModal){let r;try{const n=await AFe(),{convertWCMToAppKitOptions:i}=await Promise.resolve().then(function(){return zFe}),s=i(S1(Gh({},this.rpc.qrModalOptions),{chains:[...new Set([...this.rpc.chains,...this.rpc.optionalChains])],metadata:this.rpc.metadata,projectId:this.rpc.projectId}));if(!s.networks.length)throw new Error("No networks found for WalletConnect");r=n(S1(Gh({},s),{universalProvider:this.signer,manualWCControl:!0}))}catch(n){throw console.warn(n),new Error("To use QR modal, please install @reown/appkit package")}if(r)try{this.modal=r}catch(n){throw this.signer.logger.error(n),new Error("Could not generate WalletConnectModal Instance")}}}loadConnectOpts(e){if(!e)return;const{chains:r,optionalChains:n,rpcMap:i}=e;r&&yo(r)&&(this.rpc.chains=r.map(s=>this.formatChainId(s)),r.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)})),n&&yo(n)&&(this.rpc.optionalChains=[],this.rpc.optionalChains=n==null?void 0:n.map(s=>this.formatChainId(s)),n.forEach(s=>{this.rpc.rpcMap[s]=(i==null?void 0:i[s])||this.getRpcUrl(s)}))}getRpcUrl(e,r){var n;return((n=this.rpc.rpcMap)==null?void 0:n[e])||`${CFe}?chainId=eip155:${e}&projectId=${r||this.rpc.projectId}`}async loadPersistedSession(){if(this.session)try{const e=await this.signer.client.core.storage.getItem(`${this.STORAGE_KEY}/chainId`),r=this.session.namespaces[`${this.namespace}:${e}`]?this.session.namespaces[`${this.namespace}:${e}`]:this.session.namespaces[this.namespace];this.setChainIds(e?[this.formatChainId(e)]:r==null?void 0:r.accounts),this.setAccounts(r==null?void 0:r.accounts)}catch(e){this.signer.logger.error("Failed to load persisted session, clearing state..."),this.signer.logger.error(e),await this.disconnect().catch(r=>this.signer.logger.warn(r))}}reset(){this.chainId=1,this.accounts=[]}persist(){this.session&&this.signer.client.core.storage.setItem(`${this.STORAGE_KEY}/chainId`,this.chainId)}parseAccounts(e){return typeof e=="string"||e instanceof String?[this.parseAccount(e)]:e.map(r=>this.parseAccount(r))}}const PFe=MT;var OFe=Object.defineProperty,MFe=Object.defineProperties,RFe=Object.getOwnPropertyDescriptors,iz=Object.getOwnPropertySymbols,jFe=Object.prototype.hasOwnProperty,DFe=Object.prototype.propertyIsEnumerable,sz=(t,e,r)=>e in t?OFe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,GJ=(t,e)=>{for(var r in e||(e={}))jFe.call(e,r)&&sz(t,r,e[r]);if(iz)for(var r of iz(e))DFe.call(e,r)&&sz(t,r,e[r]);return t},UFe=(t,e)=>MFe(t,RFe(e));function BFe(t){if(t)return{"--w3m-font-family":t["--wcm-font-family"],"--w3m-accent":t["--wcm-accent-color"],"--w3m-color-mix":t["--wcm-background-color"],"--w3m-z-index":t["--wcm-z-index"]?Number(t["--wcm-z-index"]):void 0,"--w3m-qr-color":t["--wcm-accent-color"],"--w3m-font-size-master":t["--wcm-text-medium-regular-size"],"--w3m-border-radius-master":t["--wcm-container-border-radius"],"--w3m-color-mix-strength":0}}const LFe=t=>{const[e,r]=t.split(":");return KJ({id:r,caipNetworkId:t,chainNamespace:e,name:"",nativeCurrency:{name:"",symbol:"",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}})};function FFe(t){var e,r,n,i,s,a,o;const l=(e=t.chains)==null?void 0:e.map(LFe).filter(Boolean);if(l.length===0)throw new Error("At least one chain must be specified");const u=l.find(f=>{var g;return f.id===((g=t.defaultChain)==null?void 0:g.id)}),h={projectId:t.projectId,networks:l,themeMode:t.themeMode,themeVariables:BFe(t.themeVariables),chainImages:t.chainImages,connectorImages:t.walletImages,defaultNetwork:u,metadata:UFe(GJ({},t.metadata),{name:((r=t.metadata)==null?void 0:r.name)||"WalletConnect",description:((n=t.metadata)==null?void 0:n.description)||"Connect to WalletConnect-compatible wallets",url:((i=t.metadata)==null?void 0:i.url)||"https://walletconnect.org",icons:((s=t.metadata)==null?void 0:s.icons)||["https://walletconnect.org/walletconnect-logo.png"]}),showWallets:!0,featuredWalletIds:t.explorerRecommendedWalletIds==="NONE"?[]:Array.isArray(t.explorerRecommendedWalletIds)?t.explorerRecommendedWalletIds:[],excludeWalletIds:t.explorerExcludedWalletIds==="ALL"?[]:Array.isArray(t.explorerExcludedWalletIds)?t.explorerExcludedWalletIds:[],enableEIP6963:!1,enableInjected:!1,enableCoinbase:!0,enableWalletConnect:!0,features:{email:!1,socials:!1}};if((a=t.mobileWallets)!=null&&a.length||(o=t.desktopWallets)!=null&&o.length){const f=[...(t.mobileWallets||[]).map(b=>({id:b.id,name:b.name,links:b.links})),...(t.desktopWallets||[]).map(b=>({id:b.id,name:b.name,links:{native:b.links.native,universal:b.links.universal}}))],g=[...h.featuredWalletIds||[],...h.excludeWalletIds||[]],y=f.filter(b=>!g.includes(b.id));y.length&&(h.customWallets=y)}return h}function KJ(t){return GJ({formatters:void 0,fees:void 0,serializers:void 0},t)}var zFe=Object.freeze({__proto__:null,convertWCMToAppKitOptions:FFe,defineChain:KJ});let YJ=class{get(e){let r=localStorage.getItem(e);return r===null?void 0:JSON.parse(r)}put(e,r){r!==void 0?localStorage.setItem(e,JSON.stringify(r)):this.del(e)}del(e){localStorage.removeItem(e)}getKeys(){return Object.entries(localStorage).map(([e])=>e)}};function bS(){try{let t="privy:__session_storage__test",e=new YJ;return e.put(t,"blobby"),e.del(t),!0}catch{return!1}}var Pt=typeof window<"u"&&window.localStorage?new YJ:new class{get(t){return this._cache[t]}put(t,e){e!==void 0?this._cache[t]=e:this.del(t)}del(t){delete this._cache[t]}getKeys(){return Object.keys(this._cache)}constructor(){this._cache={}}};function ZJ(t){var e;return{name:((e=t.metadata)==null?void 0:e.shortName)||t.name||"",universalLink:t.mobile.universal,deepLink:t.mobile.native}}function az(t,e){let r=ZJ(e);if(r.universalLink)return RT(r.universalLink,t)}let s_="WALLETCONNECT_DEEPLINK_CHOICE";function QJ(t){return t.startsWith("http://")||t.startsWith("https://")}function XJ(t,e){if(QJ(t))return RT(t,e);let r=t;return r.includes("://")||(r=t.replaceAll("/","").replaceAll(":",""),r=`${r}://`),r.endsWith("/")||(r=`${r}/`),{redirect:`${r}wc?uri=${encodeURIComponent(e)}`,href:r}}function RT(t,e){if(!QJ(t))return XJ(t,e);let r=t;return r.endsWith("/")||(r=`${r}/`),{redirect:`${r}wc?uri=${encodeURIComponent(e)}`,href:r}}function JJ(t,e){window.open(t,e,"noreferrer noopener")}let As=class{execute(e){return this.promise===null&&(this.promise=(async()=>{try{return await this.fn(e)}finally{this.promise=null}})()),this.promise}constructor(e){this.promise=null,this.fn=e}};const wS="https://auth.privy.io",WFe=2e4,yn=1400,eee=2500,jT=4e3,qFe="3.0.1",gy="privy:token",oz="privy-token",a_="privy:refresh_token",HFe="privy-refresh-token",T3="privy:pat",lz="privy:id_token",cz="privy-id-token",o_="privy-session",vS="privy:caid",tee=t=>`privy:guest:${t}`,Wv=t=>`privy:cross-app:${t}`,D5="privy:state_code",my="privy:code_verifier",U5="privy:headless_oauth",Uy="privy:oauth_disable_signup",l_=t=>`privy:wallet:${t}`,ree="privy:connections",P4=12e4,VFe=3e4,GFe="deprecated";function xS(t){return crypto.getRandomValues(new Uint8Array(t))}function O4(){return Tf(xS(36))}function DT(){return O4()}async function UT(t,e="S256"){if(e!="S256")return t;{let r=await async function(n){let i=new TextEncoder().encode(n);return new Uint8Array(await crypto.subtle.digest("SHA-256",i))}(t);return Tf(r)}}function KFe(){let t=Pt.get(my);if(!t)throw new ue("Authentication error.");return t}function nee(t){return t.charAt(0).toUpperCase()+t.slice(1)}const iee=({style:t,...e})=>p.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#040507"}),p.jsx("path",{d:"M17.2949 6.37537C18.0156 5.44684 19.4671 4.57877 20.4927 4.46512C20.8178 4.42885 20.8581 4.43127 20.9312 4.50139L20.9967 4.56426L20.9816 4.99225C20.9564 5.65963 20.8682 6.12873 20.6716 6.6341C20.4751 7.13705 20.1198 7.71738 19.8426 7.97852C19.7594 8.06074 19.6007 8.22516 19.4948 8.34848C19.0563 8.84901 18.439 9.20205 17.5973 9.4366C17.2823 9.52606 17.2596 9.52848 16.8917 9.52606C16.4482 9.52365 16.3852 9.51156 16.3524 9.43176C16.3398 9.39791 16.3272 9.18996 16.3222 8.9675L16.3171 8.56127L16.423 8.17922C16.6347 7.41512 16.8791 6.90733 17.2949 6.37537Z",fill:"white"}),p.jsx("path",{d:"M17.4512 10.2081C18.4163 9.84541 19.7595 9.48754 20.2584 9.46336C20.6616 9.4416 21.2966 9.49238 21.7225 9.57943C22.1383 9.66164 22.4357 9.76078 22.8666 9.96148C23.5571 10.2831 24.1442 10.7135 24.6104 11.2382C24.9582 11.6299 24.9783 11.6807 24.8397 11.8113C24.7944 11.8548 24.6885 11.9249 24.6054 11.9709C24.4542 12.0507 23.8368 12.5464 23.8368 12.5875C23.8368 12.5971 23.736 12.7108 23.6125 12.8341C23.2068 13.25 23.0279 13.5861 22.7683 14.4252C22.7078 14.6186 22.6448 14.8725 22.6272 14.9934C22.5566 15.4577 22.5919 16.125 22.7154 16.7344C22.7885 17.1044 23.0808 17.7306 23.3706 18.1489C23.7763 18.7317 24.3786 19.2491 24.9909 19.5514C25.316 19.7086 25.5 19.8464 25.5 19.9334C25.5 19.96 25.4773 20.0205 25.4521 20.064C25.4244 20.1075 25.3866 20.2164 25.3639 20.3034C25.311 20.521 25.001 21.244 24.807 21.5971C24.0862 22.9052 23.3731 23.8748 22.6095 24.5833C21.8611 25.2725 21.1606 25.582 20.4348 25.5385C19.9359 25.5094 19.4596 25.3934 18.7842 25.1322C18.2248 24.917 18.0081 24.8493 17.7939 24.8203C17.688 24.8058 17.4915 24.7768 17.3604 24.7574C16.9774 24.697 16.7254 24.6921 16.4533 24.7478C15.5461 24.9267 15.5133 24.9364 15.0144 25.1371C14.2231 25.4562 13.8073 25.5578 13.2907 25.5578C12.8875 25.5602 12.696 25.5143 12.2575 25.3087C11.8694 25.125 11.5948 24.9315 11.2546 24.5978C10.9295 24.2811 10.7052 24.0151 10.2642 23.4323C9.18818 22.0081 9.02187 21.7276 8.49519 20.4582C8.28612 19.9546 8.19971 19.7502 8.13026 19.5402C8.07498 19.373 8.03043 19.2023 7.94332 18.8744C7.73164 18.074 7.70896 17.9869 7.70896 17.8709C7.70896 17.8153 7.68628 17.675 7.66108 17.5565C7.44184 16.5917 7.44688 15.0007 7.67116 14.1713C7.82236 13.6127 8.02648 13.088 8.30367 12.5512C8.92863 11.3325 9.71738 10.5539 10.874 10.0123C11.2571 9.8309 11.5444 9.74627 12.0534 9.65922C12.2903 9.62054 12.5523 9.56976 12.6355 9.54799C12.8421 9.49238 13.3184 9.49963 13.6057 9.56008C14.2911 9.71 14.7548 9.84058 15.2059 10.0123C16.0551 10.3411 16.549 10.4789 16.7506 10.4475C16.7692 10.4444 16.7848 10.4418 16.8002 10.4387C16.8815 10.4225 16.9601 10.3929 17.4512 10.2081Z",fill:"white"})]}),see=({style:t,...e})=>p.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#5462EB"}),p.jsx("path",{d:"M23.5433 8.87438C22.2479 8.26174 20.8587 7.81038 19.4063 7.55187C19.3799 7.54688 19.3534 7.55934 19.3398 7.58428C19.1612 7.91179 18.9633 8.33905 18.8247 8.67487C17.2625 8.43382 15.7084 8.43382 14.1782 8.67487C14.0396 8.33158 13.8345 7.91179 13.6551 7.58428C13.6414 7.56018 13.615 7.54771 13.5886 7.55187C12.1369 7.80955 10.7478 8.26092 9.45159 8.87438C9.44037 8.87937 9.43075 8.88769 9.42437 8.89849C6.78947 12.9558 6.06766 16.9134 6.42176 20.8219C6.42336 20.841 6.43378 20.8593 6.4482 20.871C8.18663 22.1868 9.87059 22.9857 11.5233 23.5152C11.5497 23.5235 11.5778 23.5135 11.5946 23.491C11.9855 22.9408 12.334 22.3606 12.6328 21.7504C12.6505 21.7147 12.6336 21.6723 12.5976 21.6581C12.0448 21.442 11.5185 21.1785 11.0122 20.8793C10.9721 20.8552 10.9689 20.7961 11.0058 20.7679C11.1123 20.6856 11.2189 20.6 11.3206 20.5135C11.339 20.4977 11.3647 20.4944 11.3863 20.5044C14.7125 22.0696 18.3136 22.0696 21.6006 20.5044C21.6222 20.4936 21.6479 20.4969 21.6671 20.5127C21.7688 20.5991 21.8754 20.6856 21.9827 20.7679C22.0196 20.7961 22.0172 20.8552 21.9771 20.8793C21.4708 21.1843 20.9445 21.442 20.3909 21.6573C20.3548 21.6715 20.3388 21.7147 20.3564 21.7504C20.6617 22.3597 21.0101 22.9399 21.3939 23.4902C21.4099 23.5135 21.4387 23.5235 21.4652 23.5152C23.1259 22.9857 24.8099 22.1868 26.5483 20.871C26.5635 20.8593 26.5731 20.8419 26.5747 20.8228C26.9985 16.3041 25.8649 12.3789 23.5697 8.89931C23.5641 8.88769 23.5545 8.87937 23.5433 8.87438ZM13.1295 18.442C12.1281 18.442 11.303 17.4944 11.303 16.3307C11.303 15.1669 12.1121 14.2193 13.1295 14.2193C14.155 14.2193 14.9721 15.1752 14.9561 16.3307C14.9561 17.4944 14.1469 18.442 13.1295 18.442ZM19.883 18.442C18.8816 18.442 18.0564 17.4944 18.0564 16.3307C18.0564 15.1669 18.8655 14.2193 19.883 14.2193C20.9084 14.2193 21.7255 15.1752 21.7095 16.3307C21.7095 17.4944 20.9084 18.442 19.883 18.442Z",fill:"#F7F7F7"})]}),aee=({style:t,...e})=>p.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"24px",...t},...e,children:[p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),p.jsx("path",{"fill-rule":"evenodd","clip-rule":"evenodd",d:"M16.5083 5.62451C10.8896 5.62451 6.34741 10.2078 6.34741 15.878C6.34741 20.4104 9.25774 24.2471 13.2951 25.605C13.7999 25.7071 13.9848 25.3844 13.9848 25.1129C13.9848 24.8752 13.9682 24.0604 13.9682 23.2115C11.1417 23.8227 10.5531 21.9892 10.5531 21.9892C10.0988 20.8009 9.42579 20.4954 9.42579 20.4954C8.50068 19.8673 9.49318 19.8673 9.49318 19.8673C10.5194 19.9352 11.0578 20.9198 11.0578 20.9198C11.9661 22.4815 13.4297 22.0402 14.0185 21.7686C14.1025 21.1065 14.3719 20.6482 14.6579 20.3936C12.4035 20.1559 10.0317 19.2732 10.0317 15.3347C10.0317 14.2142 10.4351 13.2976 11.0745 12.5847C10.9736 12.3301 10.6202 11.2774 11.1756 9.86844C11.1756 9.86844 12.0335 9.59678 13.968 10.9209C14.7962 10.6965 15.6503 10.5823 16.5083 10.5814C17.3662 10.5814 18.2408 10.7003 19.0484 10.9209C20.9831 9.59678 21.841 9.86844 21.841 9.86844C22.3963 11.2774 22.0428 12.3301 21.9419 12.5847C22.5981 13.2976 22.9849 14.2142 22.9849 15.3347C22.9849 19.2732 20.6131 20.1388 18.3419 20.3936C18.7121 20.7161 19.0316 21.3271 19.0316 22.2948C19.0316 23.6698 19.0149 24.7733 19.0149 25.1127C19.0149 25.3844 19.2 25.7071 19.7046 25.6052C23.742 24.2469 26.6523 20.4104 26.6523 15.878C26.669 10.2078 22.1102 5.62451 16.5083 5.62451Z",fill:"white"})]}),oee=t=>p.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#F1F2F9"}),p.jsx("path",{d:"M26.1001 16.2273C26.1001 15.5182 26.0365 14.8364 25.9183 14.1818H16.5001V18.05H21.8819C21.6501 19.3 20.9456 20.3591 19.8865 21.0682V23.5773H23.1183C25.0092 21.8364 26.1001 19.2727 26.1001 16.2273Z",fill:"#4285F4"}),p.jsx("path",{d:"M16.5001 26C19.2001 26 21.4637 25.1046 23.1182 23.5773L19.8864 21.0682C18.991 21.6682 17.8455 22.0227 16.5001 22.0227C13.8955 22.0227 11.691 20.2637 10.9046 17.9H7.56372V20.4909C9.20917 23.7591 12.591 26 16.5001 26Z",fill:"#34A853"}),p.jsx("path",{d:"M10.9047 17.8999C10.7047 17.2999 10.591 16.659 10.591 15.9999C10.591 15.3408 10.7047 14.6999 10.9047 14.0999V11.509H7.56376C6.86376 12.9025 6.49951 14.4405 6.50012 15.9999C6.50012 17.6136 6.88649 19.1408 7.56376 20.4908L10.9047 17.8999Z",fill:"#FBBC05"}),p.jsx("path",{d:"M16.5001 9.97726C17.9682 9.97726 19.2864 10.4818 20.3228 11.4727L23.191 8.60454C21.4591 6.99091 19.1955 6 16.5001 6C12.591 6 9.20917 8.2409 7.56372 11.5091L10.9046 14.1C11.691 11.7364 13.8955 9.97726 16.5001 9.97726Z",fill:"#EA4335"})]});function lee(t){return p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",width:26,height:26,viewBox:"0 0 140 140",x:"0px",y:"0px",fill:"none",...t,children:[p.jsxs("defs",{children:[p.jsxs("linearGradient",{id:"b",children:[p.jsx("stop",{offset:"0",stopColor:"#3771c8"}),p.jsx("stop",{stopColor:"#3771c8",offset:".128"}),p.jsx("stop",{offset:"1",stopColor:"#60f",stopOpacity:"0"})]}),p.jsxs("linearGradient",{id:"a",children:[p.jsx("stop",{offset:"0",stopColor:"#fd5"}),p.jsx("stop",{offset:".1",stopColor:"#fd5"}),p.jsx("stop",{offset:".5",stopColor:"#ff543e"}),p.jsx("stop",{offset:"1",stopColor:"#c837ab"})]}),p.jsx("radialGradient",{id:"c",cx:"158.429",cy:"578.088",r:"65",xlinkHref:"#a",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(0 -1.98198 1.8439 0 -1031.402 454.004)",fx:"158.429",fy:"578.088"}),p.jsx("radialGradient",{id:"d",cx:"147.694",cy:"473.455",r:"65",xlinkHref:"#b",gradientUnits:"userSpaceOnUse",gradientTransform:"matrix(.17394 .86872 -3.5818 .71718 1648.348 -458.493)",fx:"147.694",fy:"473.455"})]}),p.jsx("path",{fill:"url(#c)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),p.jsx("path",{fill:"url(#d)",d:"M65.03 0C37.888 0 29.95.028 28.407.156c-5.57.463-9.036 1.34-12.812 3.22-2.91 1.445-5.205 3.12-7.47 5.468C4 13.126 1.5 18.394.595 24.656c-.44 3.04-.568 3.66-.594 19.188-.01 5.176 0 11.988 0 21.125 0 27.12.03 35.05.16 36.59.45 5.42 1.3 8.83 3.1 12.56 3.44 7.14 10.01 12.5 17.75 14.5 2.68.69 5.64 1.07 9.44 1.25 1.61.07 18.02.12 34.44.12 16.42 0 32.84-.02 34.41-.1 4.4-.207 6.955-.55 9.78-1.28 7.79-2.01 14.24-7.29 17.75-14.53 1.765-3.64 2.66-7.18 3.065-12.317.088-1.12.125-18.977.125-36.81 0-17.836-.04-35.66-.128-36.78-.41-5.22-1.305-8.73-3.127-12.44-1.495-3.037-3.155-5.305-5.565-7.624C116.9 4 111.64 1.5 105.372.596 102.335.157 101.73.027 86.19 0H65.03z",transform:"translate(1.004 1)"}),p.jsx("path",{fill:"#fff",d:"M66.004 18c-13.036 0-14.672.057-19.792.29-5.11.234-8.598 1.043-11.65 2.23-3.157 1.226-5.835 2.866-8.503 5.535-2.67 2.668-4.31 5.346-5.54 8.502-1.19 3.053-2 6.542-2.23 11.65C18.06 51.327 18 52.964 18 66s.058 14.667.29 19.787c.235 5.11 1.044 8.598 2.23 11.65 1.227 3.157 2.867 5.835 5.536 8.503 2.667 2.67 5.345 4.314 8.5 5.54 3.054 1.187 6.543 1.996 11.652 2.23 5.12.233 6.755.29 19.79.29 13.037 0 14.668-.057 19.788-.29 5.11-.234 8.602-1.043 11.656-2.23 3.156-1.226 5.83-2.87 8.497-5.54 2.67-2.668 4.31-5.346 5.54-8.502 1.18-3.053 1.99-6.542 2.23-11.65.23-5.12.29-6.752.29-19.788 0-13.036-.06-14.672-.29-19.792-.24-5.11-1.05-8.598-2.23-11.65-1.23-3.157-2.87-5.835-5.54-8.503-2.67-2.67-5.34-4.31-8.5-5.535-3.06-1.187-6.55-1.996-11.66-2.23-5.12-.233-6.75-.29-19.79-.29zm-4.306 8.65c1.278-.002 2.704 0 4.306 0 12.816 0 14.335.046 19.396.276 4.68.214 7.22.996 8.912 1.653 2.24.87 3.837 1.91 5.516 3.59 1.68 1.68 2.72 3.28 3.592 5.52.657 1.69 1.44 4.23 1.653 8.91.23 5.06.28 6.58.28 19.39s-.05 14.33-.28 19.39c-.214 4.68-.996 7.22-1.653 8.91-.87 2.24-1.912 3.835-3.592 5.514-1.68 1.68-3.275 2.72-5.516 3.59-1.69.66-4.232 1.44-8.912 1.654-5.06.23-6.58.28-19.396.28-12.817 0-14.336-.05-19.396-.28-4.68-.216-7.22-.998-8.913-1.655-2.24-.87-3.84-1.91-5.52-3.59-1.68-1.68-2.72-3.276-3.592-5.517-.657-1.69-1.44-4.23-1.653-8.91-.23-5.06-.276-6.58-.276-19.398s.046-14.33.276-19.39c.214-4.68.996-7.22 1.653-8.912.87-2.24 1.912-3.84 3.592-5.52 1.68-1.68 3.28-2.72 5.52-3.592 1.692-.66 4.233-1.44 8.913-1.655 4.428-.2 6.144-.26 15.09-.27zm29.928 7.97c-3.18 0-5.76 2.577-5.76 5.758 0 3.18 2.58 5.76 5.76 5.76 3.18 0 5.76-2.58 5.76-5.76 0-3.18-2.58-5.76-5.76-5.76zm-25.622 6.73c-13.613 0-24.65 11.037-24.65 24.65 0 13.613 11.037 24.645 24.65 24.645C79.617 90.645 90.65 79.613 90.65 66S79.616 41.35 66.003 41.35zm0 8.65c8.836 0 16 7.163 16 16 0 8.836-7.164 16-16 16-8.837 0-16-7.164-16-16 0-8.837 7.163-16 16-16z"})]})}function cee(t){return p.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",...t,children:[p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#06C755"}),p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"url(#pattern0_1769_69)"}),p.jsxs("defs",{children:[p.jsx("pattern",{id:"pattern0_1769_69",patternContentUnits:"objectBoundingBox",width:"1",height:"1",children:p.jsx("use",{xlinkHref:"#image0_1769_69",transform:"scale(0.003125)"})}),p.jsx("image",{id:"image0_1769_69",width:"320",height:"320",preserveAspectRatio:"none",xlinkHref:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAUAAAAFACAYAAADNkKWqAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAABpkSURBVHgB7d1fbFTXtcfxdWZs45h7g6lClajoetJIRKIqGKmhTSvF5qEvqUqIitM+XEIikYf+QWlVaF+IACVPBamN0ps8NFL5cx+qmioOVXsf+oCJ1Pg2VMKkKlKRSMZVqlalCiaSHf9hZvesMx5jm/k/58w5Z+/vR3KM8cSAPf55rbX32ccTx/Rf3tO/uNiXWygsDnri5UTMgOd5/UZMTozXX3qU/2vAOl4++K+Y4LUR8V97U5KRyUwxM93bOzc5vWNsWhziicU07GYXeoY9I0P+mzljZJBwA6rzv0emM55MGvEuajD29SyM2xyKVgWgBt7cXO+g8YpP+BXdsASBB6AtfiD63dK4ZzJvzj36i3GxSOoDUENvZq57T0Zkf9EPPM+TfgEQGX9kNFY05s31vYtjaa8OUxuAvRPfGDZSOEroAfHRMDSenF74/C/HJIVSFYDBTG+u53ljzHcJPSBR8hqGfpv8st8m5yUlUhGAWu0VTfF58cweAZB0pzKSPZ6GIEx0AJbbXH+5flgApE3igzCRAdj9+5HBTEZ+TPABVkhsECYqAIMV3fmeo54/4xMAtklcECYmANf9/9efLxaLx1jcAKyW9zu744uPjp6SBIg9AP05X86f8/2cdhdwSt6vBnfFXQ1mJEZa9RVM4TLhBzgnV5TC+z0TTx2VGMVSAVL1AVjmyWTGZJ+MoxrseAXY84ev7aHqA7DMyKBfDV7onhh5RjqsowHY8we/3C1m3mChA8AaOb8d/XmnW+KOtMC6veXjue43qPoA1KOX1N2zbuHZThy0EHkA6ryvKMULnMMHoAkdWSWOtAXWKzoIPwAt0FXiC1pASYQiqwA1/PyPfoF5H4CWeTLdnZFdMztHJyUCkQQg4QcgNBGGYOgBSPgBCF1EIRhqABJ+ACITQQiGFoA6rNQNzoQfgMiEHIKhrAKXt7oQfgAiZaR/sSBvhLU63HYA6iZntroA6KBgi4xmj7Sp7QCc/bjn54QfgA7L6dVl0qa2AjC4tpcbFQGIgV5a2+61wy0vgujJDXrxsgBAnDLFJxc+/6uW7kvcUgByfS+AxPBXhjMmu6OV64ZbaoGLXuENwg9AIvgrw3rAsrSg6QAM5n5GBgUAEkLngeve/nrTd5NsqgUutb6F9wUAkqaFVripCrA09wOABGqhFW44AEvn9TP3A5BczbbCDbXArPoCSA2/Fe5bt/hgI0fqN1QB+nO/o4QfgFTwW+GZj3sa2iBdtwJk4QNAGnVnZUe9U2PqVoCl6g8A0uV2QX5c7zE1K0CqPwBplhGza+7Rc+PV318D1R+ANDPi1cywqhUg1R8AG9SqAqtWgFR/AGxgvMzz1d5XsQKk+gNgk77exY2V9gVWrAAL3u2qiQkAaTM721Px6pCKAeiZDKc8A7BH1lQs6u4KwJ63v7aHqz4AWMVIf+/E3uG1v31XAHqZ7H4BAMtU2hKzehHkwp7+nt7umwIAtqlwSMKqCrC7t5vZHwA76SEJc6szblUAZjzvCQEAS/mBt3/N23cYwz1+AdjLeDLYf3lPf/nt5QDsnfjGsACAzfw2eG6ua/mmbssBWDAFqj8A1jPGW8665QD0l4OHBAAsZ1ZkXWkbDNtfADikfG1wUAH2rMsOCwA4YvbjnmF9XWqBveygAIAjPDHD+rpr6Y0hI0B7+rvWy4bsehlYtyl4CX4v2ycb/N9XuXWfbOjj5Of/Gby+dXtGpguzcqvgv749G7w9tXDD//WMAG3K6X+CADRGBhu7QzBcpgE30LNJtq3PBQGngVYOu3Lgdcq7s/kgFKfmbwSBWX679JqARG3Gk+362mMBBJUM+OH22L1bZbuGnR9625dCLw3KQXjFf3nroz/L1NyN4NfASroQ4ukG6KIULgicpZWdht1j935GtvflZJv/0t/VJzYph+JFPxDf+ugqlSKkO9u9o6toFvvFq3t7YFhEA09DbvcnHpEhP/j017bTQC+F/Nbl3ysF4lU5/+GloFKEWxYKi4NdpRVglkBspy3t7o2f80Nvp5UVXiu2LVW7B+9/PHhbK8OzN8aDUJxaWoiBvTzxcroIkhNYSVtarfD2bRpOzfwuTisrRK0O3/Qrw1/7L8wPLeWZAW/dxMgFv/4bFlhBK72nNw0ReiHSleZX/v4bOX/zj1SGFvGMvEkAWkBnevvuGwra25UzLoSv3Caf8V+QckYmvZ6Jp97nJkjppC2uLmTsu2+YmV6HaVWoCycvfnCOqjC98gRgCmmlp4N7qr1koCpMLQ3AEZaAU0DbXA2979z/Faq9hNKq8KUPRgnCFCEAE47gSx8WTdKDAEwogi/9NAhLrfFFgjChCMCEIfjsQ2ucXARggujevZMDzxB8liIIk4cATADdzvLC5hFWdR1xZSYvI9dO0hYnAAEYI213Twzsl6f9yg/u0fkg+wjjRQDGROd8RzY/RbvrONrieBGAHabX6r7+0Ldod7EK1WA8CMAOoupDLXpA6+Gp01SDHUQAdgBVH5pBNdg5BGDE9LCCn33621R9aIrOBg9cf5WTqiPGWfgROpl7Rka3HCb80DQ9y/F3W48G26MQHSrACGjLe+7hQ07cawPR0yrwwPXXaIkjQAUYMt3UrD+5CT+EpfycGmjwxvJoHAEYIl3lLT1ROYoe4dLn1LUdP12+gRPCQQCGRGc1OvMDoqTPMeaC4ekStEUvZzs5sD84yADohCN+AG7I9smhqdOC9hCAbdDwY96HOBx84CtBW/zce68FG6jRGlrgFulAmvBDnPTeMPoc1B/EaA0B2ALCD0mhz8F3PvsjVohbRAA2qRx+rPQiKcqbpgnB5hGATSD8kFTlEKQdbg4B2CDCD0lHCDaPAGyAPqH00jbCD0mnM8HRLYcEjSEAG/CzT3+LBQ+khl46p8evoT4CsA7dda9HWgFpohvzuWKkPgKwBn0CHeFJhJTS5y7XDtdGAFahbQThh7TTa4e3M76pigCsoHyEPWCD0YcPs0ewCgKwAra7wCb6XH79oW8K7kYArqEtA+EH2+hIR08twmoE4Aq6csbQGLbSE2Q0CHEHAbhEZyRsG4DtdLbNlSJ3EIBLjmzeS+sL6+lz/Min9gpKCEAptb5Pc6IzHEErfIfzAUjrCxfRCpc4H4C0vnARrXCJ0wGoBxzQ+sJV2gq7fpWI0wF47uHDArjsZM7tvYHOBqAufND6wnW6GOLygoizAcjCB1Di8nXvTgYg1R9wh34vuDoLdzIAqf6A1Vw9+s25AKT6A+7mahXoXABS/QGVuVgFOhWAVH9Adfq94dqKsFMBSPUH1PbCZreuDnEmAPUnG9UfUJtr+wKdCcB9m4YEQH0u3QbWiQDUE1+45hdozL77hpw5KcaJAHzs3q0CoDEafo/9pxvfM13igCRUf1PzN2q+P+75ZL2/n0rLDHX69ozcKszWfMyGbB/n4dVw8IHH5fzNS2I76wNQ2984K8Cp+X/Kl68ebygAdR9WHGF94PqrcvbGeN3H6fFhl7b9qOZjzvgf55W//7ZuAOnXJIprUPXzvfNPPwxCsJ7RLYdrzrvenc0HX7tGPlZU9DkRx+4F/VrrD4g4/+2dYH0LHHf7q2HQSHWlj3npg1HptLc+utpQ+CkNhDM1Hqvh85wfpvo4/XWtF/0zD02dlrAdyp9u+Jv2lX/8tub7v9/Ex4qKPiemb89Kp2n4fXWj/Ysh1gdg3O3vdKHzT964TM3/q6nHv/L33/gB/GcJUzOfbw3iWv5a5/2dMl2IJ4SHHJidWx2AwTCXBZBEG7l2sm4QIR5UgCm3zfHjvtNAW8wD118TJE+pgLB7U7TVAejShs400zb4xRjmn6jP9g7K6gB0/YYvaaLD/rDngWif7XNAawOQ+V/66HacOFY8UZ3tYyRrA5D5X/roVqCRaycEyaGFhM2dlMUBOCBIH22D6+3PQ2dtW58TW1kbgEMb3L3VX9odyp9iHrhEr2TKxXwJ4naLA9DaS+H6s1znmWY6D3znsyf8FqxP0kCDKuwj17T93HffsMRtoOc+sZW1AcgMMN10Hvjce6/K6JZDkgZ6LbetJ45vX/+g2MrKFlh/cqalckB15z98h3lgAmi423pyjpUBSPVnD90fqIcrIF79WTsLCmsrQNhBL5Xb+5cT7A+Mma1FhZUB+F8WD21dpPPAQ1OnBPHZQAucHlSA9tHzA5kHxocWOEW4/aWddB7I0VnxsLUCdOKeILCDzgP1iPok7g/UhRrduxgmrbr03hy6xzBucW/GjoqVAUgLbK/g1gF/G5WTA/slSTScG721QDP0xkRp2hCeNnbOALkKJBUOPvCVln5Y6VH6ZyIImyTSwI/rSHwXOHFfYCSTHlhx5FN7pRWHp04zD0TbCEDESqvAVm5cVdofeFKAdhCAiN0Jf57XyqBfFx6iuLUm3GFlAOZpjVJF54DnHm7t0AOdB57/8JIAraACRCLopVatruzqqTHMA6Nl6/2tCUAkhs4DW7kNI7fWjJ5+jm1kZQDq1gGkk57/18o8UE+QZh4YnVsEYHoQgOml88DXH/qmtELngTYenZWEfa20wECHaBvc6jzQplZNfxiczD2TiKtAbC0qrLwU7t3ZKUG66Tzw/M0/pubmSBrav9t6VGxFC5wirAja4fWHvpWIgwAgcsXSU7mtDEBtgzhBOP30WLNW54EIz5WZvNjK2hngXxeoAm2greXB+x8XxOeWpQsgytoAnLT4p5ZrdCGglf2BCIet7a+yNgBtLttdpPNAznmMx1u30rEQ1QprA5CVYLvoPPBnn2YeGAeb99VaeyR+WjfEhv1k25Dts6Zy2v2JncE8MIk3R9I5mY1fO91RYXMLbG0A6kqw7iFL0+xIv4G2XP62hE331CXtCPlW6TzwrY+uJu6b8srM+5F87Y5sHpEX/Je42D5KsvpKkCu0wQHbLhEbffiwM/NAvRNePsYW9Nc3/yg2szoAOSfuDpv2Reo80JaKNumoAFNMqx42RNtp36Zh9gdGzPb5n7I6AHUO+O7s+wI76Xxse19OEA2dtdrO+tNg3qQNtpbOAV2aB3bamRsXxXbWB+D//sv+L6LLdB7Y6q01UZ22v2k5iacd1gdgeTsM7KXbfJgHhsuF9lc5cSAqbbD9dB7I0VnhefGDUXGBEwGobTCrweFI6rytfGvNZv5+/V3/Ibibbn1x5bYSTgSgtsFn/zUucRi6d6vETSsjnZVVsq1voOHKScOl1qqrfqxmAmgo5Kt09NaazcwDd2/8XM33//emYYmbfm1yVb52UflpAi81jIrXMzFixAFxHlmu85SLMc0hNZB2b3ykagAq/Wl/5sZ42x9Hnf/wHXnlH/9X52P1yVf9j/V0RAGjn2/9oVfrHDv9dzzWwA+ns/7nJa4rMfRzvu++4Y7eE0QXP7Zc/o64wpkAVBqAnCsHVKeXTbp0e1Gn7grnwr4moB1JPGknSk4F4K9vXmIxBKhC233X7qntVADqXOiVf/xGANzNla0vKzl3Y3Rd4aIKBFZzsfpTzgUgVSCwmn5PuFj9KecCUFEFAnfowoeL1Z9yMgD1J96hqVMCuE73/b3kaPWnnAxApTMPDkmA61764Jy4zNkAVC86/sWH2/SWEfWuALKd0wGoFaDrTwC4izGQ4wGoDk+dZkEEztFVX1cXPlZyPgB1QeSlv7k7BIZ7XF/4WMn5AFR6ATgLInDFl68eF5QQgEsOXH+VVhjWo/VdjQBcok+K5957VQBb6aovre9qBOAKpcM83ToOCG7QuR+rvncjANd4KWgR/imATfb+5SStbwUE4Bq6KqxDYuaBsIXO/d6dzQvuRgBWwDwQttBLPpn7VUcAVqHzQFePCIIdSnM/d+7v0QoCsAb9ycmiCNJIw680ypkRVEcA1nEof4pN0kgVDT0WPRpDADZg5NpJhshIDZ1f83xtDAHYgNJP1BNsj0Hi6dxaNzyjMQRgg7Sd0JkKIYik0vBjxbc5BGATCEEklS7WEX7NIwCbRAgiabTl1cU6NI8AbAEhiKTQxQ427beOAGxROQRZbUNc9LnHXr/2EIBtKIcgq27oNDY6h4MAbJM+AUeuneCyOXQM4RceAjAkugJHCCJq5fDjKo9wEIAh0hBkcQRR0Znfzj/9kPALEQEYMr1umBBE2FjwiAYBGAH9Cb3l8nc4SQaheOujq4RfRAjACOnmVL3bHNUgWnXmxrgffscIv4gQgBE7GzyBj3OkFpqmi2rPXWeTc5QIwA4o7xdklRiN4mCDzvB6JkaMoGMG1m2Scw8flm19OQEq0dEJ8+POIABjsm/TsLywea8fiJ8UQJU21Z9kXNJBBGCMtBo8snlEnvbDEG5jg3M8CMAE2L4+J6NbDlENOkr3+JVOHCf8Oo1FkAS4MpMP9g2yZcY9Z5Z2CRB+8aACTCDmg25gpTd+BGBC6XxQg/DpTUMEoWV0sUNvWK57RBEvAjDhNAgfu/czVISW0BGH3rOXg3STgQBMEVrjdGOxI3kIwBTa/YmdcvD+x/3KcKsgHXRjMzcuSh4CMMXK+wiH/CCkKkwuruxILgLQEtoe7974iF8dPiJIBuZ9yUcAWqa8aKJXl9Aix0fP8Dtw/X+Y9yUcAWgxwjAe7O9LDwLQEf1d6+WrfousQcjMMBocZpA+BKCj9DguDUKtEDUUNSDROra4pBMBiIAGoh7KoGE46L/mvMLGscUlvQhAVKQVYRCKfQMy0PtJ/7WG4gCV4gra8j733qty/sNLgnQiANGUcjDq6/I80cVqkVVeOxCAaJuuNusexIMPPO7E4gotrz0IQITK5uuVdWPzgeuvscprEQIQodOK8OTAM1ZdlaJzPp33cX9eu3AiNEKnc7GRayesqJSCs/v8dlf/PYSffQhAREYP/Uwz3du3808/4CADixGAiIze6yStBwFo6D3y7g9Y5bVclwARmvRDME3bZFjocAsBiEilqYLSqk8PMWDW5w4CEJFKQwBS9bmLAITTqPrcRgDCSVzHC0UAIlK6KTpp2NSMMgIQkUrS6TFUfViLAESkklIBMutDJQQgItWfjbcCZIUXtRCAiFScm6Cp+lAPAYjIbF//oD8D7JNOo+pDowhARGZDtrPhp5VeueoDGkEAIjJ6D5FO4Yh6tIIARGSGNnxGoqZV3+Gp03LmxrgAzfID0MuLmJwAIYt6BZhFDrQpTwWIyES1Aqzt7ot+8LHIgXZ1iTHT4gkQqihWgLXS04qPE5oRBk8rQC/j5Y0xgwKEKOwVYNpdRKHLGLklQMjCWgFmdRdRMV5pBpgXIGS53vbuC6z3Evl+/jRzPkTHeFNdRkyeESDC1moLzLYWdIyRya6erEwuFgQI1a3CbFOPL1/F8VP/hTkfOiHjFae7ZmYW8z293QKESWd3B+9/vO7jCD7Epbf39mTQ/fZMPPU+m6ERtkvbflR1LyB7+RArT6YXvjC6MdgI7Xky6a8G5wQIkd5YfN+mYRm6t3RJ3HRhJgg+DT2qPcTJ8+d/+joIwGLRTHmshCACZ/3FjLMsaCBhjHgX9XVG/+NJcVwAwBVLFWAQgAvzhXEBAEf03bMwrq+DAJRdY9PlRAQAq/lZN73DzzwpB2Dwe3JRAMBy3oqsWw7ArGfGBAAs563IuuUAnJu7PemXgdMCABabe/TcePnXywGoc0DdDygAYCnPyJsr386sfKMocloAwFJ+kbdq1LcqABfnFsdogwHYqrd3sXoA0gYDsJW2v+XtL2WZux4k5rgAgGWMeKfW/l7FK4B73h656b+nXwDAAnoDpPlHRx9c+/uZyo/2XhYAsETR8yruc64YgAtzCz8RALBE1mQqFnWVK8BgMcTjyhAA6efJqblHf5Gv9K5M1f/HFGmDAaRexmSrLuxWDUC9XMQfHI4LAKRVjepPZWr/v2yJAZBetaq/4P213kkVCCC16lR/qmYAqmJRvicAkDL1qr/gMfUesPil0UnDggiANGmg+lN1A1AtzheOcUgCgDTQqz4aqf5UQwEY7AvMsCACIPn8ADzeSPW39NjGrZsYuWBEhgUAEqjaNb/VNFYBLn/w7LO0wgCSys+oXc08vqkA1LKSVhhAIhVNw61vWVMtcBmtMIAk0YOc578wukOa1FQFuPyH0QoDSAid+3km+6S0oKUALJWZxWcFAGLWzKrvWi0FoFr44q/GhGuFAcQpmPuNnpIWtTQDXIl5IIBYeN7Ywhd+2VLrW9ZyBVg2P7f4pCdeXgCgQ3Tu17duoe0xXNsBGFwlIpldhCCATggWPSS7a+0tLlv8WOHo/v3IoL8UfYG7yQGIjJHpjJfd0eqix1rtV4BLSqfGyC62xwCIhJ8tmjFhhZ8KrQIsoxIEELql8NNCS0IUegAqQhBAaCIKPxVJACpCEEDbIgw/FdoMcC39C+uwktVhAK3Q1d4ow2/pz4hW78Q3ckaKF4yYnABAA8pbXcJc8KgksgqwTP8B83MLO8R4YwIAdeidKO/pXdwRdfgt/Vmd0zOx95j/Rx4VAKikaI4vfOncMemQjgag6p0Yecb4IUhLDGCZv9jRlS0+O/v5X3W0U+x4ACqdCxZN4Q3/Tx8UAE7TllfPGO1Ey7tWLAFYRksMOMyv+jwxx+e/eO4nEpNYA1CxSgy4J86qb83fIxmYDQIOSEDVt1JiAlAFs0G5fcz/a+0XAFbxTPHle+4pHAvjGKuwJCoAywhCwB7a7haL8r0or+hoVSIDsIwgBNKrNOfTe3acG5eESnQAlhGEQHp4njem7W6Sg68sFQFYpkFYMIvfzXjZJ1gsARJED0L2zMt9vbd/kqQZXz2pCsCVet7+2h6R7H7/k75HAHSeruh6Mpn0NreW1AZgWf/lPf1zc917isZ7gjAEIrYUekWR0+t7F8fSVO1VkvoAXKt3Yu+w8bw9pihDXGoHhMD4VV5GLnrGjPX23p5Me+itZF0ArqTV4ezH2WHxsoN+mT5kjB+InFAN1ODlS4FnpkyxON53T2HcpsBby+oArKTUMncNFo3p12D0f7wN+J+EnL7PiJcrPYoFFtho6XR2Y6aDX3vB6yl/QTEvRZlc37eYtznsKvk3kqxyUwkTXfIAAAAASUVORK5CYII="})]})]})}function uee(t){return p.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsxs("g",{"clip-path":"url(#clip0_1715_1956)",children:[p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#0977B6"}),p.jsx("path",{d:"M9.46878 6.82104C10.6699 6.82104 11.6461 7.79742 11.6461 8.999C11.6461 10.2017 10.6699 11.1782 9.46878 11.1782C8.26447 11.1782 7.28967 10.2017 7.28967 8.999C7.28967 7.79742 8.26447 6.82104 9.46878 6.82104ZM7.58908 12.8309H11.3467V24.9207H7.58908V12.8309Z",fill:"white"}),p.jsx("path",{d:"M13.7032 12.8309H17.3076V14.4827H17.3576C17.8589 13.5322 19.0846 12.53 20.9127 12.53C24.7175 12.53 25.42 15.0341 25.42 18.2891V24.9207H21.6651V19.0415C21.6651 17.6388 21.6394 15.8355 19.7126 15.8355C17.7573 15.8355 17.4579 17.363 17.4579 18.9399V24.9207H13.7032L13.7032 12.8309Z",fill:"white"})]}),p.jsx("defs",{children:p.jsx("clipPath",{id:"clip0_1715_1956",children:p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"white"})})})]})}function dee(t){return p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 496 512",...t,children:[p.jsx("path",{fill:"#1ed760",d:"M248 8C111.1 8 0 119.1 0 256s111.1 248 248 248 248-111.1 248-248S384.9 8 248 8Z"}),p.jsx("path",{d:"M406.6 231.1c-5.2 0-8.4-1.3-12.9-3.9-71.2-42.5-198.5-52.7-280.9-29.7-3.6 1-8.1 2.6-12.9 2.6-13.2 0-23.3-10.3-23.3-23.6 0-13.6 8.4-21.3 17.4-23.9 35.2-10.3 74.6-15.2 117.5-15.2 73 0 149.5 15.2 205.4 47.8 7.8 4.5 12.9 10.7 12.9 22.6 0 13.6-11 23.3-23.2 23.3zm-31 76.2c-5.2 0-8.7-2.3-12.3-4.2-62.5-37-155.7-51.9-238.6-29.4-4.8 1.3-7.4 2.6-11.9 2.6-10.7 0-19.4-8.7-19.4-19.4s5.2-17.8 15.5-20.7c27.8-7.8 56.2-13.6 97.8-13.6 64.9 0 127.6 16.1 177 45.5 8.1 4.8 11.3 11 11.3 19.7-.1 10.8-8.5 19.5-19.4 19.5zm-26.9 65.6c-4.2 0-6.8-1.3-10.7-3.6-62.4-37.6-135-39.2-206.7-24.5-3.9 1-9 2.6-11.9 2.6-9.7 0-15.8-7.7-15.8-15.8 0-10.3 6.1-15.2 13.6-16.8 81.9-18.1 165.6-16.5 237 26.2 6.1 3.9 9.7 7.4 9.7 16.5s-7.1 15.4-15.2 15.4z"})]})}function hee(t){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg","shape-rendering":"geometricPrecision","text-rendering":"geometricPrecision","image-rendering":"optimizeQuality","fill-rule":"evenodd","clip-rule":"evenodd",viewBox:"0 0 1000 1000",...t,children:p.jsx("path",{d:"M906.25 0H93.75C42.19 0 0 42.19 0 93.75v812.49c0 51.57 42.19 93.75 93.75 93.75l812.5.01c51.56 0 93.75-42.19 93.75-93.75V93.75C1000 42.19 957.81 0 906.25 0zM684.02 319.72c-32.42-21.13-55.81-54.96-63.11-94.38-1.57-8.51-2.45-17.28-2.45-26.25H515l-.17 414.65c-1.74 46.43-39.96 83.7-86.8 83.7-14.57 0-28.27-3.63-40.35-9.99-27.68-14.57-46.63-43.58-46.63-76.97 0-47.96 39.02-86.98 86.97-86.98 8.95 0 17.54 1.48 25.66 4.01V421.89c-8.41-1.15-16.95-1.86-25.66-1.86-105.01 0-190.43 85.43-190.43 190.45 0 64.42 32.18 121.44 81.3 155.92 30.93 21.72 68.57 34.51 109.14 34.51 105.01 0 190.43-85.43 190.43-190.43V400.21c40.58 29.12 90.3 46.28 143.95 46.28V343.03c-28.89 0-55.8-8.59-78.39-23.31z"})})}const fee=t=>p.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"black"}),p.jsx("path",{d:"M8.53901 8L14.7164 16.2153L8.5 22.8947H9.89907L15.3415 17.0468L19.7389 22.8947H24.5L17.975 14.2173L23.7612 8H22.3621L17.3499 13.3858L13.3001 8H8.53901ZM10.5964 9.02501H12.7837L22.4422 21.8695H20.255L10.5964 9.02501Z",fill:"#F7F7F7"})]});function ES(){let t=new URL(window.location.href);t.searchParams.delete("privy_oauth_code"),t.searchParams.delete("privy_oauth_provider"),t.searchParams.delete("privy_oauth_state"),Pt.del(D5),window.history.replaceState({},"",t)}const _S=({address:t,chainId:e,nonce:r})=>`${window.location.host} wants you to sign in with your Ethereum account:
${t}

By signing, you are proving you own this wallet and logging in. This does not initiate a transaction or cost any fees.

URI: ${window.location.origin}
Version: 1
Chain ID: ${e}
Nonce: ${r}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class eg{get meta(){var e,r,n,i;return{connectorType:(e=this.wallet)==null?void 0:e.connectorType,walletClientType:(r=this.wallet)==null?void 0:r.walletClientType,chainId:(n=this.wallet)==null?void 0:n.chainId,address:(i=this.wallet)==null?void 0:i.address,disableSignup:this._meta.disableSignup}}async authenticate(){var e,r,n;if(!this.client)throw new ue("SiweFlow has no client instance");try{if(this.preparedMessage&&this.signature)return await this.client.authenticateWithSiweInternal({message:this.preparedMessage,signature:this.signature,chainId:(e=this.wallet)==null?void 0:e.chainId,walletClientType:(r=this.wallet)==null?void 0:r.walletClientType,connectorType:(n=this.wallet)==null?void 0:n.connectorType,mode:this._meta.disableSignup?"no-signup":"login-or-sign-up"});if(!this.wallet)throw new ue("SiweFlow has no wallet instance");let{message:i,signature:s}=await this.sign();return await this.client.authenticateWithSiweInternal({message:i,signature:s,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(i){throw br(i)}}async link(){if(!this.client)throw new ue("SiweFlow has no client instance");try{if(!this.wallet)throw new ue("SiweFlow has no wallet instance");let{message:e,signature:r}=await this.sign();return await this.client.linkWithSiweInternal({message:e,signature:r,chainId:this.wallet.chainId,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType})}catch(e){throw br(e)}}async sign(){if(!this.client)throw new ue("SiweFlow has no client instance");if(await this.buildMessage(),!this.preparedMessage)throw new ue("Could not prepare SIWE message");if(!this.wallet)throw new ue("SiweFlow has no wallet instance");let e=await this.wallet.sign(this.preparedMessage);return{message:this.preparedMessage,signature:e}}async _getNonceOnce(){if(!this.client)throw new ue("SiweFlow has no client instance");if(!this.wallet)throw new ue("UI SiweFlow has no wallet instance");return await this.client.generateSiweNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new ue("SiweFlow has no client instance");if(!this.wallet)throw new ue("SiweFlow has no wallet instance");let e=this.wallet.address,r=this.wallet.chainId.replace("eip155:","");return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.preparedMessage=_S({address:e,chainId:r,nonce:this.nonce}),this.preparedMessage}constructor(e,r,n,i=!1,s){this._meta={disableSignup:!1},this.getNonceOnce=new As(this._getNonceOnce.bind(this)),this.wallet=r,this.captchaToken=n,this.client=e,this._meta.disableSignup=i,this.preparedMessage=s==null?void 0:s.message,this.signature=s==null?void 0:s.signature}}const YFe=({address:t,nonce:e})=>`${window.location.host} wants you to sign in with your Solana account:
${t}

${`You are proving you own ${t}.`}

URI: ${window.location.origin}
Version: 1
Chain ID: mainnet
Nonce: ${e}
Issued At: ${new Date().toISOString()}
Resources:
- https://privy.io`;class B5{get meta(){var e;return{connectorType:this.wallet.connectorType,walletClientType:this.wallet.walletClientType,disableSignup:this._meta.disableSignup,messageType:this._meta.messageType,address:(e=this.wallet)==null?void 0:e.address}}set messageType(e){this._meta.messageType=e}async authenticate(){if(!this.client)throw new ue("SiwsFlow has no client instance");try{let{message:e,signature:r}=await this.sign();return await this.client.authenticateWithSiwsInternal({message:e,signature:r,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up",messageType:this.meta.messageType})}catch(e){throw br(e)}}async link(){if(!this.client)throw new ue("SiwsFlow has no client instance");try{let{message:e,signature:r}=await this.sign();return await this.client.linkWithSiwsInternal({message:e,signature:r,walletClientType:this.wallet.walletClientType,connectorType:this.wallet.connectorType,messageType:this.meta.messageType})}catch(e){throw br(e)}}async sign(){let e,r;if(!this.client)throw new ue("SiwsFlow has no client instance");await this.buildMessage();let n=this.meta.messageType==="transaction";if(!this.preparedMessage)throw new ue("Could not prepare SIWS message");if(!n&&!this.wallet.provider.signMessage||n&&!this.wallet.provider.signTransaction)throw new ue("Wallet does not support the necessary signing methods");if(n&&this._plugin){let i=await this.wallet.provider.signTransaction({transaction:x3.decode(this.preparedMessage)});e=x3.encode(i.signedTransaction),r=this._plugin.getSignatureFromTransaction(i.signedTransaction,this.wallet.address)}else{e=this.preparedMessage;let i=await this.wallet.provider.signMessage({message:new TextEncoder().encode(this.preparedMessage)});r=x3.encode(i.signature)}return{message:e,signature:r}}async _getNonceOnce(){if(!this.client)throw new ue("SiwsFlow has no client instance");return await this.client.generateSiwsNonce({address:this.wallet.address,captchaToken:this.captchaToken})}async buildMessage(){if(!this.client)throw new ue("SiwsFlow has no client instance");let e=this.wallet.address;return this.nonce||(this.nonce=await this.getNonceOnce.execute()),this.meta.messageType==="transaction"&&this._plugin?this.preparedMessage=this._plugin.createSiwsMemoTransaction({address:e,nonce:this.nonce}):this.preparedMessage=YFe({address:e,nonce:this.nonce}),this.preparedMessage}constructor(e,r,n,i=!1,s="plain",a){this._meta={disableSignup:!1,messageType:"plain"},this.getNonceOnce=new As(this._getNonceOnce.bind(this)),this.wallet=e,this.captchaToken=n,this.client=r,this._meta.disableSignup=i,this._meta.messageType=s,this._plugin=a}}const pee=t=>t.isApexWallet?"Apex Wallet":t.isAvalanche?"Core Wallet":t.isBackpack?"Backpack":t.isBifrost?"Bifrost Wallet":t.isBitKeep?"BitKeep":t.isBitski?"Bitski":t.isBlockWallet?"BlockWallet":t.isBraveWallet?"Brave Wallet":t.isClover?"Clover":t.isCoin98?"Coin98 Wallet":t.isCoinbaseWallet?"Coinbase Wallet":t.isDawn?"Dawn Wallet":t.isDefiant?"Defiant":t.isDesig?"Desig Wallet":t.isEnkrypt?"Enkrypt":t.isExodus?"Exodus":t.isFordefi?"Fordefi":t.isFrame?"Frame":t.isFrontier?"Frontier Wallet":t.isGamestop?"GameStop Wallet":t.isHaqqWallet?"HAQQ Wallet":t.isHyperPay?"HyperPay Wallet":t.isImToken?"ImToken":t.isHaloWallet?"Halo Wallet":t.isKuCoinWallet?"KuCoin Wallet":t.isMathWallet?"MathWallet":t.isNovaWallet?"Nova Wallet":t.isOkxWallet||t.isOKExWallet?"OKX Wallet":t.isOneInchIOSWallet||t.isOneInchAndroidWallet?"1inch Wallet":t.isOneKey?"OneKey Wallet":t.isOpera?"Opera":t.isPhantom||"isPhantom"in t?"Phantom":t.isPortal?"Ripio Portal":t.isRabby?"Rabby Wallet":t.isRainbow?"Rainbow":t.isSafePal?"SafePal Wallet":t.isStatus?"Status":t.isSubWallet?"SubWallet":t.isTalisman?"Talisman":t.isTally||t.isTaho?"Taho":t.isTokenPocket?"TokenPocket":t.isTokenary?"Tokenary":t.isTrust||t.isTrustWallet?"Trust Wallet":t.isTTWallet?"TTWallet":t.isXDEFI?"XDEFI Wallet":t.isZeal?"Zeal":t.isZerion?"Zerion":t.isMetaMask?"MetaMask":void 0,gee=(t,e)=>{if(!t.isMetaMask)return!1;if(t.isMetaMask&&!e)return!0;if(t.isBraveWallet&&!t._events&&!t._state||pee(t)!=="MetaMask")return!1;if(t.providers){for(let r of t.providers)if(!gee(r))return!1}return!0},mee=()=>{let t=window;if(!t.ethereum)return!1;if(t.ethereum.isCoinbaseWallet)return!0;if(t.ethereum.providers){for(let e of t.ethereum.providers)if(e&&e.isCoinbaseWallet)return!0}return!1},Sg=(t,e,r,n)=>{let i=Number(t),s=e.find(a=>a.id===i);if(!s)throw new ln(`Unsupported chainId ${t}`,4901);return _u({transport:Cu(Iu(s,r,n.appId)),chain:s})},Iu=(t,e,r)=>{var a,o,l;let n,i=t.id,s=Number(t.id);if(t.rpcUrls.privyWalletOverride&&t.rpcUrls.privyWalletOverride.http[0])n=t.rpcUrls.privyWalletOverride.http[0];else if(e.rpcUrls&&e.rpcUrls[s])n=e.rpcUrls[s];else if((a=t.rpcUrls.privy)!=null&&a.http[0]){let u=new URL(t.rpcUrls.privy.http[0]);u.searchParams.append("privyAppId",r),n=u.toString()}else n=(o=t.rpcUrls.public)!=null&&o.http[0]?t.rpcUrls.public.http[0]:(l=t.rpcUrls.default)==null?void 0:l.http[0];if(!n)throw new ln(`No RPC url found for ${i}`);return n},yee=t=>!!String(t).toLowerCase().match(/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/),Es=(t,e=3,r=4,n="ethereum")=>{if(!t)return"";let i=n==="ethereum"?2:0;return e+r+i+3>=t.length?t:`${t.slice(0,i+e)}...${t.slice(t.length-r,t.length)}`},c_=(t,e=3,r=4)=>Es(t,e,r,"solana"),L5=t=>new Promise(e=>setTimeout(e,t)),CS=(t,e={})=>{let r=e.delayMs||150,n=e.maxAttempts||270;return new Promise(async(i,s)=>{var l;let a=!1,o=0;for(;!a&&o<n;){if((l=e.abortSignal)!=null&&l.aborted)return;t().then(u=>{a=!0,i(u)},(...u)=>{a=!0,s(...u)}),o+=1,await L5(r)}a||s(Error("Exceeded max attempts before resolving function"))})},bee=(t,e,r={},n={})=>{let i=new URL(e,t);for(let[a,o]of Object.entries(r))o!==void 0&&i.searchParams.set(a,o);let s=Object.entries(n);if(s.length>0){let a=new URLSearchParams;for(let[o,l]of s)a.append(o,l);i.hash=a.toString()}return i.href},ZFe=t=>t.replace(/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g,""),AS=t=>typeof t=="string"?t:"0x"+t.toString(16);async function QFe({store:t,walletList:e,externalWalletConfig:r,walletChainType:n,timeout:i=3e3}){let s=!1,a=window;return new Promise(o=>{function l(){if(s)return;s=!0,window.removeEventListener("ethereum#initialized",l);let u=t.getProviders();console.debug("Detected injected providers:",u.map(f=>f.info));let h=[];for(let f of u)e.includes("coinbase_wallet")&&f.info.rdns==="com.coinbase.wallet"||n==="solana-only"&&f.info.rdns==="app.phantom"||h.push({type:f.info.name.toLowerCase().replace(/\s/g,"_"),eip6963InjectedProvider:f});if(n!=="solana-only")for(let f of function(){var w;let g=window,y=g.ethereum;if(!y)return[];let b=[];if((w=y.providers)!=null&&w.length)for(let x of y.providers)x&&b.push(x);return b.push(g.ethereum),b}()){let g=pee(f);if(!u.some(y=>y.info.name===g)){if(gee(f,!0)&&!h.find(y=>y.type==="metamask")){h.push({type:"metamask",legacyInjectedProvider:f});continue}if(g==="Phantom"&&!h.find(y=>y.type==="phantom")){h.push({type:"phantom",legacyInjectedProvider:f});continue}if(g==="Coinbase Wallet"&&!h.find(y=>{var b,w,x;return y.type==="coinbase_wallet"&&((x=(w=(b=r.coinbaseWallet)==null?void 0:b.config)==null?void 0:w.preference)==null?void 0:x.options)!=="smartWalletOnly"})){h.push({type:"coinbase_wallet",legacyInjectedProvider:f});continue}h.find(y=>y.type==="unknown_browser_extension")||h.push({type:"unknown_browser_extension",legacyInjectedProvider:f})}}o(h)}a.ethereum?l():(window.addEventListener("ethereum#initialized",l,{once:!0}),setTimeout(()=>{l()},i))})}function By(t){return`eip155:${String(Number(t))}`}const XFe=(t,e,r,n)=>{let i=Number(t),s=e.find(a=>a.id===i);if(!s)throw new ln(`Unsupported chainId ${t}`,4901);return Iu(s,r,n)},I3=t=>{let e={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},r=t.types.EIP712Domain??Object.entries(t.domain).map(([n,i])=>{if(i!=null&&typeof n=="string"&&n in e)return{name:n,type:e[n]}}).filter(n=>n!==void 0);return{...t,types:{...t.types,EIP712Domain:r}}},wee=$.createContext({siteKey:"",enabled:!1,appId:void 0,token:void 0,error:void 0,status:"disabled",setToken:ke,setError:ke,setExecuting:ke,waitForResult:()=>Promise.resolve(""),ref:{current:null},remove:ke,reset:ke,execute:ke});class M4 extends fs{constructor(e,r,n){super(e||"Captcha failed"),this.type="Captcha",r instanceof Error&&(this.cause=r),this.privyErrorCode=n}}const JFe=({children:t,id:e,captchaSiteKey:r,captchaEnabled:n})=>{let i=$.useRef(null),[s,a]=$.useState(),[o,l]=$.useState(),[u,h]=$.useState(!1),f=$.useMemo(()=>n?u||s||o?!u||s||o?s&&!o?{status:"success",token:s}:o?{status:"error",error:o}:{status:"ready"}:{status:"loading"}:{status:"ready"}:{status:"disabled"},[n,s,o,u]);return p.jsx(wee.Provider,{value:{...f,ref:i,enabled:n,siteKey:r,appId:e,setToken:a,setError:l,setExecuting:h,remove(){var g;n&&((g=i.current)==null||g.remove(),h(!1),l(void 0),a(void 0))},reset(){var g;n&&((g=i.current)==null||g.reset(),h(!1),l(void 0),a(void 0))},execute(){var g;n&&(h(!0),(g=i.current)==null||g.execute())},async waitForResult(){if(!n)return"";try{return await function(g,{interval:y=100,timeout:b=5e3}={}){return new Promise((w,x)=>{let E,S=0,_=()=>{S>=b?x("Max attempts reached without result"):(E=g(),S+=y,E==null?setTimeout(_,y):w(E))};_()})}(()=>{var g;return(g=i.current)==null?void 0:g.getResponse()},{interval:200,timeout:2e4})}catch{throw new M4("Captcha failed",null,fe.CAPTCHA_TIMEOUT)}}},children:t})},ca=()=>$.useContext(wee);class k1{async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(D3e,{captcha_token:this.meta.captchaToken,telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw br(e)}}async link(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(U3e,{telegram_auth_result:this.meta.telegramAuthResult,telegram_web_app_data:this.meta.telegramWebAppData})}catch(e){throw br(e)}}constructor(e,r=!1){this.meta={disableSignup:!1},this.meta={captchaToken:e,disableSignup:!1},this.meta.disableSignup=r}}function uz(t){let e={detail:"",retryable:!1};return(t==null?void 0:t.privyErrorCode)===fe.LINKED_TO_ANOTHER_USER&&(e.detail="This account has already been linked to another user."),(t==null?void 0:t.privyErrorCode)===fe.DISALLOWED_LOGIN_METHOD&&(e.detail="Login with Telegram not allowed."),(t==null?void 0:t.privyErrorCode)===fe.INVALID_DATA&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===fe.CANNOT_LINK_MORE_OF_TYPE&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===fe.INVALID_CREDENTIALS&&(e.retryable=!0,e.detail="Something went wrong. Try again."),(t==null?void 0:t.privyErrorCode)===fe.TOO_MANY_REQUESTS&&(e.detail="Too many requests. Please wait before trying again."),(t==null?void 0:t.privyErrorCode)===fe.TOO_MANY_REQUESTS&&t.message.includes("rate limit")&&(e.detail="Request limit reached for Telegram. Please wait a moment and try again."),t instanceof M4&&(e.retryable=!0,e.detail="Something went wrong. Try again."),e}function eze(){let t;return(t=function(){let e=new URLSearchParams(window.location.search),r=Number(e.get("id")||""),n=e.get("hash"),i=Number(e.get("auth_date")||""),s=e.get("first_name");if(r&&s&&i&&n)return Object.fromEntries(e.entries())}())?(dz(),{flowType:"login-url",authData:t}):(t=function(){let e=window.location.hash;if(!e||!e.startsWith("#tgWebAppData"))return;let r=vee(e.replace("#tgWebAppData=","")),{user:n,auth_date:i,hash:s}=r;return n&&i&&s?r:void 0}())?(dz(),{flowType:"web-app",authData:t}):void 0}function vee(t){return Object.fromEntries(decodeURIComponent(t).split("&").map(e=>e.split("=").map(decodeURIComponent)))}function dz(){let t=new URL(window.location.href);t.searchParams.delete("id"),t.searchParams.delete("hash"),t.searchParams.delete("auth_date"),t.searchParams.delete("first_name"),t.searchParams.delete("last_name"),t.searchParams.delete("username"),t.searchParams.delete("photo_url"),t.hash="",window.history.replaceState({},"",t)}let hz=t=>{if(t.chainType==="ethereum")return{entropyId:t.address,entropyIdVerifier:"ethereum-address-verifier"};if(t.chainType==="solana")return{entropyId:t.address,entropyIdVerifier:"solana-address-verifier"};throw Error("Failed to get account entropy details")};const ho=(t,e)=>{if(e!=null&&e.imported)return hz(e);let r=yl(t);if(!r)throw Error("Failed to find primary wallet");return hz(r)},tze=({style:t,...e})=>p.jsxs("svg",{viewBox:"0 0 1024 1024",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[p.jsx("rect",{width:"1024",height:"1024",fill:"#0052FF",rx:100,ry:100}),p.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M152 512C152 710.823 313.177 872 512 872C710.823 872 872 710.823 872 512C872 313.177 710.823 152 512 152C313.177 152 152 313.177 152 512ZM420 396C406.745 396 396 406.745 396 420V604C396 617.255 406.745 628 420 628H604C617.255 628 628 617.255 628 604V420C628 406.745 617.255 396 604 396H420Z",fill:"white"})]}),xee="data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PScwIDAgMTAyNCAxMDI0JyBmaWxsPSdub25lJyB4bWxucz0naHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmcnIHN0eWxlPSdoZWlnaHQ6MjhweDt3aWR0aDoyOHB4Jz48cmVjdCB3aWR0aD0nMTAyNCcgaGVpZ2h0PScxMDI0JyBmaWxsPScjMDA1MkZGJyByeD0nMTAwJyByeT0nMTAwJz48L3JlY3Q+PHBhdGggZmlsbC1ydWxlPSdldmVub2RkJyBjbGlwLXJ1bGU9J2V2ZW5vZGQnIGQ9J00xNTIgNTEyQzE1MiA3MTAuODIzIDMxMy4xNzcgODcyIDUxMiA4NzJDNzEwLjgyMyA4NzIgODcyIDcxMC44MjMgODcyIDUxMkM4NzIgMzEzLjE3NyA3MTAuODIzIDE1MiA1MTIgMTUyQzMxMy4xNzcgMTUyIDE1MiAzMTMuMTc3IDE1MiA1MTJaTTQyMCAzOTZDNDA2Ljc0NSAzOTYgMzk2IDQwNi43NDUgMzk2IDQyMFY2MDRDMzk2IDYxNy4yNTUgNDA2Ljc0NSA2MjggNDIwIDYyOEg2MDRDNjE3LjI1NSA2MjggNjI4IDYxNy4yNTUgNjI4IDYwNFY0MjBDNjI4IDQwNi43NDUgNjE3LjI1NSAzOTYgNjA0IDM5Nkg0MjBaJyBmaWxsPSd3aGl0ZSc+PC9wYXRoPjwvc3ZnPg==",Eee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAALZJREFUaEPtmjEOhDAMBNc/O14GvOzys3CAKK6eAlmaVGl2Zc+kTOU685vkc9/bnD2prZK5/TZY24z9P+g4F5hNh7/GdoG37WlAA5CATwgCxHENYISwQAMQII5rACOEBRqAAHFcAxghLNAABIjjGsAIYYEGIEAc1wBGCAs0AAHiuAYwQligAQgQxzWAEcICDUCAOK4BjBAWaAACxHENYISwQAMQII6fBjr+VHkW3+u+tfyxMpJaDgYzYxb/ALZVAAAAAElFTkSuQmCC";class _ee extends ln{constructor(){super("Wallet timeout"),this.type="wallet_error"}}const oh=t=>t instanceof ln?t:t!=null&&t.code?new as(t):new ln("Unknown connector error",t);class tg extends fs{constructor(e,r,n){super(e),this.type="provider_error",this.code=r,this.data=n}}class as extends tg{constructor(e){var n,i,s;super(e.message,e.code,e.data);let r=Object.values(Xo).find(a=>a.eipCode===e.code);this.details=r||Xo.UNKNOWN_ERROR,e.code===-32002&&((n=e.message)!=null&&n.includes("already pending for origin")?(i=e.message)!=null&&i.includes("wallet_requestPermissions")?this.details=Xo.E32002_CONNECTION_ALREADY_PENDING:this.details=Xo.E32002_REQUEST_ALREADY_PENDING:(s=e.message)!=null&&s.includes("Already processing")&&e.message.includes("eth_requestAccounts")&&(this.details=Xo.E32002_WALLET_LOCKED))}}const hf={ERROR_USER_EXISTS:{message:"User already exists for this address",detail:"Try another address!",retryable:!1},ERROR_TIMED_OUT:{message:"Wallet request timed out",detail:"Please try connecting again.",retryable:!0},ERROR_WALLET_CONNECTION:{message:"Could not log in with wallet",detail:"Please try connecting again.",retryable:!0},ERROR_USER_LIMIT_REACHED:{message:"Unable to link",detail:"You've reached the maximum number of linked wallets.",retryable:!1},...Xo};function Md(t){return t.type==="ethereum"}function Cee(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++){let n=t[r],i=e[r];if((n==null?void 0:n.address)!==(i==null?void 0:i.address)||n&&i&&Md(n)&&Md(i)&&(n==null?void 0:n.chainId)!==(i==null?void 0:i.chainId)||(n==null?void 0:n.connectorType)!==(i==null?void 0:i.connectorType)||(n==null?void 0:n.connectedAt)!==(i==null?void 0:i.connectedAt)||(n==null?void 0:n.walletClientType)!==(i==null?void 0:i.walletClientType)||(n==null?void 0:n.isConnected)!==(i==null?void 0:i.isConnected)||(n==null?void 0:n.linked)!==(i==null?void 0:i.linked))return!1}return!0}class Aee extends ih{constructor(e){super(),this.walletClientType=e,this.connected=!1,this.initialized=!1}}const BT=(t,e)=>t.rpcTimeouts&&t.rpcTimeouts[e]||P4;function $1(t){return t.chainType==="ethereum"}class op extends Aee{buildConnectedWallet(e,r,n,i){let s=async()=>!!this.wallets.find(a=>ei(a.address)===ei(e));return{type:"ethereum",address:ei(e),chainId:r,meta:n,imported:i,switchChain:async a=>{var g,y,b,w;let o,l;if(!s)throw new ln("Wallet is not currently connected.");let u=(g=this.wallets.find(x=>ei(x.address)===ei(e)))==null?void 0:g.chainId;if(!u)throw new ln("Unable to determine current chainId.");if(typeof a=="number"?(o=`0x${a.toString(16)}`,l=a):(o=a,l=Number(a)),u===By(o))return;let h=this.chains.find(x=>x.id===l);if(!h)throw new ln(`Unsupported chainId: ${a}`);let f=async()=>{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:o}]})};try{return await f()}catch(x){if(((E,S)=>{var _;switch(S){case"coinbase_wallet":case"base_account":return E.message.includes("addEthereumChain");case"rabby_wallet":return E.message.includes("Unrecognized chain ID");default:return E.code===4902||((_=E.message)==null?void 0:_.includes("4902"))}})(x,this.walletClientType))return this.walletClientType==="rabby_wallet"&&await L5(300),await this.proxyProvider.request({method:"wallet_addEthereumChain",params:[{chainId:o,chainName:h.name,nativeCurrency:h.nativeCurrency,rpcUrls:[((y=h.rpcUrls.default)==null?void 0:y.http[0])??""],blockExplorerUrls:[((b=h.blockExplorers)==null?void 0:b.default.url)??""]}]}),f();throw this.walletClientType==="rainbow"&&((w=x.message)!=null&&w.includes("wallet_switchEthereumChain"))?new ln(`Rainbow does not support the chainId ${r}`):x}},connectedAt:Date.now(),walletClientType:this.walletClientType,connectorType:this.connectorType,isConnected:s,getEthereumProvider:async()=>{if(!await s())throw new ln("Wallet is not currently connected.");return this.proxyProvider},sign:async a=>{if(!await s())throw new ln("Wallet is not currently connected.");return await this.sign(a)},disconnect:()=>{this.disconnect()}}}async syncAccounts(e){let r,n=e;try{if(n===void 0){let l=await CS(()=>this.proxyProvider.request({method:"eth_accounts"}),{maxAttempts:10,delayMs:500});console.debug(`eth_accounts for ${this.walletClientType}:`,l),Array.isArray(l)&&(n=l)}}catch(l){console.debug("Wallet did not respond to eth_accounts. Defaulting to prefetched accounts.",l)}if(!n||!Array.isArray(n)||n.length<=0||!n[0])return;let i=n[0],s=ei(i),a=[];if(this.walletClientType==="privy"){let l=Pt.get(l_(s));this.chains.find(u=>u.id===Number(l))||(Pt.del(l_(s)),l=null),r=l||`0x${this.defaultChain.id.toString(16)}`;try{await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[{chainId:r}]})}catch{console.warn(`Unable to switch embedded wallet to chain ID ${r} on initialization`)}}else try{let l=await CS(()=>this.proxyProvider.request({method:"eth_chainId"}),{maxAttempts:10,delayMs:500});if(console.debug(`eth_chainId for ${this.walletClientType}:`,l),typeof l=="string")r=l;else{if(typeof l!="number")throw Error("Invalid chainId returned from provider");r=`0x${l.toString(16)}`}}catch(l){console.warn("Failed to get chainId from provider, defaulting to 0x1",l),r="0x1"}let o=By(r);if(!a.find(l=>ei(l.address)===s)){let l={name:this.walletBranding.name,icon:typeof this.walletBranding.icon=="string"?this.walletBranding.icon:void 0,id:this.walletBranding.id};a.push(this.buildConnectedWallet(ei(i),o,l,this.connectorType==="embedded_imported"))}Cee(a,this.wallets)||(this.wallets=a,this.emit("walletsUpdated"))}async getConnectedWallet(){let e=await this.proxyProvider.request({method:"eth_accounts"});return this.wallets.sort((r,n)=>n.connectedAt-r.connectedAt).find(r=>e.find(n=>ei(n)===ei(r.address)))||null}async isConnected(){let e=await this.proxyProvider.request({method:"eth_accounts"});return Array.isArray(e)&&e.length>0}async sign(e){var r;return await this.connect({showPrompt:!1}),this.proxyProvider.request({method:"personal_sign",params:[qn(e),(r=this.wallets[0])==null?void 0:r.address]})}subscribeListeners(){this.proxyProvider.on("accountsChanged",this.onAccountsChanged),this.proxyProvider.on("chainChanged",this.onChainChanged),this.proxyProvider.on("disconnect",this.onDisconnect),this.proxyProvider.on("connect",this.onConnect)}unsubscribeListeners(){this.proxyProvider.removeListener("accountsChanged",this.onAccountsChanged),this.proxyProvider.removeListener("chainChanged",this.onChainChanged),this.proxyProvider.removeListener("disconnect",this.onDisconnect),this.proxyProvider.removeListener("connect",this.onConnect)}constructor(e,r,n,i){super(e),this.chainType="ethereum",this.onAccountsChanged=s=>{s.length===0?this.onDisconnect():this.syncAccounts(s)},this.onChainChanged=s=>{this.wallets.forEach(a=>{a.chainId=By(s),this.walletClientType==="privy"&&Pt.put(l_(a.address),s)}),this.emit("walletsUpdated")},this.onDisconnect=()=>{this.connected=!1,this.wallets=[],this.emit("walletsUpdated")},this.onConnect=async()=>{this.connectorType==="base_account"&&this.connected||(this.connected=!0,this.connectorType==="coinbase_wallet"&&await L5(500),this.syncAccounts())},this.wallets=[],this.walletClientType=e,this.chains=r,this.defaultChain=n,this.rpcConfig=i,this.rpcTimeoutDuration=BT(i,e),this.connected=!1,this.initialized=!1}}class lp{on(e,r){if(this.walletProvider)return this.walletProvider.on(e,r);this._subscriptions.push({eventName:e,listener:r})}async request(e){if(!this.walletProvider)throw new ln(`A wallet request of type ${e.method} was made before setting a wallet provider.`);return Promise.race([this.walletProvider.request(e),this.walletTimeout()]).catch(r=>{throw oh(r)})}constructor(e,r){this.removeListener=(n,i)=>{if(this.walletProvider)try{return this.walletProvider.removeListener(n,i)}catch{console.warn("Unable to remove wallet provider listener")}},this.walletTimeout=(n=new _ee,i=this.rpcTimeoutDuration)=>new Promise((s,a)=>setTimeout(()=>{a(n)},i)),this.setWalletProvider=n=>{this.walletProvider&&this._subscriptions.forEach(i=>{this.removeListener(i.eventName,i.listener)}),this.walletProvider=n,this._subscriptions.forEach(i=>{var s;(s=this.walletProvider)==null||s.on(i.eventName,i.listener)})},this.walletProvider=e,this.rpcTimeoutDuration=r||P4,this._subscriptions=[]}}const See=({...t})=>p.jsx("svg",{width:"15",height:"15",viewBox:"0 0 15 15",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:p.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2.37126 11.0323C2.37126 12.696 3.90598 13.4421 5.40654 13.4468C8.91753 13.4468 12.8021 11.2897 12.7819 7.67984C12.7673 5.07728 10.3748 2.86167 7.54357 2.88296C4.8495 2.88296 2.21821 4.6411 2.21803 7.03628C2.21803 7.67951 2.58722 8.30178 3.55231 8.37184C2.74763 9.16826 2.37126 10.1225 2.37126 11.0323ZM7.55283 8.68012C8.11562 8.68012 8.57186 8.13217 8.57186 7.45624C8.57186 6.78032 8.11562 6.23237 7.55283 6.23237C6.99003 6.23237 6.53379 6.78032 6.53379 7.45624C6.53379 8.13217 6.99003 8.68012 7.55283 8.68012ZM10.4747 8.68012C11.0375 8.68012 11.4937 8.13217 11.4937 7.45625C11.4937 6.78032 11.0375 6.23237 10.4747 6.23237C9.91186 6.23237 9.45562 6.78032 9.45562 7.45625C9.45562 8.13217 9.91186 8.68012 10.4747 8.68012Z",fill:t.color||"var(--privy-color-foreground-3)"})});class LT extends op{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the EthereumNullConnector")}disconnect(){throw Error("disconnect called for an uninstalled wallet via the EthereumNullConnector")}promptConnection(e){throw Error(`promptConnection called for an uninstalled wallet via the EthereumNullConnector for ${e}`)}constructor({id:e,name:r,icon:n,walletClientType:i,defaultChain:s}){super(i,[],s,{}),this.connectorType="null",this.proxyProvider=new lp(void 0,P4),this.id=e,this.name=r,this.icon=n,this.connectorType=i}}const FT=({style:t,...e})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",stroke:"currentColor",strokeWidth:1.5,viewBox:"0 0 24 24",style:{...t},...e,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M9 17.25v1.007a3 3 0 01-.879 2.122L7.5 21h9l-.621-.621A3 3 0 0115 18.257V17.25m6-12V15a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 15V5.25m18 0A2.25 2.25 0 0018.75 3H5.25A2.25 2.25 0 003 5.25m18 0V12a2.25 2.25 0 01-2.25 2.25H5.25A2.25 2.25 0 013 12V5.25"})}),SS=({...t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"32",height:"32",viewBox:"0 0 32 32",fill:"none",...t,children:[p.jsx("rect",{width:"32",height:"32",rx:"6",fill:"#121314"}),p.jsx("g",{transform:"translate(4, 4)",children:p.jsxs("svg",{width:"24",height:"24",viewBox:"0 0 318.6 318.6",children:[p.jsx("style",{children:".s1{stroke-linecap:round;stroke-linejoin:round}.s2{fill:#e4761b;stroke:#e4761b}.s3{fill:#f6851b;stroke:#f6851b}"}),p.jsx("path",{fill:"#e2761b",stroke:"#e2761b",className:"s1",d:"m274.1 35.5-99.5 73.9L193 65.8z"}),p.jsx("path",{d:"m44.4 35.5 98.7 74.6-17.5-44.3zm193.9 171.3-26.5 40.6 56.7 15.6 16.3-55.3zm-204.4.9L50.1 263l56.7-15.6-26.5-40.6z",className:"s1 s2"}),p.jsx("path",{d:"m103.6 138.2-15.8 23.9 56.3 2.5-2-60.5zm111.3 0-39-34.8-1.3 61.2 56.2-2.5zM106.8 247.4l33.8-16.5-29.2-22.8zm71.1-16.5 33.9 16.5-4.7-39.3z",className:"s1 s2"}),p.jsx("path",{fill:"#d7c1b3",stroke:"#d7c1b3",className:"s1",d:"m211.8 247.4-33.9-16.5 2.7 22.1-.3 9.3zm-105 0 31.5 14.9-.2-9.3 2.5-22.1z"}),p.jsx("path",{fill:"#233447",stroke:"#233447",className:"s1",d:"m138.8 193.5-28.2-8.3 19.9-9.1zm40.9 0 8.3-17.4 20 9.1z"}),p.jsx("path",{fill:"#cd6116",stroke:"#cd6116",className:"s1",d:"m106.8 247.4 4.8-40.6-31.3.9zM207 206.8l4.8 40.6 26.5-39.7zm23.8-44.7-56.2 2.5 5.2 28.9 8.3-17.4 20 9.1zm-120.2 23.1 20-9.1 8.2 17.4 5.3-28.9-56.3-2.5z"}),p.jsx("path",{fill:"#e4751f",stroke:"#e4751f",className:"s1",d:"m87.8 162.1 23.6 46-.8-22.9zm120.3 23.1-1 22.9 23.7-46zm-64-20.6-5.3 28.9 6.6 34.1 1.5-44.9zm30.5 0-2.7 18 1.2 45 6.7-34.1z"}),p.jsx("path",{d:"m179.8 193.5-6.7 34.1 4.8 3.3 29.2-22.8 1-22.9zm-69.2-8.3.8 22.9 29.2 22.8 4.8-3.3-6.6-34.1z",className:"s3"}),p.jsx("path",{fill:"#c0ad9e",stroke:"#c0ad9e",className:"s1",d:"m180.3 262.3.3-9.3-2.5-2.2h-37.7l-2.3 2.2.2 9.3-31.5-14.9 11 9 22.3 15.5h38.3l22.4-15.5 11-9z"}),p.jsx("path",{fill:"#161616",stroke:"#161616",className:"s1",d:"m177.9 230.9-4.8-3.3h-27.7l-4.8 3.3-2.5 22.1 2.3-2.2h37.7l2.5 2.2z"}),p.jsx("path",{fill:"#763d16",stroke:"#763d16",className:"s1",d:"m278.3 114.2 8.5-40.8-12.7-37.9-96.2 71.4 37 31.3 52.3 15.3 11.6-13.5-5-3.6 8-7.3-6.2-4.8 8-6.1zM31.8 73.4l8.5 40.8-5.4 4 8 6.1-6.1 4.8 8 7.3-5 3.6 11.5 13.5 52.3-15.3 37-31.3-96.2-71.4z"}),p.jsx("path",{d:"m267.2 153.5-52.3-15.3 15.9 23.9-23.7 46 31.2-.4h46.5zm-163.6-15.3-52.3 15.3-17.4 54.2h46.4l31.1.4-23.6-46zm71 26.4 3.3-57.7 15.2-41.1h-67.5l15 41.1 3.5 57.7 1.2 18.2.1 44.8h27.7l.2-44.8z",className:"s3"})]})})]}),kee=({style:t,...e})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"108",height:"108",viewBox:"0 0 108 108",fill:"none",style:{height:"28px",width:"28px",...t},...e,children:[p.jsx("rect",{width:"108",height:"108",rx:"23",fill:"#AB9FF2"}),p.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M46.5267 69.9229C42.0054 76.8509 34.4292 85.6182 24.348 85.6182C19.5824 85.6182 15 83.6563 15 75.1342C15 53.4305 44.6326 19.8327 72.1268 19.8327C87.768 19.8327 94 30.6846 94 43.0079C94 58.8258 83.7355 76.9122 73.5321 76.9122C70.2939 76.9122 68.7053 75.1342 68.7053 72.314C68.7053 71.5783 68.8275 70.7812 69.0719 69.9229C65.5893 75.8699 58.8685 81.3878 52.5754 81.3878C47.993 81.3878 45.6713 78.5063 45.6713 74.4598C45.6713 72.9884 45.9768 71.4556 46.5267 69.9229ZM83.6761 42.5794C83.6761 46.1704 81.5575 47.9658 79.1875 47.9658C76.7816 47.9658 74.6989 46.1704 74.6989 42.5794C74.6989 38.9885 76.7816 37.1931 79.1875 37.1931C81.5575 37.1931 83.6761 38.9885 83.6761 42.5794ZM70.2103 42.5795C70.2103 46.1704 68.0916 47.9658 65.7216 47.9658C63.3157 47.9658 61.233 46.1704 61.233 42.5795C61.233 38.9885 63.3157 37.1931 65.7216 37.1931C68.0916 37.1931 70.2103 38.9885 70.2103 42.5795Z",fill:"#FFFDF8"})]}),rze=["metamask","phantom","brave_wallet","rainbow","uniswap_wallet_extension","uniswap_extension","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","crypto.com_wallet_extension","crypto.com_onchain","binance","bitkeep","coinbase_wallet","coinbase_smart_wallet","base_account","metamask","trust","safe","rainbow","uniswap","zerion","argent","spot","omni","cryptocom","blockchain","safepal","bitkeep","zengo","1inch","binance","exodus","mew_wallet","alphawallet","keyring_pro","mathwallet","unstoppable","obvious","ambire","internet_money_wallet","coin98","abc_wallet","arculus_wallet","haha","cling_wallet","broearn","copiosa","burrito_wallet","enjin_wallet","plasma_wallet","avacus","bee","pitaka","pltwallet","minerva","kryptogo","prema","slingshot","kriptonio","timeless","secux","bitizen","blocto","okx_wallet","safemoon","rabby_wallet","bybit_wallet","ronin_wallet","haha_wallet","privy","unknown","phantom","solflare","glow","backpack","mobile_wallet_adapter"],zT=Object.freeze({phantom:{client:"phantom",name:"Phantom",installLink:Tr.isFirefox?"https://addons.mozilla.org/en-US/firefox/addon/phantom-app/":"https://chrome.google.com/webstore/detail/phantom/bfnaelmomeimhlpmgjnjophhpkkoljpa?hl=en",chainTypes:["ethereum","solana"],get isInstalled(){var t,e,r,n,i,s;if("phantom"in window){let a=window;if((e=(t=a==null?void 0:a.phantom)==null?void 0:t.ethereum)!=null&&e.isPhantom&&((n=(r=a==null?void 0:a.phantom)==null?void 0:r.ethereum)!=null&&n.chainId)||(s=(i=a==null?void 0:a.phantom)==null?void 0:i.solana)!=null&&s.isPhantom)return!0}return!1},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:r}){let n=qv({client:this.client,isSolana:e,connectOnly:r});return`${t?"phantom://":"https://phantom.app/ul/"}browse/${n}?ref=${n}`}},solflare:{client:"solflare",name:"Solflare",installLink:Tr.isFirefox?"https://addons.mozilla.org/es/firefox/addon/solflare-wallet/":"https://chromewebstore.google.com/detail/solflare-wallet/bhhhlbepdkbapadjdnnojkbgioiodbic",chainTypes:["solana"],get isInstalled(){var t;return"solflare"in window&&!!((t=window==null?void 0:window.solflare)!=null&&t.isSolflare)},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:r}){let n=qv({client:this.client,isSolana:e,connectOnly:r});return`${t?"solflare://ul/v1/":"https://solflare.com/ul/v1/"}browse/${n}?ref=${n}`}},backpack:{client:"backpack",name:"Backpack",installLink:"https://chromewebstore.google.com/detail/backpack/aflkmfhebedbjioipglgcbcmnbpgliof",chainTypes:["ethereum","solana"],get isInstalled(){var t,e,r,n;return!(!("backpack"in window)||!((e=(t=window==null?void 0:window.backpack)==null?void 0:t.ethereum)!=null&&e.isBackpack)&&!((n=(r=window==null?void 0:window.backpack)==null?void 0:r.solana)!=null&&n.isBackpack))},getMobileRedirect({useUniversalLink:t,isSolana:e,connectOnly:r}){let n=qv({client:this.client,isSolana:e,connectOnly:r});return`${t?"backpack://ul/v1/":"https://backpack.com/ul/v1/"}browse/${n}?ref=${n}`}},okx_wallet:{client:"okx_wallet",name:"OKX Wallet",installLink:"https://chromewebstore.google.com/detail/okx-wallet/mcohilncbfahbmgdjkbpemcciiolgcge",chainTypes:["solana"],get isInstalled(){var t;return"okxwallet"in window&&!!((t=window==null?void 0:window.okxwallet)!=null&&t.isOkxWallet)},getMobileRedirect({isSolana:t,connectOnly:e}){return"https://www.okx.com/download?deeplink="+encodeURIComponent("okx://wallet/dapp/url?dappUrl="+qv({client:this.client,isSolana:t,connectOnly:e}))}}});function $ee({connectorType:t,walletClientType:e}){for(let r of rze)if(t===r||e===r)return zT[r]}function qv({client:t,isSolana:e,connectOnly:r}){let n=new URL(window.location.href);return n.searchParams.set("privy_connector",e?"solana_adapter":"injected"),n.searchParams.set("privy_wallet_client",t),n.searchParams.set("privy_connect_only",String(r)),encodeURIComponent(n.href.replace(/\/$/g,""))}const N3=()=>{let t=Pt.get(ree);return t&&Array.isArray(t)&&t.map(e=>(r=>r&&typeof r.address=="string"&&typeof r.connectorType=="string"&&typeof r.walletClientType=="string"&&typeof r.connectedAt=="number")(e)).every(Boolean)?t:[]};let nze=["phantom","glow","solflare","backpack","okx_wallet","walletconnect","mobile_wallet_adapter"];function kS(t){return t.toLowerCase().split(" ").join("_")}class ize extends Aee{get isInstalled(){return!0}get wallet(){return this._wallet}buildConnectedWallet(){return this._wallet.accounts.map(e=>({type:"solana",provider:new AK({wallet:this._wallet,account:e}),address:e.address,connectedAt:Date.now(),walletClientType:this._wallet.name,connectorType:this.connectorType,imported:!1,meta:{name:this._wallet.name,id:this._wallet.name,icon:this._wallet.icon},isConnected:async()=>this._wallet.accounts.length>0,disconnect:()=>{this.disconnect()}}))}async syncAccounts(){this.wallets=this.buildConnectedWallet(),this.emit("walletsUpdated")}get walletBranding(){return{id:this.wallet.name,name:this.wallet.name,icon:this.wallet.icon}}async initialize(){var e;this.subscribeListeners(),await this.syncAccounts(),this.shouldAttemptAutoConnect()&&await((e=this.wallet.features["standard:connect"])==null?void 0:e.connect({silent:!0}).catch(()=>{})),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}async getConnectedWallet(){return this.wallets.sort((e,r)=>r.connectedAt-e.connectedAt)[0]||null}async isConnected(){return this._wallet.accounts.length>0}subscribeListeners(){var e;this._unsubscribeListeners=(e=this.wallet.features["standard:events"])==null?void 0:e.on("change",this.onChange)}unsubscribeListeners(){var e;(e=this._unsubscribeListeners)==null||e.call(this)}shouldAttemptAutoConnect(){return!(!this.autoConnectEnabled||!nze.includes(this.walletClientType))&&(this.walletClientType!=="phantom"||N3().some(({walletClientType:e})=>e==="phantom"))}constructor(e,r){super(kS(e.name)),this.chainType="solana",this.connectorType="solana_adapter",this.disconnect=()=>{var n;(n=this.wallet.features["standard:disconnect"])==null||n.disconnect().catch(i=>console.error("Error disconnecting",i))},this.promptConnection=async()=>{var n;try{await((n=this.wallet.features["standard:connect"])==null?void 0:n.connect())}catch(i){throw oh(i)}},this.onChange=()=>{this.syncAccounts()},this._wallet=e,this.autoConnectEnabled=r,this.wallets=[]}}class WT extends ize{get walletBranding(){return{id:this.id,name:this.name,icon:this.icon}}async initialize(){this.initialized=!0,this.emit("initialized")}async connect(){throw Error("connect called for an uninstalled wallet via the SolanaNullConnector")}constructor({id:e,name:r,icon:n}){super({name:r},!1),this.connectorType="null",this.proxyProvider=new lp(void 0,P4),this.disconnect=async()=>{throw Error("disconnect called for an uninstalled wallet via the SolanaNullConnector")},this.promptConnection=async()=>{throw Error("promptConnection called for an uninstalled wallet via the SolanaNullConnector")},this.id=e,this.name=r,this.icon=n}}function R4(t){return t.chainType==="solana"}function sze(t){return t.type==="solana"}const Lb=Yg(()=>({listings:[]})),aze=Lb.setState,u_=t=>{let e;try{e=new URL(t).hostname}catch{return}return Lb.getState().listings.find(({homepage:r})=>{let n;try{n=new URL(r).hostname}catch{return!1}return e.includes(n)})},lh=t=>Lb(({listings:e})=>e.find(({slug:r})=>F5(r)===F5(t)));function F5(t){return t==="cryptocom"?"cryptocom-defi":t==="binance"?"binance-defi":t.replace(/[-_]wallet$/,"")}function oze({src:t,...e}){return p.jsx("img",{src:t,...e,style:{display:"none"}})}const Zc={appearance:{landingHeader:"Log in or sign up",theme:"light",walletList:["detected_ethereum_wallets","metamask","coinbase_wallet","rainbow","base_account","wallet_connect"]},walletConnectCloudProjectId:"34357d3c125c2bcf2ce2bc3309d98715",captchaEnabled:!1,_render:{standalone:!1},fundingMethodConfig:{moonpay:{useSandbox:!1}}};let lze=new Set(["coinbase_wallet","base_account","cryptocom","metamask","okx_wallet","phantom","rainbow","uniswap","zerion","universal_profile","bybit_wallet","ronin_wallet","haha_wallet","wallet_connect","wallet_connect_qr","detected_solana_wallets","detected_ethereum_wallets","rabby_wallet","safe","solflare","backpack","binance","binanceus","bitkeep"]),fz=t=>lze.has(t),pz=(t,e,r)=>r.indexOf(t)===e;function Hv(t,e){let r=Math.max(0,Math.min(1,t.toHsl().l+e));return wt({...t.toHsl(),l:r})}function d_(t,e){let r=t.getLuminance(),n=e.getLuminance();return(Math.max(r,n)+.05)/(Math.min(r,n)+.05)}function cze({backgroundTheme:t,accentHex:e}){let r,n;t==="light"?r=!1:t==="dark"?r=!0:(r=.5>=wt(t).getLuminance(),n=wt(t).toHslString());let i=r?"dark":"light",s=r?T1:Vv,{accent:a,accentLight:o,accentHover:l,accentDark:u,accentDarkest:h}=function(b,w){if(!b){let E=w?T1:Vv;return{accent:wt(E.background.interactive),accentLight:wt(E.background.interactive),accentHover:wt(E.background["interactive-hover"]),accentDark:wt(E.background["interactive-clicked"]),accentDarkest:wt(E.background["interactive-disabled"])}}let x=wt(b);return{accent:x,accentLight:Hv(x,.15),accentHover:Hv(x,.3),accentDark:Hv(x,-.06),accentDarkest:Hv(x,-.6)}}(e,r),f=function(b){let w=wt(Vv.text.default),x=wt(T1.text.default),E=d_(b,w),S=d_(b,x),_=b.toHsl();return _.h>=220&&_.h<=300&&S>=3?T1.text.default:E>S?Vv.text.default:T1.text.default}(a),g=wt(f),y=d_(a,wt(s.background.default))>=3;return{colorScheme:i,background:n||s.background.default,background2:s.background.elevated,background3:s.background.interactive,foreground:s.text.default,foreground2:s.text.muted,foreground3:s.text.placeholder,foreground4:s.border.default,accent:a.toHslString(),accentLight:o.toHslString(),accentHover:l.toHslString(),accentDark:u.toHslString(),accentDarkest:h.toHslString(),foregroundAccent:g.toHslString(),success:s.background.success,successDark:s.text.success,successLight:s.background.success,error:s.text.error,errorLight:s.background.error,warn:s.background.warning,warnLight:s.background.warning,warningDark:s.text.warning,errorDark:s.text.error,successBg:s.background.success,errorBg:s.background.error,errorBgHover:s.background["error-hover"],warnBg:s.background.warning,infoBg:s.background.info,infoBgHover:s.background["info-hover"],borderDefault:s.border.default,borderHover:s.border["default-hover"],borderFocus:s.border.focused,borderError:s.border.error,borderSuccess:s.border.success,borderWarning:s.border.warning,borderInfo:s.border.info,borderInteractive:s.border.interactive,borderInteractiveHover:s.border["interactive-hover"],backgroundHover:s.background["default-hover"],backgroundClicked:s.background["default-clicked"],backgroundDisabled:s.background["default-disabled"],backgroundInteractive:s.background.interactive,backgroundInteractiveHover:s.background["interactive-hover"],backgroundInteractiveClicked:s.background["interactive-clicked"],backgroundInteractiveDisabled:s.background["interactive-disabled"],foregroundHover:s.text.default,foregroundClicked:s.text.default,foregroundDisabled:s.text["default-disabled"],foregroundInteractive:s.text.interactive,foregroundInteractiveHover:s.text["interactive-hover"],accentHasGoodContrast:y?"1":"0",linkNavigationColor:y?a.toHslString():s.text.default,linkNavigationDecoration:y?"none":"underline",iconDefault:s.icon.default,iconMuted:s.icon.muted,iconSubtle:s.icon.subtle,iconInverse:s.icon.inverse,iconSuccess:s.icon.success,iconWarning:s.icon.warning,iconError:s.icon.error,iconInteractive:s.icon.interactive,iconDefaultHover:s.icon["default-hover"],iconMutedHover:s.icon["muted-hover"],iconSubtleHover:s.icon["subtle-hover"],iconDefaultClicked:s.icon["default-clicked"],iconMutedClicked:s.icon["muted-clicked"],iconSubtleClicked:s.icon["subtle-clicked"],iconDefaultDisabled:s.icon["default-disabled"],iconMutedDisabled:s.icon["muted-disabled"],iconSubtleDisabled:s.icon["subtle-disabled"],iconErrorHover:s.icon["error-hover"],iconInteractiveHover:s.icon["interactive-hover"],iconErrorClicked:s.icon["error-clicked"],iconInteractiveClicked:s.icon["interactive-clicked"],iconMutedDisabledAlt:s.icon["muted-disabled"],iconSubtleDisabledAlt:s.icon["subtle-disabled"]}}const T1={background:{default:"#020713",elevated:"#1A2230","default-hover":"#101724","default-clicked":"#1A2230","default-disabled":"#020713",success:"#0E3E2D",warning:"#373827",error:"#2E0C18",interactive:"#8B86FF","error-hover":"#441821","interactive-hover":"#7B73E5","interactive-clicked":"#6560CC","interactive-disabled":"#141824",info:"#1F2937","info-hover":"#141824"},icon:{default:"#F8F8F8",muted:"#9BA2AE",subtle:"#7B8491",inverse:"#020713",success:"#88E3B5",warning:"#FDF27B",error:"#EF4444",interactive:"#88B6FF","default-hover":"#F8F8F8","muted-hover":"#AEB3BD","subtle-hover":"#8B939E","default-clicked":"#F8F8F8","muted-clicked":"#9097A5","subtle-clicked":"#78818E","default-disabled":"#404452","muted-disabled":"#404452","subtle-disabled":"#404452","error-hover":"#F05555","interactive-hover":"#7B73E5","error-clicked":"#EF4444","interactive-clicked":"#6560CC"},text:{default:"#F8F8F8",muted:"#9BA2AE",placeholder:"#7B8491",success:"#ACEECB",warning:"#FEF9A0",error:"#FCA5A5",interactive:"#A29EFF","default-disabled":"#404452","interactive-hover":"#8C88E5"},border:{default:"#1F2937",interactive:"#88B0FF",focused:"#F8F8FC",info:"#5B83D3",success:"#317056",warning:"#FBBF24",error:"#F87171","default-hover":"#34304A","interactive-hover":"#88B0FF"}},Vv={background:{default:"#FFFFFF",elevated:"#F1F2F9","default-hover":"#F8F9FC","default-clicked":"#F1F2F9","default-disabled":"#FFFFFF",success:"#DCFCE7",warning:"#FEF3C7",error:"#FEE2E2",interactive:"#5B4FFF","error-hover":"#FECACA","interactive-hover":"#4F46E5","interactive-clicked":"#4338CA","interactive-disabled":"#F1F2F9",info:"#E0E7FF","info-hover":"#EEF2FF"},icon:{default:"#110F2A",muted:"#64668B",subtle:"#9498B8",inverse:"#FFFFFF",success:"#33B287",warning:"#F59E0B",error:"#EF4444",interactive:"#564FFF","default-hover":"#1D1B35","muted-hover":"#64668B","subtle-hover":"#888AAE","default-clicked":"#060C23","muted-clicked":"#64668B","subtle-clicked":"#788804","default-disabled":"#CBCDE1","muted-disabled":"#CBCDE1","subtle-disabled":"#CBCDE1","error-hover":"#F06060","interactive-hover":"#4F46E5","error-clicked":"#DC3838","interactive-clicked":"#2BA482"},text:{default:"#040217",muted:"#64668B",placeholder:"#9498B8",success:"#135638",warning:"#906218",error:"#991B1B",interactive:"#5B4FFF","default-disabled":"#CBCDE1","interactive-hover":"#5B4FFF"},border:{default:"#E2E3F0",interactive:"#5B4FFF",focused:"#949DF9",info:"#F1F2F9",success:"#87D7B7",warning:"#FACD63",error:"#F69393","default-hover":"#E2E3F0","interactive-hover":"#5B4FFF"}};function Tee(t,e,r,n,i){var q,X,ne,ee,ce,be,ve,ge,Ee,ye,$e,we,qe,Ge,Ae,je,gt,Qt,Ie,pt,Ze,ht,bt,jt,yt,Dt,Qe,Be,Me,Xe,vt,st,ct,We,St,Jt,Nt,Le,gr,Kt,Vt,Un,Y,Q,oe,ie,le,pe,Te,Ne,Tt,mt,ut,At,Ue,tt,Je,at,ot,qt,er;let s,a,o,l,u,h,f,g,y,b,w,x,E,S,_,I,A=r?console.warn:()=>{};e!=null&&e.loginMethods?(s=e.loginMethods.includes("email"),a=e.loginMethods.includes("sms"),l=e.loginMethods.includes("wallet"),u=e.loginMethods.includes("google"),h=e.loginMethods.includes("twitter"),f=e.loginMethods.includes("discord"),b=e.loginMethods.includes("spotify"),w=e.loginMethods.includes("instagram"),g=e.loginMethods.includes("tiktok"),y=e.loginMethods.includes("line"),E=e.loginMethods.includes("github"),x=e.loginMethods.includes("linkedin"),S=e.loginMethods.includes("apple"),_=e.loginMethods.includes("farcaster"),I=e.loginMethods.includes("telegram"),o=e.loginMethods.includes("passkey")):(s=t.email_auth,a=t.sms_auth,l=t.wallet_auth||t.solana_wallet_auth,u=t.google_oauth,h=t.twitter_oauth,f=t.discord_oauth,E=t.github_oauth,b=t.spotify_oauth,w=t.instagram_oauth,g=t.tiktok_oauth,y=t.line_oauth,x=t.linkedin_oauth,S=t.apple_oauth,_=t.farcaster_auth,I=t.telegram_auth,o=t.passkey_auth),t.passkey_auth&&(o=!0),typeof window<"u"&&typeof window.PublicKeyCredential!="function"&&(o=!1);let O=[s,a].filter(Boolean),F=[u,h,f,E,b,w,g,y,x,S,_,I].filter(Boolean),H=[l].filter(Boolean),L=((q=e==null?void 0:e.loginMethods)==null?void 0:q.includes("passkey"))??!1,z=t.passkeys_for_signup_enabled??!1,V=[o&&(z||L)].filter(Boolean);if(O.length+F.length+H.length+V.length===0)throw Error("You must enable at least one login method");let K=((X=e==null?void 0:e.appearance)==null?void 0:X.showWalletLoginFirst)!==void 0?(ne=e==null?void 0:e.appearance)==null?void 0:ne.showWalletLoginFirst:t.show_wallet_login_first;K&&H.length===0?(A("You should only enable `showWalletLoginFirst` when `wallet` logins are also enabled. `showWalletLoginFirst` has been set to false"),K=!1):K||F.length+O.length!==0||(A("You should only disable `showWalletLoginFirst` when `email`, `sms`, or social logins are also enabled. `showWalletLoginFirst` has been set to true"),K=!0);let B=((ce=(ee=e==null?void 0:e.externalWallets)==null?void 0:ee.walletConnect)==null?void 0:ce.enabled)??!0;e!=null&&e.loginMethods&&e.loginMethodsAndOrder&&A("You should only configure one of `loginMethods` or `loginMethodsAndOrder`");let C=(({input:Rt,overrides:kt})=>kt?kt.primary.concat(kt.overflow??[]).filter(fz).filter(pz):Rt?Rt.filter(fz).filter(pz):Zc.appearance.walletList)({input:(be=e==null?void 0:e.appearance)==null?void 0:be.walletList,overrides:e==null?void 0:e.loginMethodsAndOrder}),k=(({input:Rt})=>{if(!Rt||!Rt.primary[0])return;let kt=[Rt.primary[0]],zt=[];for(let jr of(Rt.primary.length>4&&console.warn("You should not specify greater than 4 login methods in `loginMethodsAndOrder.primary`"),Rt.primary.slice(1)))kt.includes(jr)?console.warn(`Duplicated login method: ${jr}`):kt.push(jr);for(let jr of Rt.overflow??[])kt.includes(jr)||zt.includes(jr)?console.warn(`Duplicated login method: ${jr}`):zt.push(jr);return{primary:kt,overflow:zt}})({input:e==null?void 0:e.loginMethodsAndOrder}),N=((ve=e==null?void 0:e.intl)==null?void 0:ve.defaultCountry)??"US",{chains:D,defaultChain:P}=function({supportedChains:Rt,defaultChainFromConfig:kt}){let zt;if(Rt){if(Rt.length===0)throw Error("`supportedChains` must contain at least one chain");zt=CG(Rt)}else zt=[...pb];let jr=Rt?zt[0]:$o,$n=kt??jr;if(!zt.find(Et=>Et.id===$n.id))throw Error("`defaultChain` must be included in `supportedChains`");return{chains:zt,defaultChain:$n}}({supportedChains:e==null?void 0:e.supportedChains,defaultChainFromConfig:e==null?void 0:e.defaultChain}),R=!!(e!=null&&e.defaultChain),j=((ge=e==null?void 0:e.customAuth)==null?void 0:ge.getCustomAccessToken)&&((Ee=e==null?void 0:e.customAuth)==null?void 0:Ee.enabled)!==!1,W=j?"all-users":t.embedded_wallet_config.ethereum.create_on_login,M=t.embedded_wallet_config.solana.create_on_login;t.solana_wallet_auth&&!(($e=(ye=e==null?void 0:e.externalWallets)==null?void 0:ye.solana)!=null&&$e.connectors)&&console.warn("App configuration has Solana wallet login enabled, but no Solana wallet connectors have been passed to Privy. Make sure to pass Solana connectors to the `config.externalWallets.solana.connectors` field of the `PrivyProvider`");let G=t.telegram_auth_config?{botId:t.telegram_auth_config.bot_id,botName:t.telegram_auth_config.bot_name,linkEnabled:t.telegram_auth_config.link_enabled,seamlessAuthEnabled:t.telegram_auth_config.seamless_auth_enabled}:void 0,re=t.funding_config?{methods:t.funding_config.methods,options:t.funding_config.options,defaultRecommendedAmount:t.funding_config.default_recommended_amount,defaultRecommendedCurrency:t.funding_config.default_recommended_currency,promptFundingOnWalletCreation:t.funding_config.prompt_funding_on_wallet_creation,crossChainBridgingEnabled:t.funding_config.cross_chain_bridging_enabled}:void 0;return{id:t.id,appClientId:i,name:t.name,allowlistConfig:{errorTitle:t.allowlist_config.error_title,errorDetail:t.allowlist_config.error_detail,errorCtaText:t.allowlist_config.cta_text,errorCtaLink:t.allowlist_config.cta_link},legacyWalletUiConfig:t.legacy_wallet_ui_config,appearance:{logo:((we=e==null?void 0:e.appearance)==null?void 0:we.logo)??t.logo_url??void 0,landingHeader:((qe=e==null?void 0:e.appearance)==null?void 0:qe.landingHeader)??Zc.appearance.landingHeader,loginMessage:typeof((Ge=e==null?void 0:e.appearance)==null?void 0:Ge.loginMessage)=="string"?(Ae=e==null?void 0:e.appearance)==null?void 0:Ae.loginMessage.slice(0,100):(je=e==null?void 0:e.appearance)==null?void 0:je.loginMessage,footerLogo:(gt=e==null?void 0:e.appearance)==null?void 0:gt.footerLogo,palette:cze({backgroundTheme:((Qt=e==null?void 0:e.appearance)==null?void 0:Qt.theme)??Zc.appearance.theme,accentHex:((Ie=e==null?void 0:e.appearance)==null?void 0:Ie.accentColor)??t.accent_color}),loginGroupPriority:K?"web3-first":"web2-first",hideDirectWeb2Inputs:!!((pt=e==null?void 0:e.appearance)!=null&&pt.hideDirectWeb2Inputs),walletList:C,walletChainType:((Ze=e==null?void 0:e.appearance)==null?void 0:Ze.walletChainType)??(({evmWalletAuth:Rt,solanaWalletAuth:kt})=>Rt&&kt?"ethereum-and-solana":Rt?"ethereum-only":kt?"solana-only":"ethereum-only")({evmWalletAuth:t.wallet_auth??!1,solanaWalletAuth:t.solana_wallet_auth??!1})},loginMethods:{wallet:l,email:s,sms:a,passkey:o,google:u,twitter:h,discord:f,github:E,spotify:b,instagram:w,tiktok:g,line:y,linkedin:x,apple:S,farcaster:_,telegram:I},disablePlusEmails:t.disable_plus_emails,loginMethodsAndOrder:k,legal:{termsAndConditionsUrl:((ht=e==null?void 0:e.legal)==null?void 0:ht.termsAndConditionsUrl)??t.terms_and_conditions_url,privacyPolicyUrl:((bt=e==null?void 0:e.legal)==null?void 0:bt.privacyPolicyUrl)??t.privacy_policy_url,requireUsersAcceptTerms:t.require_users_accept_terms??!1},walletConnectCloudProjectId:(e==null?void 0:e.walletConnectCloudProjectId)??t.wallet_connect_cloud_project_id??Zc.walletConnectCloudProjectId,rpcConfig:{rpcUrls:{},rpcTimeouts:((jt=e==null?void 0:e.externalWallets)==null?void 0:jt.signatureRequestTimeouts)??{}},chains:D,defaultChain:P,intl:{defaultCountry:N},shouldEnforceDefaultChainOnConnect:R,captchaEnabled:t.captcha_enabled??Zc.captchaEnabled,captchaSiteKey:t.captcha_site_key,externalWallets:{coinbaseWallet:{config:{appName:t.name,appLogoUrl:t.logo_url,preference:{options:"all",...(Qe=(Dt=(yt=e==null?void 0:e.externalWallets)==null?void 0:yt.coinbaseWallet)==null?void 0:Dt.config)==null?void 0:Qe.preference},...(Me=(Be=e==null?void 0:e.externalWallets)==null?void 0:Be.coinbaseWallet)==null?void 0:Me.config}},baseAccount:{config:{appName:t.name,appLogoUrl:t.logo_url,...(vt=(Xe=e==null?void 0:e.externalWallets)==null?void 0:Xe.baseAccount)==null?void 0:vt.config,preference:{...(We=(ct=(st=e==null?void 0:e.externalWallets)==null?void 0:st.baseAccount)==null?void 0:ct.config)==null?void 0:We.preference,telemetry:!1}}},walletConnect:{enabled:B},solana:{connectors:(Jt=(St=e==null?void 0:e.externalWallets)==null?void 0:St.solana)==null?void 0:Jt.connectors},disableAllExternalWallets:((Nt=e==null?void 0:e.externalWallets)==null?void 0:Nt.disableAllExternalWallets)??!1},embeddedWallets:{requireUserOwnedRecoveryOnCreate:!j&&(t.embedded_wallet_config.require_user_owned_recovery_on_create??!1),userOwnedRecoveryOptions:j?["user-passcode"]:t.embedded_wallet_config.user_owned_recovery_options,priceDisplay:((Le=e==null?void 0:e.embeddedWallets)==null?void 0:Le.priceDisplay)??{primary:"fiat-currency",secondary:"native-token"},ethereum:{createOnLogin:((Kt=(gr=e==null?void 0:e.embeddedWallets)==null?void 0:gr.ethereum)==null?void 0:Kt.createOnLogin)??W},solana:{createOnLogin:((Un=(Vt=e==null?void 0:e.embeddedWallets)==null?void 0:Vt.solana)==null?void 0:Un.createOnLogin)??M},disableAutomaticMigration:((Y=e==null?void 0:e.embeddedWallets)==null?void 0:Y.disableAutomaticMigration)??!1,mode:t.embedded_wallet_config.mode,showWalletUIs:((Q=e==null?void 0:e.embeddedWallets)==null?void 0:Q.showWalletUIs)??t.enforce_wallet_uis??!0,extendedCalldataDecoding:((oe=e==null?void 0:e.embeddedWallets)==null?void 0:oe.extendedCalldataDecoding)??!1,transactionScanning:{enabled:((le=(ie=e==null?void 0:e.embeddedWallets)==null?void 0:ie.transactionScanning)==null?void 0:le.enabled)??!1,domain:((Te=(pe=e==null?void 0:e.embeddedWallets)==null?void 0:pe.transactionScanning)==null?void 0:Te.domain)??n??"https://auth.privy.io"}},mfa:{methods:t.mfa_methods??[],noPromptOnMfaRequired:((Ne=e==null?void 0:e.mfa)==null?void 0:Ne.noPromptOnMfaRequired)??!1},passkeys:{shouldUnlinkOnUnenrollMfa:(Tt=e==null?void 0:e.passkeys)==null?void 0:Tt.shouldUnlinkOnUnenrollMfa,shouldUnenrollMfaOnUnlink:(mt=e==null?void 0:e.passkeys)==null?void 0:mt.shouldUnenrollMfaOnUnlink},customAuth:j?{enabled:!0,...e.customAuth}:void 0,loginConfig:{telegramAuthConfiguration:G,passkeysForSignupEnabled:t.passkeys_for_signup_enabled},headless:!!(e!=null&&e.headless),render:{standalone:((ut=e==null?void 0:e._render)==null?void 0:ut.standalone)??Zc._render.standalone},fundingConfig:re,fundingMethodConfig:{...(e==null?void 0:e.fundingMethodConfig)??Zc.fundingMethodConfig,moonpay:{...((At=e==null?void 0:e.fundingMethodConfig)==null?void 0:At.moonpay)??Zc.fundingMethodConfig.moonpay,useSandbox:((Ue=e==null?void 0:e.fundingMethodConfig)==null?void 0:Ue.moonpay.useSandbox)??Zc.fundingMethodConfig.moonpay.useSandbox}},whatsAppEnabled:!!t.whatsapp_enabled,customOAuthRedirectUrl:e==null?void 0:e.customOAuthRedirectUrl,solanaRpcs:{"solana:mainnet":((Je=(tt=e==null?void 0:e.solana)==null?void 0:tt.rpcs)==null?void 0:Je["solana:mainnet"])??null,"solana:devnet":((ot=(at=e==null?void 0:e.solana)==null?void 0:at.rpcs)==null?void 0:ot["solana:devnet"])??null,"solana:testnet":((er=(qt=e==null?void 0:e.solana)==null?void 0:qt.rpcs)==null?void 0:er["solana:testnet"])??null}}}const Iee={show_wallet_login_first:!0,allowlist_config:{error_title:null,error_detail:null,cta_text:null,cta_link:null},wallet_auth:!0,email_auth:!0,sms_auth:!1,google_oauth:!1,twitter_oauth:!1,discord_oauth:!1,github_oauth:!1,linkedin_oauth:!1,apple_oauth:!1,disable_plus_emails:!1,terms_and_conditions_url:null,privacy_policy_url:null,embedded_wallet_config:{create_on_login:"off",ethereum:{create_on_login:"off"},solana:{create_on_login:"off"},require_user_owned_recovery_on_create:!1,user_owned_recovery_options:["user-passcode"],mode:"user-controlled-server-wallets-only"},captcha_enabled:!1,captcha_site_key:"",enforce_wallet_uis:!1,legacy_wallet_ui_config:!1,id:"",name:"",passkeys_for_signup_enabled:!1,whatsapp_enabled:!1},Nee=Tee(Iee,void 0,!1);let qT=$.createContext({appConfig:Nee,isServerConfigLoaded:!1});const uze=({children:t,client:e,legacyClient:r,clientConfig:n,appClientId:i})=>{let[s,a]=$.useState(null),o=$.useMemo(()=>Tee(s??Iee,n,!!s,typeof window<"u"?window.location.origin:void 0,i),[s,n,i]);return $.useEffect(()=>{if(!s)return;let l=function(f){var E,S;if(!f)return{};let{appearance:g,supportedChains:y,defaultChain:b,externalWallets:w,...x}=f;return{...x,...y?{supportedChains:y.map(_=>_.id)}:void 0,...b?{defaultChain:b.id}:void 0,...w?{walletConnect:w.walletConnect?{enabled:w.walletConnect.enabled}:void 0,coinbaseWallet:w.coinbaseWallet,solana:{connectors:(S=(E=w.solana)==null?void 0:E.connectors)==null?void 0:S.get().map(_=>_.walletClientType)}}:void 0}}(n),u=function(f,g=0){let y=3735928559^g,b=1103547991^g;for(let w,x=0;x<f.length;x++)y=Math.imul(y^(w=f.charCodeAt(x)),2654435761),b=Math.imul(b^w,1597334677);return y=Math.imul(y^y>>>16,2246822507)^Math.imul(b^b>>>13,3266489909),4294967296*(2097151&(b=Math.imul(b^b>>>16,2246822507)^Math.imul(y^y>>>13,3266489909)))+(y>>>0)}(JSON.stringify(l)).toString(),h=`privy:sent:${s.id}:${u}`;localStorage.getItem(h)||(r.createAnalyticsEvent({eventName:"sdk_initialize",payload:l}),localStorage.setItem(h,"t"))},[n,s]),$.useEffect(()=>{s||(async()=>{try{await e.initialize();let l=e.app.getConfig();l.custom_api_url&&r.updateApiUrl(l.custom_api_url),a(l)}catch(l){console.warn("Error generating app config: ",l)}})()},[]),p.jsx(qT.Provider,{value:{appConfig:o,isServerConfigLoaded:!!s},children:t})},Ar=()=>{let{appConfig:t}=$.useContext(qT);return t},Pee=()=>{let{isServerConfigLoaded:t}=$.useContext(qT);return t},Oee=$.createContext({app:Nee,currentScreen:null,lastScreen:null,navigate:ke,navigateBack:ke,resetNavigation:ke,setModalData:ke,onUserCloseViaDialogOrKeybindRef:void 0}),dze=t=>{var o;let e=Ar(),r=t.authenticated,[n,i]=$.useState(t.initialScreen);$.useEffect(()=>{r||!t.initialScreen||t.initialScreen.isUnauthenticatedScreem||t.setInitialScreen(null)},[r]);let s=$.useRef(null);$.useEffect(()=>{t.open||(s.current=null)},[t.open]),$.useEffect(()=>{s.current=null},[t.initialScreen]);let a={app:e,data:t.data,setModalData:t.setModalData,currentScreen:t.initialScreen,lastScreen:n,navigate:(l,u=!0)=>{t.setInitialScreen(l),u&&i(t.initialScreen)},navigateBack:()=>{t.setInitialScreen(n)},resetNavigation:()=>{t.setInitialScreen(null),i(null)},onUserCloseViaDialogOrKeybindRef:s};return p.jsxs(Oee.Provider,{value:a,children:[(typeof e.appearance.logo=="string"||((o=e.appearance.logo)==null?void 0:o.type)==="img")&&p.jsx(oze,{src:typeof e.appearance.logo=="string"?e.appearance.logo:e.appearance.logo.props.src}),t.children]})},lt=()=>$.useContext(Oee),hze=({style:t,...e})=>{let{app:r}=lt();return p.jsxs("svg",{width:"28",height:"28",viewBox:"0 0 28 28",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px",...t},...e,children:[p.jsx("rect",{width:"28",height:"28",rx:"3",fill:(r==null?void 0:r.appearance.palette.colorScheme)==="dark"?"#3396ff":"#141414"}),p.jsx("g",{clipPath:"url(#clip0_1765_9946)",children:p.jsx("path",{d:"M8.09448 10.3941C11.3558 7.20196 16.6442 7.20196 19.9055 10.3941L20.2982 10.7782C20.3369 10.8157 20.3677 10.8606 20.3887 10.9102C20.4097 10.9599 20.4206 11.0132 20.4206 11.0671C20.4206 11.121 20.4097 11.1744 20.3887 11.224C20.3677 11.2737 20.3369 11.3186 20.2982 11.3561L18.9554 12.6702C18.9158 12.7086 18.8628 12.7301 18.8077 12.7301C18.7526 12.7301 18.6996 12.7086 18.66 12.6702L18.1198 12.1415C15.8448 9.91503 12.1557 9.91503 9.88015 12.1415L9.30167 12.7075C9.26207 12.7459 9.20909 12.7673 9.15395 12.7673C9.0988 12.7673 9.04582 12.7459 9.00622 12.7075L7.66346 11.3934C7.62475 11.3559 7.59397 11.3109 7.57295 11.2613C7.55193 11.2117 7.5411 11.1583 7.5411 11.1044C7.5411 11.0505 7.55193 10.9971 7.57295 10.9475C7.59397 10.8979 7.62475 10.8529 7.66346 10.8154L8.09448 10.3941ZM22.6829 13.1115L23.8776 14.2814C23.9163 14.319 23.9471 14.3639 23.9681 14.4135C23.9892 14.4632 24 14.5165 24 14.5704C24 14.6243 23.9892 14.6777 23.9681 14.7273C23.9471 14.777 23.9163 14.8219 23.8776 14.8594L18.4893 20.1332C18.4102 20.2101 18.3042 20.2531 18.1938 20.2531C18.0835 20.2531 17.9775 20.2101 17.8984 20.1332L14.0743 16.3901C14.0545 16.3708 14.0279 16.36 14.0003 16.36C13.9726 16.36 13.9461 16.3708 13.9263 16.3901L10.1021 20.1332C10.023 20.2101 9.91703 20.2531 9.8067 20.2531C9.69636 20.2531 9.59038 20.2101 9.51124 20.1332L4.12236 14.8594C4.08365 14.8219 4.05287 14.777 4.03185 14.7273C4.01083 14.6777 4 14.6243 4 14.5704C4 14.5165 4.01083 14.4632 4.03185 14.4135C4.05287 14.3639 4.08365 14.319 4.12236 14.2814L5.31767 13.1115C5.39678 13.0348 5.50265 12.9919 5.61285 12.9919C5.72305 12.9919 5.82892 13.0348 5.90803 13.1115L9.73216 16.8546C9.75194 16.874 9.7785 16.8848 9.80616 16.8848C9.83381 16.8848 9.86037 16.874 9.88015 16.8546L13.7043 13.1115C13.7834 13.0346 13.8894 12.9916 13.9997 12.9916C14.1101 12.9916 14.216 13.0346 14.2952 13.1115L18.1198 16.8546C18.1396 16.874 18.1662 16.8848 18.1938 16.8848C18.2215 16.8848 18.2481 16.874 18.2678 16.8546L22.092 13.1115C22.1711 13.0346 22.2771 12.9916 22.3874 12.9916C22.4977 12.9916 22.6037 13.0346 22.6829 13.1115Z",fill:"white"})}),p.jsx("defs",{children:p.jsx("clipPath",{id:"clip0_1765_9946",children:p.jsx("rect",{width:"20",height:"12.2531",fill:"white",transform:"translate(4 8)"})})})]})},Mee="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAIGNIUk0AAHomAACAhAAA+gAAAIDoAAB1MAAA6mAAADqYAAAXcJy6UTwAAAAGYktHRAD/AP8A/6C9p5MAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAHdElNRQfoDAIVODUC+w+GAAAGsUlEQVRYw6WXbYwWVxXHf+fOLAtCXYS2QJdIaClipGCTknXXNqBQMVHbfmhItH4Aral+IAEaG03UxJgYKQJGTUxtDWjaxDSNtcZqIGDwpRuW1oYiVqpdpZSlpC3qysu+PHPP3w/3mXnmeXZbPzjJZO7cefn/z/mfe865xlscq3dGDIguGiHLaMQVLja4s87FShcLo5jtApdddnHexUmHIy475JmdUkPRAQMu7gzT4ljnxJpdk0QPmMFkyAKN2OfOFpc2uuh1J3MZDrjAvXmVEQUuoosRxw642FcEG7IoDxiFxNiu8NYE+vcUYIFYRKKs113bXWx2Z34CoQZsVHOiCZ7mopdzdsFhv8NexEgRDHMxUSNREbh1bwNZwBsFblmfu/a4a6AEENYO5i3AOoEWeEUCF4MOOxBDMQAOk99OJALA2u80sBCwWGBZWG/yRwMaCAbBIAsQTJT3gea1OWfNeaPzvjoHEI85rA8ObtB1v7cIdJkIHgkh9AXpocy0LJjIKvB2wPpZB0v3wkrw5jdNEjeYeMhFX3BAyfn2ke9NUrgB9LrrcZcGJFCld4fWNddXbvbWfWzGR6xJFZsBGh0cBh3bBIxIEGTQ3W0h4NuDaSAzyAxCmGq11Vzf5uaa1aG8p+WFtrEYQGwvjICJkAEqvC+YNmcmMlMNvEaCdrcbyUvQAWDTjVuESHObM6cPGWHmzDwLaEtmzG9Z3qF1zUpXmuuZBb1z4bqeNC6f0WE1NtUTwHzEloiy3BvFisy0sYoLlQtT6XW15md2Qf9SY+2Ngfdca/TMSm/9ewz+/Boc/It45h/i4kSTsKw90SQJsPTvjSZbkWemDW7qTRZ0JEYJWSKxZJ7xmf6M224MzMzbX1s8F1YugjtvMg6eErt/4/z1jUrz1rXUKxnZC2zIg2mdBTK1mFUOKC1fOt/48kdzVixIz86Nij+eEacvpJWyZJ5xy7th8VzjjpuMJfMCW58QL73ekXPVlhsyE+vyzFiplJyauEIyrGIquruMq7qTxk+dcB495rzyTzFepCUWLIFv/kBg081Gd55WUk1IDGFTS89K++TDYxddzKnWcbluHd450xgdh7EGrOo1rr868PMTzqWJRGZ2d8oB/xpL33Xnxl2rjeNn4blXRXduzJ4B5y+28kWscAwXl+yeR654FFZPHoUb710YuPeDOUdPO48di1xptKpeEeHqOcYXNwQKGd88EDk3mqxtxPSfGRlsXRtYt8z4ytPOH/7eqpg1Aso7fYKgK4NPrMpYvsC4/poMA34yVJIQC3sCD9yecdsNyaV5yPj6ryJnR1PAvSNP4J+/1cgDfLbfePaMGGtM7Qdyl12WmKOmXgKKAp54vmBRTxfLrjE+tSYjBPjRM5FrrzIeuD2jf2lLzw8vN4JlfPVp581LsO1DgXv7jSzAiXPw/d+JiYLpjsu26Yfjf5O0rF5WoxsNT9G/bX0XKxakmPjlSee6HlizJJXSX7/oRDc+vjKR+f2wODcKd78/gR8/C9uedF44myJxmhh4OY/ipMQyqaWxmjn95TfEroMFOzbkvG+RceeqViPx1Aln1yEnOow1AnffHCpJAJ5/Vex4UvzptZRdY/O/1dJIS/NkcNmR6MTYah6qzseA4TfFtw4UvHBW1bc/O+7sPhwZHYf/jMODh5yfPudVbXj2TAJ/8XxrOZagNamj4Ei2/GNfuyRxh8t6BG2l15up+MIVODEiFr8rcPS0+O6RBF6mrrEGHHtFzOo2Lo7Dl37hvPQ6mNV6R9JYKgnYWcE37K5HlE2OT/5A0udaPUBHH+BQOMzuNsYLuDyZflTW+fTcmJFDHhJhaZqewMuewXDxcDR9IYyPN6Jj+6K4MF2vV8qBtZJScqVRNi6lpGONVJis5mpKi1WbgwsY+zIsBpcR8mzIZfuTRVZrtdu9odrptR/Xx5XONXJqBmCN0P6YMUQq9WJiwt0Je102WHdbpxSqydMObBWYdwDWLVcqcIMYe3NPjg0Ht84od0Ajju1w2XCr9e6QoqM9V23ZtnmI6cfAMMb9AY0YEHdb6oobEh4y3H3Ize6LsmGvN5IdUnhttdQ9UVrfLk/ljWEZ9wXsqAdQk1EA+O22GcgdZTke/bAs3OPY4HSdcB20HhvVtTMu0jmI8ekAhz2IICj2hKpNqI60NcuIRUHEej1quzubXa2tmZhenrfZmv3YYQ9ipDAIgvHptmblccuDjdRcmjFpWbDi/9ycZjZkRbk5jYztai/AUwiUx+qdEQB/m+25i9lxyvbcjrg45Lmd0uT/3p7/Fw6ODf+WO019AAAAJXRFWHRkYXRlOmNyZWF0ZQAyMDI0LTEyLTAyVDIxOjU2OjQ4KzAwOjAwMVpslgAAACV0RVh0ZGF0ZTptb2RpZnkAMjAyNC0xMi0wMlQyMTo1Njo0OCswMDowMEAH1CoAAAAodEVYdGRhdGU6dGltZXN0YW1wADIwMjQtMTItMDJUMjE6NTY6NTMrMDA6MDDZv6GRAAAAAElFTkSuQmCC";class rg extends op{async initialize(){var r,n,i,s,a;let e=await this.createProvider();this.provider=e,this.proxyProvider.setWalletProvider(e),this.subscribeListeners(),e.session&&((n=(r=this.walletProvider)==null?void 0:r.session)!=null&&n.peer.metadata.url&&(this.walletEntry=u_((s=(i=this.walletProvider)==null?void 0:i.session)==null?void 0:s.peer.metadata.url),this.walletClientType=((a=this.walletEntry)==null?void 0:a.slug)||"unknown"),this.connected=!0,await this.syncAccounts()),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),this.getConnectedWallet()}async isConnected(){var e;return!!((e=this.walletProvider)!=null&&e.connected)}get walletBranding(){var r,n,i,s,a,o,l;let e=(i=(n=(r=this.walletProvider)==null?void 0:r.session)==null?void 0:n.peer.metadata.icons)==null?void 0:i[0];return{name:ZFe(((a=(s=this.walletProvider)==null?void 0:s.session)==null?void 0:a.peer.metadata.name)||"")||"WalletConnect",icon:typeof e=="string"?e:Mee,id:((l=(o=this.walletProvider)==null?void 0:o.session)==null?void 0:l.peer.metadata.name.toLowerCase())||"wallet_connect_v2"}}async resetConnection(e){this.walletProvider&&this.walletProvider.connected&&(await this.walletProvider.disconnect(),this.walletProvider.signer.session=void 0,this.walletClientType=e,this.redirectUri=void 0,this.fallbackUniversalRedirectUri=void 0,function(){try{localStorage.removeItem(s_)}catch{}}(),this.onDisconnect())}async promptConnection(){if(this.provider)return new Promise((e,r)=>{(async()=>{var s,a,o,l,u,h;let n="",i=await Promise.race([(s=this.walletProvider)==null?void 0:s.enable(),this.proxyProvider.walletTimeout()]);if(i!=null&&i.length&&(n=i[0]),!n||n==="")throw new ln("Unable to retrieve address");(o=(a=this.walletProvider)==null?void 0:a.session)!=null&&o.peer.metadata.url&&(this.walletEntry=u_((u=(l=this.walletProvider)==null?void 0:l.session)==null?void 0:u.peer.metadata.url),this.walletClientType=((h=this.walletEntry)==null?void 0:h.slug)||"unknown",this.proxyProvider.rpcTimeoutDuration=BT(this.rpcConfig,this.walletClientType)),this.connected=!0,await this.syncAccounts(i),e()})().catch(n=>{r(n?oh(n):new ln("Unknown error during connection"))})})}disconnect(){var e;(e=this.walletProvider)==null||e.disconnect().then(()=>this.onDisconnect()).catch(()=>console.warn("Unable to disconnect WalletConnect provider"))}get walletProvider(){return this.proxyProvider.walletProvider}setWalletProvider(e){this.proxyProvider.setWalletProvider(e)}async createProvider(){let e={};for(let s of this.chains){let a=XFe(s.id,this.chains,this.rpcConfig,this.privyAppId);a&&(e[s.id]=a)}let r=this.shouldEnforceDefaultChainOnConnect?[this.defaultChain.id]:[],n=this.chains.map(s=>s.id),i=await PFe.init({projectId:this.walletConnectCloudProjectId,chains:r,optionalChains:n,optionalEvents:VJ,optionalMethods:HJ,rpcMap:e,showQrModal:!1,metadata:{description:this.privyAppName,name:this.privyAppName,url:window.location.origin,icons:[]}});return i.on("display_uri",s=>{var a;if(i.signer.abortPairingAttempt(),function(){try{localStorage.removeItem(s_)}catch{}}(),!this.showPrivyQrModal)throw new ln("WalletConnect modal not available - Privy handles wallet connections through its own UI");if(Tr.isMobile&&this.walletEntry){let{redirect:o,href:l}=function(h,f){let g=ZJ(f);if(g.deepLink)return XJ(g.deepLink,h);if(g.universalLink)return RT(g.universalLink,h);throw new ue(`Unsupported wallet ${f.id}`)}(s,this.walletEntry);JJ(o,"_self"),function({href:h,name:f}){try{localStorage.setItem(s_,JSON.stringify({href:h,name:f}))}catch{}}({href:l,name:((a=this.walletEntry.metadata)==null?void 0:a.shortName)||this.walletEntry.name});let u=az(s,this.walletEntry);return this.redirectUri=o,this.fallbackUniversalRedirectUri=u==null?void 0:u.redirect,this.showPrivyQrModal({native:o,universal:o})}if(this.redirectUri=void 0,this.walletEntry){let o=az(s,this.walletEntry);this.fallbackUniversalRedirectUri=o==null?void 0:o.redirect}this.showPrivyQrModal({native:s,universal:void 0})}),i.on("connect",()=>{var s,a,o;(s=i.session)!=null&&s.peer.metadata.url&&(this.walletEntry=u_((a=i.session)==null?void 0:a.peer.metadata.url),this.walletClientType=((o=this.walletEntry)==null?void 0:o.slug)||"unknown")}),i}async enableProvider(){var e,r;return(e=this.walletProvider)!=null&&e.connected?Promise.resolve(this.walletProvider.accounts):await((r=this.walletProvider)==null?void 0:r.enable())}setWalletEntry(e,r){this.walletEntry=e,this.showPrivyQrModal=r}constructor({walletConnectCloudProjectId:e,rpcConfig:r,chains:n,defaultChain:i,shouldEnforceDefaultChainOnConnect:s,privyAppId:a,privyAppName:o,walletClientType:l}){super(l||"unknown",n,i,r),this.connectorType="wallet_connect_v2",this.privyAppId=a,this.privyAppName=o,this.walletConnectCloudProjectId=e,this.rpcConfig=r,this.shouldEnforceDefaultChainOnConnect=s,this.proxyProvider=new lp(void 0,this.rpcTimeoutDuration),l&&(this.walletEntry=(u=>Lb.getState().listings.find(({slug:h})=>F5(h)===F5(u)))(l),this.walletClientType=l)}}const fze={login:{onComplete:[],onError:[]},logout:{onSuccess:[]},connectWallet:{onSuccess:[],onError:[]},connectOrCreateWallet:{onSuccess:[],onError:[]},createWallet:{onSuccess:[],onError:[]},linkAccount:{onSuccess:[],onError:[]},update:{onSuccess:[],onError:[]},configureMfa:{onMfaRequired:[]},setWalletPassword:{onSuccess:[],onError:[]},setWalletRecovery:{onSuccess:[],onError:[]},signMessage:{onSuccess:[],onError:[]},signTypedData:{onSuccess:[],onError:[]},sendTransaction:{onSuccess:[],onError:[]},signTransaction:{onSuccess:[],onError:[]},accessToken:{onAccessTokenGranted:[],onAccessTokenRemoved:[]},oAuthAuthorization:{onOAuthTokenGrant:[]},fundWallet:{onUserExited:[]},fundSolanaWallet:{onUserExited:[]},customAuth:{onAuthenticated:[],onUnauthenticated:[]}},Ree=$.createContext(void 0);let jee=()=>$.useContext(Ree);function j4(t,e){if(!e)return;let r=jee().current[t];return $.useEffect(()=>{var n;for(let[i,s]of Object.entries(e))Object.prototype.hasOwnProperty.call(r,i)||console.warn(`Invalid event type "${i}" for action "${t}"`),(n=r[i])==null||n.push(s);return()=>{var i;for(let[s,a]of Object.entries(e))Object.prototype.hasOwnProperty.call(r,s)||console.warn(`Invalid event type "${s}" for action "${t}"`),r[s]=(i=r[s])==null?void 0:i.filter(o=>o!==a)}},[e])}function Ye(t,e,r,...n){for(let i of t.current[e][r])i(...n)}function cp(){let t=jee();return(e,r,...n)=>Ye(t,e,r,...n)}const kg=te.div.withConfig({displayName:"Grow",componentId:"sc-681ff332-0"})(["text-align:left;flex-grow:1;"]),pze=te.div.withConfig({displayName:"AlignBottom",componentId:"sc-681ff332-1"})(["display:flex;flex-direction:column;justify-content:flex-end;flex-grow:1;"]),$S=te.div.withConfig({displayName:"LoginMethodContainer",componentId:"sc-681ff332-2"})(["display:flex;flex-direction:column;gap:8px;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]),Dee=te($S).withConfig({displayName:"LoginMethodContainerWithScrollShadows",componentId:"sc-681ff332-3"})([""," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;max-height:400px;overflow-y:auto;scrollbar-width:none;padding:3px;"],t=>t.$colorScheme==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t.$colorScheme==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0);let gze=wi(["&&{width:100%;font-size:16px;line-height:24px;min-height:56px;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;align-items:center;color:var(--privy-color-foreground);padding:10px 12px;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);transition:background-color 200ms ease;cursor:pointer;&:hover{background-color:var(--privy-color-background-2);}&:disabled{cursor:pointer;background-color:var(--privy-color-background-2);}}"]);const mze=te.div.withConfig({displayName:"Subtitle",componentId:"sc-681ff332-4"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),En=te.button.attrs({className:"login-method-button"}).withConfig({displayName:"LoginMethodButton",componentId:"sc-681ff332-5"})(["",""],gze),dc=te.div.withConfig({displayName:"LoginMethodIconWrapper",componentId:"sc-681ff332-7"})(["width:32px;height:32px;border-radius:",";background:",";display:flex;align-items:center;justify-content:center;flex-shrink:0;svg{width:",";height:",";color:",";}"],t=>t.$fullSize?"0":"4px",t=>t.$fullSize?"transparent":"var(--privy-color-background-2)",t=>t.$fullSize?"32px":"18px",t=>t.$fullSize?"32px":"18px",t=>t.$fullSize?"inherit":"var(--privy-color-icon-muted)"),$g=te.div.withConfig({displayName:"Hide",componentId:"sc-681ff332-8"})(["width:100%;height:100%;min-height:inherit;display:flex;flex-direction:column;",""],t=>t.$if?"display: none;":""),yze=te.div.withConfig({displayName:"EmptyWalletState",componentId:"sc-681ff332-9"})(["width:100%;height:100%;padding:",";"],t=>t.$withPadding?"64px 0px":"0px"),bze=te.div.withConfig({displayName:"Header",componentId:"sc-681ff332-10"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-bottom:32px;gap:12px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]);function wze(t){return p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 460 40",...t,children:p.jsx("g",{fill:t.color||"var(--privy-color-foreground)",children:p.jsx("path",{d:"M0 15.4v15.38h4.64V19.96h3.58c2.47 0 3.63-.01 3.77-.02 1-.08 1.49-.15 2.18-.3a9.45 9.45 0 0 0 4.6-2.37c1.66-1.57 2.64-3.87 2.81-6.56.02-.3.02-1.19 0-1.49-.1-1.77-.56-3.35-1.36-4.72A8.84 8.84 0 0 0 15.14.57c-.93-.3-1.75-.43-3.09-.54C11.9.02 10.2 0 5.93 0H0ZM10.85 4c1.85.05 3.1.45 4.16 1.3.22.17.54.49.69.68a5.97 5.97 0 0 1 1.19 3.13c.04.35.04 1.36 0 1.71-.08.68-.23 1.3-.44 1.85a4.8 4.8 0 0 1-1.09 1.68A5.63 5.63 0 0 1 12 15.92c-.6.08-.4.08-4.01.09H4.64V3.98h2.9c1.6 0 3.08 0 3.31.02ZM187.65 5.71v5.72h-.27l-.09-.14a15.9 15.9 0 0 0-1.21-1.73c-.43-.5-1-.95-1.7-1.36-.54-.3-1.05-.5-1.73-.63a8.98 8.98 0 0 0-1.7-.17 8.84 8.84 0 0 0-7.8 4.03 12.95 12.95 0 0 0-2.03 6.39c-.07.98-.06 2.15.02 3.13.2 2.47.87 4.53 2.02 6.25a8.98 8.98 0 0 0 10.22 3.65 6.5 6.5 0 0 0 2.8-1.93c.41-.51.84-1.1 1.1-1.55l.1-.17h.37v3.58h4.38V0h-4.48Zm-5.24 5.54c1.3.14 2.3.6 3.17 1.48.9.9 1.5 2.09 1.85 3.64.36 1.6.39 3.72.06 5.43a8.13 8.13 0 0 1-1.54 3.62 5.1 5.1 0 0 1-3.93 1.96 6.13 6.13 0 0 1-2.32-.31 5.87 5.87 0 0 1-3.33-3.5c-.39-1-.62-2.05-.72-3.32-.03-.32-.04-1.35-.02-1.73.08-1.56.4-2.91.96-4.05a6.2 6.2 0 0 1 1.06-1.58 5.08 5.08 0 0 1 3.6-1.66c.25-.02.9 0 1.16.02ZM210.07 15.39l.01 15.38h4.38l.01-3.57h.37l.09.15c.24.44.84 1.26 1.21 1.7a6.79 6.79 0 0 0 2.57 1.75 9.3 9.3 0 0 0 6.86-.49 9.28 9.28 0 0 0 4.05-4.07A13.05 13.05 0 0 0 231 21.6c.21-1.73.18-3.7-.09-5.32a13.03 13.03 0 0 0-1.5-4.3 9.1 9.1 0 0 0-3.75-3.63 9.15 9.15 0 0 0-4.43-.96 7.46 7.46 0 0 0-2.8.5A7.07 7.07 0 0 0 216 9.7c-.4.52-.82 1.12-1.1 1.59l-.07.14h-.27V0h-4.5Zm11.13-4.14c1.07.1 1.94.44 2.7 1.04a6.1 6.1 0 0 1 1.64 1.98c.43.84.78 2 .94 3.11.15 1.16.16 2.4.02 3.54a9.34 9.34 0 0 1-1.39 4.03 5.33 5.33 0 0 1-2.69 2.15c-.9.3-2.04.38-3.06.2a5.14 5.14 0 0 1-3.45-2.37 6.03 6.03 0 0 1-.45-.8c-.5-1.03-.8-2.2-.92-3.58-.04-.49-.06-.89-.05-1.53.01-.76.05-1.23.13-1.85.38-2.53 1.47-4.38 3.15-5.31a5.46 5.46 0 0 1 2.3-.63 10 10 0 0 1 1.13.02ZM69.05 2.17l-.01 2.77V7.7h-3.36v3.6h3.36v6.8l.01 7.15c.06 1.4.4 2.44 1.1 3.37a5.8 5.8 0 0 0 2.97 2.07c.91.3 1.83.42 2.9.38a8.71 8.71 0 0 0 2.66-.48l-.8-3.7-.38.06a4.96 4.96 0 0 1-2.43-.06c-.33-.1-.56-.25-.8-.49-.4-.41-.6-.88-.7-1.67-.02-.2-.02-.62-.03-6.82v-6.6h4.73V7.7h-4.73V2.16h-4.49ZM133.34 2.17V7.7h-3.39v3.6h3.38v6.9l.01 7.17a5.66 5.66 0 0 0 2.36 4.49c.85.6 2.03 1.03 3.26 1.17.85.1 2.03.05 2.81-.1.3-.06.75-.18 1-.26l.2-.06v-.05l-.81-3.67-.37.06a4.99 4.99 0 0 1-1.8.09c-.85-.13-1.32-.4-1.7-.97a2.63 2.63 0 0 1-.39-1.04c-.06-.4-.06 0-.06-7.1V11.3h4.7V7.7h-4.7l-.01-2.77V2.16h-4.49ZM293.41 2.36a14.56 14.56 0 0 0-13.7 16.07 14.59 14.59 0 0 0 21.86 11.08 14.5 14.5 0 0 0 7.11-14.07 14.61 14.61 0 0 0-6.53-10.73 14.49 14.49 0 0 0-8.74-2.35ZM350.8 2.36a10.17 10.17 0 0 0-7.56 4.2c-.16.2-.45.63-.58.83l-.05.1h-.47l-.01-4.36h-7.36v36.4h7.82V27.27h.49l.05.07a11.3 11.3 0 0 0 7.49 4.15 10.52 10.52 0 0 0 9.38-4.1c1.66-2.1 2.73-4.9 3.07-8.06.1-.87.13-1.4.13-2.37 0-.8 0-1.1-.07-1.76a15.95 15.95 0 0 0-3.23-8.72 12.8 12.8 0 0 0-1.85-1.84 10.49 10.49 0 0 0-7.26-2.28Zm-.94 6.05c1.27.15 2.33.65 3.2 1.5.98.96 1.67 2.31 2.03 4 .34 1.57.38 3.68.12 5.39a9.78 9.78 0 0 1-1.04 3.25c-.14.25-.44.69-.6.89a5.35 5.35 0 0 1-4.31 2.07 5.25 5.25 0 0 1-4.41-1.9 7.35 7.35 0 0 1-1.26-2.32 14.09 14.09 0 0 1-.62-4.83c.05-1.98.38-3.53 1.02-4.85a5.63 5.63 0 0 1 2.5-2.65c.66-.34 1.3-.5 2.14-.58.18-.02 1.04 0 1.23.03ZM363.63 3.1l-.01 3.2v3.16h1.43c1.26.01 1.44.02 1.54.04.42.09.66.28.79.62.08.23.08.08.08 2.96a911.57 911.57 0 0 1 .03 10.18v7.54h7.82v-7.4l.01-7.83c.03-.94.11-1.63.27-2.28.46-1.9 1.54-2.93 3.35-3.23.52-.08.2-.08 5-.08h4.4V3.08h-3.1c-3.48 0-3.91.01-4.67.1-1.83.2-3.04.79-3.96 1.88-.5.6-.9 1.32-1.26 2.26l-.06.17h-.46V3.09h-5.6c-4.46 0-5.6 0-5.6.02ZM390.8 16.95V30.8h3.87l3.86-.01V3.09h-7.73ZM400.6 3.1l-.01.4v.38l4.66 13.4 4.69 13.47.02.05h10.3l.03-.05 4.67-13.45 4.67-13.4V3.1h-7.43l-6.7 19.26h-.5l-3.28-9.5-3.31-9.64-.05-.12h-3.88l-3.88.01ZM430.98 3.1c-.01 0-.02.19-.02.4v.39l5.08 14.59c2.8 8.02 5.08 14.6 5.08 14.61.01.02-.22.02-4.8.02h-4.82v6.42h4.95c5.09 0 5.23 0 5.87-.06 3.15-.28 5.29-1.63 6.63-4.15.28-.55.44-.95.87-2.16L459 6.78l1-2.89v-.8h-7.43l-6.69 19.26h-.5l-3.27-9.46-3.31-9.64-.06-.16h-3.88l-3.88.01ZM36.57 7.36c-1.36.1-2.6.6-3.62 1.45a5.65 5.65 0 0 0-1.67 2.42l-.05.13H31V7.7h-4.35v23.08h4.5v-7.3c0-8 0-7.34.08-7.82a4.89 4.89 0 0 1 2.06-3.18c.83-.58 1.74-.89 2.87-.98a11.87 11.87 0 0 1 2.8.25H39v-4.3l-.21-.02c-.61-.07-1.74-.1-2.22-.07ZM51.08 7.41c-2.33.12-4.3.84-5.95 2.16a9.89 9.89 0 0 0-2.03 2.2 12.5 12.5 0 0 0-2 5.78 18.04 18.04 0 0 0 0 3.65 12.13 12.13 0 0 0 2.26 6.05 9.74 9.74 0 0 0 5 3.52c2.11.64 4.7.64 6.8 0a9.78 9.78 0 0 0 4.88-3.37c1.38-1.78 2.19-4 2.4-6.58.13-1.46.06-3.06-.18-4.42a11.24 11.24 0 0 0-3.58-6.6 10 10 0 0 0-5.75-2.35c-.56-.06-1.31-.07-1.85-.04Zm1.42 3.78c.88.1 1.62.34 2.28.75a6.13 6.13 0 0 1 1.99 2.15 10.31 10.31 0 0 1 1.2 5c.02 1.23-.12 2.44-.42 3.51a7.14 7.14 0 0 1-1.81 3.32c-.61.6-1.2.98-1.95 1.24a6 6 0 0 1-2 .3 5.7 5.7 0 0 1-2.72-.6 5 5 0 0 1-1.28-.94A7.1 7.1 0 0 1 46 22.73c-.57-1.99-.6-4.46-.08-6.5a7.24 7.24 0 0 1 2.03-3.67 5.13 5.13 0 0 1 3.35-1.4 11 11 0 0 1 1.2.03ZM92.05 7.4c-.96.06-1.56.15-2.3.33a9.62 9.62 0 0 0-6.09 4.66 13.5 13.5 0 0 0-1.71 7c0 .83 0 1.04.06 1.6.16 1.77.58 3.32 1.29 4.7A9.72 9.72 0 0 0 90.28 31c1.84.37 4.08.32 5.85-.13a9.07 9.07 0 0 0 5.02-3.1A7.64 7.64 0 0 0 102.5 25l-2.11-.39-2.11-.38-.08.13a4.72 4.72 0 0 1-2.35 2.55 6.3 6.3 0 0 1-2.23.58c-.29.03-1.13.03-1.44 0a6.35 6.35 0 0 1-3.02-1.04 5.93 5.93 0 0 1-2.02-2.43 8.44 8.44 0 0 1-.72-3.18v-.26h16.38v-.81c0-1.83-.06-2.76-.25-3.87-.2-1.22-.53-2.24-1.05-3.28a8.9 8.9 0 0 0-2.66-3.26 10.1 10.1 0 0 0-5.34-1.94 18.3 18.3 0 0 0-1.46-.03Zm1.3 3.75c1.2.13 2.19.55 3.05 1.3a5.8 5.8 0 0 1 1.78 2.96c.13.51.21 1.17.21 1.66v.15H86.43v-.12c.08-.97.3-1.78.72-2.61.5-1 1.2-1.8 2.14-2.42a5.32 5.32 0 0 1 2.9-.95c.2-.01.97 0 1.17.03ZM116.79 7.41c-2 .1-3.73.65-5.22 1.65a10.7 10.7 0 0 0-4.25 6.06 16.1 16.1 0 0 0-.5 5.8c.2 2.17.84 4.13 1.88 5.76.58.9 1.32 1.73 2.15 2.4a9.37 9.37 0 0 0 3.6 1.8 12.06 12.06 0 0 0 3.92.34 10.2 10.2 0 0 0 3.84-.95 8.31 8.31 0 0 0 4.76-6.75l.01-.04h-4.37l-.05.16a4.87 4.87 0 0 1-4.24 3.75c-.59.07-1.32.06-1.93-.05a5.47 5.47 0 0 1-3.5-2.27c-.56-.75-1-1.73-1.26-2.79a13.8 13.8 0 0 1-.16-5.24 7.77 7.77 0 0 1 2.1-4.3 5.48 5.48 0 0 1 2.15-1.3 6.4 6.4 0 0 1 3.89.1c.59.21 1.03.5 1.5.96a5.32 5.32 0 0 1 1.46 2.5l.04.15h4.37v-.06a8.22 8.22 0 0 0-5.31-6.94 10.98 10.98 0 0 0-4.88-.74ZM156.2 7.41a9.87 9.87 0 0 0-6 2.29 11.02 11.02 0 0 0-3.41 5.43c-.52 1.78-.68 3.9-.48 5.97.17 1.8.63 3.38 1.37 4.8a9.68 9.68 0 0 0 5.91 4.86c1.65.48 3.63.61 5.53.36 3.72-.49 6.55-2.62 7.56-5.69.12-.39.13-.42.1-.43-.02 0-4.13-.75-4.19-.75-.03 0-.04 0-.1.16-.18.42-.45.9-.72 1.22-.16.2-.49.53-.7.7-.67.54-1.5.9-2.43 1.08-.48.08-.83.11-1.41.11-.64 0-1.07-.04-1.6-.15a5.76 5.76 0 0 1-3.93-2.83 8 8 0 0 1-.99-3.79v-.16h16.38v-1.11l-.02-1.43c-.1-2.25-.53-4-1.35-5.59a9.24 9.24 0 0 0-6.18-4.75c-1.04-.26-2.2-.36-3.33-.3Zm1.45 3.74a5.35 5.35 0 0 1 3.66 1.94 6.1 6.1 0 0 1 1.38 4.01v.12h-11.97v-.06c0-.02 0-.14.02-.25a6.6 6.6 0 0 1 2.15-4.32 5.73 5.73 0 0 1 3.5-1.46c.25-.02 1 0 1.26.02ZM233.58 7.82l8.37 23.22a49.22 49.22 0 0 1-.67 1.9 5.36 5.36 0 0 1-1.14 1.8c-.41.4-.82.58-1.48.69-.27.04-1.03.03-1.35 0a8.05 8.05 0 0 1-1.1-.23l-1.08 3.67c0 .02.32.14.66.22.83.21 1.57.29 2.56.28.56-.01.8-.03 1.24-.1 2.71-.4 4.66-2.09 5.86-5.08l9.64-26.44c0-.02-4.82-.06-4.83-.05l-2.93 8.96-2.91 8.94h-.24l-.22-.65-2.91-8.95-2.7-8.3H233.53ZM293.05 35.8c-1.18.04-1.93.09-2.8.16-2.52.24-4.53.69-5.43 1.23-.7.41-.76.86-.2 1.28.88.66 3.29 1.19 6.36 1.4a48.55 48.55 0 0 0 5.75.05c3.47-.19 6.24-.78 7.11-1.5.22-.19.3-.34.3-.53 0-.1 0-.12-.04-.22-.35-.69-2.32-1.3-5.25-1.63a41.09 41.09 0 0 0-5.8-.24Zm0 0"})})})}let gz=te.span.withConfig({displayName:"TermsAndConditionsContainer",componentId:"sc-ff3bd734-0"})(["margin-top:16px;font-size:13px;text-align:center;color:var(--privy-color-foreground-3);display:block;&& > a{color:var(--privy-color-accent);}"]);function HT({app:{legal:{privacyPolicyUrl:t,termsAndConditionsUrl:e,requireUsersAcceptTerms:r}},alwaysShowImplicitConsent:n}){let i=!(!t||!e);return r&&!n||!e&&!t?p.jsx(gz,{}):p.jsxs(gz,{children:["By logging in I agree to the"," ",e&&p.jsx("a",{href:e,target:"_blank",children:i?"Terms":"Terms of Service"}),i&&" & ",t&&p.jsx("a",{href:t,target:"_blank",children:"Privacy Policy"})]})}const Ur=({className:t})=>{let{appearance:e}=Ar();return p.jsx(Gn,{className:t,children:e.footerLogo??p.jsx(vze,{href:"https://www.privy.io/",target:"_blank",id:"protected-by-privy",children:p.jsx(wze,{color:"currentColor",height:13,width:150})})})};let vze=te.a.withConfig({displayName:"PrivyLink",componentId:"sc-ff3bd734-1"})(["&&{padding:0;color:var(--privy-color-foreground-3);}"]);const Gn=te.div.withConfig({displayName:"ModalFooter",componentId:"sc-ff3bd734-2"})(["display:flex;align-items:center;justify-content:center;padding-top:8px;padding-bottom:12px;gap:8px;font-size:13px;&& a{padding:0.5rem 0;&:hover{text-decoration:none;}}@media all and (display-mode:standalone){padding-bottom:30px;}"]),Uee=({success:t,fail:e})=>p.jsxs(xze,{children:[p.jsx(mz,{children:p.jsx(VT,{className:t?"success":e?"fail":""})}),p.jsx(mz,{children:p.jsx(_o,{className:t?"success":e?"fail":""})})]});let mz=te.span.withConfig({displayName:"PositionedAbsoluteLoader",componentId:"sc-aba6339d-0"})(["&&{position:absolute;top:0;left:0;z-index:2;}"]),xze=te.span.withConfig({displayName:"ConnectionLoaderContainer",componentId:"sc-aba6339d-1"})(["position:relative;width:82px;height:82px;display:inline-block;"]);const _o=te.span.withConfig({displayName:"Loader",componentId:"sc-aba6339d-2"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;}@keyframes rotation{0%{transform:rotate(0deg);}100%{transform:rotate(360deg);}}&&&.success{border-color:var(--privy-color-icon-success);border-bottom-color:var(--privy-color-icon-success);}&&&.fail{border-color:var(--privy-color-icon-error);border-bottom-color:var(--privy-color-icon-error);}"],t=>t.color??"var(--privy-color-icon-subtle)"),VT=te(_o).withConfig({displayName:"LoaderFaint",componentId:"sc-aba6339d-3"})(["&&{border-bottom-color:",";border-color:",";animation:none;opacity:0.5;}"],t=>t.color??"var(--privy-color-border-default)",t=>t.color??"var(--privy-color-border-default)"),ch=t=>p.jsx(Eze,{color:t.color||"var(--privy-color-foreground-3)"});let Eze=te(_o).withConfig({displayName:"StyledButtonLoader",componentId:"sc-aba6339d-4"})(["&&{height:1rem;width:1rem;margin:2px 0;border-width:1.5px;transition:border-color 200ms ease;}"]);const Bf=({variant:t="primary",size:e="lg",children:r,success:n,...i})=>{switch(t){case"secondary":return p.jsx(bl,{size:e,...i,children:r});case"error":return p.jsx(bl,{$warn:!0,size:e,...i,children:r});case"muted":return p.jsx(Aze,{size:e,...i,children:r});default:return p.jsx(Kr,{size:e,success:n,...i,children:r})}},D4=te.button.withConfig({displayName:"BaseButton",componentId:"sc-e537b447-0"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:auto;cursor:pointer;border-radius:",";font-size:14px;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{height:",";padding:0 ",";}"],({$size:t})=>t==="sm"?"6px":"var(--privy-border-radius-sm)",({$size:t})=>t==="sm"?"28px":"48px",({$size:t})=>t==="sm"?"10px":"16px"),Kr=({children:t,loading:e,disabled:r,success:n,size:i="lg",loadingText:s="Loading...",as:a,onClick:o,...l})=>{let u=a==="a",h=!(!e&&!r);return p.jsx(Cze,{as:a,disabled:u?void 0:h,"aria-disabled":u?h:void 0,$success:n,$size:i,onClick:f=>{u&&h?f.preventDefault():o==null||o(f)},...l,children:e?p.jsxs(p.Fragment,{children:[p.jsx(ch,{}),s?p.jsx("span",{style:{marginLeft:"8px"},children:s}):null]}):t})},z5=({children:t,loading:e,disabled:r,...n})=>p.jsx(_ze,{disabled:r,...n,children:e?p.jsx(ch,{color:"var(--privy-color-foreground-accent)"}):t});let _ze=te(D4).withConfig({displayName:"StyledPrimaryButtonWithoutGray",componentId:"sc-e537b447-1"})(["position:relative;&&{background-color:var(--privy-color-accent);color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:var(--privy-color-accent-dark);}&:active{background-color:var(--privy-color-accent-dark);}&:disabled,&:hover:disabled,&:active:disabled{cursor:not-allowed;color:var(--privy-color-foreground-disabled);background-color:var(--privy-color-accent-dark);}"]),Cze=te(D4).withConfig({displayName:"StyledPrimaryButton",componentId:"sc-e537b447-2"})(["position:relative;&&{background-color:",";color:var(--privy-color-foreground-accent);transition:background-color 200ms ease;}&:hover{background-color:",";}&:active{background-color:",";}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;}&:disabled{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent-dark)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent-dark)",t=>t.disabled&&wi(["&&&,&&&:hover,&&&:active{background-color:var(--privy-color-background-2);border:1px solid var(--privy-color-border-default);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"]));const bl=({children:t,loading:e,disabled:r,size:n="lg",loadingText:i="Loading...",as:s,onClick:a,...o})=>{let l=s==="a",u=!(!e&&!r);return p.jsx(Sze,{as:s,disabled:l?void 0:u,"aria-disabled":l?u:void 0,$size:n,onClick:h=>{l&&u?h.preventDefault():a==null||a(h)},...o,children:e?p.jsxs(p.Fragment,{children:[p.jsx(ch,{}),i?p.jsx("span",{style:{marginLeft:"8px"},children:i}):null]}):t})},Aze=({children:t,loading:e,disabled:r,size:n="lg",loadingText:i="Loading...",as:s,onClick:a,...o})=>{let l=s==="a",u=!(!e&&!r);return p.jsx(kze,{as:s,disabled:l?void 0:u,"aria-disabled":l?u:void 0,$size:n,onClick:h=>{l&&u?h.preventDefault():a==null||a(h)},...o,children:e?p.jsxs(p.Fragment,{children:[p.jsx(ch,{}),i?p.jsx("span",{style:{marginLeft:"8px"},children:i}):null]}):t})};let Sze=te(D4).withConfig({displayName:"StyledSecondaryButton",componentId:"sc-e537b447-3"})(["&&{border-width:1px;border-style:solid;border-color:",";background-color:var(--privy-color-background);color:",";transition:border-color 200ms ease,color 200ms ease,background-color 200ms ease;}&:hover{border-color:",";background-color:",";color:",";}&:active{border-color:",";background-color:",";color:",";}&:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-border-interactive-hover)",t=>t.$warn?"var(--privy-color-error-light)":"var(--privy-color-info-bg-hover)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.$warn?"var(--privy-color-border-error)":"var(--privy-color-border-interactive)",t=>t.$warn?"var(--privy-color-error-bg-hover)":"var(--privy-color-info-bg)",t=>t.$warn?"var(--privy-color-error-dark)":"var(--privy-color-accent)",t=>t.disabled&&wi(["&&&,&&&:hover,&&&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"])),kze=te(D4).withConfig({displayName:"StyledMutedButton",componentId:"sc-e537b447-4"})(["&&{border-width:1px;border-style:solid;border-color:var(--privy-color-border-default);background-color:transparent;color:var(--privy-color-text-muted);transition:border-color 200ms ease,color 200ms ease,background-color 200ms ease;}&:hover{border-color:var(--privy-color-border-default);background-color:var(--privy-color-info-bg-hover);color:var(--privy-color-foreground-2);}&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-info-bg);color:var(--privy-color-foreground-2);}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;}&:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}&:hover:disabled,&:active:disabled{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}",""],t=>t.disabled&&wi(["&&&,&&&:hover,&&&:active{border-color:var(--privy-color-border-default);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-disabled);cursor:not-allowed;}"]));const U4=({children:t,onClick:e,disabled:r,isSubmitting:n,...i})=>p.jsxs($ze,{$isSubmitting:n,onClick:e,disabled:r,...i,children:[p.jsx("span",{children:t}),p.jsx("span",{children:p.jsx(ch,{})})]});let $ze=te.button.withConfig({displayName:"StyledEmbeddedButton",componentId:"sc-e537b447-7"})(["&&{color:var(--privy-color-accent);font-size:16px;font-style:normal;font-weight:500;line-height:24px;cursor:pointer;border-radius:0px var(--privy-border-radius-mdlg) var(--privy-border-radius-mdlg) 0px;border:none;transition:color 200ms ease;@media (min-width:441px){font-size:14px;}:hover{color:var(--privy-color-accent-dark);}&& > :first-child{opacity:",";}&& > :last-child{position:absolute;display:flex;top:50%;left:50%;transform:translate3d(-50%,-50%,0);opacity:",";}:disabled,:hover:disabled{color:var(--privy-color-foreground-disabled);cursor:not-allowed;}}"],t=>t.$isSubmitting?0:1,t=>t.$isSubmitting?1:0);const Tze=({backFn:t})=>p.jsx("div",{children:p.jsx(GT,{onClick:t,children:p.jsx(c7e,{height:"16px",width:"16px",strokeWidth:2})})}),Ize=({infoFn:t})=>p.jsx("div",{children:p.jsx(Pze,{"aria-label":"info",onClick:t,children:p.jsx(J0,{height:"22px",width:"22px",strokeWidth:2})})}),Nze=t=>p.jsx("div",{children:p.jsx(GT,{"aria-label":"close modal",onClick:t.onClose,children:p.jsx(tEe,{height:"16px",width:"16px",strokeWidth:2})})}),ur=({backFn:t,infoFn:e,onClose:r,title:n,closeable:i=!0,className:s})=>{let{closePrivyModal:a}=rt(),o=Ar();return p.jsxs(Oze,{className:s,children:[p.jsxs(Mze,{children:[t&&p.jsx(Tze,{backFn:t}),e&&p.jsx(Ize,{infoFn:e})]}),n&&p.jsx(jze,{id:"privy-dialog-title",children:n}),p.jsx(Rze,{children:!o.render.standalone&&i&&p.jsx(Nze,{onClose:r||(()=>a())})})]})};let GT=te.button.withConfig({displayName:"StyledButton",componentId:"sc-e033e17a-0"})(["&&{cursor:pointer;display:flex;opacity:0.6;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-full);padding:4px;> svg{margin:auto;color:var(--privy-color-foreground);}:hover{opacity:1;}}"]),Pze=te(GT).withConfig({displayName:"TransparentStyledButton",componentId:"sc-e033e17a-1"})(["&&{background-color:transparent;}"]),Oze=te.div.withConfig({displayName:"StyledHeader",componentId:"sc-e033e17a-2"})(["padding:16px 0;display:flex;align-items:center;justify-content:space-between;h2{font-size:16px;line-height:24px;font-weight:600;color:var(--privy-color-foreground);}"]),Mze=te.div.withConfig({displayName:"LeftActionContainer",componentId:"sc-e033e17a-3"})(["flex:1;align-items:center;display:flex;gap:8px;"]),Rze=te.div.withConfig({displayName:"RightActionContainer",componentId:"sc-e033e17a-4"})(["flex:1;display:flex;justify-content:flex-end;"]),jze=te.div.withConfig({displayName:"TitleContainer",componentId:"sc-e033e17a-5"})(["overflow:hidden;white-space:nowrap;max-width:100%;text-overflow:ellipsis;text-align:center;color:var(--privy-color-foreground-2);"]);const nm=({size:t})=>p.jsx(Dze,{$size:t,children:p.jsxs(Uze,{children:[p.jsx(Bze,{}),p.jsx(Lze,{})]})});let Dze=te.div.withConfig({displayName:"LoadingContainer",componentId:"sc-5be8451e-0"})(["--spinner-size:",";display:inline-flex;justify-content:center;align-items:center;@media all and (display-mode:standalone){margin-bottom:30px;}"],t=>t.$size?t.$size:"96px"),Uze=te.div.withConfig({displayName:"SpinnerContainer",componentId:"sc-5be8451e-1"})(["position:relative;height:var(--spinner-size);width:var(--spinner-size);opacity:1;animation:fadein 200ms ease;"]),Bze=te.div.withConfig({displayName:"CircleFixed",componentId:"sc-5be8451e-2"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);&&{border:4px solid var(--privy-color-border-default);border-radius:50%;}"]),Lze=te.div.withConfig({displayName:"CircleRotate",componentId:"sc-5be8451e-3"})(["position:absolute;top:0;right:0;bottom:0;left:0;width:var(--spinner-size);height:var(--spinner-size);animation:spin 1200ms linear infinite;&&{border:4px solid;border-color:var(--privy-color-icon-subtle) transparent transparent transparent;border-radius:50%;}@keyframes spin{from{transform:rotate(0deg);}to{transform:rotate(360deg);}}"]);const Fze=te.div.withConfig({displayName:"ScreenRoot",componentId:"sc-cc9e9a32-0"})(["--screen-space:16px;--screen-space-lg:calc(var(--screen-space) * 1.5);position:relative;overflow:hidden;margin:0 calc(-1 * var(--screen-space));height:100%;border-radius:var(--privy-border-radius-lg);"]),zze=te.div.withConfig({displayName:"ScreenRootInner",componentId:"sc-cc9e9a32-1"})(["display:flex;flex-direction:column;gap:calc(var(--screen-space) * 1.5);width:100%;background:var(--privy-color-background);padding:0 var(--screen-space-lg) var(--screen-space);height:100%;border-radius:var(--privy-border-radius-lg);"]),Wze=te.div.withConfig({displayName:"HeaderContainer",componentId:"sc-cc9e9a32-2"})(["position:relative;display:flex;flex-direction:column;"]),qze=te(ur).withConfig({displayName:"StyledModalHeader",componentId:"sc-cc9e9a32-3"})(["margin:0 -8px;"]),Hze=te.div.withConfig({displayName:"BodyContainer",componentId:"sc-cc9e9a32-4"})(["flex:1 1 auto;display:flex;flex-direction:column;overflow-y:auto;padding:3px;margin:-3px;&::-webkit-scrollbar{display:none;}scrollbar-gutter:stable both-edges;scrollbar-width:none;-ms-overflow-style:none;"," background-repeat:no-repeat;background-size:100% 32px,100% 16px;background-attachment:local,scroll;"],({$colorScheme:t})=>t==="light"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(0, 0, 0, 0) 20%, rgba(0, 0, 0, 0.06)) bottom;":t==="dark"?"background: linear-gradient(var(--privy-color-background), var(--privy-color-background) 70%) bottom, linear-gradient(rgba(255, 255, 255, 0) 20%, rgba(255, 255, 255, 0.06)) bottom;":void 0),Vze=te.div.withConfig({displayName:"FooterContainer",componentId:"sc-cc9e9a32-5"})(["display:flex;flex-direction:column;gap:var(--screen-space-lg);"]);let Gze=te.div.withConfig({displayName:"CenteredHeader",componentId:"sc-cc9e9a32-6"})(["text-align:center;display:flex;flex-direction:column;align-items:center;gap:var(--screen-space);"]),Kze=te.div.withConfig({displayName:"TitleContainer",componentId:"sc-cc9e9a32-7"})(["display:flex;flex-direction:column;gap:4px;"]),Yze=te.h3.withConfig({displayName:"HeaderTitle",componentId:"sc-cc9e9a32-8"})(["&&{font-size:20px;line-height:32px;font-weight:500;color:var(--privy-color-foreground);margin:0;}"]),Zze=te.p.withConfig({displayName:"HeaderSubtitle",componentId:"sc-cc9e9a32-9"})(["&&{margin:0;font-size:16px;font-weight:300;line-height:24px;color:var(--privy-color-foreground);}"]),yz=te.div.withConfig({displayName:"IconContainer",componentId:"sc-cc9e9a32-10"})(["background:",";border-radius:50%;width:64px;height:64px;display:flex;align-items:center;justify-content:center;"],({$variant:t})=>{switch(t){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"warning":return"var(--privy-color-warn, #FEF3C7)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";case"loading":case"logo":return"transparent";default:return"var(--privy-color-background-2)"}}),Qze=te.div.withConfig({displayName:"LogoContainer",componentId:"sc-cc9e9a32-11"})(["display:flex;align-items:center;justify-content:center;margin-bottom:var(--screen-space);img,svg{max-height:90px;max-width:180px;}"]),Xze=te.div.withConfig({displayName:"LoadingWithIconContainer",componentId:"sc-cc9e9a32-12"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > :first-child{position:relative;}> div > :last-child{position:absolute;left:50%;top:50%;transform:translate(-50%,-50%);}"]);const Wr=({children:t,...e})=>p.jsx(Fze,{children:p.jsx(zze,{...e,children:t})});let Jze=te.div.withConfig({displayName:"ProgressBarContainer",componentId:"sc-cc9e9a32-13"})(["position:absolute;top:0;left:calc(-1 * var(--screen-space-lg));width:calc(100% + calc(var(--screen-space-lg) * 2));height:4px;background:var(--privy-color-background-2);border-top-left-radius:inherit;border-top-right-radius:inherit;overflow:hidden;"]),eWe=te(Ur).withConfig({displayName:"StyledBlobbyFooter",componentId:"sc-cc9e9a32-14"})(["padding:0;&& a{padding:0;color:var(--privy-color-foreground-3);}"]),tWe=te.div.withConfig({displayName:"ProgressBarFill",componentId:"sc-cc9e9a32-15"})(["height:100%;width:","%;background:var(--privy-color-foreground-3);border-radius:2px;transition:width 300ms ease-in-out;"],({pct:t})=>t),rWe=({step:t})=>t?p.jsx(Jze,{children:p.jsx(tWe,{pct:Math.min(100,t.current/t.total*100)})}):null;Wr.Header=({title:t,subtitle:e,icon:r,iconVariant:n,iconLoadingStatus:i,showBack:s,onBack:a,showInfo:o,onInfo:l,showClose:u,onClose:h,step:f,...g})=>p.jsxs(Wze,{...g,children:[p.jsx(qze,{backFn:s?a:void 0,infoFn:o?l:void 0,onClose:u?h:void 0,closeable:u}),(r||n||t||e)&&p.jsxs(Gze,{children:[r||n?p.jsx(Wr.Icon,{icon:r,variant:n,loadingStatus:i}):null,p.jsxs(Kze,{children:[t&&p.jsx(Yze,{children:t}),e&&p.jsx(Zze,{children:e})]})]}),f&&p.jsx(rWe,{step:f})]}),Wr.Body=et.forwardRef(({children:t,...e},r)=>p.jsx(Hze,{ref:r,...e,children:t})),Wr.Body.displayName="Screen.Body",Wr.Footer=({children:t,...e})=>p.jsx(Vze,{...e,children:t}),Wr.Actions=({children:t,...e})=>p.jsx(nWe,{...e,children:t}),Wr.HelpText=({children:t,...e})=>p.jsx(iWe,{...e,children:t}),Wr.Watermark=()=>p.jsx(eWe,{}),Wr.Icon=({icon:t,variant:e="subtle",loadingStatus:r})=>e==="logo"&&t?p.jsx(Qze,typeof t=="string"?{children:p.jsx("img",{src:t,alt:""})}:et.isValidElement(t)?{children:t}:{children:et.createElement(t)}):e==="loading"?t?p.jsx(Xze,{children:p.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"center"},children:[p.jsx(Uee,{success:r==null?void 0:r.success,fail:r==null?void 0:r.fail}),typeof t=="string"?p.jsx("span",{style:{background:`url('${t}') 0 0 / contain`,height:"38px",width:"38px",borderRadius:"6px",margin:"auto",backgroundSize:"contain"}}):et.isValidElement(t)?et.cloneElement(t,{style:{width:"38px",height:"38px"}}):et.createElement(t,{style:{width:"38px",height:"38px"}})]})}):p.jsx(yz,{$variant:e,children:p.jsx(nm,{size:"64px"})}):p.jsx(yz,{$variant:e,children:t&&(typeof t=="string"?p.jsx("img",{src:t,alt:"",style:{width:"32px",height:"32px",borderRadius:"6px"}}):et.isValidElement(t)?t:et.createElement(t,{width:32,height:32,stroke:(()=>{switch(e){case"success":return"var(--privy-color-icon-success)";case"warning":return"var(--privy-color-icon-warning)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}})(),strokeWidth:2}))});let nWe=te.div.withConfig({displayName:"ActionsContainer",componentId:"sc-cc9e9a32-16"})(["width:100%;display:flex;flex-direction:column;gap:calc(var(--screen-space) / 2);"]),iWe=te.p.withConfig({displayName:"HelpTextContainer",componentId:"sc-cc9e9a32-17"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-foreground-3);font-size:14px;line-height:22px;& a{color:var(--privy-color-accent);}}"]);const wr=({primaryCta:t,secondaryCta:e,helpText:r,watermark:n=!0,children:i,...s})=>{let a=t||e?p.jsxs(p.Fragment,{children:[t&&(()=>{let{label:o,...l}=t,u=l.variant||"primary";return p.jsx(Bf,{...l,variant:u,style:{width:"100%",...l.style},children:o})})(),e&&(()=>{let{label:o,...l}=e,u=l.variant||"secondary";return p.jsx(Bf,{...l,variant:u,style:{width:"100%",...l.style},children:o})})()]}):null;return p.jsxs(Wr,{id:s.id,className:s.className,children:[p.jsx(Wr.Header,{...s}),i?p.jsx(Wr.Body,{children:i}):null,r||a||n?p.jsxs(Wr.Footer,{children:[r?p.jsx(Wr.HelpText,{children:r}):null,a?p.jsx(Wr.Actions,{children:a}):null,n?p.jsx(Wr.Watermark,{}):null]}):null]})},h_=({label:t,children:e,valueStyles:r})=>p.jsxs(sWe,{children:[p.jsx("div",{children:t}),p.jsx(aWe,{style:{...r},children:e})]});let sWe=te.div.withConfig({displayName:"StyledDetailsRow",componentId:"sc-4ebfdd45-0"})(["display:flex;align-items:center;justify-content:space-between;width:100%;> :first-child{color:var(--privy-color-foreground-3);text-align:left;}> :last-child{color:var(--privy-color-foreground-2);text-align:right;}"]),aWe=te.div.withConfig({displayName:"ValueWrapper",componentId:"sc-4ebfdd45-1"})(["font-size:14px;line-height:100%;display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-full);background-color:var(--privy-color-background-2);padding:4px 8px;"]),oWe=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2}),Bee=t=>oWe.format(t);const Lee=(t,e)=>{let r=Bee(e*parseFloat(t));return r!=="$0.00"?r:"<$0.01"},bf=(t,e)=>{let r=Bee(e*parseFloat(Vf(t)));return r==="$0.00"?"<$0.01":r},sl=(t,e,r=6,n=!1)=>`${Fee(t,r,n)} ${e}`,Fee=(t,e=6,r=!1)=>{let n=parseFloat(Vf(t)).toFixed(e).replace(/0+$/,"").replace(/\.$/,"");return r?n:`${n==="0"?"<0.001":n}`},KT=t=>t.reduce((e,r)=>e+r,0n),lWe=(t,e)=>{let{chains:r}=rt(),n=`https://etherscan.io/address/${e}`,i=`${((s,a)=>{var u;let o=Number(s),l=a.find(h=>h.id===o);if(!l)throw new ln(`Unsupported chainId ${s}`,4901);return(u=l.blockExplorers)==null?void 0:u.default.url})(t,r)}/address/${e}`;if(!i)return n;try{new URL(i)}catch{return n}return i},cWe=1e9,uWe={"solana:mainnet":{EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v:{symbol:"USDC",decimals:6,address:"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v"},Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB:{symbol:"USDT",decimals:6,address:"Es9vMFrzaCERmJfrF4H2FYD4KCoNkY11McCe8BenwNYB"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},"solana:devnet":{"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU":{symbol:"USDC",decimals:6,address:"4zMMC9srt5Ri5X14GAgXhaHii3GnPAEERYPJgZJDncDU"},EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS:{symbol:"USDT",decimals:6,address:"EJwZgeZrdC8TXTQbQBoL6bfuAnFUUy1PVCMB4DYPzVaS"},So11111111111111111111111111111111111111112:{symbol:"SOL",decimals:9,address:"So11111111111111111111111111111111111111112"}},"solana:testnet":{}};function f_(t,e){let r=parseFloat(t.toString())/cWe,n=dWe.format(e*r);return n==="$0.00"?"<$0.01":n}let dWe=new Intl.NumberFormat(void 0,{style:"currency",currency:"USD",maximumFractionDigits:2});function P3(t,e=6,r=!1,n=!1){let i=(parseFloat(t.toString())/1e9).toFixed(e).replace(/0+$/,"").replace(/\.$/,""),s=n?"":" SOL";return r?`${i}${s}`:`${i==="0"?"<0.001":i}${s}`}const hWe=({weiQuantities:t,tokenPrice:e,tokenSymbol:r})=>{let n=KT(t),i=e?bf(n,e):void 0,s=sl(n,r);return p.jsx(Wee,{children:i||s})},zee=({weiQuantities:t,tokenPrice:e,tokenSymbol:r})=>{let n=KT(t),i=e?bf(n,e):void 0,s=sl(n,r);return p.jsx(Wee,{children:i?p.jsxs(p.Fragment,{children:[p.jsx(fWe,{children:"USD"}),i==="<$0.01"?p.jsxs(gWe,{children:[p.jsx(pWe,{children:"<"}),"$0.01"]}):i]}):s})};let Wee=te.span.withConfig({displayName:"StyledPriceDisplay",componentId:"sc-3cd56c8a-0"})(["font-size:14px;line-height:140%;display:flex;gap:4px;align-items:center;"]),fWe=te.span.withConfig({displayName:"StyledPriceUnit",componentId:"sc-3cd56c8a-1"})(["font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);"]),pWe=te.span.withConfig({displayName:"TinyLessThan",componentId:"sc-3cd56c8a-2"})(["font-size:10px;"]),gWe=te.span.withConfig({displayName:"FlexCenter",componentId:"sc-3cd56c8a-3"})(["display:flex;align-items:center;"]);const qee=te.div.withConfig({displayName:"BottomPusherContainer",componentId:"sc-cb963810-0"})(["display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end;margin-top:auto;gap:16px;flex-grow:100;"]),YT=te.div.withConfig({displayName:"CenteredItem",componentId:"sc-cb963810-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;flex-grow:1;width:100%;"]),mWe=te.div.withConfig({displayName:"HorizontallyCenteredItem",componentId:"sc-cb963810-2"})(["display:flex;flex-direction:column;align-items:center;width:100%;"]),yWe=te(YT).withConfig({displayName:"CenteredItemWithPadding",componentId:"sc-cb963810-3"})(["padding:20px 0;"]),B4=te(YT).withConfig({displayName:"CenteredItemWithGap",componentId:"sc-cb963810-4"})(["gap:16px;"]),L4=te.div.withConfig({displayName:"FlexContainer",componentId:"sc-cb963810-5"})(["display:flex;flex-direction:column;width:100%;"]),ZT=te.div.withConfig({displayName:"FixedGappedContainer",componentId:"sc-cb963810-6"})(["display:flex;flex-direction:column;gap:8px;"]),bWe=te.div.withConfig({displayName:"StyledCalloutSection",componentId:"sc-cb963810-8"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;padding:16px;margin-top:16px;margin-bottom:16px;width:100%;background:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);&& h4{color:var(--privy-color-foreground-3);font-size:14px;text-decoration:underline;font-weight:medium;}&& p{color:var(--privy-color-foreground-3);font-size:14px;}"]),xc=te.div.withConfig({displayName:"RefactorSpacerTop",componentId:"sc-cb963810-9"})(["height:16px;"]),El=te.div.withConfig({displayName:"RefactorSpacerBottom",componentId:"sc-cb963810-10"})(["height:12px;"]),wWe=te.div.withConfig({displayName:"ConfigurableSpacer",componentId:"sc-cb963810-12"})(["height:","px;"],t=>t.height??"12"),vWe=({gas:t,tokenPrice:e,tokenSymbol:r})=>p.jsxs(L4,{style:{paddingBottom:"12px"},children:[p.jsxs(Hee,{children:[p.jsx(Gee,{children:"Est. Fees"}),p.jsx("div",{children:p.jsx(zee,{weiQuantities:[BigInt(t)],tokenPrice:e,tokenSymbol:r})})]}),e&&p.jsx(Vee,{children:`${sl(BigInt(t),r)}`})]}),xWe=({value:t,gas:e,tokenPrice:r,tokenSymbol:n})=>{let i=BigInt(t??0)+BigInt(e);return p.jsxs(L4,{children:[p.jsxs(Hee,{children:[p.jsx(Gee,{children:"Total (including fees)"}),p.jsx("div",{children:p.jsx(zee,{weiQuantities:[BigInt(t||0),BigInt(e)],tokenPrice:r,tokenSymbol:n})})]}),r&&p.jsx(Vee,{children:sl(i,n)})]})};let Hee=te.div.withConfig({displayName:"TransactionTotalRow",componentId:"sc-f8ef9b74-0"})(["display:flex;flex-direction:row;justify-content:space-between;align-items:center;padding-top:4px;"]),Vee=te.div.withConfig({displayName:"ValueConversionRow",componentId:"sc-f8ef9b74-1"})(["display:flex;flex-direction:row;height:12px;font-size:12px;line-height:12px;color:var(--privy-color-foreground-3);font-weight:400;"]),Gee=te.div.withConfig({displayName:"TotalText",componentId:"sc-f8ef9b74-2"})(["font-size:14px;line-height:22.4px;font-weight:400;"]);const Fb=$.createContext(void 0),F4=$.createContext(void 0),EWe=({defaultValue:t,children:e})=>{let[r,n]=$.useState(t||null);return p.jsx(Fb.Provider,{value:{activePanel:r,togglePanel:i=>{n(r===i?null:i)}},children:p.jsx(kWe,{children:e})})},_We=({value:t,children:e})=>{let{activePanel:r,togglePanel:n}=$.useContext(Fb),i=r===t;return p.jsx(F4.Provider,{value:{onToggle:()=>n(t),value:t},children:p.jsx(NWe,{isActive:i?"true":"false","data-open":String(i),children:e})})},CWe=({children:t})=>{let{activePanel:e}=$.useContext(Fb),{onToggle:r,value:n}=$.useContext(F4),i=e===n;return p.jsxs(p.Fragment,{children:[p.jsxs($We,{onClick:r,"data-open":String(i),children:[p.jsx(IWe,{children:t}),p.jsx(OWe,{isactive:i?"true":"false",children:p.jsx(Y$,{height:"16px",width:"16px",strokeWidth:"2"})})]}),p.jsx(TWe,{})]})},AWe=({children:t})=>{let{activePanel:e}=$.useContext(Fb),{value:r}=$.useContext(F4);return p.jsx(PWe,{"data-open":String(e===r),children:p.jsx(Kee,{children:t})})},SWe=({children:t})=>{let{activePanel:e}=$.useContext(Fb),{value:r}=$.useContext(F4);return p.jsx(Kee,{children:typeof t=="function"?t({isActive:e===r}):t})};let kWe=te.div.withConfig({displayName:"AccordionRoot",componentId:"sc-d25f9267-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;"]),$We=te.div.withConfig({displayName:"AccordionTriggerContainer",componentId:"sc-d25f9267-1"})(["display:flex;justify-content:space-between;align-items:center;width:100%;cursor:pointer;padding-bottom:8px;"]),TWe=te.div.withConfig({displayName:"AccordionDivider",componentId:"sc-d25f9267-2"})(["width:100%;&&{border-top:1px solid;border-color:var(--privy-color-foreground-4);}padding-bottom:12px;"]),IWe=te.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-d25f9267-3"})(["font-size:14px;font-weight:500;line-height:19.6px;width:100%;padding-right:8px;"]),NWe=te.div.withConfig({displayName:"AccordionPanelContainer",componentId:"sc-d25f9267-4"})(["display:flex;flex-direction:column;width:100%;overflow:hidden;padding:12px;&&{border:1px solid;border-color:var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);}"]),PWe=te.div.withConfig({displayName:"AccordionContentContainer",componentId:"sc-d25f9267-5"})(["position:relative;overflow:hidden;transition:max-height 25ms ease-out;&[data-open='true']{max-height:700px;}&[data-open='false']{max-height:0;}"]),Kee=te.div.withConfig({displayName:"ContentWrapper",componentId:"sc-d25f9267-6"})(["display:flex;flex-direction:column;gap:12px;flex:1 1 auto;min-height:1px;"]),OWe=te.div.withConfig({displayName:"IconWrapper",componentId:"sc-d25f9267-7"})(["transform:",";"],t=>t.isactive==="true"?"rotate(180deg)":"rotate(0deg)");function MWe(t,e){return`https://explorer.solana.com/account/${t}?chain=${e}`}const bz=t=>p.jsx(RWe,{href:t.chainType==="ethereum"?lWe(t.chainId,t.walletAddress):MWe(t.walletAddress,t.chainId),target:"_blank",children:Es(t.walletAddress)});let RWe=te.a.withConfig({displayName:"StyledLink",componentId:"sc-dd6c0f9f-0"})(["&:hover{text-decoration:underline;}"]);const Yee=({from:t,to:e,txn:r,transactionInfo:n,tokenPrice:i,gas:s,tokenSymbol:a})=>{let o=BigInt((r==null?void 0:r.value)||0);return p.jsx(EWe,{...Ar().render.standalone?{defaultValue:"details"}:{},children:p.jsxs(_We,{value:"details",children:[p.jsx(CWe,{children:p.jsxs(jWe,{children:[p.jsx("div",{children:(n==null?void 0:n.title)||"Details"}),p.jsx(DWe,{children:p.jsx(hWe,{weiQuantities:[o],tokenPrice:i,tokenSymbol:a})})]})}),p.jsxs(AWe,{children:[p.jsx(h_,{label:"From",children:p.jsx(bz,{walletAddress:t,chainId:r.chainId||1,chainType:"ethereum"})}),p.jsx(h_,{label:"To",children:p.jsx(bz,{walletAddress:e,chainId:r.chainId||1,chainType:"ethereum"})}),n&&n.action&&p.jsx(h_,{label:"Action",children:n.action}),s&&p.jsx(vWe,{value:r.value,gas:s,tokenPrice:i,tokenSymbol:a})]}),p.jsx(SWe,{children:({isActive:l})=>p.jsx(xWe,{value:r.value,displayFee:l,gas:s||"0x0",tokenPrice:i,tokenSymbol:a})})]})})};let jWe=te.div.withConfig({displayName:"AccordionTriggerContent",componentId:"sc-2eff9f5c-0"})(["display:flex;flex-direction:row;justify-content:space-between;"]),DWe=te.div.withConfig({displayName:"TotalText",componentId:"sc-2eff9f5c-1"})(["flex-shrink:0;padding-left:8px;"]);const UWe=({enabled:t=!0}={})=>{let{showFiatPrices:e,getUsdPriceForSol:r}=rt(),[n,i]=$.useState(!0),[s,a]=$.useState(void 0),[o,l]=$.useState(void 0);return $.useEffect(()=>{(async()=>{if(e&&t)try{i(!0);let u=await r();u?l(u):a(Error("Unable to fetch SOL price"))}catch(u){a(u)}finally{i(!1)}else i(!1)})()},[]),{solPrice:o,isSolPriceLoading:n,solPriceError:s}};function zb(t){let{tokenPrice:e,isTokenPriceLoading:r,tokenPriceError:n}=(o=>{let{showFiatPrices:l,getUsdTokenPrice:u,chains:h}=rt(),[f,g]=$.useState(!0),[y,b]=$.useState(void 0),[w,x]=$.useState(void 0);return $.useEffect(()=>{o||(o=1);let E=a$(h).find(S=>S.id===Number(o));(async()=>{if(l){if(!E)return g(!1),void b(Error(`Unable to fetch token price on chain id ${o}`));try{g(!0);let S=await u(E);S?x(S):b(Error(`Unable to fetch token price on chain id ${E.id}`))}catch(S){b(S)}finally{g(!1)}}else g(!1)})()},[o]),{tokenPrice:w,isTokenPriceLoading:f,tokenPriceError:y}})(t==="solana"?-1:t),{solPrice:i,isSolPriceLoading:s,solPriceError:a}=UWe({enabled:t==="solana"});return t==="solana"?{tokenPrice:i,isTokenPriceLoading:s,tokenPriceError:a}:{tokenPrice:e,isTokenPriceLoading:r,tokenPriceError:n}}const Zee=$.createContext(null);function Mu(){let t=$.useContext(Zee);return t===null?(console.warn("`useWallets` was called outside the PrivyProvider component"),{wallets:[],ready:!1}):t}async function W5(t,e,r,n){let i=KZ(t),s=await(async()=>n?await n():await e.prepareTransactionRequest({...i,account:{address:r,type:"json-rpc"}}))();return{...s,type:rEe[s.type]}}let Qee=te.div.withConfig({displayName:"StackedContainer",componentId:"sc-f7e7d474-0"})(["display:flex;flex-direction:column;justify-content:center;align-items:center;width:100%;height:82px;> div{position:relative;}> div > span{position:absolute;left:-41px;top:-41px;}> div > :last-child{position:absolute;left:-19px;top:-19px;}"]);const BWe=["error","invalid_request_arguments","wallet_not_on_device","invalid_recovery_pin","insufficient_funds","missing_or_invalid_mfa","mfa_verification_max_attempts_reached","mfa_timeout","twilio_verification_failed"];let Sn=class extends Error{constructor(e,r){super(r),this.type=e}};function im(t){let e=t.type;return typeof e=="string"&&BWe.includes(e)}function Y2(t){return im(t)&&t.type==="wallet_not_on_device"}function QT(t){return!!im(t)&&t.type==="mfa_timeout"}function XT(t){return!!im(t)&&t.type==="missing_or_invalid_mfa"}function LWe(t){return!!im(t)&&t.type==="mfa_verification_max_attempts_reached"}function Xee(t){return!(!im(t)||!t.message.includes("code 429"))}function Jee(t){return!!function(e){let r=e.type;return typeof r=="string"&&r==="client_error"}(t)&&t.message==="MFA canceled"}const z4=()=>window.open(void 0,void 0,FWe({w:440,h:680}));let FWe=({w:t,h:e})=>{let r=window.screenLeft!==void 0?window.screenLeft:window.screenX,n=window.screenTop!==void 0?window.screenTop:window.screenY,i=window.innerWidth?window.innerWidth:document.documentElement.clientWidth?document.documentElement.clientWidth:screen.width,s=window.innerHeight?window.innerHeight:document.documentElement.clientHeight?document.documentElement.clientHeight:screen.height;return`toolbar=0,location=0,menubar=0,height=${e},width=${t},popup=1,left=${(i-t)/2/(i/window.screen.availWidth)+r},top=${(s-e)/2/(s/window.screen.availHeight)+n}`};const zWe=({title:t,description:e,children:r,...n})=>p.jsx(ete,{...n,children:p.jsxs(p.Fragment,{children:[p.jsx("h3",{children:t}),typeof e=="string"?p.jsx("p",{children:e}):e,r]})}),wl=({title:t,description:e,icon:r,children:n,...i})=>p.jsxs(WWe,{...i,children:[r||null,p.jsx("h3",{children:t}),e&&typeof e=="string"?p.jsx("p",{children:e}):e,n]});let ete=te.div.withConfig({displayName:"StyledSection",componentId:"sc-523a75d6-1"})(["display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;width:100%;margin-bottom:24px;&& h3{font-size:17px;color:var(--privy-color-foreground);}&& p{color:var(--privy-color-foreground-2);font-size:14px;}"]),WWe=te(ete).withConfig({displayName:"CenteredStyledSection",componentId:"sc-523a75d6-2"})(["align-items:center;text-align:center;gap:16px;h3{margin-bottom:24px;}"]);const tte=t=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 21 20",...t,children:[p.jsx("path",{fill:"url(#icloud-gradient)",d:"M12.34 7.315a4.26 4.26 0 0 0-3.707 2.18 2.336 2.336 0 0 0-1.02-.236 2.336 2.336 0 0 0-2.3 1.963 3.217 3.217 0 0 0 1.244 6.181c.135-.001.27-.01.404-.029h8.943c.047.004.094.006.141.007.045-.001.09-.004.135-.007h.214v-.016a2.99 2.99 0 0 0 1.887-.988c.487-.55.757-1.261.757-1.998v-.006a3.017 3.017 0 0 0-.69-1.915 2.992 2.992 0 0 0-1.748-1.034 4.26 4.26 0 0 0-4.26-4.102Z"}),p.jsx("defs",{children:p.jsxs("linearGradient",{id:"icloud-gradient",x1:19.086,x2:3.333,y1:14.38,y2:14.163,gradientUnits:"userSpaceOnUse",children:[p.jsx("stop",{stopColor:"#3E82F4"}),p.jsx("stop",{offset:1,stopColor:"#93DCF7"})]})})]}),rte=({style:t,...e})=>p.jsxs("svg",{width:"16",height:"14",style:t,viewBox:"0 0 16 14",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:[p.jsxs("g",{clipPath:"url(#clip0_2115_829)",children:[p.jsx("path",{d:"M2.34709 12.9404L2.3471 12.9404L2.34565 12.938L1.64031 11.7448L1.64004 11.7444L0.651257 10.0677C0.640723 10.0496 0.630746 10.0314 0.621325 10.0129H4.16461L2.39424 13.0139C2.3775 12.9901 2.36178 12.9656 2.34709 12.9404Z",fill:"#0066DA",stroke:"#6366F1"}),p.jsx("path",{d:"M8 4.48713L5.47995 0.215332C5.23253 0.358922 5.02176 0.556358 4.87514 0.80764L0.219931 8.70508C0.076007 8.95094 0.000191627 9.22937 0 9.51277H5.04009L8 4.48713Z",fill:"#00AC47"}),p.jsx("path",{d:"M13.48 13.7847C13.7274 13.6411 13.9382 13.4437 14.0848 13.1924L14.3781 12.6988L15.7801 10.3206C15.9267 10.0693 16.0001 9.79114 16.0001 9.51294H10.9596L12.0321 11.577L13.48 13.7847Z",fill:"#EA4335"}),p.jsx("path",{d:"M8.00003 4.48718L10.5201 0.215385C10.2726 0.0717949 9.98857 0 9.69533 0H6.30472C6.01148 0 5.7274 0.0807692 5.47998 0.215385L8.00003 4.48718Z",fill:"#00832D"}),p.jsx("path",{d:"M10.9599 9.51294H5.04007L2.52002 13.7847C2.76744 13.9283 3.05152 14.0001 3.34476 14.0001H12.6552C12.9484 14.0001 13.2325 13.9194 13.4799 13.7847L10.9599 9.51294Z",fill:"#2684FC"}),p.jsx("path",{d:"M13.4525 4.75636L11.1249 0.80764C10.9782 0.556358 10.7675 0.358922 10.52 0.215332L8 4.48713L10.9599 9.51277H15.9908C15.9908 9.23456 15.9175 8.95636 15.7709 8.70508L13.4525 4.75636Z",fill:"#FFBA00"})]}),p.jsx("defs",{children:p.jsx("clipPath",{id:"clip0_2115_829",children:p.jsx("rect",{width:"16",height:"14",fill:"white"})})})]});async function wz({url:t,popup:e,provider:r}){return e.location=t,new Promise((n,i)=>{function s(){e==null||e.close(),window.removeEventListener("message",a)}function a(o){o.data&&(o.data.type==="PRIVY_OAUTH_RESPONSE"&&o.data.stateCode&&o.data.authorizationCode&&(n(o.data),s()),o.origin==="https://cdn.apple-cloudkit.com"&&o.data.ckSession&&(n({type:"PRIVY_OAUTH_RESPONSE",ckWebAuthToken:o.data.ckSession}),s()),o.data.type==="PRIVY_OAUTH_ERROR"&&(i(o.data.error),s()))}window.addEventListener("message",a)})}async function qWe({api:t,provider:e,stateCode:r,codeVerifier:n,authorizationCode:i}){if(!i||!r)throw new ue("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(i==="undefined")throw new ue("User denied confirmation during OAuth flow");try{return(await t.post(I3e,{authorization_code:i,state_code:r,code_verifier:n,provider:e})).access_token}catch(s){let a=br(s);throw a.privyErrorCode?new ue(a.message||"Invalid code during OAuth flow.",void 0,a.privyErrorCode):a.message==="User denied confirmation during OAuth flow"?new ue("Invalid code during oauth flow.",void 0,fe.OAUTH_USER_DENIED):new ue("Invalid code during OAuth flow.",void 0,fe.UNKNOWN_AUTH_ERROR)}}async function vz({api:t,provider:e}){let r=O4(),n=DT(),i=await UT(r);try{return e==="icloud"?{url:(await t.post(T3e,{client_type:"web"})).url}:{url:(await t.post($3e,{redirect_to:window.location.href,code_challenge:i,state_code:n})).url,codeVerifier:r,stateCode:n,provider:e}}catch(s){throw br(s)}}const JT=(t,{chainType:e,walletIndex:r}={})=>(t==null?void 0:t.linkedAccounts.filter(n=>!(n.type!=="wallet"||n.walletClientType!=="privy"||r!==void 0&&n.walletIndex!==r||e!==void 0&&n.chainType!==e)))??[],nte=async({user:t,accessToken:e,proxy:r,refreshSessionAndUser:n,privy:i,appConfig:s,recoverEmbeddedWallet:a,setUser:o,walletIndex:l,chainType:u,recoveryMethod:h,recoveryPassword:f,recoveryAccessToken:g})=>{if(l===0)if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await zC(i,{request:{chain_type:u}});else if(u==="ethereum"){let w=Ab(t);w&&await a({address:w.address}),await r.create({accessToken:e,solanaAddress:w==null?void 0:w.address,recoveryMethod:h,recoveryPassword:f,recoveryAccessToken:g})}else{if(u!=="solana")throw Error("Invalid input to create wallet");{let w=Xl(t);w&&await a({address:w.address}),await r.createSolana({accessToken:e,ethereumAddress:w==null?void 0:w.address,recoveryMethod:h,recoveryPassword:f,recoveryAccessToken:g})}}else if(s.embeddedWallets.mode==="user-controlled-server-wallets-only")await zC(i,{request:{chain_type:u}});else{let{entropyId:w,entropyIdVerifier:x}=ho(t);await a(),await r.addWallet({accessToken:e,entropyId:w,entropyIdVerifier:x,chainType:u,hdWalletIndex:l})}let y=await n(),b=JT(y,{chainType:u,walletIndex:l})[0];return o(y),{user:y,account:b}},eI=()=>{let{walletProxy:t,recoverEmbeddedWallet:e,setUser:r,refreshSessionAndUser:n,privy:i,client:s}=rt(),a=Ar();return{create:async({walletIndex:o,chainType:l,latestUser:u,recoveryMethod:h,recoveryPassword:f,recoveryAccessToken:g})=>{let y=u;y||(y=await n());let b=await s.getAccessToken();if(!y||!b||!t)throw Error("User must be authenticated before creating a Privy wallet");return await nte({appConfig:a,user:y,refreshSessionAndUser:n,privy:i,accessToken:b,proxy:t,recoverEmbeddedWallet:e,setUser:r,walletIndex:o,chainType:l,recoveryMethod:h,recoveryPassword:f,recoveryAccessToken:g})}}},HWe=({title:t,description:e,onClose:r})=>p.jsx(wr,{title:t,subtitle:e,icon:Sb,iconVariant:"success",watermark:!0,onBack:r}),tI={component:()=>{let{user:t}=fr(),{closePrivyModal:e,isNewUserThisSession:r,updateWallets:n}=rt(),{app:i,data:s,onUserCloseViaDialogOrKeybindRef:a}=lt(),{onSuccess:o,onFailure:l,callAuthOnSuccessOnClose:u}=s.createWallet,h=()=>{let f=Xl(t)??Ab(t);t&&f?(n(),o({user:t,account:f})):l(Error("Failed to create wallet")),e({shouldCallAuthOnSuccess:u})};return $.useEffect(()=>{let f=setTimeout(h,2500);return()=>clearTimeout(f)},[]),a.current=h,p.jsx(HWe,{title:r?"Welcome"+(i!=null&&i.name?` to ${i==null?void 0:i.name}`:""):"All set!",description:r?"You've successfully created an account.":"Your account is secured.",onClose:h})}},TS=te.div.withConfig({displayName:"RecoveryContainer",componentId:"sc-12b46968-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),VWe=te.div.withConfig({displayName:"RecoveryExplainerContainer",componentId:"sc-12b46968-1"})(["padding-bottom:24px;"]);let xz={"google-drive":{name:"Google Drive",component:rte},icloud:{name:"iCloud",component:tte}};const ite={component:()=>{var z;let{logout:t}=fr(),{navigate:e,setModalData:r,data:n}=lt(),{closePrivyModal:i,createAnalyticsEvent:s}=rt(),{execute:a}=(()=>{let{client:V,walletProxy:K,refreshSessionAndUser:B}=rt(),{data:C}=lt(),{user:k}=fr(),N=cp(),{create:D}=eI();return{execute:async({provider:P,action:R,popup:j,shouldCreateEth:W,shouldCreateSol:M})=>{var X,ne;let G,re;if(!V)throw new ue("Missing client");function q(ee){if(!ee&&V)throw V.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:"Unable to open recovery OAuth popup",provider:P}}),new ue("Recovery OAuth failed")}switch(P){case"google-drive":{let ee,ce,{url:be,codeVerifier:ve,stateCode:ge}=await vz({api:V.api,provider:P});q(be);try{let Ee=await wz({url:be,popup:j,provider:P});if(ee=Ee.stateCode,ce=Ee.authorizationCode,ee!==ge)throw V.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:P,storedStateCode:ge??"",returnedStateCode:ee??""}}),new ue("Unexpected auth flow. This may be a phishing attempt.",void 0,fe.OAUTH_UNEXPECTED)}catch(Ee){throw V.createAnalyticsEvent({eventName:"recovery_oauth_error",payload:{error:Ee.toString(),provider:P}}),new ue("Recovery OAuth failed")}[G,re]=await Promise.all([V.getAccessToken(),qWe({api:V.api,provider:P,codeVerifier:ve,stateCode:ee,authorizationCode:ce})]);break}case"icloud":{let{url:ee}=await vz({api:V.api,provider:P});q(ee);let{ckWebAuthToken:ce}=await wz({url:ee,popup:j,provider:P});re=ce,G=await V.getAccessToken()}}if(!K)throw new ue("Cannot connect to wallet proxy");if(!G)throw new ue("Unable to authorize user");switch(R){case"recover":{let ee=(X=C==null?void 0:C.recoverWallet)==null?void 0:X.entropyId,ce=(ne=C==null?void 0:C.recoverWallet)==null?void 0:ne.entropyIdVerifier;if(!ee||!ce)throw new ue("Recovery OAuth failed");V.createAnalyticsEvent({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:ee,recoveryMethod:P}}),await K.recover({accessToken:G,entropyId:ee,entropyIdVerifier:ce,recoveryAccessToken:re}),V.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:ee,recoveryMethod:P}});break}case"create-wallet":{let ee;if(V.createAnalyticsEvent({eventName:"embedded_wallet_creation_started"}),W&&M)ee=await D({recoveryMethod:P,recoveryAccessToken:re,chainType:"ethereum",walletIndex:0,latestUser:k}),ee=await D({chainType:"solana",walletIndex:0,latestUser:ee.user});else if(M)ee=await D({recoveryMethod:P,recoveryAccessToken:re,chainType:"solana",walletIndex:0,latestUser:k});else{if(!W)throw Error("Invalid args to create wallet");ee=await D({recoveryMethod:P,recoveryAccessToken:re,chainType:"ethereum",walletIndex:0,latestUser:k})}if(!ee)throw N("createWallet","onError",fe.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to create wallet");V.createAnalyticsEvent({eventName:"embedded_wallet_creation_completed",payload:{walletAddress:ee.account.address}}),N("createWallet","onSuccess",{wallet:ee.account});break}case"set-recovery":{let ee=yl(k);if(!ee)throw N("setWalletRecovery","onError",fe.EMBEDDED_WALLET_NOT_FOUND),Error("Embedded wallet not found");V.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:ee.address,existingRecoveryMethod:ee.recoveryMethod,targetRecoveryMethod:P}});let{entropyId:ce,entropyIdVerifier:be}=ho(k);await K.setRecovery({accessToken:G,entropyId:ce,entropyIdVerifier:be,recoveryMethod:P,recoveryAccessToken:re});let ve=yl(await B());if(!ve)throw N("createWallet","onError",fe.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to set recovery on wallet");V.createAnalyticsEvent({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:ee.address,existingRecoveryMethod:ee.recoveryMethod,targetRecoveryMethod:P}}),N("setWalletRecovery","onSuccess",{method:P,wallet:ve});break}default:throw new ue("Unsupported recovery action")}}}})(),[o,l]=$.useState(!1),{provider:u,action:h,isInAccountCreateFlow:f,shouldCreateEth:g,shouldCreateSol:y}=n==null?void 0:n.recoveryOAuthStatus,[b,w]=$.useState(void 0),[x,E]=$.useState(h==="create-wallet");if(u==="user-passcode")throw Error("RecoveryOAuthScreen should never be called with a wallet that specifies recoveryMethod: `user-passcode`");let S=xz[u].name,_=xz[u].component,I=(z=n==null?void 0:n.recoverWallet)==null?void 0:z.onCompleteNavigateTo,A=new As(async(V="create-wallet")=>(E(!0),new Promise((K,B)=>{setTimeout(async()=>{try{let C=window.open();await a({provider:u,action:V,popup:C,shouldCreateEth:g,shouldCreateSol:y}),l(!0),K()}catch{w({message:`${V==="recover"?"Recovery":"Back up"} with ${S} unsuccessful`,detail:h==="recover"?`Please verify that you are selecting the ${S} account associated with your backup.`:"",retryable:!0}),B()}},0)})));$.useEffect(()=>{h!=="recover"&&A.execute(f?"create-wallet":"set-recovery")},[]),$.useEffect(()=>{if(!o)return;let V=setTimeout(()=>{f?(r({createWallet:{onSuccess:()=>{},onFailure:K=>{s({eventName:"embedded_wallet_creation_failure_logout",payload:{error:K,screen:"RecoveryOAuthScreen"}}),t()},callAuthOnSuccessOnClose:!0,shouldCreateEth:!1,shouldCreateSol:!1}}),e(tI)):i({shouldCallAuthOnSuccess:!1})},yn);return()=>clearTimeout(V)},[o]);let O=$.useCallback(async()=>{await A.execute("recover"),I?e(I):l(!0)},[]),F=u==="google-drive"?"Google Drive":"Apple iCloud",H=o&&`Successfully ${h==="recover"?"recovered":"backed up"} with ${F}.`||b&&b.message||`${h==="recover"?"Recovering":"Backing up"} with ${F}...`,L=b?b.detail:"";return p.jsxs(p.Fragment,{children:[p.jsx(ur,{}),x?p.jsx(p.Fragment,{children:p.jsxs(TS,{children:[p.jsx(wl,{title:H,icon:p.jsx(_,{style:{width:"38px",height:"38px"}}),description:L}),b&&(b!=null&&b.retryable)?p.jsx(Kr,{onClick:()=>{ES(),w(void 0),h==="create-wallet"?A.execute("create-wallet"):O()},disabled:!o&&!(b!=null&&b.retryable),children:"Try again"}):null]})}):p.jsxs(TS,{children:[p.jsx(wl,{title:"Confirm it's really you",icon:p.jsx(_,{style:{height:42,width:48}}),description:`To confirm your identity, please log in to ${F} where your account is backed up.`}),p.jsxs(Kr,{onClick:O,children:["Confirm with ",F]})]}),p.jsx(Ur,{})]})}};let p_=te.div.withConfig({displayName:"IconContainer",componentId:"sc-ccfae04f-0"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;"]),GWe={"google-drive":"Google Drive",icloud:"iCloud","user-passcode":"password",privy:"Privy","privy-v2":"Privy"},KWe=({onClose:t})=>p.jsxs(VWe,{children:[p.jsx(wl,{title:"Why do I need to secure my account?",icon:p.jsx(J0,{width:48}),description:p.jsxs(p.Fragment,{children:[p.jsx("p",{children:"Your app uses cryptography to secure your account. App secrets are split and encrypted so only you can access them."}),p.jsx("p",{children:"To use this app on new devices, secure account secrets using a password, your Google or your Apple account. Its important you dont lose access to the method you choose."})]})}),p.jsx(Kr,{onClick:t,children:"Select backup method"})]});const IS={component:()=>{let[t,e]=$.useState(!1),{navigate:r,lastScreen:n,navigateBack:i,setModalData:s,data:a,onUserCloseViaDialogOrKeybindRef:o}=lt(),{user:l}=fr(),{embeddedWallets:u}=Ar(),{closePrivyModal:h}=rt(),f=yl(l),g=f===null,{isInAccountCreateFlow:y,isResettingPassword:b,shouldCreateEth:w,shouldCreateSol:x}=a.recoverySelection,E=f&&f.recoveryMethod!=="privy",S=E?p.jsxs("span",{children:["Your account is currently secured using"," ",p.jsx("strong",{children:GWe[(f==null?void 0:f.recoveryMethod)||"user-passcode"]}),"."]}):"Select a method for logging in on new devices and recovering your account.";function _(A){s({recoveryOAuthStatus:{provider:A,action:g?"create-wallet":"set-recovery",isInAccountCreateFlow:y,shouldCreateEth:w,shouldCreateSol:x}}),r(ite)}function I(){var A,O;(A=a==null?void 0:a.setWalletPassword)==null||A.onFailure(Error("User exited set recovery flow")),h({shouldCallAuthOnSuccess:((O=a==null?void 0:a.setWalletPassword)==null?void 0:O.callAuthOnSuccessOnClose)??!1})}return o.current=I,p.jsxs(p.Fragment,{children:[p.jsx(ur,{onClose:I,backFn:t?()=>e(!1):n?i:void 0,infoFn:n||t?void 0:()=>e(!0)},"header"),t?p.jsx(KWe,{onClose:()=>e(!1)}):p.jsxs(p.Fragment,{children:[p.jsx(wl,{title:E?"Update backup method":"Secure your account",icon:p.jsx(GZ,{width:48}),description:S}),p.jsx(TS,{children:u.userOwnedRecoveryOptions.filter(A=>!["icloud","google-drive"].includes((f==null?void 0:f.recoveryMethod)||"")||A!==(f==null?void 0:f.recoveryMethod)).sort().map(A=>{switch(A){case"google-drive":return p.jsxs(En,{onClick:()=>_("google-drive"),children:[p.jsx(p_,{children:p.jsx(rte,{style:{width:18}})}),"Back up to Google Drive"]},A);case"icloud":return p.jsxs(En,{onClick:()=>_("icloud"),children:[p.jsx(p_,{children:p.jsx(tte,{style:{width:24}})}),"Back up to Apple iCloud"]},A);case"user-passcode":return p.jsxs(En,{onClick:()=>{r(Qte({isCreatingWallet:g,skipSplashScreen:!0}))},children:[p.jsx(p_,{children:p.jsx(V7e,{style:{width:18}})}),b?"Reset your":"Set a"," password"]},A);default:return null}})})]}),p.jsx(Ur,{})]})}};let YWe=wi(["font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;text-align:left;transition:color 0.1s ease-in;"]);const ste=te.span.withConfig({displayName:"StatusText",componentId:"sc-acac4b9-0"})([""," transition:color 0.1s ease-in;color:",";text-transform:",";&[aria-hidden='true']{visibility:hidden;}"],YWe,({error:t})=>t?"var(--privy-color-error)":"var(--privy-color-foreground-3)",({error:t})=>t?"":"capitalize"),W4=te.div.withConfig({displayName:"EmbeddedWalletScreenContainer",componentId:"sc-acac4b9-1"})(["display:flex;flex-direction:column;justify-content:center;flex-grow:1;"]),q4=te(Kr).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-acac4b9-2"})(["",""],({$hideAnimations:t})=>t&&wi(["&&{transition:none;}"]));let ate=wi(["&&{width:100%;border-width:1px;border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);background:var(--privy-color-background);color:var(--privy-color-foreground);padding:12px;font-size:16px;font-style:normal;font-weight:300;line-height:22px;}"]);const rI=te.input.withConfig({displayName:"PasswordInput",componentId:"sc-acac4b9-3"})([""," &::placeholder{color:var(--privy-color-foreground-3);font-style:italic;font-size:14px;}overflow:hidden;text-overflow:ellipsis;white-space:nowrap;"],ate),ZWe=te.div.withConfig({displayName:"PasswordDisplay",componentId:"sc-acac4b9-4"})(["",""],ate),H4=te.div.withConfig({displayName:"PasswordContainer",componentId:"sc-acac4b9-5"})(["position:relative;width:100%;display:flex;align-items:center;justify-content:",";"],({centered:t})=>t?"center":"space-between"),V4=te.div.withConfig({displayName:"Header",componentId:"sc-acac4b9-6"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:32px 0;gap:4px;& h3{font-size:18px;font-style:normal;font-weight:600;line-height:24px;}& p{max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;}"]),nI=te.div.withConfig({displayName:"Details",componentId:"sc-acac4b9-7"})(["display:flex;flex-direction:column;gap:10px;padding-bottom:1rem;"]),NS=te.div.withConfig({displayName:"DetailItem",componentId:"sc-acac4b9-8"})(["display:flex;text-align:left;align-items:center;gap:8px;max-width:300px;font-size:14px;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;margin:0 8px;color:var(--privy-color-foreground-2);> :first-child{min-width:24px;}"]),Ez=te(Bf).withConfig({displayName:"ExportButton",componentId:"sc-acac4b9-10"})(["display:flex;flex:1;gap:4px;justify-content:center;&&{background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);border-color:var(--privy-color-foreground-3);border-width:1px;}"]),G4=te.div.withConfig({displayName:"InputRightIcons",componentId:"sc-acac4b9-11"})(["position:absolute;right:0.5rem;display:flex;flex-direction:row;justify-content:space-around;align-items:center;"]),QWe=te(d7e).withConfig({displayName:"RegenerateIcon",componentId:"sc-acac4b9-12"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),K4=te(R7e).withConfig({displayName:"HiddenIcon",componentId:"sc-acac4b9-13"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),Y4=te(D7e).withConfig({displayName:"ShownIcon",componentId:"sc-acac4b9-14"})(["height:1.25rem;width:1.25rem;stroke:var(--privy-color-accent);cursor:pointer;:active{stroke:var(--privy-color-accent-light);}"]),XWe=te.progress.withConfig({displayName:"StrengthMeter",componentId:"sc-acac4b9-15"})(["height:4px;width:100%;margin:8px 0;::-webkit-progress-bar{border-radius:8px;background:var(--privy-color-foreground-4);}::-webkit-progress-value{border-radius:8px;transition:all 0.1s ease-out;background:",";}"],({label:t})=>(t==="Strong"?"#78dca6":t==="Medium"&&"var(--privy-color-warn)")||"var(--privy-color-error)"),JWe=({buttonHideAnimations:t,buttonLoading:e,password:r,onSubmit:n,onBack:i})=>{let[s,a]=$.useState(!0),[o,l]=$.useState(!1),[u,h]=$.useState(""),f=r===u;return $.useEffect(()=>{u&&!o&&l(!0)},[u]),p.jsxs(p.Fragment,{children:[p.jsx(ur,{closeable:!1,backFn:i}),p.jsx(xc,{}),p.jsxs(W4,{children:[p.jsxs(V4,{children:[p.jsx(Jf,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),p.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm your password"}),p.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Please re-enter your password below to continue."})]}),p.jsxs(H4,{children:[p.jsx(rI,{value:u,onChange:g=>h(g.target.value),onKeyUp:g=>{g.key==="Enter"&&n()},onBlur:()=>l(!0),placeholder:"confirm your password",type:s?"password":"text",style:{paddingRight:"2.3rem"}}),p.jsx(G4,{style:{right:"0.75rem"},children:s?p.jsx(K4,{onClick:()=>a(!1)}):p.jsx(Y4,{onClick:()=>a(!0)})})]}),p.jsx(ste,{"aria-hidden":!o||f,error:!0,children:"Passwords do not match"})]}),p.jsx(q4,{onClick:n,loading:e,disabled:!f,$hideAnimations:t,children:"Continue"}),p.jsx(El,{}),p.jsx(Ur,{})]})},ote=({className:t,checked:e,color:r="var(--privy-color-accent)",...n})=>p.jsx("label",{children:p.jsxs(eqe,{className:t,children:[p.jsx(cte,{checked:e,...n}),p.jsx(tqe,{color:r,checked:e,children:p.jsx(lte,{viewBox:"0 0 24 24",children:p.jsx("polyline",{points:"20 6 9 17 4 12"})})})]})});let eqe=te.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-db51b935-1"})(["display:inline-block;vertical-align:middle;"]),lte=te.svg.withConfig({displayName:"Icon",componentId:"sc-db51b935-2"})(["fill:none;stroke:white;stroke-width:3px;"]),cte=te.input.attrs({type:"checkbox"}).withConfig({displayName:"HiddenCheckbox",componentId:"sc-db51b935-3"})(["border:0;clip:rect(0 0 0 0);clippath:inset(50%);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;white-space:nowrap;width:1px;"]),tqe=te.div.withConfig({displayName:"StyledCheckbox",componentId:"sc-db51b935-4"})(["display:inline-block;width:18px;height:18px;transition:all 150ms;cursor:pointer;border-color:",";border-radius:3px;background:",";&&{border-width:1px;}",":focus + &{box-shadow:0 0 0 1px ",";}","{visibility:",";}"],t=>t.color,t=>t.checked?t.color:"var(--privy-color-background)",cte,t=>t.color,lte,t=>t.checked?"visible":"hidden");const rqe=({buttonHideAnimations:t,buttonLoading:e,onSubmit:r,onBack:n,config:i})=>{let[s,a]=$.useState(!1);return p.jsxs(p.Fragment,{children:[p.jsx(ur,{closeable:!1,backFn:n}),p.jsx(xc,{}),p.jsxs(W4,{children:[p.jsxs(V4,{children:[p.jsx(Jf,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-error)"}),p.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Confirm you have saved"}),p.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Losing access to your password means you will lose access to your account."})]}),p.jsx(nI,{children:p.jsxs(NS,{style:{color:"var(--privy-color-error)",cursor:"pointer"},onClick:o=>{o.preventDefault(),a(l=>!l)},children:[p.jsx(ote,{color:"var(--privy-color-error)",readOnly:!0,checked:s}),p.jsx(p.Fragment,{children:"I understand that if I lose my password and device, I will lose access to my account and my assets."})]})})]}),p.jsxs(nqe,{children:[i.initiatedBy==="user"&&p.jsx(bl,{onClick:i.onCancel,disabled:e,children:"Cancel"}),p.jsx(q4,{onClick:r,loading:e,$hideAnimations:t,disabled:!s,children:"Set Password"})]}),p.jsx(El,{}),p.jsx(Ur,{})]})};let nqe=te.div.withConfig({displayName:"ButtonsContainer",componentId:"sc-d1659c5f-0"})(["display:flex;gap:10px;"]),iqe=/[a-z]/,sqe=/[A-Z]/,aqe=/[0-9]/,ute="!@#$%^&*()\\-_+.",dte=`a-zA-Z0-9${ute}`,oqe=RegExp(`[${ute}]`),lqe=RegExp(`[${dte}]`);const cqe=RegExp(`^[${dte}]{6,}$`),hte=()=>i_e(4,a_e);function uqe(t){return t>.9?"Strong":t>.5?"Medium":"Weak"}function dqe(t=""){return(.3*function(e){if(e.length<8)return 0;let r=0;return iqe.test(e)&&(r+=1),sqe.test(e)&&(r+=1),aqe.test(e)&&(r+=1),oqe.test(e)&&(r+=1),Math.max(0,Math.min(1,r/3))}(t)+XEe(t)/95)/2}const hqe=({buttonHideAnimations:t,buttonLoading:e,password:r="",config:n,isResettingPassword:i,onSubmit:s,onClose:a,onBack:o,onPasswordChange:l,onPasswordGenerate:u})=>{let[h,f]=$.useState(!1),[g,y]=$.useState(!1);$.useEffect(()=>{r&&!g&&y(!0)},[r]);let b=$.useMemo(()=>g?6>((r==null?void 0:r.length)||0)?"Password must be at least 6 characters":cqe.test(r||"")?null:`Invalid characters used ( ${((E="")=>[...new Set(E.split("").filter(S=>!lqe.test(S)).map(S=>S.replace(" ","SPACE")))])(r).join(" ")} )`:null,[r,g]),w=$.useMemo(()=>b?{value:0,label:"Weak"}:function(E=""){let S=dqe(E);return{value:S,label:uqe(S)}}(r),[r,b]),x=$.useMemo(()=>!(r!=null&&r.length)||!!b,[b,r]);return p.jsxs(p.Fragment,{children:[p.jsx(ur,{onClose:a,closeable:n.initiatedBy==="user",backFn:o}),p.jsx(xc,{}),p.jsxs(W4,{children:[p.jsxs(V4,{children:[p.jsx(L7e,{height:48,width:48,stroke:"var(--privy-color-accent)"}),p.jsxs("h3",{style:{color:"var(--privy-color-foreground)"},children:[i?"Reset":"Set"," your password"]}),p.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"Select a strong, memorable password to secure your account."})]}),p.jsxs(H4,{children:[p.jsx(rI,{value:r,onChange:E=>l(E.target.value),onKeyUp:E=>{E.key==="Enter"&&s()},placeholder:"enter or generate a strong password",type:h?"password":"text",style:{paddingRight:"3.8rem"}}),p.jsxs(G4,{style:{width:"3.5rem"},children:[h?p.jsx(K4,{onClick:()=>f(!1)}):p.jsx(Y4,{onClick:()=>f(!0)}),p.jsx(QWe,{onClick:u})]})]}),p.jsx(XWe,{value:w.value===0?.01:w.value,label:w.label}),p.jsx(ste,{error:!!b,children:b||`Password Strength: ${g?w.label:"--"}`}),p.jsxs(pqe,{children:[p.jsx(fqe,{children:p.jsxs(nI,{children:[p.jsxs(NS,{children:[p.jsx(B2,{width:24,height:24,fill:"var(--privy-color-accent)"}),"This password is used to secure your account."]}),p.jsxs(NS,{children:[p.jsx(B2,{width:24,height:24,fill:"var(--privy-color-accent)"}),"Use it to log in on a new environment, like another browser or device."]})]})}),p.jsx(q4,{onClick:s,loading:e,disabled:x,$hideAnimations:t,children:"Continue"})]})]}),p.jsx(El,{}),p.jsx(Ur,{})]})};let fqe=te(nI).withConfig({displayName:"DetailsContainer",componentId:"sc-2da5fe90-0"})(["flex:1;padding-top:1rem;"]),pqe=te.div.withConfig({displayName:"LowerContainer",componentId:"sc-2da5fe90-1"})(["display:flex;flex-direction:column;height:100%;"]);const gqe=({buttonHideAnimations:t,buttonLoading:e,appName:r,password:n,onSubmit:i,onBack:s})=>{let[a,o]=$.useState(!1),[l,u]=$.useState(!0),h=$.useCallback(()=>{o(!0),n&&navigator.clipboard.writeText(n)},[n]),f=$.useCallback(()=>{let g=document.createElement("a"),y=r.toLowerCase().replace(/[^a-z\s]/g,"").replace(/\s/g,"-"),b=new Blob([mqe(r,n)],{type:"text/plain"}),w=URL.createObjectURL(b);g.href=w,g.target="_blank",g.download=`${y}-privy-wallet-recovery.txt`,document.body.appendChild(g),g.click(),setTimeout(()=>{g.remove(),URL.revokeObjectURL(w)},5e3)},[n]);return p.jsxs(p.Fragment,{children:[p.jsx(ur,{backFn:s,closeable:!1}),p.jsx(xc,{}),p.jsxs(W4,{children:[p.jsxs(V4,{children:[p.jsx(Jf,{height:48,width:48,stroke:"var(--privy-color-background)",fill:"var(--privy-color-accent)"}),p.jsx("h3",{style:{color:"var(--privy-color-foreground)"},children:"Save your password"}),p.jsx("p",{style:{color:"var(--privy-color-foreground-2)"},children:"For your security, this password cannot be reset, so keep it somewhere safe."})]}),p.jsxs(H4,{centered:!0,children:[p.jsx(ZWe,{children:l?"".repeat(n.length):n}),p.jsx(G4,{style:{right:"0.75rem"},children:l?p.jsx(K4,{onClick:()=>u(!1)}):p.jsx(Y4,{onClick:()=>u(!0)})})]}),p.jsxs("div",{style:{display:"flex",margin:"12px 0",gap:"12px"},children:[p.jsx(Ez,{onClick:h,children:p.jsxs(p.Fragment,a?{children:[p.jsx(VZ,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copied"]}:{children:[p.jsx(N7e,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Copy"]})}),p.jsxs(Ez,{onClick:f,children:[p.jsx(o7e,{style:{width:24,height:24},stroke:"var(--privy-color-accent)"}),"Download"]})]})]}),p.jsx(q4,{onClick:i,loading:e,$hideAnimations:t,children:"Continue"}),p.jsx(El,{}),p.jsx(Ur,{})]})};let mqe=(t,e)=>`Your wallet recovery password for ${t} is

${e}

You will need this password to access your ${t} wallet on a new device. Please keep it somewhere safe.`;const yqe=({error:t,onClose:e})=>p.jsxs(p.Fragment,{children:[p.jsx(ur,{closeable:!1}),p.jsx(xc,{}),p.jsxs(B4,t?{children:[p.jsx(l_e,{fill:"var(--privy-color-error)",width:"64px",height:"64px"}),p.jsx(wl,{title:"Something went wrong",description:t})]}:{children:[p.jsx(B2,{fill:"var(--privy-color-success)",width:"64px",height:"64px"}),p.jsx(wl,{title:"Success"})]}),p.jsx(Kr,{onClick:e,children:"Close"}),p.jsx(El,{}),p.jsx(Ur,{})]});let bqe=(t,e)=>{switch(t){case"creating":return e==="back"?t:"saving";case"saving":return e==="back"?"creating":"confirming";case"confirming":return e==="back"?"saving":"finalizing";case"finalizing":return e==="back"?"confirming":"done";default:return t}};const fte=({onSubmit:t,...e})=>{let{lastScreen:r,navigate:n}=lt(),{send:i,state:s}=(()=>{let[u,h]=$.useReducer(bqe,"creating");return{send:h,state:u}})(),a=$.useCallback(async()=>{s==="finalizing"&&await t(),i("next")},[s,i,t]);$.useEffect(()=>{let u;return s==="done"&&e.config.initiatedBy==="automatic"&&(u=setTimeout(()=>{var h;return(h=e.onClose)==null?void 0:h.call(e)},yn)),()=>{u&&clearTimeout(u)}},[s,e.config.initiatedBy,e.onClose]);let o=$.useCallback(()=>{i("back")},[i]),l=$.useCallback(()=>{n(IS)},[r,n]);return s==="creating"?p.jsx(hqe,{...e,onSubmit:a,onBack:r===IS?l:void 0}):s==="saving"?p.jsx(gqe,{...e,onSubmit:a,onBack:o}):s==="confirming"?p.jsx(JWe,{...e,onSubmit:a,onBack:o}):s==="finalizing"?p.jsx(rqe,{...e,onSubmit:a,onBack:o}):s==="done"?p.jsx(yqe,{...e,onSubmit:a}):null};let wqe={apple_oauth:"apple",custom_auth:"custom",discord_oauth:"discord",email:"email",farcaster:"farcaster",github_oauth:"github",google_oauth:"google",instagram_oauth:"instagram",linkedin_oauth:"linkedin",passkey:"passkey",phone:"sms",spotify_oauth:"spotify",telegram:"telegram",tiktok_oauth:"tiktok",line_oauth:"line",twitter_oauth:"twitter",wallet:"siwe",smart_wallet:"siwe",cross_app:"privy:"};const Z4=t=>{let e=wqe[t];return t==="wallet"||t==="phone"?{displayName:t,loginMethod:e}:{displayName:e,loginMethod:e}};let pte=$.createContext({});const vqe=({children:t})=>{let e=Ar(),[r,n]=$.useState({});return j4("login",{onComplete:({loginAccount:i})=>{i&&i.type!=="passkey"&&i.type!=="cross_app"&&(i.type!=="wallet"||i.walletClientType!=="privy")&&(Pt.put(_z(e.id),i.type),i.type==="wallet"?(Pt.put(g_(e.id),i.walletClientType),Pt.put(m_(e.id),i.chainType),n({accountType:i.type,walletClientType:i.walletClientType,chainType:i.chainType})):(Pt.del(g_(e.id)),Pt.del(m_(e.id)),n({accountType:i.type})))}}),$.useEffect(()=>{if(!e.id)return;let i=Pt.get(_z(e.id)),s=Pt.get(g_(e.id)),a=Pt.get(m_(e.id));i&&n(i==="wallet"?{accountType:i,walletClientType:s,chainType:a}:{accountType:i})},[e.id]),p.jsx(pte.Provider,{value:r,children:t})};let _z=t=>`privy:${t}:recent-login-method`,g_=t=>`privy:${t}:recent-login-wallet-client`,m_=t=>`privy:${t}:recent-login-chain-type`;const uh=()=>$.useContext(pte),gte=()=>{var i;let{app:t}=lt(),e=(i=t==null?void 0:t.appearance)==null?void 0:i.logo,r=`${t==null?void 0:t.name} logo`,n={maxHeight:"90px",maxWidth:"180px"};return e?typeof e=="string"?p.jsx("img",{src:e,alt:r,style:n}):e.type==="svg"||e.type==="img"?et.cloneElement(e,{alt:r,style:n}):(console.warn("`config.appearance.logo` must be a string, or an SVG / IMG element. Nothing will be rendered."),null):null},xqe=t=>{let{app:e}=lt();return e!=null&&e.appearance.logo?p.jsx(Eqe,{...t,children:p.jsx(gte,{})}):null},Eqe=te.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-a206bd44-0"})(["display:flex;flex-direction:column;align-items:center;padding:24px 0;flex-grow:1;justify-content:center;"]),_qe=({name:t,logoUrl:e,size:r="38px"})=>typeof e=="string"?p.jsx("img",{src:e,alt:`${t??"Provider app"} logo`,style:{width:r,height:r,maxHeight:"90px",maxWidth:"180px",borderRadius:"8px"}}):p.jsx("span",{}),Cqe=({appId:t})=>{let[e,r]=$.useState(void 0),{startCrossAppAuthFlow:n,authenticated:i}=fr(),{client:s}=rt();return $.useEffect(()=>{(async()=>s&&r(await s.getCrossAppProviderDetails(t)))()},[s]),p.jsx(En,{onClick:()=>n({appId:t,action:i?"link":"login"}),disabled:!e,children:e?p.jsxs(p.Fragment,{children:[p.jsx(_qe,{name:e.name,logoUrl:e.icon_url||void 0,size:"24px"})," ",e.name]}):p.jsx(ch,{})})};let Aqe=te.a.withConfig({displayName:"StyledLink",componentId:"sc-c8577138-0"})(["&&{color:",";font-weight:400;text-decoration:",";text-underline-offset:4px;text-decoration-thickness:1px;cursor:",";opacity:",";font-size:",";line-height:",";transition:color 200ms ease,text-decoration-color 200ms ease,opacity 200ms ease;&:hover{color:",";text-decoration:",";text-underline-offset:4px;}&:active{color:",";}&:focus{outline:none;box-shadow:0 0 0 3px #949df9;border-radius:2px;}}"],({$variant:t})=>t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))",({$variant:t})=>t==="underlined"?"underline":"var(--privy-link-navigation-decoration, none)",({$disabled:t})=>t?"not-allowed":"pointer",({$disabled:t})=>t?.5:1,({$size:t})=>{switch(t){case"xs":return"12px";case"sm":return"14px";default:return"16px"}},({$size:t})=>{switch(t){case"xs":return"18px";case"sm":return"22px";default:return"24px"}},({$variant:t,$disabled:e})=>t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))",({$disabled:t})=>t?"none":"underline",({$variant:t,$disabled:e})=>e?t==="underlined"?"var(--privy-color-foreground)":"var(--privy-link-navigation-color, var(--privy-color-accent))":"var(--privy-color-foreground)");const Tg=({size:t="md",variant:e="navigation",disabled:r=!1,as:n,children:i,onClick:s,...a})=>p.jsx(Aqe,{as:n,$size:t,$variant:e,$disabled:r,onClick:o=>{r?o.preventDefault():s==null||s(o)},...a,children:i}),iI=(t,e)=>!Xl(t)&&(e==="all-users"||e==="users-without-wallets"&&!Sqe(t).length);let Sqe=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.chainType==="ethereum");const sI=(t,e)=>!Ab(t)&&(e==="all-users"||e==="users-without-wallets"&&!kqe(t).length);let kqe=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.chainType==="solana");const dh=(t,e)=>iI(t,e.ethereum.createOnLogin)||sI(t,e.solana.createOnLogin),$qe=({title:t="Account not found",subtitle:e,appName:r="this app",ctaText:n="Try logging in again",onRetry:i})=>p.jsx(wr,{title:t,subtitle:e||`Please try logging in again or go to ${r} to create an account.`,icon:lEe,iconVariant:"warning",primaryCta:{label:n,onClick:i},watermark:!0}),Wb={component:()=>{let{navigate:t,app:e,setModalData:r,data:n}=lt(),{getAuthMeta:i,client:s}=rt();return p.jsx($qe,{appName:e==null?void 0:e.name,onRetry:()=>{let a=i();r({...n,login:{...n==null?void 0:n.login,...a!=null&&a.disableSignup?{disableSignup:!0}:{}}}),s!=null&&s.authFlow&&(s.authFlow=void 0),t(ps)}})}},Tqe=te.span.withConfig({displayName:"CircleBorder",componentId:"sc-9056b8b8-0"})(["&&{width:82px;height:82px;border-width:4px;border-style:solid;border-color:",";border-bottom-color:transparent;border-radius:50%;display:inline-block;box-sizing:border-box;animation:rotation 1.2s linear infinite;transition:border-color 800ms;border-bottom-color:",";}"],t=>t.color??"var(--privy-color-accent)",t=>t.color??"var(--privy-color-accent)"),Gs=({address:t,showCopyIcon:e,url:r,className:n})=>{let[i,s]=$.useState(!1);function a(o){o.stopPropagation(),navigator.clipboard.writeText(t).then(()=>s(!0)).catch(console.error)}return $.useEffect(()=>{if(i){let o=setTimeout(()=>s(!1),3e3);return()=>clearTimeout(o)}},[i]),p.jsxs(Iqe,r?{children:[p.jsx(Pqe,{title:t,className:n,href:`${r}/address/${t}`,target:"_blank",children:Es(t)}),e&&p.jsx(bl,{onClick:a,size:"sm",style:{gap:"0.375rem"},children:p.jsxs(p.Fragment,i?{children:["Copied",p.jsx(L2,{size:16})]}:{children:["Copy",p.jsx(w5,{size:16})]})})]}:{children:[p.jsx(Nqe,{title:t,className:n,children:Es(t)}),e&&p.jsx(bl,{onClick:a,size:"sm",style:{gap:"0.375rem",fontSize:"14px"},children:p.jsxs(p.Fragment,i?{children:["Copied",p.jsx(L2,{size:14})]}:{children:["Copy",p.jsx(w5,{size:14})]})})]})};let Iqe=te.span.withConfig({displayName:"AddressContainer",componentId:"sc-3a987cc8-0"})(["display:inline-flex;align-items:center;gap:0.5rem;"]),Nqe=te.span.withConfig({displayName:"AddressText",componentId:"sc-3a987cc8-1"})(["font-size:14px;font-weight:500;color:var(--privy-color-foreground);"]),Pqe=te.a.withConfig({displayName:"AddressLink",componentId:"sc-3a987cc8-2"})(["font-size:14px;color:var(--privy-color-foreground);text-decoration:none;&:hover{text-decoration:underline;}"]);function Oqe(t){return p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round",...t,children:[p.jsx("circle",{cx:"12",cy:"12",r:"10"}),p.jsx("line",{x1:"12",x2:"12",y1:"8",y2:"12"}),p.jsx("line",{x1:"12",x2:"12.01",y1:"16",y2:"16"})]})}const PS=792703809,OS="11111111111111111111111111111111";let Cz="0x0000000000000000000000000000000000000000";const ng=({originCurrency:t,destinationCurrency:e,...r})=>({tradeType:"EXPECTED_OUTPUT",originCurrency:t??Cz,destinationCurrency:e??Cz,...r});let mte="https://api.relay.link",yte="https://api.testnets.relay.link";const Z2=async({input:t,isTestnet:e})=>{let r=await fetch((e?yte:mte)+"/quote",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),n=await r.json();if(!(r.ok||typeof n.message=="string"&&n.message.startsWith("Invalid address")))throw console.error("Relay error:",n),Error(n.message??"Error fetching quote from relay");return n},q5=t=>{var r,n;let e=(n=(r=t.steps[0])==null?void 0:r.items)==null?void 0:n[0];if(e)return{from:e.data.from,to:e.data.to,value:Number(e.data.value),chainId:Number(e.data.chainId),data:e.data.data}};async function Mqe({transactionHash:t,isTestnet:e}){var i;let r=await fetch((e?yte:mte)+"/requests/v2?hash="+t),n=await r.json();if(!r.ok)throw"message"in n&&typeof n.message=="string"?Error(n.message):Error("Error fetching request from relay");return((i=n.requests.at(0))==null?void 0:i.status)??"pending"}function aI({transactionHash:t,isTestnet:e,bridgingStatus:r,setBridgingStatus:n,onSuccess:i,onFailure:s}){$.useEffect(()=>{if(t&&r){if(["delayed","waiting","pending"].includes(r)){let a=setInterval(async()=>{try{let o=await Mqe({transactionHash:t,isTestnet:e});n(o)}catch(o){console.error(o)}},1e3);return()=>clearInterval(a)}r==="success"?i({transactionHash:t}):["refund","failure"].includes(r)&&s({error:new bte(t,e)})}},[r,t,e])}let bte=class extends ue{constructor(e,r){super("We were unable to complete the bridging transaction. Funds will be refunded on your wallet.",void 0,fe.TRANSACTION_FAILURE),this.relayLink=r?`https://testnets.relay.link/transaction/${e}`:`https://relay.link/transaction/${e}`}};const Q4=({error:t,allowlistConfig:e,onRetry:r,onCaptchaReset:n,onBack:i})=>{let s=((a,o)=>{if(a instanceof bte)return{title:"Transaction failed",detail:p.jsxs(p.Fragment,{children:[p.jsx("span",{children:a.message}),p.jsxs("span",{children:[" ","Check the"," ",p.jsx(Rqe,{href:a.relayLink,target:"_blank",children:"refund status"}),"."]})]}),ctaText:"Try again",icon:ma};if(a instanceof ue)switch(a.privyErrorCode){case fe.CLIENT_REQUEST_TIMEOUT:return{title:"Timed out",detail:a.message,ctaText:"Try again",icon:ma};case fe.INSUFFICIENT_BALANCE:return{title:"Insufficient balance",detail:a.message,ctaText:"Try again",icon:ma};case fe.TRANSACTION_FAILURE:return{title:"Transaction failure",detail:a.message,ctaText:"Try again",icon:ma};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:ma}}else{if(a instanceof Sn&&a.type==="twilio_verification_failed")return{title:"Something went wrong",detail:a.message,ctaText:"Try again",icon:hEe};if(!(a instanceof fs))return a instanceof Sa&&a.status&&[400,422].includes(a.status)?{title:"Something went wrong",detail:a.message,ctaText:"Try again",icon:ma}:{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:ma};switch(a.privyErrorCode){case fe.INVALID_CAPTCHA:return{title:"Something went wrong",detail:"Please try again.",ctaText:"Try again",icon:ma};case fe.DISALLOWED_LOGIN_METHOD:return{title:"Not allowed",detail:a.message,ctaText:"Try another method",icon:ma};case fe.ALLOWLIST_REJECTED:return{title:o.errorTitle||"You don't have access to this app",detail:o.errorDetail||"Have you been invited?",ctaText:o.errorCtaText||"Try another account",icon:Q$};case fe.CAPTCHA_FAILURE:return{title:"Something went wrong",detail:"You did not pass CAPTCHA. Please try again.",ctaText:"Try again",icon:null};case fe.CAPTCHA_TIMEOUT:return{title:"Something went wrong",detail:"Something went wrong! Please try again later.",ctaText:"Try again",icon:null};case fe.LINKED_TO_ANOTHER_USER:return{title:"Authentication failed",detail:"This account has already been linked to another user.",ctaText:"Try again",icon:ma};case fe.NOT_SUPPORTED:return{title:"This region is not supported",detail:"SMS authentication from this region is not available",ctaText:"Try another method",icon:ma};case fe.TOO_MANY_REQUESTS:return{title:"Request failed",detail:"Too many attempts.",ctaText:"Try again later",icon:ma};default:return{title:"Something went wrong",detail:"Try again later",ctaText:"Try again",icon:ma}}}})(t,e);return p.jsx(wr,{title:s.title,subtitle:s.detail,icon:s.icon,onBack:i,iconVariant:"error",primaryCta:{label:s.ctaText,onClick:()=>{t instanceof fs&&(t.privyErrorCode===fe.INVALID_CAPTCHA&&(n==null||n()),t.privyErrorCode===fe.ALLOWLIST_REJECTED&&e.errorCtaLink)?window.location.href=e.errorCtaLink:r==null||r()},variant:"error"},watermark:!0})},_n={component:()=>{var o,l;let{navigate:t,data:e,lastScreen:r,currentScreen:n,app:i}=lt(),{reset:s}=ca(),a=((o=e==null?void 0:e.errorModalData)==null?void 0:o.previousScreen)||(r===n?void 0:r);return p.jsx(Q4,{error:((l=e==null?void 0:e.errorModalData)==null?void 0:l.error)||Error(),allowlistConfig:i.allowlistConfig,onRetry:()=>{t(a||ps,!1)},onCaptchaReset:s})}};let Rqe=te.a.withConfig({displayName:"Link",componentId:"sc-89a5a605-0"})(["color:var(--privy-color-accent) !important;font-weight:600;"]);const wte=({onTransfer:t,isTransferring:e,transferSuccess:r})=>p.jsx(Kr,{...r?{success:!0,children:"Success!"}:{warn:!0,loading:e,onClick:t,children:"Transfer and delete account"}}),vte=te.div.withConfig({displayName:"ConnectContainer",componentId:"sc-3505eb4c-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;gap:8px;width:100%;padding-bottom:16px;"]),MS=te.div.withConfig({displayName:"GappedContainer",componentId:"sc-3505eb4c-1"})(["display:flex;flex-direction:column;&& p{font-size:14px;}width:100%;gap:16px;"]),xte=te.div.withConfig({displayName:"DisclosedAccountContainer",componentId:"sc-3505eb4c-2"})(["display:flex;cursor:pointer;align-items:center;width:100%;border:1px solid var(--privy-color-foreground-4) !important;border-radius:var(--privy-border-radius-md);padding:8px 10px;font-size:14px;font-weight:500;gap:8px;"]),jqe=te(P$).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-3505eb4c-3"})(["position:relative;width:",";height:",";color:var(--privy-color-foreground-3);margin-left:auto;"],({$iconSize:t})=>`${t}px`,({$iconSize:t})=>`${t}px`),Dqe=te(Q7e).withConfig({displayName:"StyledCopyIcon",componentId:"sc-3505eb4c-4"})(["position:relative;width:15px;height:15px;color:var(--privy-color-foreground-3);margin-left:auto;"]),Uqe=te.ol.withConfig({displayName:"ListContainer",componentId:"sc-3505eb4c-5"})(["display:flex;flex-direction:column;font-size:14px;width:100%;text-align:left;"]),Az=te.li.withConfig({displayName:"ListItem",componentId:"sc-3505eb4c-6"})(["font-size:14px;list-style-type:auto;list-style-position:outside;margin-left:1rem;margin-bottom:0.5rem;&:last-child{margin-bottom:0;}"]),Bqe=te.div.withConfig({displayName:"CircleContainer",componentId:"sc-3505eb4c-7"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]);let Lqe=()=>p.jsx(Bqe,{children:p.jsx(jqe,{$iconSize:60})});const Fqe=({address:t,onClose:e,onRetry:r,onTransfer:n,isTransferring:i,transferSuccess:s})=>{var l;let{defaultChain:a}=Ar(),o=((l=a.blockExplorers)==null?void 0:l.default.url)??"https://etherscan.io";return p.jsxs(p.Fragment,{children:[p.jsx(ur,{onClose:e,backFn:r}),p.jsxs(vte,{children:[p.jsx(Lqe,{}),p.jsxs(MS,{children:[p.jsx("h3",{children:"Check account assets before transferring"}),p.jsx("p",{children:"Before transferring, ensure there are no assets in the other account. Assets in that account will not transfer automatically and may be lost."}),p.jsxs(Uqe,{children:[p.jsx("p",{children:" To check your balance, you can:"}),p.jsx(Az,{children:"Log out and log back into the other account, or "}),p.jsxs(Az,{children:["Copy your wallet address and use a"," ",p.jsx("u",{children:p.jsx("a",{target:"_blank",href:o,children:"block explorer"})})," ","to see if the account holds any assets."]})]}),p.jsxs(xte,{onClick:()=>navigator.clipboard.writeText(t).catch(console.error),children:[p.jsx(Z6,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),p.jsx(Gs,{address:t,showCopyIcon:!1}),p.jsx(Dqe,{})]}),p.jsx(wte,{onTransfer:n,isTransferring:i,transferSuccess:s})]})]}),p.jsx(Ur,{})]})},up={component:()=>{let{initiateAccountTransfer:t,closePrivyModal:e}=rt(),{data:r,navigate:n,lastScreen:i,setModalData:s}=lt(),[a,o]=$.useState(void 0),[l,u]=$.useState(!1),[h,f]=$.useState(!1),g=async()=>{var y,b,w,x,E,S,_,I,A,O;try{if(!((y=r==null?void 0:r.accountTransfer)!=null&&y.nonce)||!((b=r==null?void 0:r.accountTransfer)!=null&&b.account))throw Error("missing account transfer inputs");f(!0),await t({nonce:(w=r==null?void 0:r.accountTransfer)==null?void 0:w.nonce,account:(x=r==null?void 0:r.accountTransfer)==null?void 0:x.account,accountType:(E=r==null?void 0:r.accountTransfer)==null?void 0:E.linkMethod,externalWalletMetadata:(S=r==null?void 0:r.accountTransfer)==null?void 0:S.externalWalletMetadata,telegramWebAppData:(_=r==null?void 0:r.accountTransfer)==null?void 0:_.telegramWebAppData,telegramAuthResult:(I=r==null?void 0:r.accountTransfer)==null?void 0:I.telegramAuthResult,farcasterEmbeddedAddress:(A=r==null?void 0:r.accountTransfer)==null?void 0:A.farcasterEmbeddedAddress,oAuthUserInfo:(O=r==null?void 0:r.accountTransfer)==null?void 0:O.oAuthUserInfo}),u(!0),f(!1),setTimeout(e,1e3)}catch(F){s({errorModalData:{error:F,previousScreen:i||up}}),n(_n,!0)}};return a?p.jsx(Fqe,{address:a,onClose:e,onRetry:()=>o(void 0),onTransfer:g,isTransferring:h,transferSuccess:l}):p.jsx(zqe,{onClose:e,onInfo:()=>{var y;return o((y=r==null?void 0:r.accountTransfer)==null?void 0:y.embeddedWalletAddress)},onContinue:()=>{var y;return o((y=r==null?void 0:r.accountTransfer)==null?void 0:y.embeddedWalletAddress)},onTransfer:g,isTransferring:h,transferSuccess:l,data:r})}},zqe=({onClose:t,onContinue:e,onInfo:r,onTransfer:n,transferSuccess:i,isTransferring:s,data:a})=>{var l,u,h,f,g,y,b;if(!((l=a==null?void 0:a.accountTransfer)!=null&&l.linkMethod)||!((u=a==null?void 0:a.accountTransfer)!=null&&u.displayName))return;let o={method:(h=a==null?void 0:a.accountTransfer)==null?void 0:h.linkMethod,handle:(f=a==null?void 0:a.accountTransfer)==null?void 0:f.displayName,disclosedAccount:(g=a==null?void 0:a.accountTransfer)!=null&&g.embeddedWalletAddress?{type:"wallet",handle:(y=a==null?void 0:a.accountTransfer)==null?void 0:y.embeddedWalletAddress}:void 0};return p.jsxs(p.Fragment,{children:[p.jsx(ur,{closeable:!0}),p.jsxs(vte,{children:[p.jsx(Qee,{children:p.jsxs("div",{children:[p.jsx(Tqe,{color:"var(--privy-color-error)"}),p.jsx(Jf,{height:38,width:38,stroke:"var(--privy-color-error)"})]})}),p.jsxs(MS,{children:[p.jsxs("h3",{children:[function(w){switch(w){case"sms":return"Phone number";case"email":return"Email address";case"siwe":return"Wallet address";case"siws":return"Solana wallet address";case"linkedin":return"LinkedIn profile";case"google":case"apple":case"discord":case"github":case"instagram":case"spotify":case"tiktok":case"line":case"twitter":case"telegram":case"farcaster":return`${nee(w.replace("_oauth",""))} profile`;default:return w.startsWith("privy:")?"Cross-app account":w}}(o.method)," is associated with another account"]}),p.jsxs("p",{children:["Do you want to transfer",p.jsx("b",{children:o.handle?` ${o.handle}`:""})," to this account instead? This will delete your other account."]}),p.jsx(Wqe,{onClick:r,disclosedAccount:o.disclosedAccount})]}),p.jsxs(MS,{style:{gap:12,marginTop:12},children:[(b=a==null?void 0:a.accountTransfer)!=null&&b.embeddedWalletAddress?p.jsx(Kr,{onClick:e,children:"Continue"}):p.jsx(wte,{onTransfer:n,transferSuccess:i,isTransferring:s}),p.jsx(bl,{onClick:t,children:"No thanks"})]})]}),p.jsx(Ur,{})]})};function Wqe({disclosedAccount:t,onClick:e}){return t?p.jsxs(xte,{onClick:e,children:[p.jsx(Z6,{color:"var(--privy-color-foreground-1)",strokeWidth:2,height:"28px",width:"28px"}),p.jsx(Gs,{address:t.handle,showCopyIcon:!1}),p.jsx(Oqe,{width:15,height:15,color:"var(--privy-color-foreground-3)",style:{marginLeft:"auto"}})]}):null}const qqe=({errorMessage:t,onClose:e})=>p.jsx(wr,t?{title:"Something went wrong",subtitle:t,icon:f4,iconVariant:"error",primaryCta:{label:"Close",onClick:e},watermark:!0}:{title:"Creating your wallet",subtitle:"Please wait...",iconVariant:"loading",watermark:!1}),Ru={component:()=>{let{app:t,setModalData:e,navigate:r,data:n,onUserCloseViaDialogOrKeybindRef:i}=lt(),[s,a]=$.useState(""),{embeddedWallets:o}=Ar(),{authenticated:l,user:u}=fr(),{closePrivyModal:h,walletProxy:f,client:g}=rt(),{onSuccess:y,onFailure:b,callAuthOnSuccessOnClose:w,shouldCreateEth:x,shouldCreateSol:E}=n.createWallet,S=t.embeddedWallets.mode==="legacy-embedded-wallets-only"&&(t==null?void 0:t.embeddedWallets.requireUserOwnedRecoveryOnCreate)===!0,[_,I]=$.useState(null),{create:A}=eI(),O=x??(!!u&&iI(u,t.embeddedWallets.ethereum.createOnLogin)),F=E??(!!u&&sI(u,t.embeddedWallets.solana.createOnLogin)),H=new As(async()=>{let L=await g.getAccessToken();if(u&&L&&f)try{let z;if(O&&F)z=await A({chainType:"ethereum",walletIndex:0,latestUser:u}),z=await A({chainType:"solana",walletIndex:0,latestUser:z.user});else if(F)z=await A({chainType:"solana",walletIndex:0,latestUser:u});else{if(!O)return void h({shouldCallAuthOnSuccess:w});z=await A({chainType:"ethereum",walletIndex:0,latestUser:u})}I(z),r(tI)}catch(z){a(z.message)}});return $.useEffect(()=>l&&u?S?(e({...n,createWallet:{...n.createWallet,shouldCreateEth:O,shouldCreateSol:F},recoverySelection:{...n==null?void 0:n.recoverySelection,isInAccountCreateFlow:!0,shouldCreateEth:O,shouldCreateSol:F}}),r(Xte({walletAction:"create",showAutomaticRecovery:!1,availableRecoveryMethods:o.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:!1,isResettingPassword:!1}))):void H.execute():(r(ps),void b(Error("User must be authenticated before creating a Privy wallet"))),[S,l]),i.current=()=>null,p.jsx(qqe,{errorMessage:s||void 0,onClose:()=>{_?(y(_),h({shouldCallAuthOnSuccess:w})):(b(new Hd("User wallet creation failed")),h({shouldCallAuthOnSuccess:!1}))}})}},dp={component:()=>{let{user:t,logout:e}=fr(),{app:r,onUserCloseViaDialogOrKeybindRef:n,setModalData:i,navigate:s}=lt(),{acceptTerms:a,closePrivyModal:o,createAnalyticsEvent:l}=rt(),u=h=>{h==null||h.preventDefault(),o({shouldCallAuthOnSuccess:!1}),e()};return n.current=u,p.jsx(Hqe,{termsAndConditionsUrl:r==null?void 0:r.legal.termsAndConditionsUrl,privacyPolicyUrl:r==null?void 0:r.legal.privacyPolicyUrl,onAccept:async h=>{h==null||h.preventDefault(),await a(),t&&dh(t,r.embeddedWallets)?(i({createWallet:{onSuccess:()=>{},onFailure:f=>{console.error(f),l({eventName:"embedded_wallet_creation_failure_logout",payload:{error:f,screen:"AffirmativeConsentScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),s(Ru)):o()},onDecline:u})}},Hqe=({termsAndConditionsUrl:t,privacyPolicyUrl:e,onAccept:r,onDecline:n,title:i="One last step",subtitle:s="By signing up, you agree to our terms and privacy policy."})=>p.jsx(wr,{title:i,subtitle:s,icon:dEe,primaryCta:{label:"Accept",onClick:r},secondaryCta:{label:"No thanks",onClick:n},watermark:!0,children:(t||e)&&p.jsxs(Vqe,{children:[t&&p.jsxs(Bf,{variant:"muted",href:t,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Terms",p.jsx(_A,{width:16,height:16,strokeWidth:2.25})]}),e&&p.jsxs(Bf,{variant:"muted",href:e,target:"_blank",size:"lg",style:{justifyContent:"space-between"},as:"a",children:["View Privacy Policy",p.jsx(_A,{width:16,height:16,strokeWidth:2.25})]})]})});let Vqe=te.div.withConfig({displayName:"LinksContainer",componentId:"sc-b9d25a6d-0"})(["display:flex;flex-direction:column;gap:12px;margin-top:var(--screen-space);"]);const Ete=({color:t,...e})=>p.jsx("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 115.77 122.88",xmlSpace:"preserve",...e,children:p.jsx("g",{children:p.jsx("path",{fill:t||"currentColor",className:"st0",d:"M89.62,13.96v7.73h12.19h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02v0.02 v73.27v0.01h-0.02c-0.01,3.84-1.57,7.33-4.1,9.86c-2.51,2.5-5.98,4.06-9.82,4.07v0.02h-0.02h-61.7H40.1v-0.02 c-3.84-0.01-7.34-1.57-9.86-4.1c-2.5-2.51-4.06-5.98-4.07-9.82h-0.02v-0.02V92.51H13.96h-0.01v-0.02c-3.84-0.01-7.34-1.57-9.86-4.1 c-2.5-2.51-4.06-5.98-4.07-9.82H0v-0.02V13.96v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07V0h0.02h61.7 h0.01v0.02c3.85,0.01,7.34,1.57,9.86,4.1c2.5,2.51,4.06,5.98,4.07,9.82h0.02V13.96L89.62,13.96z M79.04,21.69v-7.73v-0.02h0.02 c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v64.59v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h12.19V35.65 v-0.01h0.02c0.01-3.85,1.58-7.34,4.1-9.86c2.51-2.5,5.98-4.06,9.82-4.07v-0.02h0.02H79.04L79.04,21.69z M105.18,108.92V35.65v-0.02 h0.02c0-0.91-0.39-1.75-1.01-2.37c-0.61-0.61-1.46-1-2.37-1v0.02h-0.01h-61.7h-0.02v-0.02c-0.91,0-1.75,0.39-2.37,1.01 c-0.61,0.61-1,1.46-1,2.37h0.02v0.01v73.27v0.02h-0.02c0,0.91,0.39,1.75,1.01,2.37c0.61,0.61,1.46,1,2.37,1v-0.02h0.01h61.7h0.02 v0.02c0.91,0,1.75-0.39,2.37-1.01c0.61-0.61,1-1.46,1-2.37h-0.02V108.92L105.18,108.92z"})})});let Gqe=te.button.withConfig({displayName:"CopyTextButton",componentId:"sc-4b0620dc-0"})(["display:flex;align-items:center;gap:0.5rem;&:hover{text-decoration:underline;}svg{width:0.875rem;height:0.875rem;}"]),Kqe=te.span.withConfig({displayName:"CopiedText",componentId:"sc-4b0620dc-1"})(["display:flex;align-items:center;gap:0.25rem;font-size:0.875rem;color:var(--privy-color-foreground-2);"]),Yqe=te(x7e).withConfig({displayName:"GreenCheck",componentId:"sc-4b0620dc-2"})(["color:var(--privy-color-success);"]),Zqe=te(Ete).withConfig({displayName:"StyledCopy",componentId:"sc-4b0620dc-3"})(["color:var(--privy-color-foreground-3);opactiy:0.5;"]);function Qqe({children:t,iconOnly:e,value:r,hideCopyIcon:n,...i}){let[s,a]=$.useState(!1);return p.jsxs(Gqe,{...i,onClick:()=>{navigator.clipboard.writeText(r||t).catch(console.error),a(!0),setTimeout(()=>a(!1),1500)},children:[t," ",s?p.jsxs(Kqe,{children:[p.jsx(Yqe,{})," ",!e&&"Copied"]}):!n&&p.jsx(Zqe,{})]})}const Xqe=()=>p.jsx("svg",{width:"200",height:"200",viewBox:"-77 -77 200 200",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"28px",width:"28px"},children:p.jsx("rect",{width:"50",height:"50",fill:"black",rx:10,ry:10})});let y_=(t,e,r,n,i)=>{for(let s=e;s<e+n;s++)for(let a=r;a<r+i;a++){let o=t==null?void 0:t[a];o&&o[s]&&(o[s]=0)}return t},Jqe=({x:t,y:e,cellSize:r,bgColor:n,fgColor:i})=>p.jsx(p.Fragment,{children:[0,1,2].map(s=>p.jsx("circle",{r:r*(7-2*s)/2,cx:t+7*r/2,cy:e+7*r/2,fill:s%2!=0?n:i},`finder-${t}-${e}-${s}`))}),eHe=({cellSize:t,matrixSize:e,bgColor:r,fgColor:n})=>p.jsx(p.Fragment,{children:[[0,0],[(e-7)*t,0],[0,(e-7)*t]].map(([i,s])=>p.jsx(Jqe,{x:i,y:s,cellSize:t,bgColor:r,fgColor:n},`finder-${i}-${s}`))}),tHe=({matrix:t,cellSize:e,color:r})=>p.jsx(p.Fragment,{children:t.map((n,i)=>n.map((s,a)=>s?p.jsx("rect",{height:e-.4,width:e-.4,x:i*e+.1*e,y:a*e+.1*e,rx:.5*e,ry:.5*e,fill:r},`cell-${i}-${a}`):p.jsx(et.Fragment,{},`circle-${i}-${a}`)))}),rHe=({cellSize:t,matrixSize:e,element:r,sizePercentage:n,bgColor:i})=>{if(!r)return p.jsx(p.Fragment,{});let s=e*(n||.14),a=Math.floor(e/2-s/2),o=Math.floor(e/2+s/2);(o-a)%2!=e%2&&(o+=1);let l=(o-a)*t,u=l-.2*l,h=a*t;return p.jsxs(p.Fragment,{children:[p.jsx("rect",{x:a*t,y:a*t,width:l,height:l,fill:i}),p.jsx(r,{x:h+.1*l,y:h+.1*l,height:u,width:u})]})},nHe=t=>{var s;let e=t.outputSize,r=((a,o)=>{let l=N_e.create(a,{errorCorrectionLevel:o}).modules,u=((h,f)=>{let g=h.slice(0),y=[];for(;g.length;)y.push(g.splice(0,f));return y})(Array.from(l.data),l.size);return u=y_(u,0,0,7,7),u=y_(u,u.length-7,0,7,7),y_(u,0,u.length-7,7,7)})(t.url,t.errorCorrectionLevel),n=e/r.length,i=function(a,{min:o,max:l}){return Math.min(Math.max(a,o),l)}(2*n,{min:.025*e,max:.036*e});return p.jsxs("svg",{height:t.outputSize,width:t.outputSize,viewBox:`0 0 ${t.outputSize} ${t.outputSize}`,style:{height:"100%",width:"100%",padding:`${i}px`},children:[p.jsx(tHe,{matrix:r,cellSize:n,color:t.fgColor}),p.jsx(eHe,{cellSize:n,matrixSize:r.length,fgColor:t.fgColor,bgColor:t.bgColor}),p.jsx(rHe,{cellSize:n,element:(s=t.logo)==null?void 0:s.element,bgColor:t.bgColor,matrixSize:r.length})]})},iHe=te.div.attrs({className:"ph-no-capture"}).withConfig({displayName:"QrContainer",componentId:"sc-597e27f3-0"})(["display:flex;justify-content:center;align-items:center;height:",";width:",";margin:auto;background-color:",";&&{border-width:2px;border-color:",";border-radius:var(--privy-border-radius-md);}"],t=>`${t.$size}px`,t=>`${t.$size}px`,t=>t.$bgColor,t=>t.$borderColor);const qb=t=>{let{appearance:e}=Ar(),r=t.bgColor||"#FFFFFF",n=t.fgColor||"#000000",i=t.size||160,s=e.palette.colorScheme==="dark"?r:n;return p.jsx(iHe,{$size:i,$bgColor:r,$fgColor:n,$borderColor:s,children:p.jsx(nHe,{url:t.url,logo:{element:t.squareLogoElement??Xqe},outputSize:i,bgColor:r,fgColor:n,errorCorrectionLevel:t.errorCorrectionLevel||"Q"})})},Lf=te.span.withConfig({displayName:"ErrorMessage",componentId:"sc-fcb8cd50-0"})(["text-align:left;font-size:0.75rem;font-weight:500;line-height:1.125rem;color:var(--privy-color-error);"]);let _te=te.label.withConfig({displayName:"BaseEmailForm",componentId:"sc-f34af797-0"})(["display:block;position:relative;width:100%;height:56px;&& > :first-child{position:absolute;left:0.75em;top:50%;transform:translate(0,-50%);}&& > input{font-size:16px;line-height:24px;color:var(--privy-color-foreground);padding:12px 88px 12px 52px;flex-grow:1;background:var(--privy-color-background);border:1px solid ",";border-radius:var(--privy-border-radius-md);width:100%;height:100%;@media (min-width:441px){font-size:14px;padding-right:78px;}:focus{outline:none;border-color:",";box-shadow:",";}:autofill,:-webkit-autofill{background:var(--privy-color-background);}&& > input::placeholder{color:var(--privy-color-foreground-3);}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}&:disabled{opacity:0.4;cursor:not-allowed;}&:disabled,&:disabled:hover,&:disabled > span{color:var(--privy-color-foreground-3);}}"],({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)",({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-accent-light)",({$error:t})=>t?"none":"0 0 0 1px var(--privy-color-accent-light)");const Cte=te(_te).withConfig({displayName:"EmailUpdateForm",componentId:"sc-f34af797-1"})(["background-color:var(--privy-color-background);transition:background-color 200ms ease;&& > button{right:0;line-height:24px;position:absolute;padding:13px 17px;background-color:#090;:focus{outline:none;border-color:var(--privy-color-accent);}}"]),sHe=te(_te).withConfig({displayName:"EmailInputForm",componentId:"sc-f34af797-2"})(["&& > input{overflow:hidden;white-space:nowrap;text-overflow:ellipsis;padding-right:",";border:1px solid ",";&& > input::placeholder{color:var(--privy-color-foreground-3);}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;}}"],t=>t.$stacked?"16px":"88px",({$error:t})=>t?"var(--privy-color-error) !important":"var(--privy-color-foreground-4)"),Ate=te.div.withConfig({displayName:"InputContainerForm",componentId:"sc-f34af797-3"})(["width:100%;&& > ","{display:block;text-align:left;padding-left:var(--privy-border-radius-md);padding-bottom:5px;}"],Lf),Ste=({...t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",...t,children:[p.jsx("rect",{width:"18",height:"18",x:"3",y:"3",rx:"2"}),p.jsx("path",{d:"M3 9a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2"}),p.jsx("path",{d:"M3 11h3c.8 0 1.6.3 2.1.9l1.1.9c1.6 1.6 4.1 1.6 5.7 0l1.1-.9c.5-.5 1.3-.9 2.1-.9H21"})]}),B0={phantom:{mobile:{native:"phantom://",universal:"https://phantom.app/ul/"}},solflare:{mobile:{native:void 0,universal:"https://solflare.com/ul/v1/"}},metamask:{image_url:{sm:SS,md:SS}}};class ka{static normalize(e){return e.replace(/[-_]wallet$/,"").replace(/[-_]extension$/,"").toLowerCase()}isEth(e){return e.chains.some(r=>r.startsWith("eip155:"))}isSol(e){return e.chains.some(r=>r.startsWith("solana:"))}inAllowList(e,r){if(!this.normalizedAllowList||this.normalizedAllowList.length===0||r==="listing"&&this.includeWalletConnect)return!0;let n=ka.normalize(e);return this.normalizedAllowList.some(i=>n===ka.normalize(i))}chainMatches(e){return this.chainFilter==="ethereum-only"?e==="ethereum":this.chainFilter!=="solana-only"||e==="solana"}connectorOk(e){return!!(e.connectorType!=="null"&&this.chainMatches(e.chainType)&&(this.inAllowList(e.walletClientType,"connector")||(e.connectorType==="injected"||e.connectorType==="solana_adapter")&&(e.chainType==="ethereum"&&this.detectedEth||e.chainType==="solana"&&this.detectedSol)))}listingOk(e){if(e.slug.includes("coinbase"))return!1;if(this.chainFilter==="ethereum-only"){if(!this.isEth(e))return!1}else if(this.chainFilter==="solana-only"&&!this.isSol(e))return!1;return!!this.inAllowList(e.slug,"listing")}getWallets(e,r){var l;let n=new Map,i=u=>{let h=n.get(u.id);if(h){h.chainType!==u.chainType&&(h.chainType="multi");let f=new Set(h.chains);u.chains.forEach(g=>f.add(g)),h.chains=Array.from(f),!h.icon&&u.icon&&(h.icon=u.icon),!h.url&&u.url&&(h.url=u.url),!h.listing&&u.listing&&(h.listing=u.listing)}else n.set(u.id,u)};e.filter(u=>this.connectorOk(u)).forEach(u=>{var f,g;let h=ka.normalize(u.walletClientType);i({id:h,label:((f=u.walletBranding)==null?void 0:f.name)??h,source:"connector",connector:u,chainType:u.chainType,icon:(g=u.walletBranding)==null?void 0:g.icon,url:void 0,chains:[u.chainType==="ethereum"?"eip155":"solana"]})}),r.filter(u=>this.listingOk(u)).forEach(u=>{var w,x;let h=this.isEth(u),f=this.isSol(u),g=ka.normalize(u.slug),y=B0[u.slug],b=((w=y==null?void 0:y.image_url)==null?void 0:w.sm)||((x=u.image_url)==null?void 0:x.sm);i({id:g,label:u.name||g,source:"listing",listing:u,chainType:h&&f?"multi":h?"ethereum":"solana",icon:b,url:u.homepage,chains:u.chains})});let s=e.find(u=>u.connectorType==="wallet_connect_v2");this.includeWalletConnectQr&&s&&i({id:"wallet_connect_qr",label:"WalletConnect",source:"connector",connector:s,chainType:"ethereum",icon:Mee,url:void 0,chains:[s.chainType==="ethereum"?"eip155":"solana"]});let a=Array.from(n.values());a.forEach(u=>{var f,g;let h=B0[((f=u.listing)==null?void 0:f.slug)||u.id];(g=h==null?void 0:h.image_url)!=null&&g.sm&&(u.icon=h.image_url.sm)});let o=new Map;return(l=this.normalizedAllowList)==null||l.forEach((u,h)=>{o.set(ka.normalize(u),h)}),{wallets:a.slice().sort((u,h)=>{let f=ka.normalize(u.id),g=ka.normalize(h.id);f==="binance-defi"?f="binance":f==="universalprofiles"?f="universal_profile":f==="cryptocom-defi"&&(f="cryptocom"),g==="binance-defi"?g="binance":g==="universalprofiles"?g="universal_profile":g==="cryptocom-defi"&&(g="cryptocom");let y=o.has(f),b=o.has(g);return y&&b?o.get(f)-o.get(g):y?-1:b?1:u.source==="connector"&&h.source==="listing"?-1:u.source==="listing"&&h.source==="connector"?1:u.label.toLowerCase().localeCompare(h.label.toLowerCase())}),walletCount:a.length}}constructor(e,r){var n,i,s,a;this.chainFilter=e,r&&r.length>0&&(this.normalizedAllowList=r.map(String),this.normalizedAllowList.includes("binance")&&this.normalizedAllowList.push("binance-defi-wallet")),this.detectedEth=((n=this.normalizedAllowList)==null?void 0:n.includes("detected_ethereum_wallets"))??!1,this.detectedSol=((i=this.normalizedAllowList)==null?void 0:i.includes("detected_solana_wallets"))??!1,this.includeWalletConnect=((s=this.normalizedAllowList)==null?void 0:s.includes("wallet_connect"))??!1,this.includeWalletConnectQr=((a=this.normalizedAllowList)==null?void 0:a.includes("wallet_connect_qr"))??!1}}var RS=t=>p.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsx("path",{d:"m0 0h32v32h-32z",fill:"#5469d4"}),p.jsx("path",{d:"m15.997 5.333-.143.486v14.106l.143.143 6.548-3.87z",fill:"#c2ccf4"}),p.jsx("path",{d:"m15.996 5.333-6.548 10.865 6.548 3.87z",fill:"#fff"}),p.jsx("path",{d:"m15.997 21.306-.08.098v5.025l.08.236 6.552-9.227z",fill:"#c2ccf4"}),p.jsx("path",{d:"m15.996 26.665v-5.36l-6.548-3.867z",fill:"#fff"}),p.jsx("path",{d:"m15.995 20.07 6.548-3.87-6.548-2.976v6.847z",fill:"#8698e8"}),p.jsx("path",{d:"m9.448 16.2 6.548 3.87v-6.846z",fill:"#c2ccf4"})]}),jS=t=>p.jsxs("svg",{viewBox:"0 0 32 32",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsxs("linearGradient",{id:"a",gradientUnits:"userSpaceOnUse",x1:"7.233",x2:"24.766",y1:"24.766",y2:"7.234",children:[p.jsx("stop",{offset:"0",stopColor:"#9945ff"}),p.jsx("stop",{offset:".2",stopColor:"#7962e7"}),p.jsx("stop",{offset:"1",stopColor:"#00d18c"})]}),p.jsx("path",{d:"m0 0h32v32h-32z",fill:"#10111a"}),p.jsx("path",{clipRule:"evenodd",d:"m9.873 20.41a.645.645 0 0 1 .476-.21l14.662.012a.323.323 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54zm15.376-2.862a.322.322 0 0 1 -.238.54l-14.662.012a.642.642 0 0 1 -.476-.21l-3.122-3.44a.323.323 0 0 1 .238-.54l14.662-.012a.644.644 0 0 1 .475.21zm-15.376-9.738a.644.644 0 0 1 .476-.21l14.662.012a.322.322 0 0 1 .238.54l-3.123 3.438a.643.643 0 0 1 -.475.21l-14.662-.012a.323.323 0 0 1 -.238-.54z",fill:"url(#a)",fillRule:"evenodd"})]});const aHe=te.div.withConfig({displayName:"WalletIconWithActiveIndicator",componentId:"sc-9b65f2b6-2"})(["position:relative;display:inline-flex;align-items:center;&::after{content:' ';border-radius:var(--privy-border-radius-full);height:6px;width:6px;background-color:var(--privy-color-icon-success);position:absolute;right:-3px;top:-3px;}"]),Ly=te.img.withConfig({displayName:"WalletIcon",componentId:"sc-9b65f2b6-3"})(["width:32px;height:32px;border-radius:0.25rem;object-fit:contain;"]),oHe=te.span.withConfig({displayName:"Chip",componentId:"sc-9b65f2b6-4"})(["display:flex;gap:0.25rem;align-items:center;padding:0.25rem 0.5rem;font-size:0.75rem;font-weight:500;line-height:1.125rem;border-radius:var(--privy-border-radius-sm);background-color:var(--privy-color-background-2);svg{width:100%;max-width:1rem;max-height:1rem;stroke-width:2;}"]),lHe=Yg(()=>({isModalOpen:!1,resolvers:null}));Yg(()=>({}));const cHe=({address:t,client:e,appId:r})=>{let n=`${e}:${t}`;r&&Pt.put(uHe(r),n),lHe.setState({wallet:n})},uHe=t=>`privy:${t}:active-wallet-connection`;function kte({walletList:t,walletChainType:e}){var w;let r=Ar(),{connectors:n}=rt(),i=Lb(x=>x.listings),s=e??r.appearance.walletChainType,a=t??((w=r.appearance)==null?void 0:w.walletList),o=$.useMemo(()=>new ka(s,a),[s,a]),{wallets:l,walletCount:u}=$.useMemo(()=>o.getWallets(n,i),[o,n,i]),[h,f]=$.useState(""),g=$.useMemo(()=>h?l.filter(x=>x.label.toLowerCase().includes(h.toLowerCase())):l,[h,l]),[y,b]=$.useState();return{selected:y,setSelected:b,search:h,setSearch:f,wallets:g,walletCount:u}}let $te=t=>!t||typeof t!="string"&&(t instanceof LT||t instanceof WT);const DS=({index:t,style:e,data:r,recent:n})=>{var l,u;let i=r.wallets[t],{walletChainType:s,handleWalletClick:a}=r,o={...e,boxSizing:"border-box"};return i?p.jsxs(O3,{style:o,onClick:()=>a(i),children:[i.icon&&(i.connector&&!$te(i.connector)?p.jsx(aHe,{children:typeof i.icon=="string"?p.jsx(Ly,{src:i.icon}):p.jsx(i.icon,{style:{width:"32px",height:"32px"}})}):typeof i.icon=="string"?p.jsx(Ly,{src:i.icon}):p.jsx(i.icon,{style:{width:"32px",height:"32px"}})),p.jsx(M3,{children:i.label}),n?p.jsxs(p.Fragment,{children:[p.jsx(oHe,{children:"Last used"}),p.jsx(H5,{children:p.jsxs(p.Fragment,{children:[s==="ethereum-only"&&p.jsx(RS,{}),s==="solana-only"&&p.jsx(jS,{})]})})]}):p.jsx(H5,{children:!(s==="ethereum-only"||s==="solana-only")&&p.jsxs(p.Fragment,{children:[((l=i.chains)==null?void 0:l.some(h=>h.startsWith("eip155")))&&p.jsx(RS,{}),((u=i.chains)==null?void 0:u.some(h=>h.startsWith("solana")))&&p.jsx(jS,{})]})})]}):null};var Tte=({className:t,customDescription:e,connectOnly:r,preSelectedWalletId:n,...i})=>{var D;let s=Ar(),{connectors:a}=rt(),o=i.walletChainType||s.appearance.walletChainType,l=i.walletList||((D=s.appearance)==null?void 0:D.walletList),{onBack:u,onClose:h,app:f}=i,{selected:g,setSelected:y,qrUrl:b,setQrUrl:w,connecting:x,uiState:E,wallets:S,walletCount:_,handleConnect:I,handleBack:A,showSearchBar:O,isInitialConnectView:F,title:H,search:L,setSearch:z}=function({onConnect:P,onBack:R,onClose:j,onConnectError:W,walletList:M,walletChainType:G,app:re}){let q=Ar(),{connectors:X}=rt(),{wallets:ne,walletCount:ee,search:ce,setSearch:be,selected:ve,setSelected:ge}=kte({walletList:M,walletChainType:G}),[Ee,ye]=$.useState(),[$e,we]=$.useState(),[qe,Ge]=$.useState(),Ae=!ve&&!$e&&!qe,je=Ae&&(ee>6||ce.length>0),gt=X.find(Ze=>Ze.connectorType==="wallet_connect_v2"),Qt=$.useCallback(async(Ze,ht)=>{var bt,jt;if(Ze){if((qe==null?void 0:qe.connector)===Ze)return void console.log("Already connecting to this wallet, skipping duplicate attempt");if(ye("loading"),typeof Ze=="string")return Ge({connector:Ze,name:(ht==null?void 0:ht.name)??"Wallet",icon:ht==null?void 0:ht.icon}),void window.open(Ze,"_blank");Ge({connector:Ze,name:(ht==null?void 0:ht.name)??Ze.walletBranding.name??"Wallet",icon:(ht==null?void 0:ht.icon)??Ze.walletBranding.icon});try{let yt=await Ze.connect({showPrompt:!0});if(!yt)return ye("error"),void(W==null?void 0:W(new ln("Unable to connect wallet")));ye("success"),cHe({address:yt.address,client:yt.walletClientType,appId:q.id}),setTimeout(()=>{P({connector:Ze,wallet:yt})},yn)}catch(yt){if(console.error("ERROR: ",{e:yt}),((bt=yt==null?void 0:yt.message)==null?void 0:bt.includes("already pending for origin"))||((jt=yt==null?void 0:yt.message)==null?void 0:jt.includes("wallet_requestPermissions")))return void console.log("Connection request already pending, maintaining loading state");ye("error"),W==null||W(new ln("Unable to connect wallet"))}}},[q.id,P,qe]),Ie=$.useCallback(()=>$e?(ye(void 0),Ge(void 0),void we(void 0)):qe?(ye(void 0),void Ge(void 0)):ve?(ye(void 0),Ge(void 0),void ge(void 0)):Ee==="error"||Ee==="loading"?(ye(void 0),void Ge(void 0)):void(R==null?void 0:R()),[$e,qe,ve,Ee,R]),pt=$.useMemo(()=>(qe==null?void 0:qe.connector)===gt&&$e&&Tr.isMobile?`Go to ${qe.name} to continue`:(qe==null?void 0:qe.connector)===gt&&$e?`Scan code to connect to ${qe.name}`:typeof(qe==null?void 0:qe.connector)=="string"?`Open or install ${qe.name}`:ve&&!qe?"Select network":qe?null:"Select your wallet",[qe,$e,ve,gt]);return{selected:ve,setSelected:ge,qrUrl:$e,setQrUrl:we,connecting:qe,uiState:Ee,search:ce,setSearch:be,wallets:ne,walletCount:ee,wc:gt,isInitialConnectView:Ae,showSearchBar:je,title:pt,handleConnect:Qt,handleBack:Ie,onClose:j,onConnect:P,app:re}}({...i,walletList:l,walletChainType:o}),V=a.find(P=>P.connectorType==="wallet_connect_v2"),K=$.useRef(null),B=C4e({count:S.length,getScrollElement:()=>K.current,estimateSize:()=>56,overscan:6,gap:5}),C=$.useCallback(async P=>{var G,re,q,X,ne,ee,ce;let R,j=o!=="solana-only"&&((G=P.chains)==null?void 0:G.some(be=>be.startsWith("eip155"))),W=o!=="ethereum-only"&&((re=P.chains)==null?void 0:re.some(be=>be.startsWith("solana"))),M=zT[P.id];if(W&&M)R=M.getMobileRedirect({isSolana:!0,connectOnly:!!r,useUniversalLink:!1});else{let be=(X=(q=P.listing)==null?void 0:q.mobile)==null?void 0:X.native;R=((ee=(ne=P.listing)==null?void 0:ne.mobile)==null?void 0:ee.universal)||be||P.url}if(j&&W){let be=ka.normalize(P.id),ve=a.filter(ye=>ka.normalize(ye.walletClientType)===be&&!(ye.chainType==="ethereum"&&ye instanceof LT||ye.chainType==="solana"&&ye instanceof WT)),ge=ve.find(ye=>ye.chainType==="ethereum"),Ee=ve.find(ye=>ye.chainType==="solana");if(!ge&&P.listing){let ye=B0[P.listing.slug]?{...P.listing,...B0[P.listing.slug]}:P.listing;V.setWalletEntry(ye,w),await V.resetConnection(P.id),ge=V}if(!Ee&&R&&(Ee=R),ge||Ee)return void y({eth:ge,sol:Ee,name:P.label,icon:P.icon})}if(!$te(P.connector))return((ce=P.connector)==null?void 0:ce.connectorType)==="wallet_connect_v2"&&(await V.resetConnection(P.id),V.setWalletEntry({id:"wallet_connect_qr",name:"WalletConnect",rdns:"",slug:"wallet-connect",homepage:"",chains:["eip155"],mobile:{native:"",universal:void 0}},w)),void await I(P.connector,{name:P.label,icon:P.icon});if(j||W||P.url||P.listing){if(j&&P.listing){let be=B0[P.listing.slug]?{...P.listing,...B0[P.listing.slug]}:P.listing;V.setWalletEntry(be,w),await V.resetConnection(P.id)}if(j&&W)return void y({eth:V,sol:R,name:P.label,icon:P.icon});if(W)return void await I(R,{name:P.label,icon:P.icon});if(j)return void(P.listing?await I(V,{name:P.label,icon:P.icon}):P.url?await I(P.url,{name:P.label,icon:P.icon}):console.warn("Cannot connect to EVM wallet without connector or listing details:",P.label));if(P.url)return void await I(P.url,{name:P.label,icon:P.icon})}},[V,I,y,w,A,h,f,F,H,e,s,a]),k=u||A,N=!!u||!F;return $.useEffect(()=>{if(!n)return;let P=S.find(({id:R})=>R===n);P&&C(P).catch(console.error)},[n]),p.jsxs(Wr,{className:t,children:[p.jsx(Wr.Header,{icon:x&&!b||b&&Tr.isMobile&&(x!=null&&x.icon)?x.icon:x?void 0:Ste,iconVariant:x&&!b||b&&Tr.isMobile?"loading":void 0,iconLoadingStatus:x&&!b||b&&Tr.isMobile?{success:E==="success",fail:E==="error"}:void 0,title:x&&!b?`Waiting for ${x.name}`:b&&Tr.isMobile?`Waiting for ${(x==null?void 0:x.name)??"connection"}`:H,subtitle:x&&!b&&typeof x.connector=="string"?`To connect to ${x.name}, install and open the app. Then confirm the connection when prompted.`:x&&!b&&typeof x.connector!="string"?E==="error"?"Please try connecting again.":"For the best experience, connect only one wallet at a time.":F?e??(f?`Connect a wallet to your ${f.name} account`:null):null,showBack:N,showClose:!0,onBack:k,onClose:h}),p.jsxs(Wr.Body,{ref:K,$colorScheme:s.appearance.palette.colorScheme,style:{marginBottom:b?"0.5rem":void 0},children:[O&&p.jsx(dHe,{children:p.jsxs(Cte,{style:{background:"transparent"},children:[p.jsx(dc,{children:p.jsx(W7e,{})}),p.jsx("input",{className:"login-method-button",type:"text",placeholder:"Search wallets",onChange:P=>z(P.target.value),value:L})]})}),b&&Tr.isMobile&&E==="loading"&&p.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:p.jsx(Bf,{variant:"primary",onClick:()=>window.open(b.universal??b.native,"_blank"),style:{width:"100%"},children:"Open in app"})}),b&&!Tr.isMobile&&E==="loading"&&p.jsx("div",{style:{display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:p.jsx(pHe,{value:b.universal??b.native,iconOnly:!0,children:"Copy link"})}),b&&!Tr.isMobile&&p.jsx(qb,{size:280,url:b.universal??b.native,squareLogoElement:x!=null&&x.icon?typeof x.icon=="string"?P=>p.jsx("svg",{...P,children:p.jsx("image",{href:x.icon,height:P.height,width:P.width})}):x.icon:hze}),p.jsxs(hHe,{children:[x&&!b&&typeof x.connector=="string"&&p.jsxs(O3,{onClick:()=>window.open(x.connector,"_blank"),children:[x.icon&&(typeof x.icon=="string"?p.jsx(Ly,{src:x.icon}):p.jsx(x.icon,{})),p.jsx(M3,{children:x.name})]}),(g==null?void 0:g.eth)&&!x&&p.jsxs(O3,{onClick:()=>I(g.eth,{name:g.name,icon:g.icon}),children:[g.icon&&(typeof g.icon=="string"?p.jsx(Ly,{src:g.icon}):p.jsx(g.icon,{})),p.jsx(M3,{children:g.name}),p.jsx(H5,{children:p.jsx(RS,{})})]}),(g==null?void 0:g.sol)&&!x&&p.jsxs(O3,{onClick:()=>I(g.sol,{name:g.name,icon:g.icon}),children:[g.icon&&(typeof g.icon=="string"?p.jsx(Ly,{src:g.icon}):p.jsx(g.icon,{})),p.jsx(M3,{children:g.name}),p.jsx(H5,{children:p.jsx(jS,{})})]}),F&&p.jsxs(p.Fragment,{children:[!(_>0)&&p.jsx(fHe,{children:"No wallets found. Try another search."}),_>0&&!b&&p.jsx("div",{style:{maxHeight:56*Math.min(S.length,5)+5,width:"100%"},children:p.jsx("div",{style:{height:`${B.getTotalSize()}px`,width:"100%",position:"relative"},children:B.getVirtualItems().map(P=>p.jsx(DS,{index:P.index,style:{position:"absolute",top:0,left:0,height:`${P.size}px`,transform:`translateY(${P.start}px)`},data:{wallets:S,walletChainType:o,handleWalletClick:C}},P.key))})})]})]})]}),p.jsxs(Wr.Footer,{children:[x&&!b&&typeof x.connector!="string"&&E==="error"&&p.jsx(Wr.Actions,{children:p.jsx(Bf,{style:{width:"100%",alignItems:"center"},variant:"error",onClick:()=>I(x.connector,{name:x.name,icon:x.icon}),children:"Retry"})}),!!(f&&f.legal.privacyPolicyUrl&&f.legal.termsAndConditionsUrl)&&p.jsx(HT,{app:f,alwaysShowImplicitConsent:!0}),p.jsx(Wr.Watermark,{})]})]})};let dHe=te.div.withConfig({displayName:"StickySearchContainer",componentId:"sc-850f7dce-0"})(["position:sticky;margin-top:-3px;padding-top:3px;top:-3px;z-index:1;background:var(--privy-color-background);padding-bottom:calc(var(--screen-space) / 2);"]),hHe=te.div.withConfig({displayName:"WalletListContainer",componentId:"sc-850f7dce-1"})(["display:flex;flex-direction:column;gap:","px;"],5),O3=te.button.withConfig({displayName:"Button",componentId:"sc-850f7dce-2"})(["&&{gap:0.5rem;align-items:center;display:flex;position:relative;text-align:left;font-weight:500;transition:background 200ms ease-in;width:calc(100% - 4px);border-radius:var(--privy-border-radius-md);padding:0.75em;border:1px solid var(--privy-color-foreground-4);justify-content:space-between;}&:hover{background:var(--privy-color-background-2);}"]),H5=te.span.withConfig({displayName:"ButtonBadge",componentId:"sc-850f7dce-3"})(["display:flex;align-items:center;justify-content:end;position:relative;& > svg{border-radius:var(--privy-border-radius-full);stroke-width:2.5;width:100%;max-height:1rem;max-width:1rem;flex-shrink:0;}& > svg:not(:last-child){border-radius:var(--privy-border-radius-full);margin-right:-0.375rem;}"]),fHe=te.div.withConfig({displayName:"EmptyContainer",componentId:"sc-850f7dce-4"})(["height:60px;display:flex;align-items:center;justify-content:center;text-align:center;"]),M3=te.span.withConfig({displayName:"WalletName",componentId:"sc-850f7dce-5"})(["text-overflow:ellipsis;white-space:nowrap;color:var(--privy-color-foreground);font-weight:400;flex:1;"]),pHe=te(Qqe).withConfig({displayName:"StyledCopyableText",componentId:"sc-850f7dce-6"})(["&&{margin:0.5rem auto 0 auto;}"]);const gHe=({...t})=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"25",height:"25",viewBox:"0 0 25 25",fill:"none",...t,children:[p.jsxs("g",{clipPath:"url(#clip0_2856_1743)",children:[p.jsx("path",{d:"M22.1673 8.24075V16.3642C22.1673 17.3256 21.3421 18.105 20.3241 18.105H17.0028M22.1673 8.24075C22.1673 7.27936 21.3421 6.5 20.3241 6.5H11.5302M22.1673 8.24075V8.42852C22.1673 9.03302 21.8352 9.59423 21.2901 9.91105L15.1463 13.4818C14.5539 13.8261 13.8067 13.8261 13.2143 13.4818L10.1621 11.5401",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),p.jsx("path",{d:"M3.12913 6.64816C0.508085 12.9507 3.49251 20.1847 9.79504 22.8057L11.5068 23.5176C12.4522 23.9108 13.7783 23.2222 14.1714 22.2768L14.6054 21.2333C14.7687 20.8406 14.6438 20.3871 14.3024 20.1334L11.2872 17.8927C10.9878 17.6702 10.5843 17.6488 10.2632 17.8384L9.11575 18.5156C8.78274 18.7121 8.3597 18.6844 8.07552 18.4221C5.94293 16.4542 4.77629 13.6264 4.90096 10.7273C4.91757 10.3409 5.19796 10.023 5.57269 9.92753L6.86381 9.59869C7.22522 9.50664 7.49627 9.20696 7.55169 8.83815L8.10986 5.12321C8.17306 4.70259 7.94188 4.29293 7.54915 4.1296L6.50564 3.69564C5.56026 3.30248 4.23416 3.99103 3.84101 4.9364L3.12913 6.64816Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),p.jsx("defs",{children:p.jsx("clipPath",{id:"clip0_2856_1743",children:p.jsx("rect",{x:"0.5",y:"0.5",width:"24",height:"24",rx:"6",fill:"white"})})})]}),Sz=t=>{var r;let e=(r=localStorage.getItem("-walletlink:https://www.walletlink.org:Addresses"))==null?void 0:r.split(" ").filter(n=>ds(n,{strict:!0})).map(n=>ei(n));return!!(e!=null&&e.length)&&!!(t!=null&&t.linkedAccounts.filter(n=>n.type=="wallet"&&e.includes(n.address)).length)};let Ite=$.createContext({plugins:{current:{}}});const mHe=({children:t})=>{let e=$.useRef({});return p.jsx(Ite.Provider,{value:{plugins:e},children:t})},oI=()=>{let{plugins:t}=$.useContext(Ite);return $.useCallback(e=>t.current[e],[t])},Nte=Symbol("solana-ledger-plugin"),yHe=({title:t="You don't have access to this app",subtitle:e="Have you been invited?",ctaText:r="Try another account",ctaLink:n,onCtaClick:i})=>p.jsx(wr,{title:t,subtitle:e,icon:Q$,iconVariant:"warning",primaryCta:{label:r,onClick:()=>{n?window.open(n,"_blank"):i==null||i()}},watermark:!0}),X4={component:()=>{let{navigate:t,app:e}=lt(),r=(e==null?void 0:e.allowlistConfig.errorTitle)||"You don't have access to this app",n=(e==null?void 0:e.allowlistConfig.errorDetail)||"Have you been invited?",i=(e==null?void 0:e.allowlistConfig.errorCtaText)||"Try another account",s=e==null?void 0:e.allowlistConfig.errorCtaLink;return p.jsx(yHe,{title:r,subtitle:n,ctaText:i,ctaLink:s??void 0,onCtaClick:()=>{t(ps)}})}},bHe=({status:t,title:e,description:r,userIntentRequired:n,retriesRemaining:i,hasSelectedCta:s,onContinue:a,onRetry:o})=>{let l=$.useMemo(()=>{switch(t){case"loading":default:return;case"success":return n?{label:s?"Continuing...":"Continue",onClick:a,disabled:s,loading:s}:void 0;case"error":return i>0?{label:"Retry",onClick:o}:void 0}},[t,s,a,o]),u=$.useMemo(()=>({loading:"loading",ready:"subtle",disabled:"subtle",success:"success",error:"error"})[t]||"loading",[t]);return p.jsx(wr,{icon:t==="loading"||t==="ready"?void 0:t==="success"?Sb:f4,iconVariant:u,title:e,subtitle:r,primaryCta:l,watermark:!0})},vl={component:()=>{let{lastScreen:t,data:e,navigate:r,setModalData:n}=lt(),{status:i,token:s,waitForResult:a,reset:o,execute:l}=ca(),u=$.useRef([]),h=F=>{u.current=[F,...u.current]},[f,g]=$.useState(!0);$.useEffect(()=>(h(setTimeout(g,1e3,!1)),()=>{u.current.forEach(F=>clearTimeout(F)),u.current=[]}),[]);let[y,b]=$.useState(""),[w,x]=$.useState("Checking that you are a human..."),[E,S]=$.useState(!1),[_,I]=$.useState(3),A=e==null?void 0:e.captchaModalData,O=async F=>{try{await(A==null?void 0:A.callback(F)),A!=null&&A.onSuccessNavigateTo&&r(A==null?void 0:A.onSuccessNavigateTo,!1)}catch(H){if(H instanceof M4)return;n({errorModalData:{error:H,previousScreen:t||ps}}),r((A==null?void 0:A.onErrorNavigateTo)||_n,!1)}};return $.useEffect(()=>{i==="success"?h(setTimeout(async()=>{let F=await a();!F||A!=null&&A.userIntentRequired||O(F)},1e3)):i==="ready"&&h(setTimeout(()=>{i==="ready"&&l()},500))},[i]),$.useEffect(()=>{if(!f)switch(i){case"success":b("Success!"),x("CAPTCHA passed successfully."),A!=null&&A.userIntentRequired||setTimeout(()=>{S(!0),O(s)},2e3);break;case"loading":b(""),x("Checking that you are a human...");break;case"error":b("Something went wrong"),x(_<=0?"If you use an adblocker or VPN, try disabling and re-attempting.":"You did not pass CAPTCHA. Please try again.")}},[i,f,E]),p.jsx(bHe,{status:i,title:y,description:w,userIntentRequired:A==null?void 0:A.userIntentRequired,retriesRemaining:_,hasSelectedCta:E,onContinue:()=>{S(!0),O(s)},onRetry:async()=>{if(_<=0)return;I(H=>H-1),o(),l();let F=await a();!F||A!=null&&A.userIntentRequired||O(F)}})}},wHe=t=>p.jsx("svg",{id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",viewBox:"-0.625 12.48 397.647 399.546",width:"2500",height:"674",preserveAspectRatio:"none",...t,children:p.jsx("g",{children:p.jsx("path",{fill:"#333745",d:"M 333.9 12.8 L 150.9 12.8 L 150.9 258.4 L 396.5 258.4 L 396.5 76.7 C 396.6 42.2 368.4 12.8 333.9 12.8 Z M 94.7 12.8 L 64 12.8 C 29.5 12.8 0 40.9 0 76.8 L 0 107.5 L 94.7 107.5 L 94.7 12.8 Z M 0 165 L 94.7 165 L 94.7 259.7 L 0 259.7 L 0 165 Z M 301.9 410.6 L 332.6 410.6 C 367.1 410.6 396.6 382.5 396.6 346.6 L 396.6 316 L 301.9 316 L 301.9 410.6 Z M 150.9 316 L 245.6 316 L 245.6 410.7 L 150.9 410.7 L 150.9 316 Z M 0 316 L 0 346.7 C 0 381.2 28.1 410.7 64 410.7 L 94.7 410.7 L 94.7 316 L 0 316 Z"})})}),vHe=({onContinueWithLedger:t,onContinueWithoutLedger:e,title:r="Phantom supports Ledger",subtitle:n=`Are you using a Ledger hardware wallet?
Continue to sign with Ledger`})=>p.jsx(wr,{title:r,subtitle:p.jsx(_He,{children:n}),primaryCta:{label:"Continue with Ledger",onClick:t},secondaryCta:{label:"Continue without Ledger",onClick:e},watermark:!0,children:p.jsxs(EHe,{children:[p.jsx(kee,{style:{width:"48px",height:"48px"}}),p.jsx(aEe,{strokeWidth:2,color:"var(--privy-color-icon-subtle)",width:22,height:22}),p.jsx(wHe,{style:{width:"48px",height:"48px"}})]})}),xHe={component:function(){let{data:t,setModalData:e,navigate:r}=lt();return p.jsx(vHe,{onContinueWithLedger:function(){e({...t,login:{...t==null?void 0:t.login,isSigningInWithLedgerSolana:!0}}),r(bu)},onContinueWithoutLedger:function(){e({...t,login:{...t==null?void 0:t.login,isSigningInWithLedgerSolana:!1}}),r(bu)}})}};let EHe=te.div.withConfig({displayName:"IconContainer",componentId:"sc-218811f1-0"})(["display:flex;align-items:center;justify-content:center;gap:8px;margin-bottom:var(--screen-space);"]),_He=te.span.withConfig({displayName:"SubtitleText",componentId:"sc-218811f1-1"})(["white-space:pre-wrap;"]);const CHe=({style:t,...e})=>p.jsx("svg",{width:"40",height:"40",viewBox:"0 0 40 40",fill:"none",xmlns:"http://www.w3.org/2000/svg",style:{height:"38px",width:"38px",...t},...e,children:p.jsx("path",{d:"M20 13.6V20M20 26.4H20.016M36 20C36 28.8365 28.8366 36 20 36C11.1635 36 4.00001 28.8365 4.00001 20C4.00001 11.1634 11.1635 3.99999 20 3.99999C28.8366 3.99999 36 11.1634 36 20Z",stroke:"currentColor",strokeWidth:"3.2",strokeLinecap:"round",strokeLinejoin:"round"})}),AHe=({title:t="Unable to sign in",subtitle:e="This is a test application that has reached its user limit. To allow more users, this app needs to be upgraded to production.",onGoBack:r})=>p.jsx(wr,{title:t,subtitle:e,icon:CHe,iconVariant:"subtle",primaryCta:{label:"Go back",onClick:r},showBack:!0,onBack:r,watermark:!0}),Hb={component:()=>{let{navigate:t}=lt();return p.jsx(AHe,{onGoBack:()=>{t(ps)}})}},Pte=t=>(t==null?void 0:t.privyErrorCode)===fe.LINKED_TO_ANOTHER_USER?hf.ERROR_USER_EXISTS:t instanceof as&&!t.details.default?t.details:t instanceof _ee?hf.ERROR_TIMED_OUT:(t==null?void 0:t.privyErrorCode)===fe.CANNOT_LINK_MORE_OF_TYPE?hf.ERROR_USER_LIMIT_REACHED:hf.ERROR_WALLET_CONNECTION,SHe=({walletLogo:t,title:e,subtitle:r,signSuccess:n,errorMessage:i,connectSuccess:s,separateConnectAndSign:a,signing:o,walletConnectRedirectUri:l,walletConnectFallbackUniversalUri:u,hasTabbedAway:h,showCoinbaseWalletResetCta:f,numRetries:g,onBack:y,onSign:b,onRetry:w,onCoinbaseReset:x,onDifferentWallet:E})=>{let S=f?{label:"Use a different wallet",onClick:x,disabled:n}:i===hf.ERROR_USER_EXISTS&&y?{label:"Use a different wallet",onClick:E}:s&&!n&&a?{label:o?"Signing":"Sign with your wallet",onClick:b,disabled:o}:!n&&(i!=null&&i.retryable)&&g<2?{label:"Retry",onClick:w,disabled:!1}:n||i?void 0:{label:"Connecting",onClick:()=>{},disabled:!0};return p.jsx(wr,{title:e,subtitle:r,icon:t,iconVariant:"loading",iconLoadingStatus:{success:n,fail:!!i},primaryCta:S,onBack:y,watermark:!0,children:!s&&l&&!h&&p.jsxs(kHe,{children:["Still here?"," ",p.jsx(Tg,{href:l,target:"_blank",variant:"underlined",size:"sm",children:"Try connecting again"}),u&&p.jsxs(p.Fragment,{children:[" ","or"," ",p.jsx(Tg,{href:u,target:"_blank",variant:"underlined",size:"sm",children:"use this different link"})]})]})})},bu={component:()=>{var we,qe,Ge,Ae,je,gt,Qt,Ie,pt,Ze,ht,bt,jt,yt,Dt;let t,[e,r]=$.useState(!1),[n,i]=$.useState(!1),[s,a]=$.useState(void 0),{authenticated:o,logout:l}=fr(),{app:u,navigate:h,navigateBack:f,lastScreen:g,currentScreen:y,setModalData:b,data:w}=lt(),{getAuthFlow:x,walletConnectionStatus:E,closePrivyModal:S,initLoginWithWallet:_,loginWithWallet:I,updateWallets:A,createAnalyticsEvent:O}=rt(),{walletConnectors:F}=fr(),[H,L]=$.useState(0),{user:z}=fr(),V=oI(),[K]=$.useState((z==null?void 0:z.linkedAccounts.length)||0),[B,C]=$.useState(""),[k,N]=$.useState(""),[D,P]=$.useState(!1),{hasTabbedAway:R}=function(){let[Qe,Be]=$.useState(!1),Me=$.useCallback(()=>{document.hidden&&Be(!0)},[]);return $.useEffect(()=>(document.addEventListener("visibilitychange",Me),()=>document.removeEventListener("visibilitychange",Me)),[Me]),{hasTabbedAway:Qe,reset:()=>Be(!1)}}(),{enabled:j,token:W}=ca(),M=lh(((we=E==null?void 0:E.connector)==null?void 0:we.walletClientType)||"unknown"),G=Tr.isMobile&&((qe=E==null?void 0:E.connector)==null?void 0:qe.connectorType)==="wallet_connect_v2"||Tr.isMobile&&((Ge=E==null?void 0:E.connector)==null?void 0:Ge.connectorType)==="coinbase_wallet"||Tr.isMobile&&((Ae=E==null?void 0:E.connector)==null?void 0:Ae.connectorType)==="base_account"||Tr.isMobile&&((je=E==null?void 0:E.connector)==null?void 0:je.connectorType)==="injected"&&((gt=E==null?void 0:E.connector)==null?void 0:gt.walletClientType)==="phantom"||Tr.isMobile&&((Qt=E==null?void 0:E.connector)==null?void 0:Qt.connectorType)==="solana_adapter"&&E.connector.walletClientType==="mobile_wallet_adapter",re=(E==null?void 0:E.status)==="connected",q=(E==null?void 0:E.status)==="switching_to_supported_chain";$.useEffect(()=>{var Me,Xe,vt,st,ct,We;let Qe=x(),Be=Qe instanceof eg||Qe instanceof B5?Qe:void 0;re&&((Me=E.connector)==null?void 0:Me.chainType)==="solana"&&((Xe=E.connector)==null?void 0:Xe.walletClientType)==="phantom"&&V(Nte)&&((vt=w==null?void 0:w.login)==null?void 0:vt.isSigningInWithLedgerSolana)===void 0?h(xHe,!1):(re&&!Be&&(!j||W||o?_(E.connectedWallet,W,(st=w==null?void 0:w.login)==null?void 0:st.disableSignup,(ct=w==null?void 0:w.login)!=null&&ct.isSigningInWithLedgerSolana?"transaction":"plain").then(()=>{P(!0)}):(b({captchaModalData:{callback:St=>{var Jt,Nt;return _(E.connectedWallet,St,(Jt=w==null?void 0:w.login)==null?void 0:Jt.disableSignup,(Nt=w==null?void 0:w.login)!=null&&Nt.isSigningInWithLedgerSolana?"transaction":"plain").then(()=>{P(!0)})},userIntentRequired:!1,onSuccessNavigateTo:bu,onErrorNavigateTo:_n}}),h(vl,!1))),Be instanceof B5&&((We=w==null?void 0:w.login)!=null&&We.isSigningInWithLedgerSolana)&&(Be.messageType="transaction"),Be&&G&&re&&!Be.preparedMessage?Be.buildMessage():Be&&!G&&re&&(n||(async()=>{var St,Jt;i(!0),a(void 0);try{((St=E==null?void 0:E.connector)==null?void 0:St.connectorType)==="wallet_connect_v2"&&((Jt=E==null?void 0:E.connector)==null?void 0:Jt.walletClientType)==="metamask"&&await L5(2500),await ne()}catch(Nt){console.warn("Auto-prompted signature failed",Nt)}finally{i(!1)}})()))},[H,re,D]),$.useEffect(()=>{if(z&&e){let Qe=900;if(u!=null&&u.legal.requireUsersAcceptTerms&&!z.hasAcceptedTerms){let Me=setTimeout(()=>{h(dp)},Qe);return()=>clearTimeout(Me)}if(dh(z,u.embeddedWallets)){let Me=setTimeout(()=>{b({createWallet:{onSuccess:()=>{},onFailure:Xe=>{console.error(Xe),O({eventName:"embedded_wallet_creation_failure_logout",payload:{error:Xe,screen:"ConnectionStatusScreen"}}),l()},callAuthOnSuccessOnClose:!0}}),h(Ru)},Qe);return()=>clearTimeout(Me)}A();let Be=setTimeout(()=>S({shouldCallAuthOnSuccess:!0,isSuccess:!0}),yn);return()=>clearTimeout(Be)}},[z,e]);let X=Qe=>{var Be,Me,Xe,vt,st,ct,We,St,Jt,Nt,Le,gr,Kt,Vt;if((Qe==null?void 0:Qe.privyErrorCode)!==fe.ALLOWLIST_REJECTED){if((Qe==null?void 0:Qe.privyErrorCode)===fe.USER_LIMIT_REACHED)return console.error(new bb(Qe).toString()),void h(Hb);if((Qe==null?void 0:Qe.privyErrorCode)!==fe.USER_DOES_NOT_EXIST)return(Qe==null?void 0:Qe.privyErrorCode)===fe.ACCOUNT_TRANSFER_REQUIRED&&((Me=(Be=Qe.data)==null?void 0:Be.data)!=null&&Me.nonce)?(b({accountTransfer:{nonce:(vt=(Xe=Qe.data)==null?void 0:Xe.data)==null?void 0:vt.nonce,account:(st=x())==null?void 0:st.meta.address,displayName:(St=(We=(ct=Qe.data)==null?void 0:ct.data)==null?void 0:We.account)==null?void 0:St.displayName,externalWalletMetadata:{walletClientType:(Jt=x())==null?void 0:Jt.meta.walletClientType,chainId:(Nt=x())==null?void 0:Nt.meta.chainId,connectorType:(Le=x())==null?void 0:Le.meta.connectorType},linkMethod:x()instanceof eg?"siwe":"siws",embeddedWalletAddress:(Vt=(Kt=(gr=Qe.data)==null?void 0:gr.data)==null?void 0:Kt.otherUser)==null?void 0:Vt.embeddedWalletAddress}}),void h(up)):void a(Pte(Qe));h(Wb)}else h(X4)};async function ne(){try{await I(),r(!0)}catch(Qe){X(Qe)}finally{i(!1)}}$.useEffect(()=>{E!=null&&E.connectError&&X(E==null?void 0:E.connectError)},[E]),((Qe,Be)=>{let Me=$.useRef(()=>{});$.useEffect(()=>{Me.current=Qe}),$.useEffect(()=>{if(Be!==null){let Xe=setInterval(()=>Me.current(),Be||0);return()=>clearInterval(Xe)}},[Be])})(()=>{let Qe=ee==="wallet_connect_v2"&&(E==null?void 0:E.connector)instanceof rg?E.connector.redirectUri:void 0;Qe&&C(Qe);let Be=ee==="wallet_connect_v2"&&(E==null?void 0:E.connector)instanceof rg?E.connector.fallbackUniversalRedirectUri:void 0;Be&&N(Be)},(E==null?void 0:E.connector)instanceof rg&&!B?500:null);let ee=((Ie=E==null?void 0:E.connector)==null?void 0:Ie.connectorType)||"injected",ce=((pt=E==null?void 0:E.connector)==null?void 0:pt.walletClientType)||"unknown",be=((Ze=M==null?void 0:M.metadata)==null?void 0:Ze.shortName)||(M==null?void 0:M.name)||((ht=E==null?void 0:E.connector)==null?void 0:ht.walletBranding.name)||"Browser Extension",ve=((bt=M==null?void 0:M.image_url)==null?void 0:bt.md)||((jt=E==null?void 0:E.connector)==null?void 0:jt.walletBranding.icon)||(Qe=>p.jsx(FT,{...Qe})),ge=be==="Browser Extension"?be.toLowerCase():be;t=e?`Successfully connected with ${ge}`:s?s.message:q?"Switching networks":re?n&&G?"Signing":"Sign to verify":`Waiting for ${ge}`;let Ee="Dont see your wallet? Check your other browser windows.";e?Ee=K===((z==null?void 0:z.linkedAccounts.length)||0)?"Wallet was already linked.":"Youre good to go!":H>=2&&s?Ee="Unable to connect wallet":s?Ee=s.detail:q?Ee="Switch your wallet to the requested network.":re&&G?Ee="Sign the message in your wallet to verify it belongs to you.":ce==="metamask"&&Tr.isMobile?Ee="Click continue to open and connect MetaMask.":ce==="metamask"?Ee="For the best experience, connect only one wallet at a time.":ee==="wallet_connect"?Ee="Open your mobile wallet app to continue":ee==="coinbase_wallet"?mee()||(Ee=Sz(z)?"Continue with the Coinbase app. Not the right wallet? Reset your connection below.":"Open the Coinbase app on your phone to continue."):(yt=w==null?void 0:w.login)!=null&&yt.isSigningInWithLedgerSolana&&(Ee="Ledger requires a transaction to verify your identity. Youll sign a transaction that performs no onchain action.");let ye=(Dt=F==null?void 0:F.walletConnectors)==null?void 0:Dt.find(Qe=>Qe.walletClientType==="coinbase_wallet"),$e=ce==="coinbase_wallet"&&(Sz(z)||s===hf.ERROR_USER_EXISTS);return p.jsx(SHe,{walletLogo:ve,title:t,subtitle:Ee,signSuccess:e,errorMessage:s,connectSuccess:re,separateConnectAndSign:G,signing:n,walletConnectRedirectUri:B,walletConnectFallbackUniversalUri:k,hasTabbedAway:R,showCoinbaseWalletResetCta:$e,numRetries:H,onBack:g&&y!==g?f:void 0,onSign:()=>{i(!0),ne()},onRetry:()=>{L(H+1),a(void 0),re?(i(!0),ne()):E==null||E.connectRetry()},onCoinbaseReset:()=>{ye&&(ye==null||ye.disconnect())},onDifferentWallet:f})}};let kHe=te.p.withConfig({displayName:"RedirectLinksContainer",componentId:"sc-3c9a580-0"})(["text-align:center;color:var(--privy-color-foreground-2);font-size:14px;line-height:22px;margin:16px 0;"]);const R3={component:()=>{var y,b,w,x,E,S;let{setWalletConnectionStatus:t,closePrivyModal:e,inProgressAuthFlowRef:r}=rt(),{app:n,data:i,navigate:s}=lt(),a=cp(),o=(y=i==null?void 0:i.externalConnectWallet)==null?void 0:y.description,l=$.useRef(((b=i==null?void 0:i.externalConnectWallet)==null?void 0:b.walletList)??n.appearance.walletList),u=$.useRef(((w=i==null?void 0:i.externalConnectWallet)==null?void 0:w.walletChainType)??n.appearance.walletChainType),h=l.current,f=u.current,g=r.current==="link"?void 0:()=>s(ps);return p.jsx(Tte,{walletList:h,walletChainType:f,onClose:e,onConnect:$.useCallback(({connector:_,wallet:I})=>{var A;a("connectWallet","onSuccess",{wallet:I}),t({status:"connected",connectedWallet:I,connector:_,connectError:null,connectRetry:()=>null}),s(bu,!((A=i==null?void 0:i.externalConnectWallet)!=null&&A.preSelectedWalletId))},[t,s,(x=i==null?void 0:i.login)==null?void 0:x.disableSignup,(E=i==null?void 0:i.externalConnectWallet)==null?void 0:E.preSelectedWalletId]),onConnectError:_=>{_ instanceof fs?(console.warn(_.cause?_.cause:_.message),a("connectWallet","onError",_.privyErrorCode||fe.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(_),a("connectWallet","onError",fe.UNKNOWN_CONNECT_WALLET_ERROR))},onBack:g,customDescription:o||"",preSelectedWalletId:(S=i==null?void 0:i.externalConnectWallet)==null?void 0:S.preSelectedWalletId,app:n})},isUnauthenticatedScreem:!0},US={component:()=>{var o,l,u;let{closePrivyModal:t}=rt(),{app:e,data:r}=lt(),n=cp(),i=(o=r==null?void 0:r.externalConnectWallet)==null?void 0:o.description,s=$.useRef(((l=r==null?void 0:r.externalConnectWallet)==null?void 0:l.walletList)??e.appearance.walletList),a=$.useRef(((u=r==null?void 0:r.externalConnectWallet)==null?void 0:u.walletChainType)??e.appearance.walletChainType);return p.jsx(Tte,{walletList:s.current,walletChainType:a.current,onClose:()=>{n("connectWallet","onError",fe.GENERIC_CONNECT_WALLET_ERROR),t()},onConnect:({wallet:h})=>{n("connectWallet","onSuccess",{wallet:h}),t()},onConnectError:h=>{h instanceof fs?(console.warn(h.cause?h.cause:h.message),n("connectWallet","onError",h.privyErrorCode||fe.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(h),n("connectWallet","onError",fe.UNKNOWN_CONNECT_WALLET_ERROR))},customDescription:i,app:e})},isUnauthenticatedScreem:!0},kz=({chainType:t,withPadding:e})=>{let r="";return r=t==="ethereum-only"||t==="ethereum-and-solana"?"Rainbow, Phantom, or Coinbase Wallet":"Phantom or Solflare",p.jsx(yze,{$withPadding:e,children:p.jsxs(bze,{children:[p.jsx(J0,{style:{color:"var(--privy-color-warn)",height:48,width:48}}),p.jsx("h3",{children:"No wallets available"}),p.jsxs("p",{children:["Please download an external wallet provider, like ",r,"."]})]})},"empty-wallet-state")};let $He=cY(["from,to{background:var(--privy-color-foreground-4);color:var(--privy-color-foreground-4);}50%{background:var(--privy-color-foreground-accent);color:var(--privy-color-foreground-accent);}"]);const J4=wi(["",""],t=>t.$isLoading?wi(["width:35%;animation:"," 2s linear infinite;border-radius:var(--privy-border-radius-sm);"],$He):""),pc=({children:t,color:e,isLoading:r,isPulsing:n,...i})=>p.jsx(THe,{$color:e,$isLoading:r,$isPulsing:n,...i,children:t});let THe=te.span.withConfig({displayName:"StyledSpan",componentId:"sc-80725f4-0"})(["padding:0.25rem;font-size:0.75rem;font-weight:500;line-height:1rem;border-radius:var(--privy-border-radius-xs);display:flex;align-items:center;"," ",""],t=>{let e,r;t.$color==="green"&&(e="var(--privy-color-success-dark)",r="var(--privy-color-success-light)"),t.$color==="red"&&(e="var(--privy-color-error)",r="var(--privy-color-error-light)"),t.$color==="gray"&&(e="var(--privy-color-foreground-2)",r="var(--privy-color-background-2)");let n=cY(["from,to{background-color:",";}50%{background-color:rgba(",",0.8);}"],r,r);return wi(["color:",";background-color:",";",";"],e,r,t.$isPulsing&&wi(["animation:"," 3s linear infinite;"],n))},J4);const wf=t=>p.jsxs("svg",{width:"33",height:"32",viewBox:"0 0 33 32",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsx("rect",{x:"0.5",width:"32",height:"32",rx:"4",fill:"#855DCD"}),p.jsxs("g",{"clip-path":"url(#clip0_1715_1960)",children:[p.jsx("path",{d:"M4.5 4H28.5V28H4.5V4Z",fill:"#855DCD"}),p.jsx("path",{d:"M11.1072 8.42105H21.6983V23.5789H20.1437V16.6357H20.1284C19.9566 14.7167 18.3542 13.2129 16.4028 13.2129C14.4514 13.2129 12.849 14.7167 12.6771 16.6357H12.6619V23.5789H11.1072V8.42105Z",fill:"white"}),p.jsx("path",{d:"M8.28943 10.5725L8.92101 12.7239H9.45542V21.4275C9.1871 21.4275 8.96959 21.6464 8.96959 21.9165V22.5032H8.87242C8.60411 22.5032 8.38659 22.7221 8.38659 22.9922V23.5789H13.8279V22.9922C13.8279 22.7221 13.6104 22.5032 13.3421 22.5032H13.2449V21.9165C13.2449 21.6464 13.0274 21.4275 12.7591 21.4275H12.1761V10.5725H8.28943Z",fill:"white"}),p.jsx("path",{d:"M20.2408 21.4275C19.9725 21.4275 19.755 21.6464 19.755 21.9165V22.5032H19.6579C19.3895 22.5032 19.172 22.7221 19.172 22.9922V23.5789H24.6133V22.9922C24.6133 22.7221 24.3958 22.5032 24.1275 22.5032H24.0303V21.9165C24.0303 21.6464 23.8128 21.4275 23.5445 21.4275V12.7239H24.0789L24.7105 10.5725H20.8238V21.4275H20.2408Z",fill:"white"})]}),p.jsx("defs",{children:p.jsx("clipPath",{id:"clip0_1715_1960",children:p.jsx("rect",{width:"24",height:"24",fill:"white",transform:"translate(4.5 4)"})})})]}),Ote=t=>{let[e,r]=$.useState(!1);return p.jsx(IHe,{color:t.color,href:t.url,target:"_blank",rel:"noreferrer noopener",onClick:()=>{r(!0),setTimeout(()=>r(!1),1500)},justOpened:e,children:t.text})};let IHe=te.a.withConfig({displayName:"StyledOpenLinkButton",componentId:"sc-4e695c83-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],t=>t.justOpened?"var(--privy-color-foreground)":t.color||"var(--privy-color-foreground-3)",t=>t.justOpened?"medium":"normal",t=>t.justOpened?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)");const lI=te.span.withConfig({displayName:"LabelXs",componentId:"sc-4c43f9fd-0"})(["color:var(--privy-color-foreground-3);font-size:0.75rem;font-weight:500;line-height:1.125rem;"]);let NHe=te.div.withConfig({displayName:"Container",componentId:"sc-913deead-0"})(["width:100%;"]),PHe=te.div.withConfig({displayName:"InputContainer",componentId:"sc-913deead-1"})(["display:flex;align-items:center;justify-content:space-between;gap:0.75rem;padding:0.75rem;height:56px;background:",";border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);&:hover{border-color:",";}"],t=>t.$disabled?"var(--privy-color-background-2)":"var(--privy-color-background)",t=>t.$disabled?"var(--privy-color-foreground-4)":"var(--privy-color-foreground-3)"),OHe=te.div.withConfig({displayName:"TextContainer",componentId:"sc-913deead-2"})(["flex:1;min-width:0;display:flex;align-items:center;"]),Mte=te.span.withConfig({displayName:"Text",componentId:"sc-913deead-3"})(["display:block;font-size:16px;line-height:24px;color:",";overflow:hidden;text-overflow:ellipsis;display:-webkit-box;-webkit-line-clamp:1;-webkit-box-orient:vertical;word-break:break-all;@media (min-width:441px){font-size:14px;line-height:20px;}"],t=>t.$disabled?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)"),MHe=te(Mte).withConfig({displayName:"PlaceholderText",componentId:"sc-913deead-4"})(["color:var(--privy-color-foreground-3);font-style:italic;"]),RHe=te(lI).withConfig({displayName:"TitleLabel",componentId:"sc-913deead-5"})(["margin-bottom:0.5rem;"]),jHe=te(bl).withConfig({displayName:"CopyButton",componentId:"sc-913deead-6"})(["&&{gap:0.375rem;font-size:14px;flex-shrink:0;}"]);const DHe=({value:t,title:e,placeholder:r,className:n,showCopyButton:i=!0,truncate:s,maxLength:a=40,disabled:o=!1})=>{let[l,u]=$.useState(!1),h=s&&t?((f,g,y)=>{if((f=f.startsWith("https://")?f.slice(8):f).length<=y)return f;if(g==="middle"){let b=Math.ceil(y/2)-2,w=Math.floor(y/2)-1;return`${f.slice(0,b)}...${f.slice(-w)}`}return`${f.slice(0,y-3)}...`})(t,s,a):t;return $.useEffect(()=>{if(l){let f=setTimeout(()=>u(!1),3e3);return()=>clearTimeout(f)}},[l]),p.jsxs(NHe,{className:n,children:[e&&p.jsx(RHe,{children:e}),p.jsxs(PHe,{$disabled:o,children:[p.jsx(OHe,{children:t?p.jsx(Mte,{$disabled:o,title:t,children:h}):p.jsx(MHe,{$disabled:o,children:r||"No value"})}),i&&t&&p.jsx(jHe,{onClick:function(f){f.stopPropagation(),navigator.clipboard.writeText(t).then(()=>u(!0)).catch(console.error)},size:"sm",children:p.jsxs(p.Fragment,l?{children:["Copied",p.jsx(L2,{size:14})]}:{children:["Copy",p.jsx(w5,{size:14})]})})]})]})},UHe=({connectUri:t,loading:e,success:r,errorMessage:n,onBack:i,onClose:s,onOpenFarcaster:a})=>p.jsx(wr,Tr.isMobile||e?Tr.isIOS?{title:n?n.message:"Sign in with Farcaster",subtitle:n?n.detail:"To sign in with Farcaster, please open the Farcaster app.",icon:wf,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!n},primaryCta:t&&a?{label:"Open Farcaster app",onClick:a}:void 0,onBack:i,onClose:s,watermark:!0}:{title:n?n.message:"Signing in with Farcaster",subtitle:n?n.detail:"This should only take a moment",icon:wf,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!n},onBack:i,onClose:s,watermark:!0,children:t&&Tr.isMobile&&p.jsx(BHe,{children:p.jsx(Ote,{text:"Take me to Farcaster",url:t,color:"#8a63d2"})})}:{title:"Sign in with Farcaster",subtitle:"Scan with your phone's camera to continue.",onBack:i,onClose:s,watermark:!0,children:p.jsxs(LHe,{children:[p.jsx(FHe,{children:t?p.jsx(qb,{url:t,size:275,squareLogoElement:wf}):p.jsx(qHe,{children:p.jsx(_o,{})})}),p.jsxs(zHe,{children:[p.jsx(WHe,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),t&&p.jsx(DHe,{value:t,truncate:"end",maxLength:30,showCopyButton:!0,disabled:!0})]})]})}),BS={component:()=>{let{authenticated:t,logout:e,ready:r,user:n}=fr(),{lastScreen:i,navigate:s,navigateBack:a,setModalData:o,app:l}=lt(),{getAuthFlow:u,loginWithFarcaster:h,closePrivyModal:f,createAnalyticsEvent:g}=rt(),[y,b]=$.useState(void 0),[w,x]=$.useState(!1),[E,S]=$.useState(!1),_=$.useRef([]),I=u(),A=I==null?void 0:I.meta.connectUri;return $.useEffect(()=>{let O=Date.now(),F=setInterval(async()=>{var z,V,K,B,C,k,N,D,P,R,j,W,M,G,re;let H=await I.pollForReady.execute(),L=Date.now()-O;if(H){clearInterval(F),x(!0);try{await h(),S(!0)}catch(q){let X={retryable:!1,message:"Authentication failed"};if((q==null?void 0:q.privyErrorCode)===fe.ALLOWLIST_REJECTED)return void s(X4);if((q==null?void 0:q.privyErrorCode)===fe.USER_LIMIT_REACHED)return console.error(new bb(q).toString()),void s(Hb);if((q==null?void 0:q.privyErrorCode)===fe.USER_DOES_NOT_EXIST)return void s(Wb);if((q==null?void 0:q.privyErrorCode)===fe.LINKED_TO_ANOTHER_USER)X.detail=q.message??"This account has already been linked to another user.";else{if((q==null?void 0:q.privyErrorCode)===fe.ACCOUNT_TRANSFER_REQUIRED&&((V=(z=q.data)==null?void 0:z.data)!=null&&V.nonce))return o({accountTransfer:{nonce:(B=(K=q.data)==null?void 0:K.data)==null?void 0:B.nonce,account:(k=(C=q.data)==null?void 0:C.data)==null?void 0:k.subject,displayName:(P=(D=(N=q.data)==null?void 0:N.data)==null?void 0:D.account)==null?void 0:P.displayName,linkMethod:"farcaster",embeddedWalletAddress:(W=(j=(R=q.data)==null?void 0:R.data)==null?void 0:j.otherUser)==null?void 0:W.embeddedWalletAddress,farcasterEmbeddedAddress:(re=(G=(M=q.data)==null?void 0:M.data)==null?void 0:G.otherUser)==null?void 0:re.farcasterEmbeddedAddress}}),void s(up);(q==null?void 0:q.privyErrorCode)===fe.INVALID_CREDENTIALS?(X.retryable=!0,X.detail="Something went wrong. Try again."):(q==null?void 0:q.privyErrorCode)===fe.TOO_MANY_REQUESTS&&(X.detail="Too many requests. Please wait before trying again.")}b(X)}}else L>12e4&&(clearInterval(F),b({retryable:!0,message:"Authentication failed",detail:"The request timed out. Try again."}))},2e3);return()=>{clearInterval(F),_.current.forEach(H=>clearTimeout(H))}},[]),$.useEffect(()=>{if(r&&t&&E&&n){if(l!=null&&l.legal.requireUsersAcceptTerms&&!n.hasAcceptedTerms){let O=setTimeout(()=>{s(dp)},yn);return()=>clearTimeout(O)}E&&(dh(n,l.embeddedWallets)?_.current.push(setTimeout(()=>{o({createWallet:{onSuccess:()=>{},onFailure:O=>{console.error(O),g({eventName:"embedded_wallet_creation_failure_logout",payload:{error:O,screen:"FarcasterConnectStatusScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),s(Ru)},yn)):_.current.push(setTimeout(()=>f({shouldCallAuthOnSuccess:!0,isSuccess:!0}),yn)))}},[E,r,t,n]),p.jsx(UHe,{connectUri:A,loading:w,success:E,errorMessage:y,onBack:i?a:void 0,onClose:f,onOpenFarcaster:()=>{A&&(window.location.href=A)}})}};let BHe=te.div.withConfig({displayName:"MobileLinkContainer",componentId:"sc-8d74ecf6-0"})(["margin-top:24px;"]),LHe=te.div.withConfig({displayName:"ContentContainer",componentId:"sc-8d74ecf6-1"})(["display:flex;flex-direction:column;align-items:center;gap:24px;"]),FHe=te.div.withConfig({displayName:"QrContainer",componentId:"sc-8d74ecf6-2"})(["display:flex;align-items:center;justify-content:center;min-height:275px;"]),zHe=te.div.withConfig({displayName:"InstructionsContainer",componentId:"sc-8d74ecf6-3"})(["display:flex;flex-direction:column;align-items:center;gap:16px;"]),WHe=te.div.withConfig({displayName:"InstructionText",componentId:"sc-8d74ecf6-4"})(["font-size:0.875rem;text-align:center;color:var(--privy-color-foreground-2);"]),qHe=te.div.withConfig({displayName:"LoaderWrapper",componentId:"sc-8d74ecf6-5"})(["position:relative;width:82px;height:82px;"]);const Rte=()=>{let[t,e]=$.useState(!1),{currentScreen:r,navigate:n,setModalData:i,data:s}=lt(),{enabled:a,token:o}=ca(),{initLoginWithFarcaster:l}=rt(),{accountType:u}=uh();return p.jsxs(En,{onClick:async()=>{var h;e(!0);try{a&&!o?(i({captchaModalData:{callback:f=>{var g;return l(f,(g=s==null?void 0:s.login)==null?void 0:g.disableSignup)},userIntentRequired:!0,onSuccessNavigateTo:BS,onErrorNavigateTo:_n}}),n(vl)):(await l(o,(h=s==null?void 0:s.login)==null?void 0:h.disableSignup),n(BS))}catch(f){i({errorModalData:{error:f,previousScreen:r||ps}}),n(_n)}finally{e(!1)}},disabled:!1,children:[p.jsx(wf,{width:32,height:32})," Farcaster",t&&p.jsx(ch,{}),u==="farcaster"&&p.jsx(HHe,{color:"gray",children:"Recent"})]})};let HHe=te(pc).withConfig({displayName:"StyledChip",componentId:"sc-c6317ff9-0"})(["margin-left:auto;"]);const VHe=({status:t,passkeySignupFlow:e=!1,error:r,onRetry:n})=>p.jsx(wr,{title:(()=>{switch(t){case"loading":return"Waiting for passkey";case"success":return"Success";case"error":return"Something went wrong"}})(),subtitle:p.jsx(GHe,{children:(()=>{switch(t){case"loading":return e?"Please follow prompts to register your passkey.":`Please follow prompts to verify your passkey.
You will have to sign up with another method first to register a passkey for your account.`;case"success":return"You've successfully logged in with your passkey.";case"error":if(r instanceof fs){if(r.privyErrorCode===fe.CANNOT_LINK_MORE_OF_TYPE)return"Cannot link more passkeys to account.";if(r.privyErrorCode===fe.PASSKEY_NOT_ALLOWED)return`Passkey request timed out or rejected by user.
You will have to sign up with another method first to register a passkey for your account.`}return`An unknown error occurred.
You will have to sign up with another method first to register a passkey for your account.`}})()}),icon:v5,iconVariant:"loading",iconLoadingStatus:{success:t==="success",fail:t==="error"},primaryCta:t==="error"&&n?{label:"Retry",onClick:n}:t==="success"?{label:"Continue",disabled:!0}:void 0,watermark:!0}),L0={component:()=>{let{app:t,data:e,setModalData:r,navigate:n}=lt(),{loginWithPasskey:i,signupWithPasskey:s,closePrivyModal:a,createAnalyticsEvent:o}=rt(),{user:l,logout:u}=fr(),{passkeySignupFlow:h}=(e==null?void 0:e.passkeyAuthModalData)??{},[f,g]=$.useState("loading"),[y,b]=$.useState(null),w=$.useRef([]),x=S=>{w.current=[S,...w.current]};$.useEffect(()=>()=>{w.current.forEach(S=>clearTimeout(S)),w.current=[]},[]);let E=async()=>{g("loading");try{h?await s():await i(),g("success")}catch(S){b(S),g("error")}};return $.useEffect(()=>{if(f==="success"&&l){if(t!=null&&t.legal.requireUsersAcceptTerms&&!l.hasAcceptedTerms)return void x(setTimeout(()=>{n(dp)},900));if(!dh(l,t==null?void 0:t.embeddedWallets))return void x(setTimeout(()=>{a({shouldCallAuthOnSuccess:!0,isSuccess:!0})},yn));x(setTimeout(()=>{r({createWallet:{onSuccess:()=>{},onFailure:S=>{console.error(S),o({eventName:"embedded_wallet_creation_failure_logout",payload:{error:S,screen:"PasskeyStatusScreen"}}),u()},callAuthOnSuccessOnClose:!0}}),n(Ru)},900))}},[l,f]),$.useEffect(()=>{E()},[]),p.jsx(VHe,{status:f,passkeySignupFlow:h,error:y,onRetry:E})}};let GHe=te.span.withConfig({displayName:"SubtitleText",componentId:"sc-ad4f7fb3-0"})(["white-space:pre-wrap;"]);const KHe=({title:t="Log in or create a new account?",subtitle:e="Create a new account with a passkey or use a passkey to log in to an existing account.",onSignup:r,onLogin:n})=>p.jsx(wr,{title:t,subtitle:e,icon:v5,primaryCta:{label:"Create new account",onClick:r},secondaryCta:{label:"Log in with a passkey",onClick:n},watermark:!0}),YHe={component:()=>{let{enabled:t,token:e}=ca(),{navigate:r,setModalData:n}=lt(),{initSignupWithPasskey:i,initLoginWithPasskey:s}=rt();return p.jsx(KHe,{onSignup:async()=>{t&&!e?(n({passkeyAuthModalData:{passkeySignupFlow:!0},captchaModalData:{callback:a=>i({captchaToken:a,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:L0,onErrorNavigateTo:_n}}),r(vl)):(await i({withPrivyUi:!0}),n({passkeyAuthModalData:{passkeySignupFlow:!0}}),r(L0))},onLogin:async()=>{t&&!e?(n({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:a=>s({captchaToken:a,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:L0,onErrorNavigateTo:_n}}),r(vl)):(await s({withPrivyUi:!0}),n({passkeyAuthModalData:{passkeySignupFlow:!1}}),r(L0))}})}},jte=()=>{let{enabled:t,token:e}=ca(),{navigate:r,setModalData:n,app:i,data:s}=lt(),{initLoginWithPasskey:a}=rt(),o=()=>{i.loginConfig.passkeysForSignupEnabled?r(YHe):(async()=>t&&!e?(n({passkeyAuthModalData:{passkeySignupFlow:!1},captchaModalData:{callback:l=>a({captchaToken:l,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:L0,onErrorNavigateTo:_n}}),r(vl)):(await a({withPrivyUi:!0}),n({passkeyAuthModalData:{passkeySignupFlow:!1}}),r(L0)))()};return $.useMemo(()=>{var u;let l=(u=s==null?void 0:s.login)==null?void 0:u.loginMethods;return l?l.filter(h=>h!=="passkey").length:Object.entries(i.loginMethods).filter(([h,f])=>f).filter(([h])=>h!=="passkey").length},[i.loginMethods,s==null?void 0:s.login])===0?p.jsxs(En,{onClick:o,children:[p.jsx(Z$,{})," Continue with passkey"]}):p.jsx(Tg,{as:"button",onClick:o,size:"sm",variant:"navigation",style:{width:"100%",justifyContent:"center"},children:"I have a passkey"})},ZHe=({value:t,onChange:e})=>p.jsx("select",{value:t,onChange:e,children:Wwe.map(r=>p.jsxs("option",{value:r.code,children:[r.code," +",r.callCode]},r.code))}),ex=$.forwardRef((t,e)=>{let{app:r}=lt(),[n,i]=$.useState(!1),{accountType:s}=uh(),[a,o]=$.useState(""),[l,u]=$.useState((r==null?void 0:r.intl.defaultCountry)??"US"),h=gv(a,l),f=zwe(l),g=qwe(l),y=E$(l),b=!h,[w,x]=$.useState(!1),E=y.length,S=A=>{let O=A.target.value;u(O),o(""),t.onChange&&t.onChange({rawPhoneNumber:a,qualifiedPhoneNumber:x7(a,O),countryCode:O,isValid:gv(a,l)})},_=(A,O)=>{try{let F=A.replace(/\D/g,"")===a.replace(/\D/g,"")?A:f.input(A);o(F),t.onChange&&t.onChange({rawPhoneNumber:F,qualifiedPhoneNumber:x7(A,O),countryCode:O,isValid:gv(A,O)})}catch(F){console.error("Error processing phone number:",F)}},I=()=>{x(!0);let A=x7(a,l);t.onSubmit({rawPhoneNumber:a,qualifiedPhoneNumber:A,countryCode:l,isValid:gv(a,l)}).finally(()=>x(!1))};return $.useEffect(()=>{if(t.defaultValue){let A=Hwe(t.defaultValue);f.reset(),S({target:{value:A.countryCode}}),_(A.phone,A.countryCode)}},[t.defaultValue]),p.jsxs(p.Fragment,{children:[p.jsx(QHe,{children:p.jsxs(XHe,{$callingCodeLength:E,$stacked:t.stacked,children:[p.jsx(ZHe,{value:l,onChange:S}),p.jsx("input",{ref:e,id:"phone-number-input",className:"login-method-button",type:"tel",placeholder:g,onFocus:()=>i(!0),onChange:A=>{_(A.target.value,l)},onKeyUp:A=>{A.key==="Enter"&&I()},value:a,autoComplete:"tel"}),s!=="phone"||n||t.hideRecent?t.stacked||t.noIncludeSubmitButton?p.jsx("span",{}):p.jsx(U4,{isSubmitting:w,onClick:I,disabled:b,children:"Submit"}):p.jsx(pc,{color:"gray",children:"Recent"})]})}),t.stacked&&!t.noIncludeSubmitButton?p.jsx(Kr,{loading:w,loadingText:null,onClick:I,disabled:b,children:"Submit"}):null]})});let QHe=te.div.withConfig({displayName:"InputContainer",componentId:"sc-f29a1304-0"})(["width:100%;"]),XHe=te.label.withConfig({displayName:"PhoneNumberInput",componentId:"sc-f29a1304-1"})(["--country-code-dropdown-width:calc(54px + calc(12 * ","px));--phone-input-extra-padding-left:calc(12px + calc(3 * ","px));display:block;position:relative;width:100%;@media (min-width:441px){--country-code-dropdown-width:calc(52px + calc(10 * ","px));}&& > select{font-size:16px;height:24px;position:absolute;margin:13px calc(var(--country-code-dropdown-width) / 4);line-height:24px;width:var(--country-code-dropdown-width);background-color:var(--privy-color-background);background-size:auto;background-position-x:right;cursor:pointer;@media (min-width:441px){font-size:14px;width:var(--country-code-dropdown-width);}:focus{outline:none;box-shadow:none;}}&& > input{font-size:16px;line-height:24px;color:var(--privy-color-foreground);overflow:hidden;white-space:nowrap;text-overflow:ellipsis;width:calc(100% - var(--country-code-dropdown-width));padding:12px 88px 12px calc(var(--country-code-dropdown-width) + var(--phone-input-extra-padding-left));padding-right:",";flex-grow:1;background:var(--privy-color-background);border:1px solid var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);width:100%;:focus{outline:none;border-color:var(--privy-color-accent);}:autofill,:-webkit-autofill{background:var(--privy-color-background);}@media (min-width:441px){font-size:14px;padding-right:78px;}}&& > :last-child{right:16px;position:absolute;top:50%;transform:translate(0,-50%);}&& > button:last-child{right:0px;line-height:24px;padding:13px 17px;:focus{outline:none;border-color:var(--privy-color-accent);}}&& > input::placeholder{color:var(--privy-color-foreground-3);}"],t=>t.$callingCodeLength,t=>t.$callingCodeLength,t=>t.$callingCodeLength,t=>t.$stacked?"16px":"88px");const Dte=({isEditable:t,setIsEditable:e,defaultValue:r})=>{let n=$.useRef(null),{authenticated:i}=fr(),{navigate:s,setModalData:a,currentScreen:o,data:l}=lt(),{initLoginWithSms:u}=rt(),{enabled:h,token:f}=ca(),{whatsAppEnabled:g}=Ar();return p.jsxs(p.Fragment,{children:[p.jsx($g,{$if:!t,children:p.jsx(ex,{ref:n,onSubmit:async function({qualifiedPhoneNumber:y}){var b;if(!h||f||i)try{await u({phoneNumber:y,captchaToken:f,withPrivyUi:!0,disableSignup:(b=l==null?void 0:l.login)==null?void 0:b.disableSignup}),s(Nu)}catch(w){a({errorModalData:{error:w,previousScreen:o||ps}}),s(_n)}else a({captchaModalData:{callback:w=>{var x;return u({phoneNumber:y,captchaToken:w,withPrivyUi:!0,disableSignup:(x=l==null?void 0:l.login)==null?void 0:x.disableSignup})},userIntentRequired:!1,onSuccessNavigateTo:Nu,onErrorNavigateTo:_n}}),s(vl)},defaultValue:r})}),p.jsx($g,{$if:t,children:p.jsxs(En,{onClick:()=>{e(),setTimeout(()=>{var y;(y=n.current)==null||y.focus()},0)},children:[p.jsx(dc,{children:p.jsx(QZ,{})}),"Continue with ",g?"WhatsApp":"SMS"]})})]})};let JHe={apple:{logo:iee,displayName:"Apple"},discord:{logo:see,displayName:"Discord"},github:{logo:aee,displayName:"GitHub"},google:{logo:oee,displayName:"Google"},linkedin:{logo:uee,displayName:"LinkedIn"},spotify:{logo:dee,displayName:"Spotify"},instagram:{logo:lee,displayName:"Instagram"},twitter:{logo:fee,displayName:"Twitter"},tiktok:{logo:hee,displayName:"TikTok"},line:{logo:cee,displayName:"LINE"}};const ri=({provider:t})=>{let{enabled:e,token:r}=ca(),{navigate:n,setModalData:i,data:s}=lt(),[a,o]=$.useState(!1),{initLoginWithOAuth:l}=rt(),{accountType:u}=uh(),h=$.useMemo(()=>u&&u!=="guest"&&u!=="authorization_key"&&u!=="cross_app"?Z4(u):null,[u]),{displayName:f,logo:g}=JHe[t];return p.jsxs(En,{onClick:()=>{var y;o(!0),setTimeout(()=>{o(!1)},2e3),e&&!r?(i({captchaModalData:{callback:b=>{var w;return l(t,b,(w=s==null?void 0:s.login)==null?void 0:w.disableSignup)},userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:_n}}),n(vl)):l(t,void 0,(y=s==null?void 0:s.login)==null?void 0:y.disableSignup)},disabled:a,children:[p.jsx(dc,{$fullSize:!0,children:p.jsx(g,{style:{width:"32px",height:"32px"}})}),f,(h==null?void 0:h.loginMethod)===t&&p.jsx(eVe,{color:"gray",children:"Recent"})]})};let eVe=te(pc).withConfig({displayName:"StyledChip",componentId:"sc-afd4ca87-0"})(["margin-left:auto;"]);function Ute(t){return p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 512",...t,children:[p.jsx("rect",{width:"512",height:"512",rx:"15%",fill:"#37aee2"}),p.jsx("path",{fill:"#c8daea",d:"M199 404c-11 0-10-4-13-14l-32-105 245-144"}),p.jsx("path",{fill:"#a9c9dd",d:"M199 404c7 0 11-4 16-8l45-43-56-34"}),p.jsx("path",{fill:"#f6fbfe",d:"M204 319l135 99c14 9 26 4 30-14l55-258c5-22-9-32-24-25L79 245c-21 8-21 21-4 26l83 26 190-121c9-5 17-3 11 4"})]})}const tVe=({success:t,errorMessage:e,onRetry:r})=>{let n=t?"Successfully connected with Telegram":e?e.message:"Verifying connection to Telegram";return p.jsx(wr,{title:n,subtitle:t?"You're good to go!":e?e.detail:"Just a few moments more",icon:Ute,iconVariant:"loading",iconLoadingStatus:{success:t,fail:!!e},secondaryCta:e!=null&&e.retryable&&r?{label:"Retry",onClick:r}:void 0,watermark:!0})},j3={component:()=>{let{authenticated:t,logout:e,ready:r,user:n}=fr(),{app:i,setModalData:s,navigate:a,resetNavigation:o,data:l}=lt(),{initLoginWithTelegram:u,loginWithTelegram:h,updateWallets:f,setReadyToTrue:g,closePrivyModal:y,createAnalyticsEvent:b,getAuthMeta:w}=rt(),[x,E]=$.useState(!1),[S,_]=$.useState(void 0),I=ca();async function A(){var O,F,H,L,z,V,K,B,C,k,N,D,P,R;try{let j=await async function(){let W;if(!t){if(I.enabled&&I.status==="error")throw new M4(I.error,null,fe.CAPTCHA_FAILURE);return I.enabled&&I.status!=="success"&&(I.execute(),W=await I.waitForResult()),W}}();await h({captchaToken:j}),E(!0),g(!0)}catch(j){if((j==null?void 0:j.privyErrorCode)===fe.ALLOWLIST_REJECTED)return _(void 0),o(),void a(X4);if((j==null?void 0:j.privyErrorCode)===fe.USER_LIMIT_REACHED)return console.error(new bb(j).toString()),_(void 0),o(),void a(Hb);if((j==null?void 0:j.privyErrorCode)===fe.USER_DOES_NOT_EXIST)return _(void 0),o(),void a(Wb);if((j==null?void 0:j.privyErrorCode)===fe.ACCOUNT_TRANSFER_REQUIRED&&((F=(O=j.data)==null?void 0:O.data)!=null&&F.nonce))return _(void 0),o(),s({accountTransfer:{nonce:(L=(H=j.data)==null?void 0:H.data)==null?void 0:L.nonce,account:(V=(z=j.data)==null?void 0:z.data)==null?void 0:V.subject,telegramAuthResult:(K=w())==null?void 0:K.telegramAuthResult,telegramWebAppData:(B=w())==null?void 0:B.telegramWebAppData,displayName:(N=(k=(C=j.data)==null?void 0:C.data)==null?void 0:k.account)==null?void 0:N.displayName,linkMethod:"telegram",embeddedWalletAddress:(R=(P=(D=j.data)==null?void 0:D.data)==null?void 0:P.otherUser)==null?void 0:R.embeddedWalletAddress}}),void a(up);let{retryable:W,detail:M}=uz(j);_({retryable:W,detail:M,message:"Authentication failed"})}}return $.useEffect(()=>{A()},[]),$.useEffect(()=>{if(!(r&&t&&x&&n))return;if(i!=null&&i.legal.requireUsersAcceptTerms&&!n.hasAcceptedTerms){let F=setTimeout(()=>{a(dp)},yn);return()=>clearTimeout(F)}if(dh(n,i.embeddedWallets)){let F=setTimeout(()=>{s({createWallet:{onSuccess:()=>{},onFailure:H=>{console.error(H),b({eventName:"embedded_wallet_creation_failure_logout",payload:{error:H,provider:"telegram",screen:"TelegramAuthScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),a(Ru)},yn);return()=>clearTimeout(F)}f();let O=setTimeout(()=>y({shouldCallAuthOnSuccess:!0,isSuccess:!0}),yn);return()=>clearTimeout(O)},[r,t,x,n]),p.jsx(tVe,{success:x,errorMessage:S,onRetry:S!=null&&S.retryable?async()=>{var O,F;try{_(void 0),(O=l==null?void 0:l.telegramAuthModalData)!=null&&O.seamlessAuth||await u(void 0,(F=l==null?void 0:l.login)==null?void 0:F.disableSignup),await A()}catch(H){let{retryable:L,detail:z}=uz(H);_({retryable:L,detail:z,message:"Authentication failed"})}}:void 0})},isCaptchaRequired:!0},Bte=()=>{let{enabled:t,token:e}=ca(),{navigate:r,setModalData:n,data:i}=lt(),[s,a]=$.useState(!1),{initLoginWithTelegram:o}=rt(),{accountType:l}=uh();async function u(h){var f;try{await o(h,(f=i==null?void 0:i.login)==null?void 0:f.disableSignup),n({telegramAuthModalData:{seamlessAuth:!1}}),r(j3)}catch(g){console.error(g),a(!1)}}return p.jsxs(En,{onClick:async function(){if(a(!0),t&&!e)return n({captchaModalData:{callback:u,userIntentRequired:!0,onSuccessNavigateTo:null,onErrorNavigateTo:_n}}),void r(vl);await u(e)},disabled:s,children:[p.jsx(Ute,{width:32,height:32}),"Telegram",l==="telegram"&&p.jsx(rVe,{color:"gray",children:"Recent"})]})};let rVe=te(pc).withConfig({displayName:"StyledChip",componentId:"sc-4b233cf1-0"})(["margin-left:auto;"]);const Lte=({onClick:t,text:e})=>p.jsxs(En,{onClick:t,children:[p.jsx(dc,{children:p.jsx(gEe,{})}),p.jsx(kg,{children:e})]}),Fte=({onClick:t,text:e,icon:r})=>p.jsxs(En,{onClick:t,children:[p.jsx(dc,{children:r}),p.jsx(kg,{children:e})]}),zte=({connectOnly:t})=>{var Qt;let{closePrivyModal:e}=rt(),{data:r,setModalData:n,onUserCloseViaDialogOrKeybindRef:i,navigate:s}=lt(),a=Ar(),o=r==null?void 0:r.login,l=a.appearance.walletList,u=(o==null?void 0:o.walletChainType)??a.appearance.walletChainType,{accountType:h,walletClientType:f,chainType:g}=uh(),{wallets:y}=kte({walletList:l,walletChainType:u}),b=$.useMemo(()=>h&&h!=="guest"&&h!=="authorization_key"&&h!=="cross_app"?Z4(h):null,[h]),{email:w,sms:x,google:E,twitter:S,discord:_,github:I,spotify:A,instagram:O,tiktok:F,line:H,linkedin:L,apple:z,wallet:V,farcaster:K,telegram:B}=$.useMemo(()=>o!=null&&o.loginMethods?Vwe(o.loginMethods,!0):null,[o])??a.loginMethods,{passkey:C}=a.loginMethods,k=[w&&"email",x&&"sms",E&&"google",S&&"twitter",_&&"discord",I&&"github",A&&"spotify",O&&"instagram",F&&"tiktok",H&&"line",L&&"linkedin",z&&"apple",K&&"farcaster",B&&"telegram"].filter(Ie=>!!Ie),N=k.length>0,D=$.useMemo(()=>V&&!N?"web3-first":V&&(a==null?void 0:a.appearance.loginGroupPriority)||"web2-first",[V,N,a==null?void 0:a.appearance.loginGroupPriority]),P=a==null?void 0:a.appearance.hideDirectWeb2Inputs,[R,j]=$.useState("default"),[W,M]=$.useState(V5({mostRecentlyUsedAccountType:h,smsAvailable:x,emailAvailable:w,prefilledType:(Qt=o==null?void 0:o.prefill)==null?void 0:Qt.type}));$.useEffect(()=>{var Ie;M(V5({mostRecentlyUsedAccountType:h,smsAvailable:x,emailAvailable:w,prefilledType:(Ie=o==null?void 0:o.prefill)==null?void 0:Ie.type}))},[w,x,h]);let G=()=>{e({shouldCallAuthOnSuccess:!0}),setTimeout(()=>{j("default")},150)};i.current=G;let re=[];f&&V?re.push(f):b!=null&&b.loginMethod&&k.includes(b.loginMethod)&&re.push(b.loginMethod);let q=Ie=>{var ht,bt;if(Ie==="email")return p.jsx(Hte,{isEditable:W==="email",setIsEditable:()=>{M("email")},defaultValue:((ht=o==null?void 0:o.prefill)==null?void 0:ht.type)==="email"?o.prefill.value:void 0},Ie);if(Ie==="sms")return p.jsx(Dte,{isEditable:W==="sms",setIsEditable:()=>{M("sms")},defaultValue:((bt=o==null?void 0:o.prefill)==null?void 0:bt.type)==="phone"?o.prefill.value:void 0},Ie);if(Ie==="apple")return p.jsx(ri,{provider:"apple"},Ie);if(Ie==="discord")return p.jsx(ri,{provider:"discord"},Ie);if(Ie==="farcaster")return p.jsx(Rte,{},Ie);if(Ie==="github")return p.jsx(ri,{provider:"github"},Ie);if(Ie==="google")return p.jsx(ri,{provider:"google"},Ie);if(Ie==="linkedin")return p.jsx(ri,{provider:"linkedin"},Ie);if(Ie==="tiktok")return p.jsx(ri,{provider:"tiktok"},Ie);if(Ie==="line")return p.jsx(ri,{provider:"line"},Ie);if(Ie==="spotify")return p.jsx(ri,{provider:"spotify"},Ie);if(Ie==="instagram")return p.jsx(ri,{provider:"instagram"},Ie);if(Ie==="twitter")return p.jsx(ri,{provider:"twitter"},Ie);if(Ie==="telegram")return p.jsx(Bte,{},Ie);let pt=y.findIndex(({id:jt})=>jt===ka.normalize(Ie)),Ze=g==="solana"?"solana-only":"ethereum-only";return p.jsx(DS,{recent:!0,index:pt,data:{wallets:y,walletChainType:Ze,handleWalletClick(jt){n(yt=>({...yt,externalConnectWallet:{walletList:l,walletChainType:Ze,preSelectedWalletId:jt.id}})),s(t?US:R3)}}})},X=y.filter(Ie=>Ie.id!==ka.normalize(f||"")),ne=X.map((Ie,pt)=>p.jsx(DS,{index:pt,data:{walletChainType:u,wallets:X,handleWalletClick(Ze){n(ht=>({...ht,externalConnectWallet:{walletList:l,walletChainType:u,preSelectedWalletId:Ze.id}})),s(t?US:R3)}}},Ie.id)),ee=k.filter(Ie=>Ie!==(b==null?void 0:b.loginMethod)).flatMap(q),ce=re.flatMap(q);D==="web3-first"&&R==="default"?ne.unshift(...ce):D==="web2-first"&&ee.unshift(...ce);let be=R==="web2-overflow"?()=>j("default"):void 0,ve=k.filter(Ie=>Ie!=="email"&&Ie!=="sms"),ge=sVe({priority:D,email:w,sms:x,social:ve}),Ee=aVe({priority:D,email:w,sms:x,social:ve}),ye=p.jsx(Lte,{text:oVe({priority:D}),onClick:()=>{n({...r,externalConnectWallet:{walletChainType:(o==null?void 0:o.walletChainType)??a.appearance.walletChainType}}),s(R3)}}),$e=p.jsx(Fte,{text:ge,icon:Ee,onClick:()=>j("web2-overflow")}),we=P?0:1,qe=V&&ne.length>0,Ge=ee.length===0&&V&&ne.length===0,Ae=5-(qe?1:0),je=R==="default"&&(a==null?void 0:a.appearance.logo),gt=R==="default"&&a.appearance.loginMessage;return p.jsxs(wr,{title:a.appearance.landingHeader,icon:je?p.jsx(gte,{}):void 0,iconVariant:je?"logo":void 0,onClose:G,showClose:!0,onBack:be,showBack:!!be,helpText:a||C&&R==="default"?p.jsxs(p.Fragment,{children:[C&&R==="default"&&p.jsx(jte,{}),a&&p.jsx(HT,{app:a})]}):void 0,watermark:!0,children:[gt&&(typeof a.appearance.loginMessage=="string"?p.jsx(nVe,{children:a.appearance.loginMessage}):p.jsx(iVe,{children:a.appearance.loginMessage})),p.jsx(Dee,{$colorScheme:a.appearance.palette.colorScheme,children:R==="default"&&D==="web2-first"?p.jsxs(p.Fragment,{children:[ee.length>Ae?ee.slice(0,Ae-1):ee,ee.length>Ae&&$e,qe&&ye,Ge&&p.jsx(kz,{chainType:a.appearance.walletChainType})]}):R==="default"&&D==="web3-first"?p.jsxs(p.Fragment,{children:[V&&p.jsxs(p.Fragment,{children:[ne.length>Ae?ne.slice(0,Ae-1):ne,ne.length>Ae&&ye]}),ee.length>we&&$e,ee.length===we&&ee[0],Ge&&p.jsx(kz,{chainType:a.appearance.walletChainType})]}):R==="web2-overflow"?p.jsx(p.Fragment,{children:D==="web3-first"?ee:ee.slice(3)}):null})]})};let nVe=te.div.withConfig({displayName:"StyledSubtitle",componentId:"sc-a0c826dc-0"})(["text-align:center;font-size:14px;margin-bottom:24px;"]),iVe=te.div.withConfig({displayName:"MessageContainer",componentId:"sc-a0c826dc-1"})(["margin-bottom:24px;"]),sVe=({priority:t,email:e,sms:r,social:n})=>t==="web2-first"?"Other socials":e&&r&&n.length>0||e&&n.length>0?"Log in with email or socials":r&&n.length>0?"Log in with sms or socials":e&&r?"Continue with email or sms":e?"Continue with email":r?"Continue with sms":"Log in with a social account",aVe=({priority:t,email:e,sms:r,social:n})=>t==="web2-first"||n.length>0?p.jsx(cEe,{}):e&&r?p.jsx(gHe,{}):e?p.jsx(X$,{}):r?p.jsx(QZ,{}):null,oVe=({priority:t})=>t==="web2-first"?"Continue with a wallet":"Other wallets";const V5=({mostRecentlyUsedAccountType:t,smsAvailable:e,emailAvailable:r,prefilledType:n})=>r&&(t==="email"&&n!=="phone"||n==="email")||!e||t!=="phone"&&n!=="phone"?"email":"sms",Wte={component:()=>{let{app:t}=lt();return t.loginMethodsAndOrder&&t.loginMethodsAndOrder.primary.length>0?p.jsx(Yte,{connectOnly:!0}):p.jsx(zte,{connectOnly:!0})}},lVe=({contactMethod:t,authFlow:e,appName:r="Privy",whatsAppEnabled:n=!1,onBack:i,onCodeSubmit:s,onResend:a,errorMessage:o,success:l=!1,resendCountdown:u=0,onInvalidInput:h,onClearError:f})=>{let[g,y]=$.useState(Tz);$.useEffect(()=>{o||y(Tz)},[o]);let b=async w=>{var A;w.preventDefault();let x=w.currentTarget.value.replace(" ","");if(x==="")return;if(isNaN(Number(x)))return void(h==null?void 0:h("Code should be numeric"));f==null||f();let E=Number((A=w.currentTarget.name)==null?void 0:A.charAt(5)),S=[...x||[""]].slice(0,$z-E),_=[...g.slice(0,E),...S,...g.slice(E+S.length)];y(_);let I=Math.min(Math.max(E+S.length,0),$z-1);if(!isNaN(Number(w.currentTarget.value))){let O=document.querySelector(`input[name=code-${I}]`);O==null||O.focus()}if(_.every(O=>O&&!isNaN(+O))){let O=document.querySelector(`input[name=code-${I}]`);O==null||O.blur(),await(s==null?void 0:s(_.join("")))}};return p.jsx(wr,{title:"Enter confirmation code",subtitle:p.jsxs("span",e==="email"?{children:["Please check ",p.jsx(Iz,{children:t})," for an email from privy.io and enter your code below."]}:{children:["Please check ",p.jsx(Iz,{children:t})," for a",n?" WhatsApp":""," message from ",r," and enter your code below."]}),icon:e==="email"?h4:eh,onBack:i,showBack:!0,helpText:p.jsxs(pVe,{children:[p.jsxs("span",{children:["Didn't get ",e==="email"?"an email":"a message","?"]}),u?p.jsxs(gVe,{children:[p.jsx(YEe,{color:"var(--privy-color-foreground)",strokeWidth:1.33,height:"12px",width:"12px"}),p.jsx("span",{children:"Code sent"})]}):p.jsx(Tg,{as:"button",size:"sm",onClick:a,children:"Resend code"})]}),children:p.jsx(dVe,{children:p.jsx(mWe,{children:p.jsxs(hVe,{children:[p.jsx("div",{children:g.map((w,x)=>p.jsx("input",{name:`code-${x}`,type:"text",value:g[x],onChange:b,onKeyUp:E=>{E.key==="Backspace"&&(S=>{if(f==null||f(),y([...g.slice(0,S),"",...g.slice(S+1)]),S>0){let _=document.querySelector(`input[name=code-${S-1}]`);_==null||_.focus()}})(x)},inputMode:"numeric",autoFocus:x===0,pattern:"[0-9]",className:`${l?"success":""} ${o?"fail":""}`,autoComplete:Tr.isMobile?"one-time-code":"off"},x))}),p.jsx(fVe,{$fail:!!o,$success:l,children:p.jsx("span",{children:o==="Invalid or expired verification code"?"Incorrect code":o||(l?"Success!":"")})})]})})})})};let $z=6,Tz=Array(6).fill("");var I1,N1,cVe=((I1=cVe||{})[I1.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",I1[I1.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",I1),uVe=((N1=uVe||{})[N1.EMAIL=0]="EMAIL",N1[N1.SMS=1]="SMS",N1);const Nu={component:()=>{var V,K,B;let{app:t,navigate:e,lastScreen:r,navigateBack:n,setModalData:i,onUserCloseViaDialogOrKeybindRef:s}=lt(),{closePrivyModal:a,resendEmailCode:o,resendSmsCode:l,getAuthMeta:u,loginWithCode:h,updateWallets:f,createAnalyticsEvent:g}=rt(),{authenticated:y,logout:b,user:w}=fr(),{whatsAppEnabled:x}=Ar(),[E,S]=$.useState(!1),[_,I]=$.useState(null),[A,O]=$.useState(null),[F,H]=$.useState(0);s.current=()=>null;let L=(V=u())!=null&&V.email?0:1,z=L===0?((K=u())==null?void 0:K.email)||"":((B=u())==null?void 0:B.phoneNumber)||"";return $.useEffect(()=>{if(F){let C=setTimeout(()=>{H(F-1)},1e3);return()=>clearTimeout(C)}},[F]),$.useEffect(()=>{if(y&&E&&w){if(t!=null&&t.legal.requireUsersAcceptTerms&&!w.hasAcceptedTerms){let C=setTimeout(()=>{e(dp)},900);return()=>clearTimeout(C)}if(dh(w,t.embeddedWallets)){let C=setTimeout(()=>{i({createWallet:{onSuccess:()=>{},onFailure:k=>{console.error(k),g({eventName:"embedded_wallet_creation_failure_logout",payload:{error:k,screen:"AwaitingPasswordlessCodeScreen"}}),b()},callAuthOnSuccessOnClose:!0}}),e(Ru)},900);return()=>clearTimeout(C)}{f();let C=setTimeout(()=>a({shouldCallAuthOnSuccess:!0,isSuccess:!0}),yn);return()=>clearTimeout(C)}}},[y,E,w]),$.useEffect(()=>{if(_&&A===0){let C=setTimeout(()=>{I(null),O(null);let k=document.querySelector("input[name=code-0]");k==null||k.focus()},1400);return()=>clearTimeout(C)}},[_,A]),p.jsx(lVe,{contactMethod:z,authFlow:L===0?"email":"sms",appName:t==null?void 0:t.name,whatsAppEnabled:x,onBack:()=>n(),onCodeSubmit:async C=>{var k,N,D,P,R,j,W,M,G,re;try{await h(C),S(!0)}catch(q){if(q instanceof Sa&&q.privyErrorCode===fe.INVALID_CREDENTIALS)I("Invalid or expired verification code"),O(0);else if(q instanceof Sa&&q.privyErrorCode===fe.CANNOT_LINK_MORE_OF_TYPE)I(q.message);else{if(q instanceof Sa&&q.privyErrorCode===fe.USER_LIMIT_REACHED)return console.error(new bb(q).toString()),void e(Hb);if(q instanceof Sa&&q.privyErrorCode===fe.USER_DOES_NOT_EXIST)return void e(Wb);if(q instanceof Sa&&q.privyErrorCode===fe.LINKED_TO_ANOTHER_USER)return i({errorModalData:{error:q,previousScreen:r??Nu}}),void e(_n,!1);if(q instanceof Sa&&q.privyErrorCode===fe.DISALLOWED_PLUS_EMAIL)return i({inlineError:{error:q}}),void e(Wte,!1);if(q instanceof Sa&&q.privyErrorCode===fe.ACCOUNT_TRANSFER_REQUIRED&&((N=(k=q.data)==null?void 0:k.data)!=null&&N.nonce))return i({accountTransfer:{nonce:(P=(D=q.data)==null?void 0:D.data)==null?void 0:P.nonce,account:z,displayName:(W=(j=(R=q.data)==null?void 0:R.data)==null?void 0:j.account)==null?void 0:W.displayName,linkMethod:L===0?"email":"sms",embeddedWalletAddress:(re=(G=(M=q.data)==null?void 0:M.data)==null?void 0:G.otherUser)==null?void 0:re.embeddedWalletAddress}}),void e(up);I("Issue verifying code"),O(0)}}},onResend:async()=>{H(30),L===0?await o():await l()},errorMessage:_||void 0,success:E,resendCountdown:F,onInvalidInput:C=>{I(C),O(1)},onClearError:()=>{A===1&&(I(null),O(null))}})}};let dVe=te.div.withConfig({displayName:"PasswordlessCodeContainer",componentId:"sc-5dd8bc26-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin:auto;gap:16px;flex-grow:1;width:100%;"]),hVe=te.div.withConfig({displayName:"CodeInput",componentId:"sc-5dd8bc26-1"})(["display:flex;flex-direction:column;width:100%;gap:12px;> div:first-child{display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-sm);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-sm);padding:8px 10px;height:48px;width:40px;text-align:center;font-size:18px;font-weight:600;color:var(--privy-color-foreground);transition:all 0.2s ease;}> input:focus{border:1px solid var(--privy-color-foreground);box-shadow:0 0 0 1px var(--privy-color-foreground);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-border-success);background:var(--privy-color-success-bg);}> input.fail{border:1px solid var(--privy-color-border-error);background:var(--privy-color-error-bg);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),fVe=te.div.withConfig({displayName:"InputHelp",componentId:"sc-5dd8bc26-2"})(["line-height:20px;min-height:20px;font-size:14px;font-weight:400;color:",";display:flex;justify-content:center;width:100%;text-align:center;"],t=>t.$success?"var(--privy-color-success-dark)":t.$fail?"var(--privy-color-error-dark)":"transparent"),pVe=te.div.withConfig({displayName:"HelpTextContainer",componentId:"sc-5dd8bc26-3"})(["display:flex;gap:8px;align-items:center;justify-content:center;width:100%;color:var(--privy-color-foreground-2);"]),gVe=te.div.withConfig({displayName:"Badge",componentId:"sc-5dd8bc26-4"})(["display:flex;align-items:center;justify-content:center;border-radius:var(--privy-border-radius-sm);padding:2px 8px;gap:4px;background:var(--privy-color-background-2);color:var(--privy-color-foreground-2);"]),Iz=te.span.withConfig({displayName:"BoldWrappingSpan",componentId:"sc-5dd8bc26-5"})(["font-weight:500;word-break:break-all;color:var(--privy-color-foreground);"]);const qte=$.forwardRef((t,e)=>{let[r,n]=$.useState(t.defaultValue||""),[i,s]=$.useState(""),[a,o]=$.useState(!1),{authenticated:l}=fr(),{initLoginWithEmail:u}=rt(),{navigate:h,setModalData:f,currentScreen:g,data:y}=lt(),{enabled:b,token:w}=ca(),[x,E]=$.useState(!1),{accountType:S}=uh(),_=Ar();$.useEffect(()=>{var F,H;!r&&_.disablePlusEmails&&((F=y==null?void 0:y.inlineError)==null?void 0:F.error)instanceof fs&&((H=y==null?void 0:y.inlineError)==null?void 0:H.error.privyErrorCode)===fe.DISALLOWED_PLUS_EMAIL&&!i&&s("Please enter a valid email address without a '+'."),i&&s("")},[r]);let I=yee(r),A=a||!I,O=()=>{f({login:y==null?void 0:y.login,inlineError:void 0}),!b||w||l?(F=>{var H;o(!0),u({email:r,captchaToken:F,disableSignup:(H=y==null?void 0:y.login)==null?void 0:H.disableSignup,withPrivyUi:!0}).then(()=>{h(Nu)}).catch(L=>{f({errorModalData:{error:L,previousScreen:g||ps}}),h(_n)}).finally(()=>{o(!1)})})(w):(f({captchaModalData:{callback:F=>u({email:r,captchaToken:F,withPrivyUi:!0}),userIntentRequired:!1,onSuccessNavigateTo:Nu,onErrorNavigateTo:_n}}),h(vl))};return p.jsxs(p.Fragment,{children:[p.jsxs(mVe,{children:[i&&p.jsx(Lf,{style:{display:"block",marginTop:"0.25rem",textAlign:"left"},children:i}),p.jsxs(yVe,{stacked:t.stacked,$error:!!i,children:[p.jsx(bVe,{children:p.jsx(X$,{})}),p.jsx("input",{ref:e,id:"email-input",className:"login-method-button",type:"email",placeholder:"your@email.com",onFocus:()=>E(!0),onChange:F=>n(F.target.value),onKeyUp:F=>{F.key==="Enter"&&O()},value:r,autoComplete:"email"}),S!=="email"||x?t.stacked?p.jsx("span",{}):p.jsx(U4,{isSubmitting:a,onClick:O,disabled:A,children:"Submit"}):p.jsx(pc,{color:"gray",children:"Recent"})]})]}),t.stacked?p.jsx(Kr,{loadingText:null,loading:a,disabled:A,onClick:O,style:{width:"100%"},children:"Submit"}):null]})});let mVe=Ate,yVe=sHe,bVe=te(dc).withConfig({displayName:"StyledLoginMethodIconWrapper",componentId:"sc-e33d938a-0"})(["display:inline-flex;"]);const Hte=({isEditable:t,setIsEditable:e,defaultValue:r})=>{let n=$.useRef(null);return p.jsxs(p.Fragment,{children:[p.jsx($g,{$if:!t,children:p.jsx(qte,{ref:n,defaultValue:r})}),p.jsx($g,{$if:t,children:p.jsxs(En,{onClick:()=>{e(),setTimeout(()=>{var i;(i=n.current)==null||i.focus()},0)},children:[p.jsx(dc,{children:p.jsx(X$,{})}),"Continue with Email"]})})]})},Vte=({icon:t,name:e})=>typeof t=="string"?p.jsx("img",{alt:`${e||"wallet"} logo`,src:t,style:{height:24,width:24,borderRadius:4}}):t===void 0?p.jsx(Z6,{style:{height:24,width:24}}):t?p.jsx(t,{}):null;function LS(t){var r,n;let e=t.toLowerCase();return!!((n=(r=window==null?void 0:window.webkit)==null?void 0:r.messageHandlers)!=null&&n.ReactNativeWebView)||!!(window!=null&&window.ReactNativeWebView)||["fbav","fban","instagram","snapchat","linkedinapp"].some(i=>e.includes(i))}const wVe=({walletLogo:t,success:e,errorMessage:r,title:n,subtitle:i,onRetry:s,onUseDifferentWallet:a,onBack:o,numRetries:l,maxRetries:u})=>p.jsx(wr,{title:n,subtitle:i,icon:t,iconVariant:"loading",iconLoadingStatus:{success:e,fail:!!r},primaryCta:r===hf.ERROR_USER_EXISTS?{label:"Use a different wallet",onClick:a}:!e&&(r!=null&&r.retryable)&&l<u?{label:"Retry",onClick:s,disabled:!(r!=null&&r.retryable)||l>=u}:!e&&r&&l>=u?{label:"Use a different wallet",onClick:a}:void 0,onBack:o,watermark:!0}),FS={component:()=>{var O,F,H,L,z,V,K;let t,{navigateBack:e,navigate:r,lastScreen:n,currentScreen:i,data:s,setModalData:a}=lt(),{walletConnectionStatus:o,closePrivyModal:l}=rt(),[u,h]=$.useState(void 0),[f,g]=$.useState(0),y=lh(((O=o==null?void 0:o.connector)==null?void 0:O.walletClientType)||"unknown"),b=(o==null?void 0:o.status)==="connected",w=(o==null?void 0:o.status)==="switching_to_supported_chain";$.useEffect(()=>{var B,C;if(b){let k;if((B=s==null?void 0:s.externalConnectWallet)!=null&&B.onCompleteNavigateTo){let N=s.externalConnectWallet.onCompleteNavigateTo,D=(C=o.connectedWallet)==null?void 0:C.address;k=setTimeout(()=>{var P,R;s.funding&&a({...s,funding:{...s.funding,connectedWalletAddress:D}}),r(N({address:D,walletClientType:(P=o.connector)==null?void 0:P.walletClientType,walletChainType:(R=o.connector)==null?void 0:R.chainType}))},yn)}else k=setTimeout(l,yn);return()=>clearTimeout(k)}},[b]),$.useEffect(()=>{o!=null&&o.connectError&&(B=>{h(Pte(B))})(o==null?void 0:o.connectError)},[o]);let x=((F=o==null?void 0:o.connector)==null?void 0:F.connectorType)||"injected",E=((H=o==null?void 0:o.connector)==null?void 0:H.walletClientType)||"unknown",S=((L=y==null?void 0:y.metadata)==null?void 0:L.shortName)||(y==null?void 0:y.name)||((z=o==null?void 0:o.connector)==null?void 0:z.walletBranding.name)||"Browser Extension",_=((V=y==null?void 0:y.image_url)==null?void 0:V.md)||((K=o==null?void 0:o.connector)==null?void 0:K.walletBranding.icon)||(B=>p.jsx(FT,{...B})),I=S==="Browser Extension"?S.toLowerCase():S;t=b?`Successfully connected with ${I}`:u?u.message:w?"Switching networks":`Waiting for ${I}`;let A="Dont see your wallet? Check your other browser windows.";return b?A="Youre good to go!":f>=2&&u?A="Unable to connect wallet":u?A=u.detail:w?A="Switch your wallet to the requested network.":E==="metamask"&&Tr.isMobile?A="Click to continue to open and connect MetaMask.":E==="metamask"?A="For the best experience, connect only one wallet at a time.":x==="wallet_connect_v2"?A="Open your mobile wallet app to continue":x==="coinbase_wallet"&&(A="Open the Coinbase app on your phone to continue."),p.jsx(wVe,{walletName:S,walletLogo:_,success:b,errorMessage:u,title:t,subtitle:A,onRetry:()=>{g(f+1),h(void 0),o==null||o.connectRetry()},onUseDifferentWallet:e,onBack:i===n?void 0:e,numRetries:f,maxRetries:2})}},Gte=te.div.withConfig({displayName:"TodoList",componentId:"sc-bcc78743-0"})(["display:flex;flex-direction:column;justify-content:flex-start;gap:10px;padding-left:8px;"]),ig=({children:t,variant:e="default",icon:r})=>{let n=()=>{switch(e){case"success":return"var(--privy-color-icon-success)";case"error":return"var(--privy-color-icon-error)";default:return"var(--privy-color-icon-muted)"}};return p.jsxs(xVe,{children:[p.jsx(vVe,{$variant:e,"data-variant":e,children:(()=>{if(r)return et.isValidElement(r)?et.cloneElement(r,{stroke:n(),strokeWidth:2}):r;switch(e){case"success":default:return p.jsx(L2,{size:12,stroke:n(),strokeWidth:3});case"error":return p.jsx(mEe,{size:12,stroke:n(),strokeWidth:3})}})()}),t]})};let vVe=te.div.withConfig({displayName:"IconBackground",componentId:"sc-bcc78743-2"})(["display:flex;align-items:center;justify-content:center;width:20px;height:20px;border-radius:50%;background-color:",";flex-shrink:0;"],({$variant:t})=>{switch(t){case"success":return"var(--privy-color-success-bg, #EAFCEF)";case"error":return"var(--privy-color-error-bg, #FEE2E2)";default:return"var(--privy-color-background-2)"}}),xVe=te.div.withConfig({displayName:"TodoItemWrapper",componentId:"sc-bcc78743-3"})(["display:flex;justify-content:flex-start;align-items:flex-start;text-align:left;gap:8px;&&{a{color:var(--privy-color-accent);}}"]);const EVe=({walletName:t,installLink:e,title:r,subtitle:n="Follow the instructions below to get started.",onReload:i,onBack:s})=>{let a=r||`Create a ${t} wallet`.replace(/wallet wallet/gi,"wallet");return p.jsx(wr,{title:a,subtitle:n,onBack:s,showBack:!0,primaryCta:{label:"Reload the page to use your wallet",onClick:i},helpText:p.jsxs(p.Fragment,{children:[p.jsx("span",{children:"Still not sure? "}),p.jsx(Tg,{size:"sm",target:"_blank",href:"https://solana.com/docs/intro/wallets",children:"Learn more"})]}),watermark:!0,children:p.jsxs(Gte,{children:[p.jsx(ig,{children:p.jsxs("div",{children:[p.jsx("span",{children:"Install the "})," ",p.jsxs(Tg,{href:e,target:"_blank",children:[t," browser extension"]})]})}),p.jsx(ig,{children:"Set up your first wallet"}),p.jsx(ig,{children:"Store your recovery phrase in a safe place!"})]})})},_Ve={component:()=>{let{navigateBack:t,data:e}=lt();if(!(e!=null&&e.installWalletModalData))throw Error("Wallet data is missing");let{walletConfig:r}=e.installWalletModalData;return p.jsx(EVe,{walletName:r.name,installLink:r.installLink,onReload:()=>{window.location.reload()},onBack:t})}},CVe=({title:t,subtitle:e,buttonText:r,buttonHref:n,isLoading:i=!1,helpText:s,onButtonClick:a})=>p.jsx(wr,{title:t,subtitle:e,primaryCta:{label:r,onClick:()=>{n&&window.open(n,"_self"),a==null||a()},disabled:i},helpText:s,watermark:!0}),AVe={component:()=>{let{ready:t}=fr(),{data:e}=lt(),[r,n]=$.useState(!1);if(!(e!=null&&e.installWalletModalData))throw Error("Wallet data is missing");let{walletConfig:i,connectOnly:s,chainType:a}=e.installWalletModalData,o=i.getMobileRedirect({useUniversalLink:!r,isSolana:a==="solana",connectOnly:s}),l=i.name.replace(/ wallet/gi,""),u={title:`Redirecting to ${l} Mobile Wallet`,description:`We'll take you to the ${l} Mobile Wallet app to continue your login experience.`,footnote:""};return t&&(u.description=`For the best experience, we'll automatically log you into the ${l} Mobile Wallet in-app browser.`,u.footnote="You can always return here to login via other methods."),r&&(u.title="Still here?",u.description=`You may need to install the ${i.name} mobile app.`,u.footnote=`Once you're done, you can connect with ${i.name} wallet to complete the login.`),p.jsx(CVe,{title:u.title,subtitle:u.description,buttonText:r?"Go to App Store":"Continue",buttonHref:o,isLoading:t&&!o,helpText:u.footnote||void 0,onButtonClick:()=>{setTimeout(()=>n(!0),1e3)}})}},Fl=({provider:t,displayName:e,logo:r,connectOnly:n,connector:i})=>{var w,x,E;let s,{navigate:a,setModalData:o}=lt(),{connectWallet:l}=rt(),u=uh(),h=lh(t),f=i.connectorType==="wallet_connect_v2"?t:i.walletClientType,g=window.matchMedia("(display-mode: standalone)").matches,y=$ee({connectorType:i.connectorType,walletClientType:f});s=y&&y.chainTypes.includes(i.chainType)?()=>{y.isInstalled||i.chainType==="solana"&&"isInstalled"in i&&i.isInstalled?(l(i,f),a(n?FS:bu)):Tr.isMobile?(o({installWalletModalData:{walletConfig:y,chainType:i.chainType,connectOnly:n}}),a(AVe)):(o({installWalletModalData:{walletConfig:y,chainType:i.chainType,connectOnly:n}}),a(_Ve))}:i.connectorType!=="coinbase_wallet"||((w=i.coinbaseWalletConfig.preference)==null?void 0:w.options)!=="eoaOnly"||!Tr.isMobile||g||mee()?()=>{(!LS(window.navigator.userAgent)||event!=null&&event.isTrusted)&&(l(i,f),a(n?FS:bu))}:()=>{window.location.href=`https://go.cb-w.com/dapp?cb_url=${encodeURI(window.location.href)}`};let b=e||((x=h==null?void 0:h.metadata)==null?void 0:x.shortName)||(h==null?void 0:h.name)||i.walletClientType;return p.jsxs(SVe,{onClick:s,children:[p.jsx(Vte,{icon:r||((E=h==null?void 0:h.image_url)==null?void 0:E.md),name:b}),p.jsx("span",{children:b}),p.jsxs(kVe,{id:"chip-container",children:[(u==null?void 0:u.walletClientType)===f&&(u==null?void 0:u.chainType)===i.chainType?p.jsx(Nz,{color:"gray",children:"Recent"}):p.jsx("span",{id:"connect-text",children:"Connect"}),i.chainType==="solana"&&p.jsx(Nz,{color:"gray",children:"Solana"})]})]})};let SVe=te(En).withConfig({displayName:"ConnectWalletButton",componentId:"sc-42d67b97-0"})(["> span{color:var(--privy-color-foreground);}> #chip-container > #connect-text{font-weight:500;color:var(--privy-color-accent);opacity:0;transition:opacity 0.1s ease-out;}:hover > #chip-container > #connect-text{opacity:1;}@media (max-width:440px){> #chip-container > #connect-text{display:none;}}"]),Nz=te(pc).withConfig({displayName:"StyledChip",componentId:"sc-42d67b97-1"})(["margin-left:auto;"]),kVe=te.div.withConfig({displayName:"ChipContainer",componentId:"sc-42d67b97-2"})(["display:flex;flex-wrap:wrap;gap:8px;margin-left:auto;"]);const $Ve=["coinbase_wallet","base_account"];let TVe=["metamask","okx_wallet","rainbow","uniswap","bybit_wallet","ronin_wallet","haha_wallet","uniswap_extension","zerion","rabby_wallet","cryptocom","binance"];const IVe=["safe"],NVe=["phantom","backpack","solflare","universal_profile"],Kte=({walletList:t,walletChainType:e,connectors:r,connectOnly:n,ignore:i,walletConnectEnabled:s,forceWallet:a})=>{var g,y;let o=[],l=[],u=[],h=r.filter(b=>e==="ethereum-only"?b.chainType==="ethereum":e!=="solana-only"||b.chainType==="solana"),f=h.find(b=>b.connectorType==="wallet_connect_v2");for(let[b,w]of(a?[a.wallet]:t).entries()){if(w==="detected_ethereum_wallets")for(let[x,E]of h.filter(({chainType:S,connectorType:_,walletClientType:I})=>S!=="solana"&&(I==="uniswap_wallet_extension"||I==="uniswap_extension"?!i.includes("uniswap"):I==="crypto.com_wallet_extension"||I==="crypto.com_onchain"?!i.includes("cryptocom"):_==="injected"&&!i.includes(I))).entries()){let{walletClientType:S,walletBranding:_,chainType:I}=E;(S==="unknown"?l:o).push(p.jsx(Fl,{connectOnly:n,provider:S,logo:_.icon,displayName:_.name,connector:E},`${b}-${w}-${S}-${I}-${x}`))}if(w==="detected_solana_wallets")for(let[x,E]of h.filter(({chainType:S,walletClientType:_})=>{if(S==="solana")return e!=="ethereum-only"&&!i.includes(_)}).entries()){let{walletClientType:S,walletBranding:_,chainType:I}=E;(S==="unknown"?l:o).push(p.jsx(Fl,{connectOnly:n,provider:S,logo:_.icon,displayName:_.name,connector:E},`${b}-${w}-${S}-${I}-${x}`))}if(NVe.includes(w)){let x=h.find(E=>E.connectorType==="injected"&&E.walletClientType===w||E.connectorType===w);if(x&&o.push(p.jsx(Fl,{connectOnly:n,provider:w,connector:x},`${b}-${w}`)),e==="solana-only"||e==="ethereum-and-solana"){let E=h.find(({chainType:S,walletClientType:_})=>S==="solana"&&_===w);E&&o.push(p.jsx(Fl,{connectOnly:n,provider:w,connector:E},`${w}-solana`))}}else if(TVe.includes(w)){let x=h.find(E=>w==="uniswap"?E.walletClientType==="uniswap_wallet_extension"||E.walletClientType==="uniswap_extension":w==="cryptocom"?E.walletClientType==="crypto.com_wallet_extension"||E.walletClientType==="crypto.com_onchain":E.connectorType==="injected"&&E.walletClientType===w);if(s&&!x&&(x=f),x&&o.push(p.jsx(Fl,{connectOnly:n,provider:w,connector:x,logo:x.connectorType==="injected"?x.walletBranding.icon:void 0,displayName:x.connectorType==="injected"?x.walletBranding.name:void 0},`${b}-${w}`)),e==="solana-only"||e==="ethereum-and-solana"){let E=h.find(({chainType:S,walletClientType:_})=>S==="solana"&&_===w);E&&o.push(p.jsx(Fl,{connectOnly:n,provider:w,connector:E},`${w}-solana`))}}else if($Ve.includes(w)){let x=h.find(({connectorType:E})=>E===w);x&&o.push(p.jsx(Fl,{connectOnly:n,provider:w,connector:x,displayName:x.walletClientType==="coinbase_wallet"?"Coinbase":"Base",logo:x.walletClientType==="coinbase_wallet"?xee:Eee},`${b}-${w}`))}else if(IVe.includes(w))f&&u.push(p.jsx(Fl,{connectOnly:n,provider:w,connector:f},`${b}-${w}`));else if(w==="wallet_connect")f&&u.push(p.jsx(Fl,{connectOnly:n,provider:w,connector:f,logo:f.walletBranding.icon,displayName:"WalletConnect"},`${b}-${w}`));else if(w===(a==null?void 0:a.wallet)){let x=a.chainType==="ethereum"&&t.includes("detected_ethereum_wallets"),E=a.chainType==="solana"&&t.includes("detected_solana_wallets");if(x||E){let S=h.find(({walletClientType:_})=>_===w);S&&o.push(p.jsx(Fl,{connectOnly:n,provider:w,displayName:(g=S.walletBranding)==null?void 0:g.name,logo:(y=S.walletBranding)==null?void 0:y.icon,connector:S},`${b}-${w}`))}}}return[...l,...o,...u]},Yte=({connectOnly:t})=>{var K,B,C;let{closePrivyModal:e,connectors:r}=rt(),{app:n,onUserCloseViaDialogOrKeybindRef:i,data:s}=lt(),{appearance:{palette:{colorScheme:a}}}=Ar(),{accountType:o,walletClientType:l,chainType:u}=uh(),h=$.useMemo(()=>o&&o!=="guest"&&o!=="authorization_key"&&o!=="cross_app"?Z4(o):null,[o]),f=((K=n.loginMethodsAndOrder)==null?void 0:K.primary)??[],g=((B=n.loginMethodsAndOrder)==null?void 0:B.overflow)??[],y=$.useMemo(()=>[...f,...g],[f,g]),b=n.loginMethods.passkey,w=s==null?void 0:s.login,x=[];l&&y.includes(l)?x.push(l):o&&y.includes(h==null?void 0:h.loginMethod)&&x.push(h==null?void 0:h.loginMethod);let[E,S]=$.useState("default"),[_,I]=$.useState(V5({mostRecentlyUsedAccountType:o,smsAvailable:y.includes("sms"),emailAvailable:y.includes("email"),prefilledType:(C=w==null?void 0:w.prefill)==null?void 0:C.type}));$.useEffect(()=>{var k;I(V5({mostRecentlyUsedAccountType:o,smsAvailable:y.includes("sms"),emailAvailable:y.includes("email"),prefilledType:(k=w==null?void 0:w.prefill)==null?void 0:k.type}))},[y,o]),$.useEffect(()=>{o==="phone"&&I("sms");let k=y.indexOf("sms"),N=y.indexOf("email");k>-1&&k<N&&I("sms")},[o,f,g]);let A=()=>{e({shouldCallAuthOnSuccess:!0}),setTimeout(()=>{S("default")},150)};i.current=A;let O=k=>{var N,D;return k==="email"?p.jsx(Hte,{isEditable:_==="email",setIsEditable:()=>{I("email")},defaultValue:((N=w==null?void 0:w.prefill)==null?void 0:N.type)==="email"?w.prefill.value:void 0},k):k==="sms"?p.jsx(Dte,{isEditable:_==="sms",setIsEditable:()=>{I("sms")},defaultValue:((D=w==null?void 0:w.prefill)==null?void 0:D.type)==="phone"?w.prefill.value:void 0},k):k==="apple"?p.jsx(ri,{provider:"apple"},k):k==="discord"?p.jsx(ri,{provider:"discord"},k):k==="farcaster"?p.jsx(Rte,{},k):k==="github"?p.jsx(ri,{provider:"github"},k):k==="google"?p.jsx(ri,{provider:"google"},k):k==="linkedin"?p.jsx(ri,{provider:"linkedin"},k):k==="spotify"?p.jsx(ri,{provider:"spotify"},k):k==="instagram"?p.jsx(ri,{provider:"instagram"},k):k==="tiktok"?p.jsx(ri,{provider:"tiktok"},k):k==="line"?p.jsx(ri,{provider:"line"},k):k==="twitter"?p.jsx(ri,{provider:"twitter"},k):k==="telegram"?p.jsx(Bte,{},k):k.startsWith("privy:")?p.jsx(Cqe,{appId:k.replace("privy:","")},k):Kte({walletList:n.appearance.walletList,walletChainType:(w==null?void 0:w.walletChainType)??n.appearance.walletChainType,connectors:r,connectOnly:t,ignore:y,walletConnectEnabled:n.externalWallets.walletConnect.enabled,forceWallet:{wallet:k,chainType:u??"ethereum"}})},F=x.flatMap(O),H=f.filter(k=>k!==l&&k!==(h==null?void 0:h.loginMethod)).flatMap(O),L=g.filter(k=>k!==l&&k!==(h==null?void 0:h.loginMethod)).flatMap(O),[z,V]=((k,N)=>{let D=[],P=[];for(let[R,j]of k.entries())R<N?D.push(j):P.push(j);return[D,P]})([...F,...H,...L],PVe({primary:H.length+F.length,overflow:L.length}));return p.jsxs(p.Fragment,{children:[p.jsx(ur,{title:n.appearance.landingHeader,onClose:A,backFn:E==="default"?void 0:()=>{S("default")}}),E==="default"&&p.jsx(OVe,{}),E==="default"&&(typeof n.appearance.loginMessage=="string"?p.jsx(mze,{children:n.appearance.loginMessage}):n.appearance.loginMessage),p.jsx(pze,{style:{overflow:"hidden"},children:p.jsxs(Dee,{$colorScheme:a,children:[E==="default"&&p.jsxs(p.Fragment,{children:[z,V.length>0&&p.jsx(Fte,{text:"More options",icon:p.jsx(J7e,{}),onClick:()=>S("overflow")})]}),E==="overflow"&&p.jsx(p.Fragment,{children:V}),b&&E==="default"&&p.jsx(jte,{})]})}),n&&p.jsx(HT,{app:n}),p.jsx(Ur,{})]})};let PVe=({primary:t,overflow:e})=>t<5?t:t===5&&e===0?5:4,OVe=te(xqe).withConfig({displayName:"StyledAppLogoHeader",componentId:"sc-ccb89604-0"})(["margin-bottom:16px;"]);const ps={component:()=>{let{app:t}=lt();return t.loginMethodsAndOrder&&t.loginMethodsAndOrder.primary.length>0?p.jsx(Yte,{connectOnly:!1}):p.jsx(zte,{connectOnly:!1})},isCaptchaRequired:!0,isUnauthenticatedScreem:!0},Zte={component:()=>{let[t,e]=$.useState(null),[r,n]=$.useState(!1),[i,s]=$.useState(null),[a,o]=$.useState(""),{authenticated:l,user:u}=fr(),{client:h,walletProxy:f,refreshSessionAndUser:g,closePrivyModal:y,createAnalyticsEvent:b}=rt(),{app:w,navigate:x,data:E,onUserCloseViaDialogOrKeybindRef:S}=lt(),{onSuccess:_,onFailure:I}=E.setWalletPassword,A=yl(u),O=(t==null?void 0:t.recoveryMethod)==="user-passcode",F=(A==null?void 0:A.recoveryMethod)==="user-passcode";$.useEffect(()=>{l||(x(ps),I(new Zve("User must be authenticated before setting a password on a Privy wallet")))},[l]);let H=()=>i?(I(i),void y({shouldCallAuthOnSuccess:!1})):O?(_(t),void y({shouldCallAuthOnSuccess:!1})):(I(new Hd("Exited before password was added to wallet")),void y({shouldCallAuthOnSuccess:!1}));return S.current=H,p.jsx(fte,{appName:(w==null?void 0:w.name)||"privy",config:{initiatedBy:"user",onCancel:H},error:i?"An error has occurred, please try again.":void 0,buttonLoading:r,buttonHideAnimations:!1,password:a,isResettingPassword:F,onPasswordGenerate:()=>o(hte()),onPasswordChange:o,onSubmit:async()=>{O?(_(t),y({shouldCallAuthOnSuccess:!1})):(n(!0),s(null),await(async()=>{let L=await h.getAccessToken();if(L&&u&&(A!=null&&A.address)&&a&&f)try{b({eventName:"embedded_wallet_set_recovery_started",payload:{walletAddress:A.address,existingRecoveryMethod:A.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:F}});let{entropyId:z,entropyIdVerifier:V}=ho(u);if(!(await f.setRecovery({accessToken:L,entropyId:z,entropyIdVerifier:V,recoveryPassword:a,recoveryMethod:"user-passcode"})).entropyId)return s(new Hd("Error setting password on privy wallet")),void b({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:A.address,existingRecoveryMethod:A.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:F,reason:"error setting password"}});let K=await g(),B=yl(K);if(!B)return s(new Hd("Error setting password on privy wallet")),void b({eventName:"embedded_wallet_set_recovery_failed",payload:{walletAddress:A.address,existingRecoveryMethod:A.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:F,reason:"wallet disconnected"}});e(B),b({eventName:"embedded_wallet_set_recovery_completed",payload:{walletAddress:A.address,existingRecoveryMethod:A.recoveryMethod,targetRecoveryMethod:"user-passcode",isResettingPassword:F}})}catch(z){console.warn(z),s(z instanceof Error?z:Error("Error setting password on privy wallet")),b({eventName:"embedded_wallet_set_password_failed",payload:{walletAddress:A.address,reason:z}})}})(),n(!1))},onClose:H})}},MVe=({onClose:t,onProceed:e})=>p.jsx(wr,{title:"Secure Your Account",subtitle:p.jsxs(p.Fragment,{children:["Please set a password to secure your account.",p.jsx("br",{}),"Losing access to this password and this device will make your account inaccessible."]}),icon:Q$,primaryCta:{label:"Add password",onClick:e},onClose:t,watermark:!0}),RVe={component:()=>{let{closePrivyModal:t}=rt(),{data:e,navigate:r,onUserCloseViaDialogOrKeybindRef:n}=lt(),{onFailure:i}=e.setWalletPassword,s=()=>{i(new Hd("Exited before password was added to wallet")),t({shouldCallAuthOnSuccess:!1})};return n.current=s,p.jsx(MVe,{onClose:s,onProceed:()=>{r(Zte)}})}},jVe={component:()=>{let[t,e]=$.useState(!0),{authenticated:r,user:n}=fr(),{walletProxy:i,closePrivyModal:s,createAnalyticsEvent:a,client:o}=rt(),{navigate:l,data:u,onUserCloseViaDialogOrKeybindRef:h}=lt(),[f,g]=$.useState(void 0),[y,b]=$.useState(""),[w,x]=$.useState(!1),{entropyId:E,entropyIdVerifier:S,onCompleteNavigateTo:_,onSuccess:I,onFailure:A}=u.recoverWallet,O=(F="User exited before their wallet could be recovered")=>{s({shouldCallAuthOnSuccess:!1}),A(typeof F=="string"?new Hd(F):F)};return h.current=O,$.useEffect(()=>{if(!r)return O("User must be authenticated and have a Privy wallet before it can be recovered")},[r]),p.jsxs(Wr,{children:[p.jsx(Wr.Header,{icon:Mf,title:"Enter your password",subtitle:"Please provision your account on this new device. To continue, enter your recovery password.",showClose:!0,onClose:O}),p.jsx(Wr.Body,{children:p.jsx(DVe,{children:p.jsxs("div",{children:[p.jsxs(H4,{children:[p.jsx(rI,{type:t?"password":"text",onChange:F=>(H=>{H&&g(H)})(F.target.value),disabled:w,style:{paddingRight:"2.3rem"}}),p.jsx(G4,{style:{right:"0.75rem"},children:t?p.jsx(K4,{onClick:()=>e(!1)}):p.jsx(Y4,{onClick:()=>e(!0)})})]}),!!y&&p.jsx(UVe,{children:y})]})})}),p.jsxs(Wr.Footer,{children:[p.jsx(Wr.HelpText,{children:p.jsxs(bWe,{children:[p.jsx("h4",{children:"Why is this necessary?"}),p.jsx("p",{children:"You previously set a password for this wallet. This helps ensure only you can access it"})]})}),p.jsx(Wr.Actions,{children:p.jsx(BVe,{loading:w||!i,disabled:!f,onClick:async()=>{x(!0);let F=await o.getAccessToken(),H=Jl(n,E);if(!F||!H||f===null)return O("User must be authenticated and have a Privy wallet before it can be recovered");try{a({eventName:"embedded_wallet_recovery_started",payload:{walletAddress:H.address}}),await(i==null?void 0:i.recover({accessToken:F,entropyId:E,entropyIdVerifier:S,recoveryPassword:f})),b(""),_?l(_):s({shouldCallAuthOnSuccess:!1}),I==null||I(H),a({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:H.address}})}catch(L){(function(z){return im(z)&&(z.type==="invalid_recovery_pin"||z.type==="invalid_request_arguments")})(L)?b("Invalid recovery password, please try again."):b("An error has occurred, please try again.")}finally{x(!1)}},$hideAnimations:!E&&w,children:"Recover your account"})}),p.jsx(Wr.Watermark,{})]})]})}};let DVe=te.div.withConfig({displayName:"Content",componentId:"sc-f366413c-0"})(["display:flex;flex-direction:column;gap:1.5rem;"]),UVe=te.div.withConfig({displayName:"ErrorMessage",componentId:"sc-f366413c-1"})(["line-height:20px;height:20px;font-size:13px;color:var(--privy-color-error);text-align:left;margin-top:0.5rem;"]),BVe=te(Kr).withConfig({displayName:"NoAnimationPrimaryButton",componentId:"sc-f366413c-2"})(["",""],({$hideAnimations:t})=>t&&wi(["&&{transition:none;}"]));const LVe={component:()=>{let{app:t,navigate:e,data:r,onUserCloseViaDialogOrKeybindRef:n}=lt(),[i,s]=$.useState(""),[a,o]=$.useState(!1),[l,u]=$.useState(),[h,f]=$.useState(null),{create:g}=eI(),{authenticated:y,user:b}=fr(),{closePrivyModal:w,isNewUserThisSession:x,initializeWalletProxy:E}=rt(),{onSuccess:S,onFailure:_,callAuthOnSuccessOnClose:I,shouldCreateEth:A,shouldCreateSol:O}=r.createWallet,[F,H]=$.useState(null),L=new As(async()=>{try{let z;if(A&&O)z=await g({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"ethereum",walletIndex:0,latestUser:b}),z=await g({chainType:"solana",walletIndex:0,latestUser:z.user});else if(O)z=await g({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"solana",walletIndex:0,latestUser:b});else{if(!A)throw Error("Invalid args to create wallet");z=await g({recoveryMethod:"user-passcode",recoveryPassword:l,chainType:"ethereum",walletIndex:0,latestUser:b})}H(z),x?e(tI):(S(z),w({shouldCallAuthOnSuccess:I}))}catch(z){s(z.message)}});return $.useEffect(()=>{h||E(3e4).then(z=>f(z))},[h]),$.useEffect(()=>{if(!y||!b)return e(ps),void _(Error("User must be authenticated before creating a Privy wallet"))},[y]),n.current=()=>null,p.jsx(fte,{config:{initiatedBy:"automatic"},appName:(t==null?void 0:t.name)||"privy",loading:!h,buttonLoading:a,buttonHideAnimations:!F&&a,isResettingPassword:!1,error:i,password:l||"",onClose:()=>{F&&F.account.recoveryMethod!=="user-passcode"?(_(new Hd("User created a wallet but failed to set a password for it")),w({shouldCallAuthOnSuccess:!1})):F?(S(F),w({shouldCallAuthOnSuccess:I})):(_(new Hd("User wallet creation failed")),w({shouldCallAuthOnSuccess:!1}))},onPasswordChange:u,onPasswordGenerate:()=>u(hte()),onSubmit:async()=>(o(!0),L.execute().then(()=>new Promise(z=>setTimeout(z,250))).finally(()=>o(!1)))})}},FVe=te.div.withConfig({displayName:"WithCircleBorder",componentId:"sc-e4fc5563-0"})(["&&{border-width:4px;}display:flex;justify-content:center;align-items:center;padding:1rem;aspect-ratio:1;border-style:solid;border-color:",";border-radius:50%;"],t=>t.$color??"var(--privy-color-accent)"),Ff=te.span.withConfig({displayName:"Subtitle",componentId:"sc-7a11f796-0"})(["margin-top:4px;color:var(--privy-color-foreground);text-align:center;font-size:0.875rem;font-weight:400;line-height:1.375rem;&& a{color:var(--privy-color-accent);}"]),rh=te.span.withConfig({displayName:"Title",componentId:"sc-66de63c-0"})(["color:var(--privy-color-foreground);font-size:1.125rem;font-weight:600;line-height:1.875rem;text-align:center;"]),zVe={component:()=>{var x;let{user:t}=fr(),{client:e,walletProxy:r,refreshSessionAndUser:n,closePrivyModal:i}=rt(),s=lt(),{entropyId:a,entropyIdVerifier:o}=(x=s.data)==null?void 0:x.recoverWallet,[l,u]=$.useState(!1),[h,f]=$.useState(null),[g,y]=$.useState(null);function b(){var E,S,_,I;if(!l){if(g)return(S=(E=s.data)==null?void 0:E.setWalletPassword)==null||S.onFailure(g),void i();if(!h)return(I=(_=s.data)==null?void 0:_.setWalletPassword)==null||I.onFailure(Error("User exited set recovery flow")),void i()}}s.onUserCloseViaDialogOrKeybindRef.current=b;let w=!(!l&&!h);return p.jsxs(p.Fragment,g?{children:[p.jsx(ur,{onClose:b},"header"),p.jsx(FVe,{$color:"var(--privy-color-error)",style:{alignSelf:"center"},children:p.jsx(Jf,{height:38,width:38,stroke:"var(--privy-color-error)"})}),p.jsx(rh,{style:{marginTop:"0.5rem"},children:"Something went wrong"}),p.jsx(kg,{style:{minHeight:"2rem"}}),p.jsx(z5,{onClick:()=>y(null),children:"Try again"}),p.jsx(Ur,{})]}:{children:[p.jsx(ur,{onClose:b},"header"),p.jsx(GZ,{style:{width:"3rem",height:"3rem",alignSelf:"center"}}),p.jsx(rh,{style:{marginTop:"0.5rem"},children:"Automatically secure your account"}),p.jsx(Ff,{style:{marginTop:"1rem"},children:"When you log into a new device, youll only need to authenticate to access your account. Never get logged out if you forget your password."}),p.jsx(kg,{style:{minHeight:"2rem"}}),p.jsx(z5,{loading:l,disabled:w,onClick:()=>async function(){u(!0);try{let E=await e.getAccessToken(),S=Jl(t,a);if(!E||!r||!S)return;if(!(await r.setRecovery({accessToken:E,entropyId:a,entropyIdVerifier:o,existingRecoveryMethod:S.recoveryMethod,recoveryMethod:"privy"})).entropyId)throw Error("Unable to set recovery on wallet");let _=await n();if(!_)throw Error("Unable to set recovery on wallet");let I=Jl(_,S.address);if(!I)throw Error("Unabled to set recovery on wallet");f(!!_),setTimeout(()=>{var A,O;(O=(A=s.data)==null?void 0:A.setWalletPassword)==null||O.onSuccess(I),i()},yn)}catch(E){y(E)}finally{u(!1)}}(),children:h?"Success":"Confirm"}),p.jsx(Ur,{})]})}};function Qte({isCreatingWallet:t,skipSplashScreen:e}){return t?LVe:e?Zte:RVe}function Xte({walletAction:t,availableRecoveryMethods:e,legacySetWalletPasswordFlow:r,isResettingPassword:n,showAutomaticRecovery:i}){return i?zVe:r||e.length===1?Qte({isCreatingWallet:t==="create",skipSplashScreen:n}):IS}function Jte(t){switch(t){case"user-passcode":return jVe;case"google-drive":case"icloud":return ite;default:throw Error("Recovery method not supported")}}const ere=({children:t,theme:e})=>p.jsxs(WVe,{$theme:e,children:[p.jsx(t5e,{width:"20px",height:"20px",color:"var(--privy-color-icon-subtle)",strokeWidth:2,style:{flexShrink:0}}),p.jsx(qVe,{$theme:e,children:t})]});let WVe=te.div.withConfig({displayName:"Container",componentId:"sc-1b5ed8dd-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-background-2);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),qVe=te.div.withConfig({displayName:"Content",componentId:"sc-1b5ed8dd-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)");const tre=wi(["&&{border-width:1px;padding:0.5rem 1rem;}width:100%;text-align:left;border:solid 1px var(--privy-color-foreground-4);border-radius:var(--privy-border-radius-md);display:flex;justify-content:space-between;align-items:center;",""],t=>t.$state==="error"?`
        border-color: var(--privy-color-error);
        background: var(--privy-color-error-bg);
      `:""),tx=te.div.withConfig({displayName:"Box",componentId:"sc-7252360a-0"})(["",""],tre);let HVe=te(tx).withConfig({displayName:"StyledBox",componentId:"sc-4010d8f3-0"})(["&&{padding:0.75rem;height:56px;}"]),VVe=te.div.withConfig({displayName:"WalletContent",componentId:"sc-4010d8f3-1"})(["display:flex;align-items:center;justify-content:space-between;width:100%;"]),GVe=te.div.withConfig({displayName:"AddressContainer",componentId:"sc-4010d8f3-2"})(["display:flex;flex-direction:column;gap:0;"]),KVe=te.div.withConfig({displayName:"BalanceText",componentId:"sc-4010d8f3-3"})(["font-size:12px;line-height:1rem;color:var(--privy-color-foreground-3);"]),YVe=te(lI).withConfig({displayName:"TitleLabel",componentId:"sc-4010d8f3-4"})(["text-align:left;margin-bottom:0.5rem;"]),ZVe=te(Lf).withConfig({displayName:"StyledErrorMessage",componentId:"sc-4010d8f3-5"})(["margin-top:0.25rem;"]),QVe=te(bl).withConfig({displayName:"CopyButton",componentId:"sc-4010d8f3-6"})(["&&{gap:0.375rem;font-size:14px;}"]);const rx=({errMsg:t,balance:e,address:r,className:n,title:i,showCopyButton:s=!1})=>{let[a,o]=$.useState(!1);return $.useEffect(()=>{if(a){let l=setTimeout(()=>o(!1),3e3);return()=>clearTimeout(l)}},[a]),p.jsxs("div",{children:[i&&p.jsx(YVe,{children:i}),p.jsx(HVe,{className:n,$state:t?"error":void 0,children:p.jsxs(VVe,{children:[p.jsxs(GVe,{children:[p.jsx(Gs,{address:r,showCopyIcon:!1}),e!==void 0&&p.jsx(KVe,{children:e})]}),s&&p.jsx(QVe,{onClick:function(l){l.stopPropagation(),navigator.clipboard.writeText(r).then(()=>o(!0)).catch(console.error)},size:"sm",children:p.jsxs(p.Fragment,a?{children:["Copied",p.jsx(L2,{size:14})]}:{children:["Copy",p.jsx(w5,{size:14})]})})]})}),t&&p.jsx(ZVe,{children:t})]})};function rre({rpcConfig:t,appId:e,address:r,chain:n}){let{chains:i}=rt(),[s,a]=$.useState(0n),[o,l]=$.useState(!1),u=$.useMemo(()=>{let f=n||i[0];if(f)return _u({chain:n,transport:Cu(Iu(f,t,e))})},[n,t,e]),h=$.useCallback(async()=>{if(!r||!u)return;l(!0);let f=await u.getBalance({address:r}).catch(console.error);return f?(a(f),l(!1),f):void 0},[u,r,a]);return $.useEffect(()=>{h().catch(console.error)},[]),{balance:s,isLoading:o,reloadBalance:h}}const gc="sdk_fiat_on_ramp_completed_with_status";async function cI({rpc:t,address:e}){return(await t.getBalance(e,{commitment:"confirmed"}).send()).value??0n}function nx(t){switch(t){case"solana:mainnet":return"Solana";case"solana:devnet":return"Devnet";case"solana:testnet":return"Testnet"}}function b_(t){let[e]=Object.entries(uWe[t]).find(([r,n])=>n.symbol==="USDC")??[];return e}const uI=async({chain:t,address:e,appId:r,rpcConfig:n,erc20Address:i})=>({balance:await _u({chain:t,transport:Cu(Iu(t,n,r))}).readContract({address:i,abi:XVe,functionName:"balanceOf",args:[e]}).catch(()=>0n),chain:t});let XVe=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}];const nre=({children:t,theme:e})=>p.jsxs(JVe,{$theme:e,children:[p.jsx(P$,{width:"20px",height:"20px",color:"var(--privy-color-icon-error)",strokeWidth:2,style:{flexShrink:0}}),p.jsx(eGe,{$theme:e,children:t})]});let JVe=te.div.withConfig({displayName:"Container",componentId:"sc-34910fd1-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-error-bg);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),eGe=te.div.withConfig({displayName:"Content",componentId:"sc-34910fd1-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)");const tGe=t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 512 210.2",xmlSpace:"preserve",...t,children:p.jsx("path",{d:"M93.6,27.1C87.6,34.2,78,39.8,68.4,39c-1.2-9.6,3.5-19.8,9-26.1c6-7.3,16.5-12.5,25-12.9  C103.4,10,99.5,19.8,93.6,27.1 M102.3,40.9c-13.9-0.8-25.8,7.9-32.4,7.9c-6.7,0-16.8-7.5-27.8-7.3c-14.3,0.2-27.6,8.3-34.9,21.2  c-15,25.8-3.9,64,10.6,85c7.1,10.4,15.6,21.8,26.8,21.4c10.6-0.4,14.8-6.9,27.6-6.9c12.9,0,16.6,6.9,27.8,6.7  c11.6-0.2,18.9-10.4,26-20.8c8.1-11.8,11.4-23.3,11.6-23.9c-0.2-0.2-22.4-8.7-22.6-34.3c-0.2-21.4,17.5-31.6,18.3-32.2  C123.3,42.9,107.7,41.3,102.3,40.9 M182.6,11.9v155.9h24.2v-53.3h33.5c30.6,0,52.1-21,52.1-51.4c0-30.4-21.1-51.2-51.3-51.2H182.6z   M206.8,32.3h27.9c21,0,33,11.2,33,30.9c0,19.7-12,31-33.1,31h-27.8V32.3z M336.6,169c15.2,0,29.3-7.7,35.7-19.9h0.5v18.7h22.4V90.2  c0-22.5-18-37-45.7-37c-25.7,0-44.7,14.7-45.4,34.9h21.8c1.8-9.6,10.7-15.9,22.9-15.9c14.8,0,23.1,6.9,23.1,19.6v8.6l-30.2,1.8  c-28.1,1.7-43.3,13.2-43.3,33.2C298.4,155.6,314.1,169,336.6,169z M343.1,150.5c-12.9,0-21.1-6.2-21.1-15.7c0-9.8,7.9-15.5,23-16.4  l26.9-1.7v8.8C371.9,140.1,359.5,150.5,343.1,150.5z M425.1,210.2c23.6,0,34.7-9,44.4-36.3L512,54.7h-24.6l-28.5,92.1h-0.5  l-28.5-92.1h-25.3l41,113.5l-2.2,6.9c-3.7,11.7-9.7,16.2-20.4,16.2c-1.9,0-5.6-0.2-7.1-0.4v18.7C417.3,210,423.3,210.2,425.1,210.2z"})}),rGe=t=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 80 38.1",xmlSpace:"preserve",...t,children:[p.jsx("path",{style:{fill:"#5F6368"},d:"M37.8,19.7V29h-3V6h7.8c1.9,0,3.7,0.7,5.1,2c1.4,1.2,2.1,3,2.1,4.9c0,1.9-0.7,3.6-2.1,4.9c-1.4,1.3-3.1,2-5.1,2  L37.8,19.7L37.8,19.7z M37.8,8.8v8h5c1.1,0,2.2-0.4,2.9-1.2c1.6-1.5,1.6-4,0.1-5.5c0,0-0.1-0.1-0.1-0.1c-0.8-0.8-1.8-1.3-2.9-1.2  L37.8,8.8L37.8,8.8z"}),p.jsx("path",{style:{fill:"#5F6368"},d:"M56.7,12.8c2.2,0,3.9,0.6,5.2,1.8s1.9,2.8,1.9,4.8V29H61v-2.2h-0.1c-1.2,1.8-2.9,2.7-4.9,2.7  c-1.7,0-3.2-0.5-4.4-1.5c-1.1-1-1.8-2.4-1.8-3.9c0-1.6,0.6-2.9,1.8-3.9c1.2-1,2.9-1.4,4.9-1.4c1.8,0,3.2,0.3,4.3,1v-0.7  c0-1-0.4-2-1.2-2.6c-0.8-0.7-1.8-1.1-2.9-1.1c-1.7,0-3,0.7-3.9,2.1l-2.6-1.6C51.8,13.8,53.9,12.8,56.7,12.8z M52.9,24.2  c0,0.8,0.4,1.5,1,1.9c0.7,0.5,1.5,0.8,2.3,0.8c1.2,0,2.4-0.5,3.3-1.4c1-0.9,1.5-2,1.5-3.2c-0.9-0.7-2.2-1.1-3.9-1.1  c-1.2,0-2.2,0.3-3,0.9C53.3,22.6,52.9,23.3,52.9,24.2z"}),p.jsx("path",{style:{fill:"#5F6368"},d:"M80,13.3l-9.9,22.7h-3l3.7-7.9l-6.5-14.7h3.2l4.7,11.3h0.1l4.6-11.3H80z"}),p.jsx("path",{style:{fill:"#4285F4"},d:"M25.9,17.7c0-0.9-0.1-1.8-0.2-2.7H13.2v5.1h7.1c-0.3,1.6-1.2,3.1-2.6,4v3.3H22C24.5,25.1,25.9,21.7,25.9,17.7z"}),p.jsx("path",{style:{fill:"#34A853"},d:"M13.2,30.6c3.6,0,6.6-1.2,8.8-3.2l-4.3-3.3c-1.2,0.8-2.7,1.3-4.5,1.3c-3.4,0-6.4-2.3-7.4-5.5H1.4v3.4  C3.7,27.8,8.2,30.6,13.2,30.6z"}),p.jsx("path",{style:{fill:"#FBBC04"},d:"M5.8,19.9c-0.6-1.6-0.6-3.4,0-5.1v-3.4H1.4c-1.9,3.7-1.9,8.1,0,11.9L5.8,19.9z"}),p.jsx("path",{style:{fill:"#EA4335"},d:"M13.2,9.4c1.9,0,3.7,0.7,5.1,2l0,0l3.8-3.8c-2.4-2.2-5.6-3.5-8.8-3.4c-5,0-9.6,2.8-11.8,7.3l4.4,3.4  C6.8,11.7,9.8,9.4,13.2,9.4z"})]}),Pz=t=>{let[e,r]=$.useState();return $.useEffect(()=>{t().then(n=>{r(n)}).catch(()=>{})},[]),e},ire=async({address:t,chain:e,rpcConfig:r,privyAppId:n})=>{try{let i=_u({chain:e,transport:Cu(Iu(e,r,n))}),[s,a]=await Promise.all([i.readContract({abi:Oz,address:t,functionName:"symbol"}),i.readContract({abi:Oz,address:t,functionName:"decimals"})]);return{decimals:a,symbol:s}}catch(i){return console.log(i),null}};let Oz=[{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"}];const zS=[{constant:!1,inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],name:"transfer",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}];let nGe=2n**256n-1n;const G5=({amount:t,decimals:e})=>t===nGe?"Maximum":Intl.NumberFormat(void 0,{maximumFractionDigits:e}).format(Number(t)/10**e),sre=({chains:t,appId:e,address:r,rpcConfig:n,includeUsdc:i})=>Promise.all(t.map(async s=>{let a=_u({chain:s,transport:Cu(Iu(s,n,e))}),o=await a.getBalance({address:r}).catch(()=>0n),l=null,u=Gwe[s.id];if(i&&u){let{balance:h}=await uI({address:r,chain:s,rpcConfig:n,appId:e,erc20Address:u});l=h}return{balance:o,erc20Balance:l,erc20Address:u,chain:s}})),dI=te.span.withConfig({displayName:"Rows",componentId:"sc-b764aab6-0"})(["display:flex;flex-direction:column;gap:0.35rem;width:100%;"]),on=te.span.withConfig({displayName:"Row",componentId:"sc-b764aab6-1"})(["display:flex;width:100%;justify-content:space-between;gap:0.5rem;"]),zr=te.span.withConfig({displayName:"LabelSm",componentId:"sc-6c002d6-0"})(["color:var(--privy-color-foreground-3);font-size:0.875rem;font-weight:400;line-height:1.375rem;"]),iGe=te(zr).withConfig({displayName:"LabelSmPrimary",componentId:"sc-6c002d6-1"})(["color:var(--privy-color-accent);"]),zn=te.span.withConfig({displayName:"Value",componentId:"sc-72aa026-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;",""],J4),sGe=t=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 397.7 311.7",enableBackground:"new 0 0 397.7 311.7",xmlSpace:"preserve",...t,children:[p.jsxs("linearGradient",{id:"SVGID_1_",gradientUnits:"userSpaceOnUse",x1:"360.8791",y1:"351.4553",x2:"141.213",y2:"-69.2936",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[p.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),p.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),p.jsx("path",{d:"M64.6,237.9c2.4-2.4,5.7-3.8,9.2-3.8h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,237.9z",fill:"url(#SVGID_1_)"}),p.jsxs("linearGradient",{id:"SVGID_2_",gradientUnits:"userSpaceOnUse",x1:"264.8291",y1:"401.6014",x2:"45.163",y2:"-19.1475",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[p.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),p.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),p.jsx("path",{d:"M64.6,3.8C67.1,1.4,70.4,0,73.8,0h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5  c-5.8,0-8.7-7-4.6-11.1L64.6,3.8z",fill:"url(#SVGID_2_)"}),p.jsxs("linearGradient",{id:"SVGID_3_",gradientUnits:"userSpaceOnUse",x1:"312.5484",y1:"376.688",x2:"92.8822",y2:"-44.061",gradientTransform:"matrix(1 0 0 -1 0 314)",children:[p.jsx("stop",{offset:"0",stopColor:"#00FFA3"}),p.jsx("stop",{offset:"1",stopColor:"#DC1FFF"})]}),p.jsx("path",{d:"M333.1,120.1c-2.4-2.4-5.7-3.8-9.2-3.8H6.5c-5.8,0-8.7,7-4.6,11.1l62.7,62.7c2.4,2.4,5.7,3.8,9.2,3.8h317.4  c5.8,0,8.7-7,4.6-11.1L333.1,120.1z",fill:"url(#SVGID_3_)"})]});let aGe={[So.id]:t=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",version:"1.1",id:"Layer_1",x:"0px",y:"0px",viewBox:"0 0 2500 2500",xmlSpace:"preserve",...t,children:p.jsx("g",{id:"Layer_x0020_1",children:p.jsxs("g",{id:"_2405588477232",children:[p.jsx("rect",{fill:"none",width:"2500",height:"2500"}),p.jsx("g",{children:p.jsxs("g",{children:[p.jsx("path",{fill:"#213147",d:"M226,760v980c0,63,33,120,88,152l849,490c54,31,121,31,175,0l849-490c54-31,88-89,88-152V760      c0-63-33-120-88-152l-849-490c-54-31-121-31-175,0L314,608c-54,31-87,89-87,152H226z"}),p.jsx("g",{children:p.jsxs("g",{children:[p.jsx("g",{children:p.jsx("path",{fill:"#12AAFF",d:"M1435,1440l-121,332c-3,9-3,19,0,29l208,571l241-139l-289-793C1467,1422,1442,1422,1435,1440z"})}),p.jsx("g",{children:p.jsx("path",{fill:"#12AAFF",d:"M1678,882c-7-18-32-18-39,0l-121,332c-3,9-3,19,0,29l341,935l241-139L1678,883V882z"})})]})}),p.jsx("g",{children:p.jsx("path",{fill:"#9DCCED",d:"M1250,155c6,0,12,2,17,5l918,530c11,6,17,18,17,30v1060c0,12-7,24-17,30l-918,530c-5,3-11,5-17,5       s-12-2-17-5l-918-530c-11-6-17-18-17-30V719c0-12,7-24,17-30l918-530c5-3,11-5,17-5l0,0V155z M1250,0c-33,0-65,8-95,25L237,555       c-59,34-95,96-95,164v1060c0,68,36,130,95,164l918,530c29,17,62,25,95,25s65-8,95-25l918-530c59-34,95-96,95-164V719       c0-68-36-130-95-164L1344,25c-29-17-62-25-95-25l0,0H1250z"})}),p.jsx("polygon",{fill:"#213147",points:"642,2179 727,1947 897,2088 738,2234     "}),p.jsxs("g",{children:[p.jsx("path",{fill:"#FFFFFF",d:"M1172,644H939c-17,0-33,11-39,27L401,2039l241,139l550-1507c5-14-5-28-19-28L1172,644z"}),p.jsx("path",{fill:"#FFFFFF",d:"M1580,644h-233c-17,0-33,11-39,27L738,2233l241,139l620-1701c5-14-5-28-19-28V644z"})]})]})})]})})}),[Fg.id]:t=>p.jsxs("svg",{width:"1503",height:"1504",viewBox:"0 0 1503 1504",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsx("rect",{x:"287",y:"258",width:"928",height:"844",fill:"white"}),p.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M1502.5 752C1502.5 1166.77 1166.27 1503 751.5 1503C336.734 1503 0.5 1166.77 0.5 752C0.5 337.234 336.734 1 751.5 1C1166.27 1 1502.5 337.234 1502.5 752ZM538.688 1050.86H392.94C362.314 1050.86 347.186 1050.86 337.962 1044.96C327.999 1038.5 321.911 1027.8 321.173 1015.99C320.619 1005.11 328.184 991.822 343.312 965.255L703.182 330.935C718.495 303.999 726.243 290.531 736.021 285.55C746.537 280.2 759.083 280.2 769.599 285.55C779.377 290.531 787.126 303.999 802.438 330.935L876.42 460.079L876.797 460.738C893.336 489.635 901.723 504.289 905.385 519.669C909.443 536.458 909.443 554.169 905.385 570.958C901.695 586.455 893.393 601.215 876.604 630.549L687.573 964.702L687.084 965.558C670.436 994.693 661.999 1009.46 650.306 1020.6C637.576 1032.78 622.263 1041.63 605.474 1046.62C590.161 1050.86 573.004 1050.86 538.688 1050.86ZM906.75 1050.86H1115.59C1146.4 1050.86 1161.9 1050.86 1171.13 1044.78C1181.09 1038.32 1187.36 1027.43 1187.92 1015.63C1188.45 1005.1 1181.05 992.33 1166.55 967.307C1166.05 966.455 1165.55 965.588 1165.04 964.706L1060.43 785.75L1059.24 783.735C1044.54 758.877 1037.12 746.324 1027.59 741.472C1017.08 736.121 1004.71 736.121 994.199 741.472C984.605 746.453 976.857 759.552 961.544 785.934L857.306 964.891L856.949 965.507C841.69 991.847 834.064 1005.01 834.614 1015.81C835.352 1027.62 841.44 1038.5 851.402 1044.96C860.443 1050.86 875.94 1050.86 906.75 1050.86Z",fill:"#E84142"})]}),[ko.id]:t=>p.jsxs("svg",{width:"146",height:"146",viewBox:"0 0 146 146",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsx("circle",{cx:"73",cy:"73",r:"73",fill:"#0052FF"}),p.jsx("path",{d:"M73.323 123.729C101.617 123.729 124.553 100.832 124.553 72.5875C124.553 44.343 101.617 21.4463 73.323 21.4463C46.4795 21.4463 24.4581 42.0558 22.271 68.2887H89.9859V76.8864H22.271C24.4581 103.119 46.4795 123.729 73.323 123.729Z",fill:"white"})]}),[P6.id]:t=>p.jsxs("svg",{fill:"none",height:"400",viewBox:"0 0 400 400",width:"400",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsx("path",{d:"m0 0h400v400h-400z",fill:"#fcff52"}),p.jsx("path",{d:"m300 100h-200v200h199.996v-69.813h-33.191c-11.442 25.468-37.194 43.206-66.665 43.206-40.63 0-73.533-33.187-73.533-73.533s32.903-73.249 73.533-73.249c30.043 0 55.795 18.313 67.24 44.349h32.62z",fill:"#000"})]}),[vG.id]:t=>p.jsxs("svg",{width:"200",height:"208",viewBox:"0 0 200 208",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsx("rect",{width:"199.4",height:"207.623",fill:"#121212"}),p.jsxs("g",{"clip-path":"url(#clip0_2303_643)",children:[p.jsx("path",{d:"M132.369 155.99H49.7001V68.8854H68.6148V139.109H132.369V155.981V155.99Z",fill:"white"}),p.jsx("path",{d:"M132.369 85.7575C141.687 85.7575 149.241 78.2036 149.241 68.8855C149.241 59.5673 141.687 52.0134 132.369 52.0134C123.05 52.0134 115.497 59.5673 115.497 68.8855C115.497 78.2036 123.05 85.7575 132.369 85.7575Z",fill:"white"})]}),p.jsx("defs",{children:p.jsx("clipPath",{id:"clip0_2303_643",children:p.jsx("rect",{width:"99.5407",height:"103.977",fill:"white",transform:"translate(49.7001 52.0134)"})})})]}),[$o.id]:t=>p.jsxs("svg",{version:"1.1",id:"Layer_1",xmlns:"http://www.w3.org/2000/svg",xmlnsXlink:"http://www.w3.org/1999/xlink",x:"0px",y:"0px",viewBox:"0 0 327.5 533.3",enableBackground:"new 0 0 327.5 533.3;",xmlSpace:"preserve",...t,children:[p.jsx("path",{fill:"#8492B2",d:"M163.7,197.2V0L0,271.6L163.7,197.2z"}),p.jsx("path",{fill:"#62688F",d:"M163.7,368.4V197.2L0,271.6L163.7,368.4z M163.7,197.2l163.7,74.4L163.7,0V197.2z"}),p.jsx("path",{fill:"#454A75",d:"M163.7,197.2v171.2l163.7-96.8L163.7,197.2z"}),p.jsx("path",{fill:"#8492B2",d:"M163.7,399.4L0,302.7l163.7,230.7V399.4z"}),p.jsx("path",{fill:"#62688F",d:"M327.5,302.7l-163.8,96.7v134L327.5,302.7z"})]}),[yc.id]:t=>p.jsxs("svg",{width:"500",height:"500",viewBox:"0 0 500 500",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsx("circle",{cx:"250",cy:"250",r:"250",fill:"#FF0420"}),p.jsx("path",{d:"M177.133 316.446C162.247 316.446 150.051 312.943 140.544 305.938C131.162 298.808 126.471 288.676 126.471 275.541C126.471 272.789 126.784 269.411 127.409 265.408C129.036 256.402 131.35 245.581 134.352 232.947C142.858 198.547 164.812 181.347 200.213 181.347C209.845 181.347 218.476 182.973 226.107 186.225C233.738 189.352 239.742 194.106 244.12 200.486C248.498 206.74 250.688 214.246 250.688 223.002C250.688 225.629 250.375 228.944 249.749 232.947C247.873 244.08 245.621 254.901 242.994 265.408C238.616 282.546 231.048 295.368 220.29 303.874C209.532 312.255 195.147 316.446 177.133 316.446ZM179.76 289.426C186.766 289.426 192.707 287.362 197.586 283.234C202.59 279.106 206.155 272.789 208.281 264.283C211.158 252.524 213.348 242.266 214.849 233.51C215.349 230.883 215.599 228.194 215.599 225.441C215.599 214.058 209.657 208.366 197.774 208.366C190.768 208.366 184.764 210.43 179.76 214.558C174.882 218.687 171.379 225.004 169.253 233.51C167.001 241.891 164.749 252.149 162.498 264.283C161.997 266.784 161.747 269.411 161.747 272.163C161.747 283.672 167.752 289.426 179.76 289.426Z",fill:"white"}),p.jsx("path",{d:"M259.303 314.57C257.927 314.57 256.863 314.132 256.113 313.256C255.487 312.255 255.3 311.13 255.55 309.879L281.444 187.914C281.694 186.538 282.382 185.412 283.508 184.536C284.634 183.661 285.822 183.223 287.073 183.223H336.985C350.87 183.223 362.003 186.1 370.384 191.854C378.891 197.609 383.144 205.927 383.144 216.81C383.144 219.937 382.769 223.19 382.018 226.567C378.891 240.953 372.574 251.586 363.067 258.466C353.685 265.346 340.8 268.786 324.413 268.786H299.082L290.451 309.879C290.2 311.255 289.512 312.38 288.387 313.256C287.261 314.132 286.072 314.57 284.822 314.57H259.303ZM325.727 242.892C330.98 242.892 335.546 241.453 339.424 238.576C343.427 235.699 346.054 231.571 347.305 226.192C347.68 224.065 347.868 222.189 347.868 220.563C347.868 216.935 346.805 214.183 344.678 212.307C342.551 210.305 338.924 209.305 333.795 209.305H311.278L304.148 242.892H325.727Z",fill:"white"})]}),[aa.id]:t=>p.jsxs("svg",{width:"360",height:"360",viewBox:"0 0 360 360",fill:"none",xmlns:"http://www.w3.org/2000/svg",...t,children:[p.jsx("rect",{width:"360",height:"360",rx:"180",fill:"#6C00F6"}),p.jsx("path",{d:"M157.743 154.241L141.052 144.58L90.9766 173.561V231.519L141.052 260.5L191.13 231.519V141.359L218.948 125.26L246.77 141.359V173.561L218.948 189.66L202.257 180.002V205.759L218.948 215.42L269.024 186.439V128.481L218.948 99.5L168.873 128.481V218.641L141.052 234.74L113.233 218.641V186.439L141.052 170.34L157.743 179.998V154.241Z",fill:"white"})]}),[s$.id]:t=>p.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:"30",height:"30",viewBox:"0 0 30 30",fill:"none",...t,children:[p.jsx("g",{clipPath:"url(#clip0)",children:p.jsx("g",{clipPath:"url(#clip1)",children:p.jsx("path",{d:"M14.9188 29.8373C6.67944 29.8373 0.00012207 23.1581 0.00012207 14.9187C0.00012207 6.67931 6.67944 0 14.9188 0C23.1581 0 29.8373 6.67931 29.8373 14.9187C29.8373 23.1581 23.1581 29.8373 14.9188 29.8373Z",fill:"url(#paint0)"})})}),p.jsxs("defs",{children:[p.jsxs("radialGradient",{id:"paint0",cx:"0",cy:"0",r:"1",gradientUnits:"userSpaceOnUse",gradientTransform:"translate(21.6921 8.02215) rotate(180) scale(25.2008)",children:[p.jsx("stop",{offset:"0.00682297",stopColor:"#F2CEFE"}),p.jsx("stop",{offset:"0.1913",stopColor:"#AFBAF1"}),p.jsx("stop",{offset:"0.4982",stopColor:"#4281D3"}),p.jsx("stop",{offset:"0.666667",stopColor:"#2E427D"}),p.jsx("stop",{offset:"0.822917",stopColor:"#230101"}),p.jsx("stop",{offset:"1",stopColor:"#8F6B40"})]}),p.jsx("clipPath",{id:"clip0",children:p.jsx("rect",{width:"30",height:"30",fill:"white"})}),p.jsx("clipPath",{id:"clip1",children:p.jsx("rect",{width:"30",height:"30",fill:"white"})})]})]})};const are=({chainId:t,...e})=>{if(t==="solana")return p.jsx(sGe,{...e});let r=aGe[t];return p.jsx(r||dY,{...e})},oGe=({balance:t,className:e,chain:r})=>p.jsx(tx,{className:e,$state:void 0,children:p.jsx(WS,{balance:t,chain:r})}),WS=({balance:t,chain:e})=>p.jsxs(p.Fragment,{children:[p.jsxs(lGe,{children:[p.jsx(uGe,{chainId:typeof e=="object"?e.id:"solana"}),p.jsx(zn,{children:typeof e=="object"?e.name:nx(e)})]}),p.jsxs(pc,{isLoading:!1,isPulsing:!1,color:"gray",children:[p.jsx(cGe,{children:p.jsx(Z6,{})}),t]})]});let lGe=te.div.withConfig({displayName:"Container",componentId:"sc-63f80cee-0"})(["display:flex;align-items:center;"]),cGe=te.div.withConfig({displayName:"IconContainer",componentId:"sc-63f80cee-1"})(["height:0.75rem;width:0.75rem;margin-right:0.2rem;"]),uGe=te(are).withConfig({displayName:"StyledNetworkIcon",componentId:"sc-63f80cee-2"})(["height:1.25rem;width:1.25rem;display:inline-block;margin-right:0.5rem;border-radius:4px;"]);const dGe=({options:t,onSelect:e,selected:r,className:n})=>p.jsxs(r7e,{as:hGe,children:[p.jsxs(BZ,{as:gGe,children:[p.jsx(WS,{balance:r.balance,chain:r.chain}),p.jsx(qS,{height:16})]}),p.jsx(LZ,{as:fGe,className:n,children:t.map((i,s)=>p.jsx(FZ,{as:pGe,onClick:()=>e(s),children:p.jsx(WS,{balance:i.balance,chain:i.chain})},s))})]});let hGe=te.div.withConfig({displayName:"Wrapper",componentId:"sc-31c00f79-0"})(["width:100%;position:relative;"]),fGe=te.div.withConfig({displayName:"Popover",componentId:"sc-31c00f79-1"})(["width:100%;margin-top:0.5rem;position:absolute;background-color:var(--privy-color-background);border-radius:var(--privy-border-radius-md);overflow-x:hidden;overflow-y:auto;box-shadow:0px 1px 2px 0px rgba(16,24,40,0.05);max-height:11.75rem;&&{border:solid 1px var(--privy-color-foreground-4);}z-index:1;"]),pGe=te.button.withConfig({displayName:"Button",componentId:"sc-31c00f79-2"})(["width:100%;display:flex;justify-content:space-between;&&{padding:1rem;}:not(:last-child){border-bottom:solid 1px var(--privy-color-foreground-4);}:hover{background:var(--privy-color-background-2);}"]),qS=te(Y$).withConfig({displayName:"StyledChevronIcon",componentId:"sc-31c00f79-3"})(["height:1rem;margin-left:0.5rem;"]),gGe=te.button.withConfig({displayName:"StyledMenuButton",componentId:"sc-31c00f79-4"})([""," span{margin-left:auto;}","{transition:rotate 100ms ease-in;}&[aria-expanded='true']{","{rotate:-180deg;}}"],tre,qS,qS);const mGe=te.div.withConfig({displayName:"FundingMethodContainer",componentId:"sc-eaaa12a-0"})(["display:flex;flex-direction:column;gap:12px;padding-top:24px;padding-bottom:24px;"]),yy=te.div.withConfig({displayName:"IconContainer",componentId:"sc-eaaa12a-1"})(["width:24px;height:24px;display:flex;justify-content:center;align-items:center;svg{border-radius:var(--privy-border-radius-sm);}"]),ore=te.div.withConfig({displayName:"FundingQuantityWrapper",componentId:"sc-eaaa12a-2"})(["display:flex;flex-direction:column;justify-content:center;align-items:flex-start;gap:8px;"]),lre=te.div.withConfig({displayName:"FundingQuantity",componentId:"sc-eaaa12a-3"})(["display:flex;align-items:center;gap:4px;width:100%;padding:0 16px;border-width:1px !important;border-radius:12px;cursor:text;&:focus-within{border-color:var(--privy-color-accent);}"]),cre=te.input.withConfig({displayName:"FundingAmountInput",componentId:"sc-eaaa12a-5"})(["background-color:var(--privy-color-background);width:100%;&:focus{outline:none !important;border:none !important;box-shadow:none !important;}&&{font-size:26px;}"]),yGe=te(cre).withConfig({displayName:"FundingAmountInputLarge",componentId:"sc-eaaa12a-6"})(["&&{font-size:42px;}"]),ure=te.div.withConfig({displayName:"FundingCurrency",componentId:"sc-eaaa12a-8"})(["font-size:18px;"]),dre=te.div.withConfig({displayName:"FundingDollars",componentId:"sc-eaaa12a-9"})(["font-size:12px;color:var(--privy-color-foreground-3);height:20px;"]),bGe=te.div.withConfig({displayName:"InfoButtonText",componentId:"sc-eaaa12a-13"})([""]),wGe=te.a.withConfig({displayName:"InfoButtonLink",componentId:"sc-eaaa12a-14"})(["&&{color:var(--privy-color-accent);}cursor:pointer;"]),hre=({displayName:t,errorMessage:e,configuredFundingChain:r,formattedBalance:n,fundingAmount:i,fundingCurrency:s,fundingAmountInUsd:a,options:o,selectedOption:l,isPreparing:u,isSubmitting:h,addressToFund:f,fundingWalletAddress:g,onSubmit:y,onSelect:b,onAmountChange:w,erc20ContractInfo:x})=>{let E=$.useRef(null);return p.jsxs(p.Fragment,{children:[p.jsx(Co,{}),p.jsx(xc,{}),p.jsx(rh,{children:"Transfer from another network"}),p.jsxs(Ff,{children:["You need more funds on the"," ",typeof r=="object"?r.name:nx(r)," ","network. Bridge from another blockchain network."]}),p.jsxs(ore,{style:{marginTop:"2rem"},children:[p.jsxs(lre,{onClick:()=>{var S;return(S=E.current)==null?void 0:S.focus()},children:[p.jsx(cre,{ref:E,value:i,onChange:S=>{let _=S.target.value;if(/^[0-9.]*$/.test(_)&&_.split(".").length-1<=1){let I=/\.$/.test(_)?".":"",A=Number(_.replace(/\.$/,"")||"0");if(Number.isNaN(A))return void w("0");w(A.toString()+I)}}}),p.jsx(ure,{children:s})]}),a&&p.jsx(dre,{children:a})]}),p.jsxs(on,{style:{marginTop:"1.5rem"},children:[p.jsx(zr,{children:"From"}),p.jsx(zr,{children:iD(g)})]}),p.jsx(dGe,{selected:{chain:l.chain,balance:l.isErc20Quote?G5({amount:l.erc20Balance??0n,decimals:(x==null?void 0:x.decimals)??6})+` ${(x==null?void 0:x.symbol)||""}`:sl(l.balance,l.chain.nativeCurrency.symbol,3,!0)},options:o.map(({chain:S,balance:_,isErc20Quote:I,erc20Balance:A})=>({chain:S,balance:I?G5({amount:A??0n,decimals:(x==null?void 0:x.decimals)??6})+` ${(x==null?void 0:x.symbol)||""}`:sl(_,S.nativeCurrency.symbol,3,!0)})),onSelect:b}),p.jsxs(on,{style:{marginTop:"1.5rem"},children:[p.jsx(zr,{children:"To"}),p.jsx(zr,{children:iD(f)})]}),p.jsx(oGe,{chain:r,balance:n}),p.jsx(Lf,{style:{marginTop:"1rem"},children:e}),p.jsxs(z5,{style:{marginTop:"1rem"},loading:h||u,disabled:u||h,onClick:y,children:["Confirm with ",t]}),p.jsx(El,{}),p.jsx(Ur,{})]})},hI=({walletClientType:t,displayName:e,addressToFund:r,chainId:n,chainName:i,isBridging:s,isErc20Flow:a,totalPriceInNativeCurrency:o,totalPriceInUsd:l,gasPriceInNativeCurrency:u,gasPriceInUsd:h})=>{var g;let f=lh(t);return p.jsxs(p.Fragment,{children:[p.jsx(Co,{}),p.jsx(nm,{}),p.jsx(YT,{style:{marginTop:"16px"},children:p.jsx(Vte,{icon:(g=f==null?void 0:f.image_url)==null?void 0:g.md,name:t})}),p.jsx(wl,{style:{marginTop:"8px",marginBottom:"12px"},title:`${s?"Bridging":"Confirming"} with ${e}`}),!s&&!a&&p.jsxs(dI,{children:[p.jsxs(on,{children:[p.jsx(zr,{children:"Total"}),p.jsx(zn,{children:l||o})]}),p.jsxs(on,{children:[p.jsx(zr,{children:"To"}),p.jsx(zn,{children:p.jsx(Gs,{address:r,showCopyIcon:!1})})]}),p.jsxs(on,{children:[p.jsx(zr,{children:"Network"}),p.jsx(zn,{children:p.jsxs(vGe,{children:[p.jsx(are,{chainId:n,height:16,width:16})," ",i]})})]}),u&&p.jsxs(on,{children:[p.jsx(zr,{children:"Estimated fee"}),p.jsx(zn,{children:h||u})]})]}),p.jsx(wWe,{height:24}),p.jsx(Ur,{})]})};let vGe=te.div.withConfig({displayName:"NetworkColumn",componentId:"sc-f4ee4fc8-0"})(["display:flex;flex-direction:row;align-items:center;gap:4px;"]);const fre={component:()=>{var jt,yt,Dt,Qe,Be;let{rpcConfig:t,appId:e,closePrivyModal:r,createAnalyticsEvent:n}=rt(),{navigate:i,setModalData:s,app:a,data:o}=lt(),{wallets:l}=Mu(),[u,h]=$.useState(!1),[f,g]=$.useState(0n),[y,b]=$.useState(!1),[w,x]=$.useState(null),[E,S]=$.useState(null),[_,I]=$.useState([]),[A,O]=$.useState(0),[F,H]=$.useState(!1),[L,z]=$.useState(!1),[V,K]=$.useState(!1),[B,C]=$.useState(!1),[k,N]=$.useState(),[D,P]=$.useState();if(!(o!=null&&o.funding)||o.funding.chainType!=="ethereum")throw Error("Invalid funding data");let{erc20ContractInfo:R,chain:j,connectedWalletAddress:W}=o.funding,M=o.funding.address,G=o.funding.erc20Address,[re,q]=$.useState(o.funding.amount);$.useEffect(()=>{G&&!R&&x(Error("Unable to fetch token details"))},[]);let X=!!G&&!!R,ne=X?BigInt(parseFloat(re)*10**R.decimals):$V(re),ee=W?l.find(({address:Me})=>Me===W):l[0],ce=lh((ee==null?void 0:ee.walletClientType)||"unknown"),be=(ce==null?void 0:ce.name)||"wallet",[ve,ge]=$.useState(null);$.useEffect(()=>{(async()=>{if(!ee)return;let Me=await ee.getEthereumProvider();ge(pG({account:ee.address,transport:mG(Me)}).extend(r$))})().catch(console.error)},[ee]);let[Ee,ye]=$.useState(0n);$.useEffect(()=>{_u({chain:j,transport:Cu(Iu(j,t,e))}).getBalance({address:M}).then(ye).catch(console.error)},[]);let[$e,we]=$.useState(0n);$.useEffect(()=>{X&&uI({chain:j,address:M,appId:e,rpcConfig:t,erc20Address:G}).then(Me=>we(Me.balance)).catch(console.error)},[]);let{tokenPrice:qe}=zb(j.id),[Ge,Ae]=$.useState({to:M,chain:j,value:ne,data:void 0});$.useEffect(()=>{(async()=>{let Me,Xe;if(!ve||!ee||F||V)return;H(!0);let vt=_u({chain:Ge.chain,transport:Cu(Iu(Ge.chain,t,e))});if(X&&!Ge.data)return await vt.simulateContract({address:G,chain:Ge.chain,abi:zS,functionName:"transfer",args:[M,ne],account:ee.address}).catch(st=>{console.warn("Simulated token transfer failed with error, fetching bridge options.",st)})?(H(!1),void Ae({to:G,chain:Ge.chain,data:ia({abi:zS,functionName:"transfer",args:[M,ne]}),value:"0x0"})):(H(!1),void b(!0));try{Me=await vt.prepareTransactionRequest({account:ee.address,to:Ge.to,chain:Ge.chain,data:Ge.data,value:BigInt(Ge.value??0)})}catch(st){if(console.error(st),_.length>1)S(st.shortMessage??"Something went wrong");else if(L&&_.length===0)return void x(new ue(`Wallet ${Es(ee.address)} does not have enough funds.`,void 0,fe.INSUFFICIENT_BALANCE))}if(!Me)return H(!1),void b(!0);H(!1),K(!0),h(!0),g(Me.gas);try{await ve.switchChain({id:Ge.chain.id})}catch{await ve.addChain({chain:Ge.chain}),await ve.switchChain({id:Ge.chain.id})}try{Xe=await ve.sendTransaction(Me)}catch(st){if(console.error(st),st.name==="TransactionExecutionError")if(_.length<1){let ct=st.shortMessage;(st.shortMessage.includes("rejected the request")||st.details.includes("rejected the request"))&&(ct="User rejected the request."),x(new ue(ct,void 0,fe.TRANSACTION_FAILURE))}else S(st.shortMessage??"Something went wrong")}if(Xe)return await ve.waitForTransactionReceipt({hash:Xe}),K(!1),L?(N(Xe),void P("pending")):(C(!0),void n({eventName:gc,payload:{provider:"external",status:"success",txHash:Xe,address:ee.address,chainId:Ge.chain.id,chainType:"ethereum",value:Ge.value?Ys(BigInt(Ge.value),(R==null?void 0:R.decimals)??18):void 0,token:(R==null?void 0:R.symbol)??G??"ETH",destinationAddress:M,destinationChainId:j.id,destinationChainType:"ethereum",destinationValue:ne?Ys(ne,(R==null?void 0:R.decimals)??18):void 0,destinationToken:(R==null?void 0:R.symbol)??G??j.nativeCurrency.name}}));K(!1)})().catch(console.error)},[ve,Ge]),$.useEffect(()=>{(async()=>{var Nt;if(!y||!ve||!ee)return;let Me=a$(a.chains).filter(Le=>Le.id!==j.id&&!!Le.testnet==!!j.testnet);X&&Me.unshift(j);let Xe=await sre({chains:Me,address:ee.address,appId:e,rpcConfig:t,includeUsdc:(Nt=o.funding)==null?void 0:Nt.isUSDC}),vt=X?Xe.filter(Le=>Le.balance>0n):Xe.filter(Le=>Le.balance>ne),st=X&&Xe.every(Le=>Le.balance===0n);if(vt.length<1)return void x(new ue(st?`Wallet ${Es(ee.address)} doesn't have enough funds to cover gas fees. Top up your wallet and try again.`:`Wallet ${Es(ee.address)} does not have enough funds.`,void 0,fe.INSUFFICIENT_BALANCE));vt.sort((Le,gr)=>Number(X?(gr.erc20Balance??0n)-(Le.erc20Balance??0n):gr.balance-Le.balance));let ct=vt.flatMap(Le=>{let gr=[{...Le,isErc20Quote:!1,isTestnet:!!j.testnet,input:ng({amount:ne.toString(),user:ee.address,recipient:M,destinationChainId:j.id,destinationCurrency:G,originChainId:Le.chain.id})}];return X&&G&&(Le.erc20Balance??0n)>=ne&&gr.push({...Le,isErc20Quote:!0,isTestnet:!!j.testnet,input:ng({amount:ne.toString(),user:ee.address,recipient:M,destinationChainId:j.id,destinationCurrency:G,originChainId:Le.chain.id,originCurrency:Le.erc20Address})}),gr}),We=(await Promise.allSettled(ct.map(async Le=>({...Le,quote:await Z2(Le)})))).filter(Le=>Le.status==="fulfilled").map(Le=>Le.value);if(We.length<1)return void x(new ue(`Wallet ${Es(ee.address)} does not have enough funds.`,void 0,fe.INSUFFICIENT_BALANCE));let St=We.map(Le=>({bridgeTx:q5(Le.quote),balance:Le.balance,chain:Le.chain,erc20Balance:Le.erc20Balance,isErc20Quote:Le.isErc20Quote})).filter(Le=>!!Le.bridgeTx);if(St.length>1)return void I(St);let Jt=St[0];Jt?(z(!0),Ae({data:Jt.bridgeTx.data,to:Jt.bridgeTx.to,value:Jt.bridgeTx.value,chain:Jt.chain})):x(new ue(`Wallet ${Es(ee.address)} does not have enough funds.`,void 0,fe.INSUFFICIENT_BALANCE))})().catch(console.error)},[y]),aI({transactionHash:k,isTestnet:!!j.testnet,bridgingStatus:D,setBridgingStatus:P,onSuccess({transactionHash:Me}){z(!1),C(!0),n({eventName:gc,payload:{provider:"external",status:"success",txHash:Me,address:ee==null?void 0:ee.address,chainId:Ge.chain.id,chainType:"ethereum",value:Ge.value?Ys(BigInt(Ge.value),(R==null?void 0:R.decimals)??18):void 0,token:(R==null?void 0:R.symbol)??G??"ETH",destinationAddress:M,destinationChainId:j.id,destinationChainType:"ethereum",destinationValue:ne?Ys(ne,(R==null?void 0:R.decimals)??18):void 0,destinationToken:(R==null?void 0:R.symbol)??G??j.nativeCurrency.name}})},onFailure({error:Me}){z(!1),x(Me)}}),$.useEffect(()=>{w&&(s({funding:o==null?void 0:o.funding,solanaFundingData:o==null?void 0:o.solanaFundingData,sendTransaction:o==null?void 0:o.sendTransaction,errorModalData:{error:w,previousScreen:Vb}}),i(_n,!1))},[w]);let je=!X&&qe?Lee(re??"0",qe):void 0,gt=X?f:KT([f,ne]),Qt=gt&&qe?bf(gt,qe):void 0,Ie=gt?sl(gt,(jt=o==null?void 0:o.funding)!=null&&jt.erc20Address?((Dt=(yt=o==null?void 0:o.funding)==null?void 0:yt.erc20ContractInfo)==null?void 0:Dt.symbol)||"ETH":((Qe=o==null?void 0:o.funding)==null?void 0:Qe.chain.nativeCurrency.symbol)||"ETH"):void 0,pt=f&&qe?bf(f,qe):void 0,Ze=f?sl(f,((Be=j==null?void 0:j.nativeCurrency)==null?void 0:Be.symbol)||"ETH"):void 0;if($.useEffect(()=>{if(!B)return;let Me=setTimeout(r,jT);return()=>clearTimeout(Me)},[B]),B)return p.jsxs(p.Fragment,{children:[p.jsx(Co,{}),p.jsx(xc,{}),p.jsxs(B4,{children:[p.jsx(W6,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),p.jsx(wl,{title:"Success!",description:`Youve successfully added ${re} ${X?R.symbol:j.nativeCurrency.symbol} to your ${a.name} wallet. It may take a minute before the funds are available to use.`})]}),p.jsx(El,{}),p.jsx(Ur,{})]});let ht=X?`${G5({amount:$e,decimals:R.decimals})}  ${R.symbol}`:sl(Ee,j.nativeCurrency.symbol,3,!0),bt=_[A];return _.length>1&&bt?p.jsx(hre,{displayName:be,configuredFundingChain:j,erc20ContractInfo:R,formattedBalance:ht,fundingAmount:re,fundingCurrency:X?R.symbol:j.nativeCurrency.symbol,fundingAmountInUsd:je,options:_,selectedOption:bt,isPreparing:F,isSubmitting:V,addressToFund:M,fundingWalletAddress:(ee==null?void 0:ee.address)||"",errorMessage:E,onSubmit:()=>{var Me;((Me=o.funding)==null?void 0:Me.amount)!==re?async function(){if(ee&&bt)try{let Xe=await Z2({isTestnet:!!j.testnet,input:ng({amount:ne.toString(),user:ee.address,recipient:M,destinationChainId:j.id,destinationCurrency:G,originChainId:bt.chain.id})}),vt=q5(Xe);if(!vt)throw Error("Invalid transaction request");z(!0),Ae({data:vt.data,to:vt.to,value:vt.value,chain:bt.chain})}catch(Xe){console.error(Xe),x(new ue("Unable to fetch quotes for bridging",Xe,fe.INSUFFICIENT_BALANCE))}}().catch(console.error):Ae({to:bt.bridgeTx.to,data:bt.bridgeTx.data,value:bt.bridgeTx.value,chain:bt.chain})},onSelect:Me=>{Me!==A&&(S(null),O(Me))},onAmountChange:q}):u&&f&&ee&&(o!=null&&o.funding)?p.jsx(hI,{walletClientType:(ee==null?void 0:ee.walletClientType)||"unknown",displayName:be,addressToFund:M,isBridging:L,isErc20Flow:X,totalPriceInUsd:Qt,totalPriceInNativeCurrency:Ie,gasPriceInUsd:pt,gasPriceInNativeCurrency:Ze,chainId:j.id,chainName:j.name}):p.jsxs(p.Fragment,{children:[p.jsx(Co,{}),p.jsx(nm,{}),p.jsx("div",{style:{marginTop:"1rem"}}),p.jsx(Ur,{})]})}},HS=Symbol("solana-funding-plugin"),pre={component:function(){let t=Ar(),{closePrivyModal:e,createAnalyticsEvent:r,connectors:n}=rt(),{navigate:i,setModalData:s,app:a,data:o}=lt(),l=$.useRef(!1),u=oI(),[h,f]=$.useState(!1),[g,y]=$.useState(!1),[b,w]=$.useState(null),[x,E]=$.useState(),[S,_]=$.useState();if(!(o!=null&&o.funding)||o.funding.chainType!=="ethereum")throw Error("Invalid funding data");let{amount:I,connectedWalletAddress:A,chain:O,solanaChain:F,isUSDC:H}=o.funding,L=o.funding.address,z=o.funding.erc20Address,V=o.funding.isUSDC?"USDC":O.nativeCurrency.symbol,K=$.useMemo(()=>function({connectors:N,connectedWalletAddress:D}){let P=N.find(j=>j.chainType==="solana"&&j.wallets.some(W=>W.address===D)),R=P==null?void 0:P.wallet.accounts.find(j=>j.address===D);if(!P||!R)throw new ue("Unable to find source wallet connector");return new AK({wallet:P.wallet,account:R})}({connectors:n,connectedWalletAddress:A||""}),[n,A]),B=$.useMemo(()=>{let N=u(HS);if(!N)throw new ue("Unable to load solana plugin");let D=t.solanaRpcs["solana:mainnet"];if(!D)throw new ue("Unable to load mainnet RPC");return N.getSolanaRpcClient({rpc:D.rpc,rpcSubscriptions:D.rpcSubscriptions,chain:"solana:mainnet",blockExplorerUrl:D.blockExplorerUrl??"https://explorer.solana.com"})},[]),C=lh(kS((K==null?void 0:K.standardWallet.name)||"unknown")),k=(C==null?void 0:C.name)||"wallet";return $.useEffect(()=>{(async function(){if(!K||!O||l.current)return;let N=u(HS);if(!N)return void w(new ue("Unable to solana plugin"));l.current=!0,O!=null&&O.testnet&&console.warn("Solana testnets are not supported for bridging");let D=H?1e6*parseFloat(I):$V(I),P=await Z2({isTestnet:!!O.testnet,input:ng({amount:D.toString(),user:K.address,recipient:L,destinationChainId:O.id,originChainId:PS,originCurrency:H?"EPjFWdd5AufqSSqeM2qN1xzybapC8G4wEGGkZwyTDt1v":OS,destinationCurrency:H?z:void 0})}).catch(console.error);if(!P)return void w(new ue(`Unable to fetch quotes for bridging. Wallet ${c_(K.address)} does not have enough funds.`,void 0,fe.INSUFFICIENT_BALANCE));let R=await N.createTransactionFromRelayQuote({quote:P,source:K.address,solanaClient:B});if(R)try{f(!0);let j=await N.simulateTransaction({solanaClient:B,tx:R});if(j.hasError)return j.hasFunds?(console.error("Transaction failed:",j.error),void w(new ue("Something went wrong",void 0,fe.TRANSACTION_FAILURE))):void w(new ue(`Wallet ${c_(K==null?void 0:K.address)} does not have enough funds. ${P.details.currencyIn.amountFormatted} ${V} are needed to complete the transaction.`,void 0,fe.INSUFFICIENT_BALANCE));let{signature:W}=await K.signAndSendTransaction({chain:"solana:mainnet",transaction:R}),M=N.getAddressFromBuffer(W);E(M),_("pending")}catch(j){if(console.error(j),/user rejected the request/gi.test(j.message||""))return void w(new ue("Transaction was rejected by the user",void 0,fe.TRANSACTION_FAILURE));w(new ue("Something went wrong",void 0,fe.TRANSACTION_FAILURE))}else w(new ue(`Unable to select bridge option from quotes. Wallet ${c_(K.address)} does not have enough funds.`,void 0,fe.INSUFFICIENT_BALANCE))})().catch(console.error)},[]),aI({transactionHash:x,isTestnet:!1,bridgingStatus:S,setBridgingStatus:_,onSuccess({transactionHash:N}){f(!1),y(!0),r({eventName:gc,payload:{provider:"external",status:"success",txHash:N,address:K.address,chainType:"solana",clusterName:F,token:"SOL",destinationAddress:L,destinationChainId:O.id,destinationChainType:"ethereum",destinationValue:I,destinationToken:H?"USDC":"ETH"}})},onFailure({error:N}){f(!1),w(N)}}),$.useEffect(()=>{if(!g)return;let N=setTimeout(e,jT);return()=>clearTimeout(N)},[g]),$.useEffect(()=>{b&&(s({funding:o==null?void 0:o.funding,solanaFundingData:o==null?void 0:o.solanaFundingData,sendTransaction:o==null?void 0:o.sendTransaction,errorModalData:{error:b,previousScreen:Vb}}),i(_n,!1))},[b]),g?p.jsxs(p.Fragment,{children:[p.jsx(Co,{}),p.jsx(xc,{}),p.jsxs(B4,{children:[p.jsx(W6,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),p.jsx(wl,{title:"Success!",description:`Youve successfully added ${I} ${V} to your ${a.name} wallet. It may take a minute before the funds are available to use.`})]}),p.jsx(El,{}),p.jsx(Ur,{})]}):h&&K?p.jsx(hI,{walletClientType:kS((K==null?void 0:K.standardWallet.name)||"unknown"),displayName:k,addressToFund:L,isBridging:h,isErc20Flow:!1,chainId:O.id,chainName:O.name,totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):p.jsxs(p.Fragment,{children:[p.jsx(Co,{}),p.jsx(nm,{}),p.jsx("div",{style:{marginTop:"1rem"}}),p.jsx(Ur,{})]})}},Mz={component:()=>{var g;let{data:t,setModalData:e}=lt(),r=t==null?void 0:t.funding,n=r.chainType==="solana",i=$.useRef(null),{tokenPrice:s}=zb(n?"solana":r.chain.id),a=n?void 0:r,o=!(!(a!=null&&a.erc20Address)||a!=null&&a.erc20ContractInfo),l=n?r.isUSDC?"USDC":"SOL":r.erc20Address?(g=r.erc20ContractInfo)==null?void 0:g.symbol:r.chain.nativeCurrency.symbol||"ETH",u=parseFloat(r.amount),h=!isNaN(u)&&u>0,f=s?Lee(r.amount,s):void 0;return p.jsxs(p.Fragment,{children:[p.jsx(Co,{}),p.jsx(rh,{children:"Confirm or edit amount"}),p.jsxs(L4,{style:{marginTop:"32px"},children:[p.jsx(ore,{children:o?p.jsx(nm,{size:"50px"}):p.jsxs(p.Fragment,{children:[p.jsxs(lre,{onClick:()=>{var y;return(y=i.current)==null?void 0:y.focus()},children:[p.jsx(yGe,{ref:i,value:r.amount,onChange:y=>{let b=y.target.value;/^[0-9.]*$/.test(b)&&b.split(".").length-1<=1&&e({...t,funding:{...r,amount:b},solanaFundingData:t!=null&&t.solanaFundingData?{...t.solanaFundingData,amount:b}:void 0})}}),p.jsx(ure,{children:l})]}),!(a!=null&&a.erc20Address)&&p.jsx(dre,{children:f&&h?`${f} USD`:""})]})}),p.jsx(z5,{style:{marginTop:"1rem"},disabled:!h,onClick:r.onContinueWithExternalWallet,children:"Continue"})]}),p.jsx(Ur,{})]})}},Vb={component:()=>{var A,O,F,H;let t,{connectors:e}=rt(),{app:r,setModalData:n,data:i,navigate:s}=lt(),{wallets:a}=Mu(),o=e.filter(R4).flatMap(L=>L.wallets),[l,u]=$.useState("default"),h=((A=i==null?void 0:i.funding)==null?void 0:A.chainType)==="solana",f=!!((O=i==null?void 0:i.funding)!=null&&O.crossChainBridgingEnabled);t=((F=i==null?void 0:i.funding)==null?void 0:F.chainType)==="ethereum"?i.funding.erc20Address&&!i.funding.isUSDC?"ethereum-only":f&&!i.funding.chain.testnet?"ethereum-and-solana":"ethereum-only":f&&!((H=i.funding)!=null&&H.isUSDC)?"ethereum-and-solana":"solana-only";let g=a.filter(L=>L.walletClientType!=="privy"),y=g.map(L=>L.walletClientType),b=o.filter(L=>L.walletClientType!=="privy"),w=b.map(L=>L.walletClientType),x=[],E={...i.funding};E.usingDefaultFundingMethod&&(E.usingDefaultFundingMethod=!1);let S=({address:L,walletChainType:z,walletClientType:V})=>{n({...i,funding:{...E,connectedWalletAddress:L,onContinueWithExternalWallet:()=>s(I({destChainType:h?"solana":"ethereum",sourceChainType:z}))},solanaFundingData:i!=null&&i.solanaFundingData?{...i.solanaFundingData,sourceWalletData:{address:L,walletClientType:V}}:void 0}),s(Mz)};t!=="solana-only"&&x.push(...g.map((L,z)=>p.jsx(Rz,{onClick:()=>S({address:L.address,walletChainType:"ethereum",walletClientType:L.walletClientType}),icon:L.meta.icon,name:L.meta.name,chainType:L.type},z))),t!=="ethereum-only"&&x.push(...b.map((L,z)=>p.jsx(Rz,{onClick:()=>S({address:L.address,walletChainType:"solana",walletClientType:L.walletClientType}),icon:L.meta.icon,name:L.meta.name,chainType:L.type},z))),x.push(...Kte({walletList:r.appearance.walletList.filter(L=>!g.some(z=>z.walletClientType===L)&&!b.some(z=>z.walletClientType===L)),walletChainType:t,connectors:e,connectOnly:!0,ignore:[...r.appearance.walletList,...y,...w],walletConnectEnabled:r.externalWallets.walletConnect.enabled}));let _=p.jsx(Lte,{text:"More wallets",onClick:()=>u("overflow")}),I=({sourceChainType:L,destChainType:z})=>L==="ethereum"&&z==="solana"?Ere:L==="ethereum"&&z==="ethereum"?fre:L==="solana"&&z==="ethereum"?pre:E.externalSolanaFundingScreen;return $.useEffect(()=>{n({...i,externalConnectWallet:{onCompleteNavigateTo:({address:L,walletClientType:z,walletChainType:V})=>(n({...i,funding:{...E,onContinueWithExternalWallet:()=>{s(I({destChainType:h?"solana":"ethereum",sourceChainType:V??"ethereum"}))}},solanaFundingData:i!=null&&i.solanaFundingData?{...i.solanaFundingData,sourceWalletData:{address:L||"",walletClientType:z||""}}:void 0}),Mz)}})},[]),p.jsxs(p.Fragment,l==="overflow"?{children:[p.jsx(ur,{backFn:()=>u("default")},"header"),p.jsxs($S,{children:[p.jsx(Ff,{style:{color:"var(--privy-color-foreground-3)",textAlign:"left"},children:"More wallets"}),x]}),p.jsx(Ur,{})]}:{children:[p.jsx(Co,{}),p.jsx(wl,{title:"Transfer from wallet",description:"Connect a wallet to deposit funds or send funds manually to your wallet address."}),p.jsxs($S,{children:[x.length>4?x.slice(0,3):x,x.length>4&&_]}),p.jsx(Ur,{})]})}};let Rz=({onClick:t,icon:e,name:r,chainType:n})=>p.jsxs(En,{onClick:t,children:[p.jsx(yy,{style:{width:20},children:p.jsx("img",{src:e})}),r,p.jsx(pc,{color:"gray",style:{marginLeft:"auto"},children:"Connected"}),n==="solana"&&p.jsx(pc,{color:"gray",children:"Solana"})]});const xGe={component:()=>{let{data:t,setModalData:e,navigate:r,navigateBack:n}=lt(),{closePrivyModal:i,createAnalyticsEvent:s,client:a}=rt(),[o,l]=$.useState("pending-in-flow"),u=$.useRef(0),h={...t==null?void 0:t.funding,showAlternateFundingMethod:!0};h.usingDefaultFundingMethod&&(h.usingDefaultFundingMethod=!1);let{partnerUserId:f,popup:g}=(t==null?void 0:t.coinbaseOnrampStatus)??{};return $.useEffect(()=>{if(o==="pending-in-flow"||o==="pending-after-flow"){let y=setInterval(async()=>{if(f)try{let{status:b}=await a.getCoinbaseOnRampStatus({partnerUserId:f});if(b==="success")return void l("success");if(b==="failure")throw Error("There was an error completing Coinbase Onramp flow.");if(u.current>=3)return e({funding:h,solanaFundingData:t==null?void 0:t.solanaFundingData}),void r(al);g!=null&&g.closed&&(u.current=u.current+1,l("pending-after-flow"))}catch(b){console.error(b),l("error"),s({eventName:gc,payload:{status:"failure",provider:"coinbase-onramp",error:b.message}}),e({funding:{...h,errorMessage:"Something went wrong adding funds. Please try again or use another method."},solanaFundingData:t==null?void 0:t.solanaFundingData}),r(al)}},1500);return()=>clearInterval(y)}},[f,g,o]),p.jsxs(p.Fragment,{children:[p.jsx(ur,{title:"Fund account",backFn:()=>{e({funding:h,solanaFundingData:t==null?void 0:t.solanaFundingData}),n()}},"header"),p.jsx(EGe,{status:o,onClickCta:i}),p.jsx(Ur,{})]})}};let EGe=({status:t,onClickCta:e})=>{let{title:r,body:n,cta:i}=$.useMemo(()=>(s=>{switch(s){case"success":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"pending-after-flow":return{title:"In Progress",body:"Almost done. Retrieving transaction status from Coinbase",cta:""};case"error":case"pending-in-flow":return{title:"In Progress",body:"Go back to Coinbase Onramp to finish funding your account.",cta:""}}})(t),[t]);return p.jsxs(p.Fragment,{children:[p.jsxs(AGe,{children:[p.jsx(_Ge,{isSucccess:t==="success"}),p.jsxs(ZT,{children:[p.jsx("h3",{children:r}),p.jsx(CGe,{children:n})]})]}),i&&p.jsx(Kr,{onClick:e,children:i})]})},_Ge=({isSucccess:t})=>{if(!t){let n="var(--privy-color-foreground-4)";return p.jsxs("div",{style:{position:"relative"},children:[p.jsx(_o,{color:n,style:{position:"absolute"}}),p.jsx(VT,{color:n}),p.jsx(tze,{style:{position:"absolute",width:"2.8rem",height:"2.8rem",top:"1.2rem",left:"1.2rem"}})]})}let e=(n=>n?B2:()=>p.jsx(N$,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}}))(t),r=(n=>n?"var(--privy-color-success)":"var(--privy-color-foreground-4)")(t);return p.jsx("div",{style:{borderColor:r,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:e&&p.jsx(e,{width:"4rem",height:"4rem",color:r})})},CGe=te.p.withConfig({displayName:"StatusBody",componentId:"sc-8428a551-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),AGe=te.div.withConfig({displayName:"ConnectContainer",componentId:"sc-8428a551-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]),SGe={[$o.id]:"ethereum",[ko.id]:"base",[yc.id]:"optimism",[aa.id]:"polygon",[So.id]:"arbitrum"};const jz=(t,e,r,n,i,s)=>new Promise(async(a,o)=>{let l=z4();if(!l)return void o(Error("Unable to initialize flow"));let u=e.chainType==="ethereum"?function(b){let w=SGe[b];if(!w)throw new ue(`Unsupported chainId: ${b} for Coinbase Onramp`);return w}(e.chain.id):"solana",h=e.isUSDC?"USDC":e.chainType==="ethereum"?eve(e.chain.id):"SOL",f=await t.initCoinbaseOnRamp({addresses:[{address:e.address,blockchains:[u]}],assets:[h]}),{url:g}=Xwe({appId:t.getAppId(),input:f,amount:e.amount,blockchain:u,asset:h,experience:s});l.location=g.toString();let y={...i==null?void 0:i.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(y.usingDefaultFundingMethod=!1),r({funding:y,solanaFundingData:i==null?void 0:i.solanaFundingData,coinbaseOnrampStatus:{popup:l}}),n(xGe),t.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"coinbase-onramp",value:e.amount,chainType:e.chainType,chainId:e.chainType==="ethereum"?e.chain.id:e.chain}}),setTimeout(()=>{r({funding:y,solanaFundingData:i==null?void 0:i.solanaFundingData,coinbaseOnrampStatus:{partnerUserId:f.partner_user_id,popup:l}})},5e3),a()}),Dz="moonpay";function kGe(t){return parseFloat(t)}function $Ge(t,e=!1){let[r,n]=$.useState(null),{createAnalyticsEvent:i}=rt(),{data:s,navigate:a,setModalData:o}=lt(),l=s==null?void 0:s.funding,u=$.useRef(0);return $.useEffect(()=>{let h=setInterval(async()=>{var f,g;if(t)try{let[y]=await async function(w,x){return NK(`https://api.moonpay.com/v1/transactions/ext/${w}`,{query:{apiKey:x?"pk_test_fqWjXZMSFwloh7orvJsRfjiUHXJqFzI":"pk_live_hirbpu0cVcLHrjktC9l7fbc9ctjv0SL"}})}(t,e),b=y.status==="waitingAuthorization"&&y.paymentMethod==="credit_debit_card"?"pending":y.status;if(["failed","completed","awaitingAuthorization"].includes(b)&&(i({eventName:gc,payload:{status:b,provider:Dz,paymentMethod:y.paymentMethod,cardPaymentType:y.cardPaymentType,currency:(f=y.currency)==null?void 0:f.code,baseCurrencyAmount:y.baseCurrencyAmount,quoteCurrencyAmount:y.quoteCurrencyAmount,feeAmount:y.feeAmount,extraFeeAmount:y.extraFeeAmount,networkFeeAmount:y.networkFeeAmount,isSandbox:e}}),clearInterval(h)),b==="failed"||b==="serviceFailure")return o({funding:{...l,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."},solanaFundingData:s==null?void 0:s.solanaFundingData}),void a(al);n(b)}catch(y){((g=y.response)==null?void 0:g.status)!==404&&(u.current+=1),u.current>=3&&(i({eventName:gc,payload:{status:"serviceFailure",provider:Dz}}),clearInterval(h),o({funding:{...l,errorMessage:"Something went wrong adding funds from Moonpay. Please try again or use another method to fund your wallet."},solanaFundingData:s==null?void 0:s.solanaFundingData}),a(al))}},3e3);return()=>clearInterval(h)},[t,u]),r}const TGe=({size:t=61,...e})=>p.jsx("svg",{width:t,height:t,viewBox:"0 0 61 61",fill:"none",xmlns:"http://www.w3.org/2000/svg",...e,children:p.jsxs("g",{id:"moonpay_symbol_wht 2",children:[p.jsx("rect",{x:"1.3374",y:"1",width:"59",height:"59",rx:"11.5",fill:"#7715F5"}),p.jsx("path",{id:"Vector",d:"M43.8884 23.3258C45.0203 23.3258 46.1268 22.9901 47.068 22.3613C48.0091 21.7324 48.7427 20.8386 49.1759 19.7928C49.6091 18.747 49.7224 17.5962 49.5016 16.4861C49.2807 15.3759 48.7357 14.3561 47.9353 13.5557C47.1349 12.7553 46.1151 12.2102 45.0049 11.9893C43.8947 11.7685 42.7439 11.8819 41.6982 12.3151C40.6524 12.7482 39.7585 13.4818 39.1297 14.423C38.5008 15.3641 38.1651 16.4707 38.1651 17.6026C38.165 18.3542 38.3131 19.0985 38.6007 19.7929C38.8883 20.4873 39.3098 21.1182 39.8413 21.6496C40.3728 22.1811 41.0037 22.6027 41.6981 22.8903C42.3925 23.1778 43.1367 23.3259 43.8884 23.3258ZM26.3395 49.1017C23.5804 49.1017 20.8832 48.2836 18.5891 46.7507C16.295 45.2178 14.5069 43.039 13.4511 40.49C12.3952 37.9409 12.1189 35.1359 12.6572 32.4298C13.1955 29.7237 14.5241 27.238 16.4751 25.287C18.4262 23.336 20.9118 22.0074 23.6179 21.4691C26.324 20.9308 29.129 21.2071 31.6781 22.2629C34.2272 23.3189 36.406 25.1069 37.9389 27.401C39.4717 29.6952 40.2899 32.3923 40.2899 35.1514C40.2899 36.9835 39.9291 38.7975 39.2281 40.49C38.527 42.1826 37.4994 43.7205 36.204 45.0159C34.9086 46.3113 33.3707 47.3389 31.6781 48.04C29.9856 48.741 28.1715 49.1018 26.3395 49.1017Z",fill:"white"})]})}),gre={component:()=>{let{app:t,data:e,setModalData:r,navigateBack:n}=lt(),{closePrivyModal:i}=rt(),{externalTransactionId:s}=e==null?void 0:e.moonpayStatus,a=$Ge(s||null,t.fundingMethodConfig.moonpay.useSandbox??!1);return p.jsxs(p.Fragment,{children:[p.jsx(ur,{title:"Fund account",backFn:()=>{let o={...e==null?void 0:e.funding,showAlternateFundingMethod:!0};o.usingDefaultFundingMethod&&(o.usingDefaultFundingMethod=!1),r({funding:o,solanaFundingData:e==null?void 0:e.solanaFundingData}),n()}}),p.jsx(IGe,{status:a,onClickCta:i}),p.jsx(Ur,{})]})}};let IGe=({status:t,onClickCta:e})=>{let{title:r,body:n,cta:i}=$.useMemo(()=>(s=>{switch(s){case"completed":return{title:"You've funded your account!",body:"It may take a few minutes for the assets to appear.",cta:"Continue"};case"waitingAuthorization":return{title:"Processing payment",body:"This may take up to a few hours. You will receive an email when the purchase is complete.",cta:"Continue"};default:return{title:"In Progress",body:"Go back to MoonPay to finish funding your account.",cta:""}}})(t),[t]);return p.jsxs(p.Fragment,{children:[p.jsxs(OGe,{children:[p.jsx(NGe,{status:t}),p.jsxs(ZT,{children:[p.jsx("h3",{children:r}),p.jsx(PGe,{children:n})]})]}),i&&p.jsx(Kr,{onClick:e,children:i})]})},NGe=({status:t})=>{if(!t||t==="pending"){let n="var(--privy-color-foreground-4)";return p.jsxs("div",{style:{position:"relative"},children:[p.jsx(_o,{color:n,style:{position:"absolute"}}),p.jsx(VT,{color:n}),p.jsx(TGe,{size:"3rem",style:{position:"absolute",top:"1rem",left:"1rem"}})]})}let e=(n=>{switch(n){case"completed":return B2;case"waitingAuthorization":return()=>p.jsx(N$,{width:"3rem",height:"3rem",style:{backgroundColor:"var(--privy-color-foreground-4)",color:"var(--privy-color-background)",borderRadius:"100%",padding:"0.5rem",margin:"0.5rem"}});default:return}})(t),r=(n=>n?{completed:"var(--privy-color-success)",failed:"var(--privy-color-error)",serviceFailure:"var(--privy-color-error)",waitingAuthorization:"var(--privy-color-accent)",pending:"var(--privy-color-foreground-4)"}[n]:"var(--privy-color-foreground-4)")(t);return p.jsx("div",{style:{borderColor:r,display:"flex",justifyContent:"center",alignItems:"center",borderRadius:"100%",borderWidth:2,padding:"0.5rem",marginBottom:"0.5rem"},children:e&&p.jsx(e,{width:"4rem",height:"4rem",color:r})})},PGe=te.p.withConfig({displayName:"StatusBody",componentId:"sc-75e2a891-0"})(["font-size:1rem;color:var(--privy-color-foreground-3);margin-bottom:1rem;display:flex;flex-direction:column;gap:1rem;"]),OGe=te.div.withConfig({displayName:"ConnectContainer",componentId:"sc-75e2a891-1"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;margin-left:1.75rem;margin-right:1.75rem;padding:2rem 0;"]);const MGe=async(t,e,r,n,i,s,a,o)=>{let l=z4();if(!l)throw Error("Unable to initialize flow");let u=e.chainType==="ethereum"?kwe(e.chain.id,n):e.isUSDC?"USDC_SOL":"SOL",{signedUrl:h,externalTransactionId:f}=await t.signMoonpayOnRampUrl({address:e.address,useSandbox:r.fundingMethodConfig.moonpay.useSandbox??!1,config:{uiConfig:{accentColor:r.appearance.palette.accent,theme:r.appearance.palette.colorScheme},paymentMethod:o,currencyCode:u,quoteCurrencyAmount:kGe(e.amount)}});t.createAnalyticsEvent({eventName:"sdk_fiat_on_ramp_started",payload:{provider:"moonpay",value:e.amount,chainType:e.chainType,chainId:e.chainType==="ethereum"?e.chain.id:e.chain}}),l.location=h;let g={...a==null?void 0:a.funding,showAlternateFundingMethod:!0};e.usingDefaultFundingMethod&&(g.usingDefaultFundingMethod=!1),i({moonpayStatus:{},funding:g,solanaFundingData:a==null?void 0:a.solanaFundingData}),s(gre),setTimeout(()=>{i({moonpayStatus:{externalTransactionId:f},funding:g,solanaFundingData:a==null?void 0:a.solanaFundingData})},8e3)};let mre=async t=>typeof window<"u"&&"PaymentRequest"in window&&await new window.PaymentRequest([{supportedMethods:t}],{id:"0",total:{label:"Item",amount:{currency:"USD",value:"1.00"}}}).canMakePayment();const RGe=()=>mre("https://apple.com/apple-pay"),jGe=()=>mre("https://google.com/pay"),al={component:()=>{var I,A,O,F;let{wallets:t}=Mu(),{connectors:e}=rt(),r=e.filter(R4).flatMap(H=>H.wallets),{navigate:n,data:i,setModalData:s}=lt(),{client:a}=rt(),o=Ar(),l=i==null?void 0:i.funding,u=Pz(RGe),h=Pz(jGe),f=l.chainType==="solana",g=f?void 0:l,y=$.useMemo(()=>((H,L,z,V,K,B)=>{var M;let C,k,N=z.chainType==="solana",D=N?void 0:z,P=z.isUSDC?"USDC":D!=null&&D.erc20Address?void 0:"native-currency",R=!!N||P&&Swe(Number(z.chain.id),P),j=!!N||P&&Jwe(Number(z.chain.id),P),W=[];for(let G of(z.preferredCardProvider&&z.supportedOptions.sort(re=>re.provider===z.preferredCardProvider?-1:1),z.supportedOptions))G.method==="card"&&G.provider==="coinbase"&&j&&W.push(()=>jz(L,z,V,K,B,"buy")),G.method==="card"&&G.provider==="moonpay"&&R&&P&&W.push(()=>MGe(L,z,H,P,V,K,B,"credit_debit_card"));for(let G of z.supportedOptions)G.method==="exchange"&&G.provider==="coinbase"&&j&&(C=()=>jz(L,z,V,K,B,"buy"));for(let G of((M=B==null?void 0:B.funding)==null?void 0:M.supportedOptions)??[])G.method==="wallets"&&(k=()=>K(Vb));return{onFundWithCard:W,onFundWithExchange:C,onFundWithWallet:k}})(o,a,l,s,n,i),[o,a,l,i,s,n]),b=f?r.find(({address:H})=>H===l.address):t.find(({address:H})=>ei(H)===ei(l.address)),w=lh((b==null?void 0:b.walletClientType)||"unknown"),x=(w==null?void 0:w.name)||"wallet",E=b&&b.walletClientType!=="privy"?x:o.name,S=$.useMemo(()=>{var H,L,z,V;return(L=(H=l.uiConfig)==null?void 0:H.landing)!=null&&L.title?(V=(z=l.uiConfig)==null?void 0:z.landing)==null?void 0:V.title:`Add funds to your ${E!=null&&E.toLowerCase().endsWith("wallet")?E:E+" wallet"}`},[(A=(I=l.uiConfig)==null?void 0:I.landing)==null?void 0:A.title,E]);$.useEffect(()=>{if(l!=null&&l.defaultFundingMethod&&l.usingDefaultFundingMethod)switch(s({funding:{...l,usingDefaultFundingMethod:!1},solanaFundingData:i==null?void 0:i.solanaFundingData}),l==null?void 0:l.defaultFundingMethod){case"card":y.onFundWithCard[0]&&y.onFundWithCard[0]();break;case"exchange":y.onFundWithExchange&&y.onFundWithExchange();break;case"wallet":y.onFundWithWallet&&y.onFundWithWallet();break;case"manual":n(K5)}},[]),$.useEffect(()=>{g!=null&&g.erc20Address&&!g.erc20ContractInfo&&ire({address:g.erc20Address,chain:g.chain,rpcConfig:o.rpcConfig,privyAppId:o.id}).then(H=>{s({...i,funding:{...g,erc20ContractInfo:H?{symbol:H.symbol,decimals:H.decimals}:void 0}})}).catch(console.error)},[g==null?void 0:g.erc20Address,g==null?void 0:g.chain]);let _=!(!(g!=null&&g.erc20Address)||g!=null&&g.erc20ContractInfo);return p.jsxs(p.Fragment,{children:[p.jsx(Co,{}),p.jsx("h3",{children:S}),p.jsxs(mGe,{children:[l.errorMessage&&p.jsx(nre,{theme:o.appearance.palette.colorScheme,children:l.errorMessage}),((O=y.onFundWithCard)==null?void 0:O[0])&&p.jsxs(En,{disabled:_,onClick:y.onFundWithCard[0],children:[p.jsx(yy,{children:p.jsx(n6e,{style:{width:24}})}),"Pay with card",u?p.jsx(tGe,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):h?p.jsx(rGe,{style:{marginLeft:"auto",maxWidth:"100%",width:"auto",height:"0.875rem"}}):null]}),y.onFundWithExchange&&p.jsxs(En,{disabled:_,onClick:y.onFundWithExchange,children:[p.jsx(yy,{children:p.jsx(N$,{style:{width:24}})}),"Transfer from an exchange"]}),y.onFundWithWallet&&p.jsxs(En,{disabled:_,onClick:y.onFundWithWallet,children:[p.jsx(yy,{children:p.jsx(Ste,{style:{width:24}})}),"Transfer from wallet"]}),p.jsxs(En,{disabled:_,onClick:()=>n(K5),children:[p.jsx(yy,{children:p.jsx(s6e,{style:{width:24}})}),"Receive funds"]}),(l==null?void 0:l.showAlternateFundingMethod)&&((F=y.onFundWithCard)==null?void 0:F[1])&&p.jsx(ere,{theme:o.appearance.palette.colorScheme,children:p.jsxs(bGe,{children:["Having trouble or facing location restrictions?"," ",p.jsx(wGe,{onClick:y.onFundWithCard[1],children:"Try a different provider."})]})})]}),p.jsx(Ur,{})]})}},K5={component:()=>{var z,V,K;let{wallets:t}=Mu(),{connectors:e}=rt(),r=e.filter(R4).flatMap(B=>B.wallets),{data:n,setModalData:i,navigate:s,lastScreen:a}=lt(),{rpcConfig:o,appId:l,createAnalyticsEvent:u,closePrivyModal:h}=rt(),f=Ar(),[g,y]=$.useState(void 0),[b,w]=$.useState(!1),x=n==null?void 0:n.funding,{reloadBalance:E}=rre({rpcConfig:o,appId:l,address:x.chainType==="ethereum"?x.address:void 0,chain:x.chainType==="ethereum"?x.chain:void 0}),S=x.chainType==="solana",_=S?x.isUSDC?"USDC":"SOL":x.erc20Address?(z=x.erc20ContractInfo)==null?void 0:z.symbol:x.chain.nativeCurrency.symbol,I=S?r.find(({address:B})=>B===x.address):t.find(({address:B})=>Es(B)===Es(x.address));if(!x)return i({errorModalData:{error:Error("Couldn't find funding config"),previousScreen:a||al},funding:n==null?void 0:n.funding,solanaFundingData:n==null?void 0:n.solanaFundingData,sendTransaction:n==null?void 0:n.sendTransaction}),s(_n),p.jsx(p.Fragment,{});$.useEffect(()=>{let B=S?async function(){if(x.chainType!=="solana")return;let k=f.solanaRpcs[x.chain];k?(x.isUSDC?async function({rpc:N,address:D,mintAddress:P}){var W;let R=await N.getTokenAccountsByOwner(D,{mint:P},{encoding:"jsonParsed",commitment:"confirmed"}).send(),j=(W=R.value[0])==null?void 0:W.account;return j?BigInt(j.data.parsed.info.tokenAmount.amount):0n}({rpc:k.rpc,address:x.address,mintAddress:b_(x.chain)}):cI({rpc:k.rpc,address:x.address})).then(N=>{let D=BigInt(N);g&&D>g&&(w(!0),u({eventName:gc,payload:{provider:"manual",status:"success",chainType:"solana",address:I==null?void 0:I.address,value:x.isUSDC?Ys(D-g,6):Ys(D-g,9),token:x.isUSDC?"USDC":"SOL"}})),y(D)}):console.warn("Unable to load solana rpc, skipping balance")}:async function(){x.chainType==="ethereum"&&(async()=>{if(!x.erc20Address)return await E()??BigInt(0);{let{balance:k}=await uI({chain:x.chain,address:x.address,erc20Address:x.erc20Address,rpcConfig:o,appId:l});return k}})().then(k=>{var N,D;g&&k>g&&(w(!0),u({eventName:gc,payload:{provider:"manual",status:"success",chainType:"ethereum",address:I==null?void 0:I.address,chainId:x.chain.id,value:Ys(k-g,((N=x.erc20ContractInfo)==null?void 0:N.decimals)??18),token:((D=x.erc20ContractInfo)==null?void 0:D.symbol)??x.erc20Address??"ETH"}})),y(k)}).catch(()=>y(void 0))},C=setInterval(B,2e3);return B(),()=>clearInterval(C)},[g]);let A=$.useMemo(()=>{var B;return g==null?"":x.isUSDC?XC({amount:g,decimals:6}):S?P3(g,3,!0,!0):((B=x.erc20ContractInfo)==null?void 0:B.decimals)!=null?XC({amount:g,decimals:x.erc20ContractInfo.decimals}):tve({wei:g})},[g,S,x]),O=x.chainType==="ethereum"?x.chain.name:nx(x.chain),F=$.useMemo(()=>{var B,C;return((B=x.uiConfig)==null?void 0:B.receiveFundsTitle)===""?null:p.jsx(rh,{children:((C=x.uiConfig)==null?void 0:C.receiveFundsTitle)??`Receive ${x.amount} ${_??""}`.trim()})},[(V=x.uiConfig)==null?void 0:V.receiveFundsTitle,x.amount,_]),H=$.useMemo(()=>{var B,C;return((B=x.uiConfig)==null?void 0:B.receiveFundsSubtitle)===""?null:p.jsx(Ff,{children:((C=x.uiConfig)==null?void 0:C.receiveFundsSubtitle)??`Scan this code or copy your wallet address to receive funds on ${O}.`})},[(K=x.uiConfig)==null?void 0:K.receiveFundsSubtitle,O]),L=x.chainType==="solana"&&x.isUSDC&&b_(x.chain)?`?spl-token=${b_(x.chain)}`:"";return p.jsxs(p.Fragment,{children:[p.jsx(Co,{}),F,H,p.jsxs(L4,{style:{gap:"1rem",margin:F||H?"1rem 0":"0"},children:[p.jsx(qb,{url:`${x.chainType}:${x.address}${L}`,size:200,squareLogoElement:DGe}),p.jsxs(ere,{theme:f.appearance.palette.colorScheme,children:["Make sure to send funds on ",O,"."]}),p.jsx(rx,{title:"Your wallet",errMsg:void 0,showCopyButton:!0,balance:`${A} ${_}`,address:x.address}),b&&p.jsx(Kr,{onClick:()=>h({shouldCallAuthOnSuccess:!1,isSuccess:!0}),children:"Continue"})]}),p.jsx(Ur,{})]})}};let DGe=({...t})=>p.jsx(See,{color:"black",...t}),UGe=[{constant:!0,inputs:[{name:"_owner",type:"address"}],name:"balanceOf",outputs:[{name:"balance",type:"uint256"}],payable:!1,stateMutability:"view",type:"function"}],BGe=({data:t})=>{let e=r=>typeof r=="object"&&r!==null?p.jsx(LGe,{children:Object.entries(r).map(([n,i])=>p.jsxs("li",{children:[p.jsxs("strong",{children:[n,":"]})," ",e(i)]},n))}):p.jsx("span",{children:String(r)});return p.jsx("div",{children:e(t)})};const yre=te.div.withConfig({displayName:"Message",componentId:"sc-70ec2a4f-0"})(["margin-top:1.5rem;background-color:var(--privy-color-background-2);border-radius:var(--privy-border-radius-md);padding:12px;text-align:left;max-height:310px;overflow:scroll;white-space:pre-wrap;width:100%;font-size:0.875rem;font-weight:400;color:var(--privy-color-foreground);line-height:1.5;-ms-overflow-style:none;scrollbar-width:none;&::-webkit-scrollbar{display:none;}"]);let LGe=te.ul.withConfig({displayName:"MessageList",componentId:"sc-70ec2a4f-1"})(["margin-left:12px !important;white-space:nowrap;&:first-child{margin-left:0 !important;}strong{font-weight:500 !important;}"]);const bre=({data:t,className:e})=>p.jsx(yre,{className:e,children:p.jsx(BGe,{data:t})});let FGe=te.div.withConfig({displayName:"Container",componentId:"sc-b3a607dd-0"})(["display:flex;flex-direction:column;min-height:72px;"]);var zGe=({onBack:t,details:e})=>p.jsxs(FGe,{children:[p.jsx(ur,{backFn:t}),p.jsx(bre,{data:e}),p.jsx(Ur,{})]});const WGe=te(zr).withConfig({displayName:"InteractiveLabel",componentId:"sc-b57d0824-0"})(["cursor:pointer;display:inline-flex;gap:8px;align-items:center;color:var(--privy-color-accent);svg{fill:var(--privy-color-accent);}"]);var Uz=({iconUrl:t,value:e,symbol:r,usdValue:n,nftName:i,nftCount:s,decimals:a,$isLoading:o})=>{if(o)return p.jsx(Bz,{$isLoading:o});let l=e&&n&&a?function(u,h,f){let g=parseFloat(u),y=parseFloat(f);if(g===0||y===0||Number.isNaN(g)||Number.isNaN(y))return u;let b=Math.ceil(-Math.log10(.01/(y/g))),w=Math.pow(10,b=Math.max(b=Math.min(b,h),1)),x=+(Math.floor(g*w)/w).toFixed(b).replace(/\.?0+$/,"");return Intl.NumberFormat(void 0,{maximumFractionDigits:h}).format(x)}(e,a,n):e;return p.jsxs("div",{children:[p.jsxs(Bz,{$isLoading:o,children:[t&&p.jsx(HGe,{src:t,alt:"Token icon"}),s&&s>1?s+"x":void 0," ",i,l," ",r]}),n&&p.jsxs(qGe,{$isLoading:o,children:["$",n]})]})};let Bz=te.span.withConfig({displayName:"Value",componentId:"sc-991db279-0"})(["color:var(--privy-color-foreground);font-size:0.875rem;font-weight:500;line-height:1.375rem;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],J4);const qGe=te.span.withConfig({displayName:"Subvalue",componentId:"sc-991db279-1"})(["color:var(--privy-color-foreground-2);font-size:12px;font-weight:400;line-height:18px;word-break:break-all;text-align:right;display:flex;justify-content:flex-end;",""],J4);let HGe=te.img.withConfig({displayName:"TokenIcon",componentId:"sc-991db279-2"})(["height:14px;width:14px;margin-right:4px;object-fit:contain;"]);const VGe=t=>{var o,l,u,h,f,g,y,b;let{chain:e,transactionDetails:r,isTokenContractInfoLoading:n,symbol:i}=t,{action:s,functionName:a}=r;return p.jsx(tx,{children:p.jsxs(dI,{children:[s!=="transaction"&&p.jsxs(on,{children:[p.jsx(zr,{children:"Action"}),p.jsx(zn,{children:a})]}),a==="mint"&&"args"in r&&r.args.filter(w=>w).map((w,x)=>{var E,S;return p.jsxs(on,{children:[p.jsx(zr,{children:`Param ${x}`}),p.jsx(zn,{children:typeof w=="string"&&ta(w)?p.jsx(Gs,{address:w,url:(S=(E=e==null?void 0:e.blockExplorers)==null?void 0:E.default)==null?void 0:S.url,showCopyIcon:!1}):w==null?void 0:w.toString()})]},x)}),a==="setApprovalForAll"&&r.operator&&p.jsxs(on,{children:[p.jsx(zr,{children:"Operator"}),p.jsx(zn,{children:p.jsx(Gs,{address:r.operator,url:(l=(o=e==null?void 0:e.blockExplorers)==null?void 0:o.default)==null?void 0:l.url,showCopyIcon:!1})})]}),a==="setApprovalForAll"&&r.approved!==void 0&&p.jsxs(on,{children:[p.jsx(zr,{children:"Set approval to"}),p.jsx(zn,{children:r.approved?"true":"false"})]}),a==="transfer"||a==="transferFrom"||a==="safeTransferFrom"||a==="approve"?p.jsxs(p.Fragment,{children:["formattedAmount"in r&&r.formattedAmount&&p.jsxs(on,{children:[p.jsx(zr,{children:"Amount"}),p.jsxs(zn,{$isLoading:n,children:[r.formattedAmount," ",i]})]}),"tokenId"in r&&r.tokenId&&p.jsxs(on,{children:[p.jsx(zr,{children:"Token ID"}),p.jsx(zn,{children:r.tokenId.toString()})]})]}):null,a==="safeBatchTransferFrom"&&p.jsxs(p.Fragment,{children:["amounts"in r&&r.amounts&&p.jsxs(on,{children:[p.jsx(zr,{children:"Amounts"}),p.jsx(zn,{children:r.amounts.join(", ")})]}),"tokenIds"in r&&r.tokenIds&&p.jsxs(on,{children:[p.jsx(zr,{children:"Token IDs"}),p.jsx(zn,{children:r.tokenIds.join(", ")})]})]}),a==="approve"&&r.spender&&p.jsxs(on,{children:[p.jsx(zr,{children:"Spender"}),p.jsx(zn,{children:p.jsx(Gs,{address:r.spender,url:(h=(u=e==null?void 0:e.blockExplorers)==null?void 0:u.default)==null?void 0:h.url,showCopyIcon:!1})})]}),(a==="transferFrom"||a==="safeTransferFrom"||a==="safeBatchTransferFrom")&&r.transferFrom&&p.jsxs(on,{children:[p.jsx(zr,{children:"Transferring from"}),p.jsx(zn,{children:p.jsx(Gs,{address:r.transferFrom,url:(g=(f=e==null?void 0:e.blockExplorers)==null?void 0:f.default)==null?void 0:g.url,showCopyIcon:!1})})]}),(a==="transferFrom"||a==="safeTransferFrom"||a==="safeBatchTransferFrom")&&r.transferTo&&p.jsxs(on,{children:[p.jsx(zr,{children:"Transferring to"}),p.jsx(zn,{children:p.jsx(Gs,{address:r.transferTo,url:(b=(y=e==null?void 0:e.blockExplorers)==null?void 0:y.default)==null?void 0:b.url,showCopyIcon:!1})})]})]})})},wre=({children:t,theme:e})=>p.jsxs(GGe,{$theme:e,children:[p.jsx(Jf,{width:"20px",height:"20px",color:"var(--privy-color-icon-warning)",strokeWidth:2,style:{flexShrink:0}}),p.jsx(KGe,{$theme:e,children:t})]});let GGe=te.div.withConfig({displayName:"Container",componentId:"sc-a77c2854-0"})(["display:flex;gap:0.75rem;background-color:var(--privy-color-warn-bg);align-items:flex-start;padding:1rem;border-radius:0.75rem;"]),KGe=te.div.withConfig({displayName:"Content",componentId:"sc-a77c2854-1"})(["color:",";font-size:1rem;font-weight:400;line-height:1.5;flex:1;text-align:left;"],t=>t.$theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-foreground)");const YGe=({variant:t,setPreventMaliciousTransaction:e,colorScheme:r="light",preventMaliciousTransaction:n})=>t==="warn"?p.jsx(Lz,{children:p.jsxs(wre,{theme:r,children:[p.jsx("span",{style:{fontWeight:"500"},children:"Warning: Suspicious transaction"}),p.jsx("br",{}),"This has been flagged as a potentially deceptive request. Approving could put your assets or funds at risk."]})}):t==="error"?p.jsx(p.Fragment,{children:p.jsxs(Lz,{children:[p.jsx(nre,{theme:r,children:p.jsxs("div",{children:[p.jsx("strong",{children:"This is a malicious transaction"}),p.jsx("br",{}),"This transaction transfers tokens to a known malicious address. Proceeding may result in the loss of valuable assets."]})}),p.jsxs(ZGe,{children:[p.jsx(ote,{color:"var(--privy-color-error)",checked:!n,readOnly:!0,onClick:()=>e(!n)}),p.jsx("span",{children:"I understand and want to proceed anyways."})]})]})}):null;let Lz=te.div.withConfig({displayName:"BannerContainer",componentId:"sc-ab8a5a0b-0"})(["margin-top:1.5rem;"]),ZGe=te.div.withConfig({displayName:"CheckboxContainer",componentId:"sc-ab8a5a0b-1"})(["display:flex;align-items:center;gap:0.5rem;margin-top:0.75rem;"]);const QGe=({transactionIndex:t,maxIndex:e})=>typeof t!="number"||e===0?"":` (${t+1} / ${e+1})`,XGe=({img:t,submitError:e,prepareError:r,onClose:n,action:i,title:s,subtitle:a,to:o,tokenAddress:l,network:u,missingFunds:h,fee:f,from:g,cta:y,disabled:b,chain:w,isSubmitting:x,isPreparing:E,isTokenPriceLoading:S,isTokenContractInfoLoading:_,isSponsored:I,symbol:A,balance:O,onClick:F,transactionDetails:H,transactionIndex:L,maxIndex:z,onBack:V,chainName:K,validation:B,hasScanDetails:C,setIsScanDetailsOpen:k,preventMaliciousTransaction:N,setPreventMaliciousTransaction:D,tokensSent:P,tokensReceived:R,isScanning:j,isCancellable:W,functionName:M})=>{var ce,be,ve,ge,Ee,ye;let{showTransactionDetails:G,setShowTransactionDetails:re,hasMoreDetails:q,isErc20Ish:X}=($e=>{let[we,qe]=$.useState(!1),Ge=!0,Ae=!1;return(!$e||$e.isErc20Ish||$e.action==="transaction")&&(Ge=!1),Ge&&(Ae=Object.entries($e||{}).some(([je,gt])=>gt&&!["action","isErc20Ish","isNFTIsh"].includes(je))),{showTransactionDetails:we,setShowTransactionDetails:qe,hasMoreDetails:Ge&&Ae,isErc20Ish:$e==null?void 0:$e.isErc20Ish}})(H),ne=Ar(),ee=X&&_||E||S||j;return p.jsxs(p.Fragment,{children:[p.jsx(ur,{onClose:n,backFn:V}),t&&p.jsx(tKe,{children:t}),p.jsxs(rh,{style:{marginTop:t?"1.5rem":0},children:[s,p.jsx(QGe,{maxIndex:z,transactionIndex:L})]}),p.jsx(Ff,{children:a}),p.jsxs(dI,{style:{marginTop:"2rem"},children:[(!!P[0]||ee)&&p.jsxs(on,{children:[R.length>0?p.jsx(zr,{children:"Send"}):p.jsx(zr,{children:i==="approve"?"Approval amount":"Amount"}),p.jsx("div",{className:"flex flex-col",children:P.map(($e,we)=>p.jsx(Uz,{iconUrl:$e.iconUrl,value:M==="setApprovalForAll"?"All":$e.value,usdValue:$e.usdValue,symbol:$e.symbol,nftName:$e.nftName,nftCount:$e.nftCount,decimals:$e.decimals},we))})]}),R.length>0&&p.jsxs(on,{children:[p.jsx(zr,{children:"Receive"}),p.jsx("div",{className:"flex flex-col",children:R.map(($e,we)=>p.jsx(Uz,{iconUrl:$e.iconUrl,value:$e.value,usdValue:$e.usdValue,symbol:$e.symbol,nftName:$e.nftName,nftCount:$e.nftCount,decimals:$e.decimals},we))})]}),H&&"spender"in H&&(H!=null&&H.spender)?p.jsxs(on,{children:[p.jsx(zr,{children:"Spender"}),p.jsx(zn,{children:p.jsx(Gs,{address:H.spender,url:(be=(ce=w==null?void 0:w.blockExplorers)==null?void 0:ce.default)==null?void 0:be.url})})]}):null,o&&p.jsxs(on,{children:[p.jsx(zr,{children:"To"}),p.jsx(zn,{children:p.jsx(Gs,{address:o,url:(ge=(ve=w==null?void 0:w.blockExplorers)==null?void 0:ve.default)==null?void 0:ge.url,showCopyIcon:!0})})]}),l&&p.jsxs(on,{children:[p.jsx(zr,{children:"Token address"}),p.jsx(zn,{children:p.jsx(Gs,{address:l,url:(ye=(Ee=w==null?void 0:w.blockExplorers)==null?void 0:Ee.default)==null?void 0:ye.url})})]}),p.jsxs(on,{children:[p.jsx(zr,{children:"Network"}),p.jsx(zn,{children:u})]}),p.jsxs(on,{children:[p.jsx(zr,{children:"Estimated fee"}),p.jsx(zn,{$isLoading:E||S||I===void 0,children:I?p.jsxs(rKe,{children:[p.jsxs(nKe,{children:["Sponsored by ",ne.name]}),p.jsx(y7e,{height:16,width:16})]}):f})]}),q&&!C&&p.jsxs(p.Fragment,{children:[p.jsx(on,{className:"cursor-pointer",onClick:()=>re(!G),children:p.jsxs(iGe,{className:"flex items-center gap-x-1",children:["Details"," ",p.jsx(Y$,{style:{width:"0.75rem",marginLeft:"0.25rem",transform:G?"rotate(180deg)":void 0}})]})}),G&&H&&p.jsx(VGe,{action:i,chain:w,transactionDetails:H,isTokenContractInfoLoading:_,symbol:A})]}),C&&p.jsx(on,{children:p.jsxs(WGe,{onClick:()=>k(!0),children:[p.jsx("span",{className:"text-color-primary",children:"Details"}),p.jsx(g7e,{height:"14px",width:"14px",strokeWidth:"2"})]})})]}),p.jsx(kg,{}),e?p.jsx(Lf,{style:{marginTop:"2rem"},children:e.message}):r&&L===0?p.jsx(Lf,{style:{marginTop:"2rem"},children:r.shortMessage??eKe}):null,p.jsx(YGe,{variant:B,preventMaliciousTransaction:N,setPreventMaliciousTransaction:D}),p.jsx(JGe,{$useSmallMargins:!(!r&&!e&&B!=="warn"&&B!=="error"),address:g,balance:O,errMsg:E||r||e||!h?void 0:`Add funds on ${(w==null?void 0:w.name)??K} to complete transaction.`}),p.jsx(Kr,{style:{marginTop:"1rem"},loading:x,disabled:b||E,onClick:F,children:y}),W&&p.jsx(U4,{style:{marginTop:"1rem"},onClick:n,isSubmitting:!1,children:"Not now"}),p.jsx(Ur,{})]})};let JGe=te(rx).withConfig({displayName:"StyledWalletInfoCard",componentId:"sc-4e16a794-0"})(["",""],t=>t.$useSmallMargins?"margin-top: 0.5rem;":"margin-top: 2rem;"),eKe="There was an error preparing your transaction. Your transaction request will likely fail.",tKe=te.div.withConfig({displayName:"ImageContainer",componentId:"sc-4e16a794-2"})(["display:flex;width:100%;justify-content:center;max-height:40px;> img{object-fit:contain;border-radius:var(--privy-border-radius-sm);}"]),rKe=te.span.withConfig({displayName:"SponsoredRow",componentId:"sc-4e16a794-3"})(["display:inline-flex;align-items:center;gap:0.3rem;"]),nKe=te.span.withConfig({displayName:"SponsoredText",componentId:"sc-4e16a794-4"})(["font-size:14px;font-weight:500;color:var(--privy-color-foreground);"]),iKe=()=>p.jsxs(cKe,{children:[p.jsx(dKe,{}),p.jsx(uKe,{})]});const sKe=({transactionError:t,chainId:e,onClose:r,onRetry:n,chainType:i,transactionHash:s})=>{let{chains:a}=rt(),[o,l]=$.useState(!1),{errorCode:u,errorMessage:h}=((g,y)=>{if(y==="ethereum")return{errorCode:g.details??g.message,errorMessage:g.shortMessage};let b=g.txSignature,w=(g==null?void 0:g.transactionMessage)||"Something went wrong.";if(Array.isArray(g.logs)){let x=g.logs.find(E=>/insufficient (lamports|funds)/gi.test(E));x&&(w=x)}return{transactionHash:b,errorMessage:w}})(t,i),f=(({chains:g,chainId:y,chainType:b,transactionHash:w})=>{var x,E;return b==="ethereum"?((E=(x=g.find(S=>S.id===y))==null?void 0:x.blockExplorers)==null?void 0:E.default.url)??"https://etherscan.io":function(S,_){return`https://explorer.solana.com/tx/${S}?chain=${_}`}(w||"",y)})({chains:a,chainId:e,chainType:i,transactionHash:s});return p.jsxs(p.Fragment,{children:[p.jsx(ur,{onClose:r}),p.jsxs(aKe,{children:[p.jsx(iKe,{}),p.jsx(oKe,{children:u}),p.jsx(lKe,{children:"Please try again."}),p.jsxs(zz,{children:[p.jsx(Fz,{children:"Error message"}),p.jsx(Wz,{$clickable:!1,children:h})]}),s&&p.jsxs(zz,{children:[p.jsx(Fz,{children:"Transaction hash"}),p.jsxs(fKe,{children:["Copy this hash to view details about the transaction on a"," ",p.jsx("u",{children:p.jsx("a",{href:f,children:"block explorer"})}),"."]}),p.jsxs(Wz,{$clickable:!0,onClick:async()=>{await navigator.clipboard.writeText(s),l(!0)},children:[s,p.jsx(mKe,{clicked:o})]})]}),p.jsx(hKe,{onClick:()=>n({resetNonce:!!s}),children:"Retry transaction"})]}),p.jsx(Gn,{})]})};let aKe=te.div.withConfig({displayName:"TransactionErrorScreenContainer",componentId:"sc-d58f10e6-0"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;"]),oKe=te.span.withConfig({displayName:"ErrorCode",componentId:"sc-d58f10e6-1"})(["color:var(--privy-color-foreground);text-align:center;font-size:1.125rem;font-weight:500;line-height:1.25rem;text-align:center;margin:10px;"]),lKe=te.span.withConfig({displayName:"Subtitle",componentId:"sc-d58f10e6-2"})(["margin-top:4px;margin-bottom:10px;color:var(--privy-color-foreground-3);text-align:center;font-size:0.875rem;font-style:normal;font-weight:400;line-height:20px;letter-spacing:-0.008px;"]),cKe=te.div.withConfig({displayName:"CircleContainer",componentId:"sc-d58f10e6-3"})(["position:relative;width:60px;height:60px;margin:10px;display:flex;justify-content:center;align-items:center;"]),uKe=te(P$).withConfig({displayName:"StyledExclamationCircleIcon",componentId:"sc-d58f10e6-4"})(["position:absolute;width:35px;height:35px;color:var(--privy-color-error);"]),dKe=te.div.withConfig({displayName:"StyledRedCircle",componentId:"sc-d58f10e6-5"})(["position:absolute;width:60px;height:60px;border-radius:50%;background-color:var(--privy-color-error);opacity:0.1;"]),hKe=te(Kr).withConfig({displayName:"RetryButton",componentId:"sc-d58f10e6-6"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]),Fz=te.span.withConfig({displayName:"TextBoxTitle",componentId:"sc-d58f10e6-7"})(["width:100%;text-align:left;font-size:0.825rem;color:var(--privy-color-foreground);padding:4px;"]),zz=te.div.withConfig({displayName:"TextBoxContainer",componentId:"sc-d58f10e6-8"})(["width:100%;margin:5px;display:flex;flex-direction:column;justify-content:center;align-items:center;"]),fKe=te.text.withConfig({displayName:"HelperText",componentId:"sc-d58f10e6-9"})(["position:relative;width:100%;padding:5px;font-size:0.8rem;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;"]),Wz=te.span.withConfig({displayName:"TextBox",componentId:"sc-d58f10e6-10"})(["position:relative;width:100%;background-color:var(--privy-color-background-2);padding:8px 12px;border-radius:10px;margin-top:5px;font-size:14px;color:var(--privy-color-foreground-3);text-align:left;word-wrap:break-word;",""],t=>t.$clickable&&`cursor: pointer;
  transition: background-color 0.3s;
  padding-right: 45px;

  &:hover {
    background-color: var(--privy-color-foreground-4);
  }`),pKe=te(S7e).withConfig({displayName:"StyledClipboardIcon",componentId:"sc-d58f10e6-11"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),gKe=te(VZ).withConfig({displayName:"StyledClipboardCheckIcon",componentId:"sc-d58f10e6-12"})(["position:absolute;top:13px;right:13px;width:24px;height:24px;"]),mKe=({clicked:t})=>p.jsx(t?gKe:pKe,{}),yKe=({gasUsed:t,effectiveGasPrice:e})=>{if(t&&e)try{return qn(t*e)}catch{return}};const bKe=({txn:t,receipt:e,transactionInfo:r,onClose:n,tokenPrice:i,tokenSymbol:s,receiptHeader:a,receiptDescription:o})=>p.jsxs(p.Fragment,{children:[p.jsx(ur,{onClose:n}),p.jsx(zWe,{title:a??"Transaction complete!",description:o??"You're all set."}),p.jsx(Yee,{tokenPrice:i,from:e.from,to:e.to,gas:yKe(e),txn:t,transactionInfo:r,tokenSymbol:s}),p.jsx(kg,{}),p.jsx(wKe,{loading:!1,onClick:n,children:"All Done"}),p.jsx(El,{}),p.jsx(Ur,{})]});let wKe=te(Kr).withConfig({displayName:"SubmitButton",componentId:"sc-f70d0f7a-0"})(["&&{margin-top:24px;}transition:color 350ms ease,background-color 350ms ease;"]);const vKe=[{constant:!1,inputs:[{name:"_salt",type:"bytes32"},{name:"_initializer",type:"bytes"}],name:"deployAccount",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],xKe=[{name:"from",type:"address"},{name:"param2",type:"address"},{name:"param3",type:"bytes"},{name:"param4",type:"tuple",components:[]},{type:"tuple",components:[{name:"param5",type:"address"},{name:"param6",type:"uint256"},{name:"param7",type:"uint256"},{name:"encodedInitData",type:"bytes"}]}],EKe=[{constant:!1,inputs:[{name:"spender",type:"address"},{name:"value",type:"uint256"}],name:"approve",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],_Ke=[{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"mint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"uint256",name:"quantity",type:"uint256"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256[]",name:"tokenIds",type:"uint256[]"},{internalType:"uint256[]",name:"quantities",type:"uint256[]"},{internalType:"bytes",name:"data",type:"bytes"}],name:"mintBatch",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"quantity",type:"uint256"}],name:"mint",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"tokenId",type:"uint256"},{internalType:"string",name:"uri",type:"string"}],name:"safeMint",outputs:[],stateMutability:"payable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"to",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"batchMint",outputs:[],stateMutability:"payable",type:"function"}],CKe=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],AKe=[{constant:!1,inputs:[{name:"_operator",type:"address"},{name:"_approved",type:"bool"}],name:"setApprovalForAll",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],SKe=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"}],name:"transferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],kKe=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenIds",type:"uint256[]"},{name:"_amounts",type:"uint256[]"},{name:"_data",type:"bytes"}],name:"safeBatchTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],$Ke=[{constant:!1,inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_tokenId",type:"uint256"},{name:"_amount",type:"uint256"},{name:"_data",type:"bytes"}],name:"safeTransferFrom",outputs:[{name:"",type:"bool"}],payable:!1,stateMutability:"nonpayable",type:"function"}],vre=(t,e)=>{let r=Qc(EKe,t);if(r)return{action:"approve",functionName:"approve",isErc20Ish:!0,isNFTIsh:!1,spender:r.args[0],amount:r.args[1]};let n=Qc(zS,t);if(n)return{action:"transfer",functionName:"transfer",isErc20Ish:!0,isNFTIsh:!1,transferTo:n.args[0],amount:n.args[1]};if(!e)return{action:"transaction",functionName:"",isErc20Ish:!1,isNFTIsh:!1};let i=Qc(vKe,t);if(i&&typeof i.args[1]=="string"){let f=TKe(i.args[1]);if(f&&f[4].encodedInitData)return vre(f[4].encodedInitData,e)}let s=Qc(AKe,t);if(s)return{action:"approve",functionName:"setApprovalForAll",isNFTIsh:!0,isErc20Ish:!1,operator:s.args[0],approved:s.args[1]};let a=Qc(SKe,t);if(a)return{action:"transfer",functionName:"transferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:a.args[0],transferTo:a.args[1],tokenId:a.args[2]};let o=Qc(CKe,t);if(o)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:o.args[0],transferTo:o.args[1],tokenId:o.args[2]};let l=Qc($Ke,t);if(l)return{action:"transfer",functionName:"safeTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:l.args[0],transferTo:l.args[1],tokenId:l.args[2],amount:l.args[3]};let u=Qc(kKe,t);if(u)return{action:"batch transfer",functionName:"safeBatchTransferFrom",isNFTIsh:!0,isErc20Ish:!1,transferFrom:u.args[0],transferTo:u.args[1],tokenIds:u.args[2],amounts:u.args[3]};let h=Qc(_Ke,t);return h?{action:"mint",functionName:h.functionName,isNFTIsh:!0,isErc20Ish:!1,args:h.args}:{action:"transaction",isErc20Ish:!1,isNFTIsh:!1}};let Qc=(t,e)=>{try{let r=eH({abi:t,data:e});return{functionName:r.functionName,args:r.args||[]}}catch{return null}},TKe=t=>{try{if(typeof t=="string")return jg(xKe,`0x${t.slice(10)}`)}catch{return null}},w_=t=>`${parseFloat(t).toFixed(2)}`;function IKe(t,e){var i,s,a,o,l;let r=[],n=new Map;if(t){for(let u of t)if(u.in[0]){let h;h=u.asset.type==="ERC721"||u.in[0].value==="approve_for_all"?{id:`nft:${u.asset.name}`,nftName:u.asset.name,nftCount:u.in.length}:{id:`token:${u.asset.type}:${u.asset.symbol}:${u.asset.name}`,iconUrl:u.asset.logo_url,value:u.in[0].value,symbol:u.asset.symbol,usdValue:u.in[0].usd_price?w_(u.in[0].usd_price):void 0,decimals:u.asset.decimals},r.push(h)}else if((i=u.out[0])!=null&&i.value){let h;h=u.asset.type==="ERC721"||u.out[0].value==="approve_for_all"?{id:`nft:${u.asset.name}`,nftName:u.asset.name}:{id:`token:${u.asset.type}:${u.asset.symbol}:${u.asset.name}`,iconUrl:u.asset.logo_url,value:u.out[0].value,symbol:u.asset.symbol,usdValue:u.out[0].usd_price?w_(u.out[0].usd_price):void 0,decimals:u.asset.decimals},n.has(h.id)||n.set(h.id,h)}}for(let u of e)for(let h of Object.keys(u.spenders)){let f;f=u.asset.type==="ERC721"||((s=u.spenders[h])==null?void 0:s.value)==="approve_for_all"?{id:`nft:${u.asset.name}`,nftName:u.asset.name}:{id:`token:${u.asset.type}:${u.asset.symbol}:${u.asset.name}`,iconUrl:u.asset.logo_url,value:(a=u.spenders[h])==null?void 0:a.value,symbol:u.asset.symbol,usdValue:(o=u.spenders[h])!=null&&o.usd_price?w_((l=u.spenders[h])==null?void 0:l.usd_price):void 0,decimals:u.asset.decimals},n.has(f.id)||n.set(f.id,f)}return{assetsIn:r,assetsOut:Array.from(n.values())}}const NKe=(t,e,r,n)=>{let[i,s]=$.useState(null),{walletProxy:a}=rt();return $.useEffect(()=>{i&&s(null),(async()=>{if(!a||!e)return null;let o=[],l=!0,u=await W5(t,r,e,n).catch(h=>(h.message&&h.message.includes("Insufficient balance for transaction")||h.details&&h.details.includes("insufficient funds")?l=!1:o.push(h),t));return{tx:u,totalGasEstimate:u.gas,hasFunds:l,errors:o}})().then(s)},[t]),i};let qz=new as(new tg("There was an issue preparing your transaction",Xo.E32603_DEFAULT_INTERNAL_ERROR.eipCode)),Hz=(t,e)=>t!=null&&t.sendTransaction?"transactionRequest"in t.sendTransaction?t.sendTransaction.transactionRequest:t.sendTransaction.transactionRequests[e]:void 0;const xre={component:()=>{var Nt,Le,gr,Kt,Vt,Un,Y,Q,oe,ie,le,pe,Te,Ne,Tt,mt,ut,At;let{data:t,onUserCloseViaDialogOrKeybindRef:e,setModalData:r,navigate:n}=lt(),{client:i,rpcConfig:s,chains:a,closePrivyModal:o,walletProxy:l,showFiatPrices:u}=rt(),{user:h}=fr(),f=Ar(),[g,y]=$.useState(0),[b,w]=$.useState(0),[x,E]=$.useState(Hz(t,g)),[S,_]=$.useState(null),[I,A]=$.useState(),[O,F]=$.useState(!1),[H,L]=$.useState(null),[z,V]=$.useState(null),[K,B]=$.useState(null),[C,k]=$.useState(void 0),[N,D]=$.useState(void 0),[P,R]=$.useState(!1),[j,W]=$.useState(!1),[M,G]=$.useState([]),[re,q]=$.useState([]),[X,ne]=$.useState("uninitiated"),[ee,ce]=$.useState(void 0);if(!x||!(t!=null&&t.sendTransaction)||!(t!=null&&t.sendTransaction))return p.jsx(Q4,{error:Error("Invalid transaction request"),allowlistConfig:f.allowlistConfig,onRetry:()=>{var Ue;(Ue=t==null?void 0:t.sendTransaction)==null||Ue.onFailure(qz),o({shouldCallAuthOnSuccess:!1})}});let{transactingWalletAddress:be}=t.sendTransaction,ve=$.useMemo(()=>a.find(Ue=>Number(Ue.id)===Number(x.chainId)),[x.chainId]),ge=(ve==null?void 0:ve.nativeCurrency.symbol)??"ETH",Ee=$.useMemo(()=>vre(x.data,!!f.embeddedWallets.extendedCalldataDecoding),[x.data]),{action:ye,isErc20Ish:$e,isNFTIsh:we,functionName:qe}=Ee,{toAddress:Ge,tokenAddress:Ae}=$.useMemo(()=>({toAddress:Ee.isErc20Ish?Ee.transferTo:x.to??void 0,tokenAddress:Ee.isErc20Ish?x.to:void 0}),[Ee]);$.useEffect(()=>{x.to&&ve&&$e&&ire({address:x.to,chain:ve,rpcConfig:f.rpcConfig,privyAppId:f.id}).then(_).catch(console.error)},[x.to,ve]);let{tokenPrice:je,isTokenPriceLoading:gt}=zb(x.chainId),{balance:Qt}=rre({rpcConfig:f.rpcConfig,appId:f.id,address:be,chain:ve}),Ie=function({rpcConfig:Ue,appId:tt,address:Je,chain:at,tokenInfo:ot}){let{chains:qt}=rt(),[er,Rt]=$.useState(null),[kt,zt]=$.useState(!1),jr=$.useMemo(()=>{let Et=at||qt[0];if(Et)return _u({chain:at,transport:Cu(Tbe(Et,Ue,tt))})},[at,Ue,tt]),$n=$.useCallback(async()=>{if(Je&&jr&&ot.address)try{return zt(!0),await jr.readContract({address:ot.address,abi:UGe,functionName:"balanceOf",args:[Je]})}catch(Et){console.error(Et)}finally{zt(!1)}},[jr,Je,ot==null?void 0:ot.address,at]);return $.useEffect(()=>{$n().then(Et=>Et!=null&&Rt(Et))},[$n]),{balance:er,isLoading:kt&&er==null,formattedBalance:XC({amount:er??BigInt(0),decimals:ot.decimals})}}({rpcConfig:f.rpcConfig,appId:f.id,address:be,tokenInfo:{address:Ae||"",decimals:(S==null?void 0:S.decimals)??18},chain:ve}),pt=$.useMemo(()=>Sg(Number(x.chainId),a,s,{appId:f.id}),[x.chainId,s]),Ze=NKe(x,be,pt,(Nt=t==null?void 0:t.sendTransaction)==null?void 0:Nt.prepareTransactionRequest);$.useEffect(()=>{E(Hz(t,g))},[g]),$.useEffect(()=>{var Ue;(Ue=t.sendTransaction)!=null&&Ue.getIsSponsored?t.sendTransaction.getIsSponsored().then(A).catch(console.error):A(!1)},[t.sendTransaction.getIsSponsored]);let ht=()=>{var Ue,tt,Je;if(!O)return H?(Ue=t==null?void 0:t.sendTransaction)==null||Ue.onSuccess({hash:H}):K||Ze!=null&&Ze.errors[0]?(tt=t==null?void 0:t.sendTransaction)==null||tt.onFailure(K??(Ze==null?void 0:Ze.errors[0])??qz):(Je=t==null?void 0:t.sendTransaction)==null||Je.onFailure(new as(new tg("The user rejected the request",Xo.E4001_USER_REJECTED_REQUEST.eipCode))),o({shouldCallAuthOnSuccess:!1})};e.current=ht;let bt=!!(t.funding&&t.funding.supportedOptions.length>0),jt=sl(BigInt((Ze==null?void 0:Ze.totalGasEstimate)??0n),ge),yt=u&&je?bf(BigInt((Ze==null?void 0:Ze.totalGasEstimate)??0n),je):void 0,Dt=sl(Qt??0n,ge,void 0,!0),Qe=u&&je?bf(Qt??0n,je):void 0,Be=S&&!Ie.isLoading&&$e&&ye!=="approve"?`${Ie.formattedBalance} ${S.symbol}`:void 0,Me=(Kt=(gr=(Le=t.sendTransaction)==null?void 0:Le.uiOptions)==null?void 0:gr.transactionInfo)==null?void 0:Kt.title;Me||(Me=ye==="approve"?$e?"Confirm address":"Confirm action":`Approve ${ye}`);let Xe=$.useMemo(()=>{var Ue,tt,Je,at,ot,qt,er,Rt;if((tt=(Ue=t.sendTransaction)==null?void 0:Ue.uiOptions)!=null&&tt.description)return(at=(Je=t.sendTransaction)==null?void 0:Je.uiOptions)==null?void 0:at.description;if(ye==="approve"&&qe==="setApprovalForAll"&&Ee.approved){let kt=p.jsx(Gs,{address:Ee.operator||"",url:(qt=(ot=ve==null?void 0:ve.blockExplorers)==null?void 0:ot.default)==null?void 0:qt.url});return p.jsxs(p.Fragment,{children:[f.name," would like your permission for ",kt," to transfer tokens on your behalf."]})}if(ye==="approve"&&qe==="setApprovalForAll"&&!Ee.approved){let kt=p.jsx(Gs,{address:Ee.operator||"",url:(Rt=(er=ve==null?void 0:ve.blockExplorers)==null?void 0:er.default)==null?void 0:Rt.url});return p.jsxs(p.Fragment,{children:[f.name," would like your permission to revoke permissions of ",kt," from transferring tokens on your behalf."]})}return $e&&ye==="approve"||$e&&ye==="approve"?`${f.name} would like your permission for ${Es(Ee.spender)} to spend tokens on your behalf.`:`${f.name} wants your permission to approve the following transaction.`},[f.name,$e,Ee,(Vt=t.sendTransaction)==null?void 0:Vt.uiOptions.description,qe]),vt=(oe=(Q=(Y=(Un=t.sendTransaction)==null?void 0:Un.uiOptions)==null?void 0:Y.transactionInfo)==null?void 0:Q.contractInfo)!=null&&oe.imgUrl?p.jsx("img",{src:t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgUrl,alt:t.sendTransaction.uiOptions.transactionInfo.contractInfo.imgAltText}):null,st=!(!Ze||Ze.errors[0]||Ze.hasFunds||I!==!1),ct=st&&bt,We=ct?"Add funds":((le=(ie=t.sendTransaction)==null?void 0:ie.uiOptions)==null?void 0:le.buttonText)||(g<b?"Continue":"Approve"),St=Ue=>{if(!Ue)throw Error("Transaction scan failed");if(Ue.validation.status==="Success"&&(Ue.validation.result_type==="Benign"?D("safe"):Ue.validation.result_type==="Warning"?D("warn"):Ue.validation.result_type==="Malicious"&&(D("error"),W(!0))),Ue.simulation.status!=="Success")throw Error("Simulation failed");{k(Ue.simulation.params);let{assetsIn:tt,assetsOut:Je}=IKe(Ue.simulation.assets_diffs,Ue.simulation.exposures);if(Je.length===0&&tt.length===0)throw Error("No tokens found");G(Je),q(tt)}};if($.useEffect(()=>{var Ue;(Ue=t.sendTransaction)!=null&&Ue.scanTransaction&&f.embeddedWallets.transactionScanning.enabled&&X==="uninitiated"&&(ne("in progress"),t.sendTransaction.scanTransaction().then(tt=>{St(tt),ne("completed")}).catch(()=>ne("failed")))},[!!((pe=t.sendTransaction)!=null&&pe.scanTransaction)]),$.useEffect(()=>{var Ue;(Ue=t.sendTransaction)!=null&&Ue.scanTransaction&&X!=="failed"||((tt,Je,at)=>{if(w((ot=>ot!=null&&ot.sendTransaction?"transactionRequest"in ot.sendTransaction?0:ot.sendTransaction.transactionRequests.length-1:0)(t)),Je.isErc20Ish&&Je.amount&&at){let ot=G5({amount:Je.amount,decimals:at.decimals});ce(ot),G([{value:ot,symbol:at==null?void 0:at.symbol,decimals:at==null?void 0:at.decimals}])}else if(tt.value){let ot=BigInt(tt.value),qt=je?bf(ot,je):void 0;G(u&&qt?[{value:qt}]:[{value:Fee(ot),symbol:ge,decimals:18,usdValue:qt}])}else G(u?[{value:"$0"}]:[{value:"0",symbol:ge,decimals:18}])})((Ze==null?void 0:Ze.tx)??x,Ee,S)},[x,Ze==null?void 0:Ze.tx,Ee,S,X]),z)return p.jsx(bKe,{txn:(Ze==null?void 0:Ze.tx)??x,onClose:ht,receipt:z,transactionInfo:(Te=t.sendTransaction)==null?void 0:Te.uiOptions.transactionInfo,tokenPrice:je,tokenSymbol:ge,receiptHeader:(Ne=t.sendTransaction)==null?void 0:Ne.uiOptions.successHeader,receiptDescription:(Tt=t.sendTransaction)==null?void 0:Tt.uiOptions.successDescription});if(K)return p.jsx(sKe,{transactionError:K,transactionHash:H??void 0,chainType:"ethereum",chainId:(Ze==null?void 0:Ze.tx.chainId)??x.chainId,onClose:ht,onRetry:({resetNonce:Ue})=>{B(null);let tt={...(Ze==null?void 0:Ze.tx)??x};Ue&&(tt.nonce=void 0),E(tt)}});let Jt=b!==0&&typeof g=="number"&&g!==0?()=>{y(g-1)}:void 0;return P&&C?p.jsx(zGe,{details:C,onBack:()=>R(!1)}):p.jsx(XGe,{transactionIndex:g,onBack:Jt,maxIndex:b,disabled:st&&!bt||j,isSubmitting:O,submitError:K,isPreparing:!Ze,isTokenPriceLoading:gt,isTokenContractInfoLoading:!we&&!S,prepareError:Ze==null?void 0:Ze.errors[0],symbol:S==null?void 0:S.symbol,chain:ve,img:vt,title:Me,subtitle:Xe,txValue:x.value,fee:yt??jt,isSponsored:I,from:be??"",to:Ge,tokenAddress:Ae??void 0,network:((mt=f.chains.find(Ue=>Ue.id===x.chainId))==null?void 0:mt.name)??"",transactionDetails:{...Ee,formattedAmount:ee},cta:We,missingFunds:st,action:ye,balance:Be??Qe??Dt,onClose:ht,onClick:ct?async()=>{var Ue;if(be){if(!bt)throw Error("Funding wallet is not enabled");r({...t,funding:{...t.funding,methodScreen:al,chainType:"ethereum",amount:Vf(BigInt((Ze==null?void 0:Ze.tx.value)??0)+BigInt(((Ue=Ze==null?void 0:Ze.totalGasEstimate)==null?void 0:Ue.toString())??0)),chain:ve},solanaFundingData:t==null?void 0:t.solanaFundingData}),n(al)}}:async()=>{var Ue,tt;if(g<b)y(g+1);else{F(!0);try{let Je=await i.getAccessToken();if(O||!Je||!l||!h)return;let at=await t.sendTransaction.onConfirm({transactionRequest:(Ze==null?void 0:Ze.tx)??x});if(L(at),(Ue=t.sendTransaction)==null?void 0:Ue.signOnly)return await new Promise(qt=>setTimeout(qt,yn)),(tt=t==null?void 0:t.sendTransaction)==null||tt.onSuccess({hash:at}),o({shouldCallAuthOnSuccess:!1});let ot=await pt.waitForTransactionReceipt({hash:at});if(ot.status==="reverted")throw Error("Transaction failed");V(ot)}catch(Je){console.warn({transaction:(Ze==null?void 0:Ze.tx)??x,error:Je}),B(Je)}finally{F(!1)}}},validation:N,hasScanDetails:!!C,setIsScanDetailsOpen:R,preventMaliciousTransaction:j,setPreventMaliciousTransaction:W,tokensSent:M,tokensReceived:re,isScanning:X==="in progress",isCancellable:((At=(ut=t.sendTransaction)==null?void 0:ut.uiOptions)==null?void 0:At.isCancellable)??!1,functionName:qe})}};function Co({title:t}){var a,o;let{currentScreen:e,navigateBack:r,navigate:n,data:i,setModalData:s}=lt();return p.jsx(ur,{title:t,backFn:e===K5?r:e===((a=i==null?void 0:i.funding)==null?void 0:a.methodScreen)?i.funding.comingFromSendTransactionScreen?()=>n(xre):void 0:(o=i==null?void 0:i.funding)!=null&&o.methodScreen?()=>{let l=i.funding;l.usingDefaultFundingMethod&&(l.usingDefaultFundingMethod=!1),s({funding:l,solanaFundingData:i==null?void 0:i.solanaFundingData}),n(l.methodScreen)}:void 0})}const Ere={component:()=>{let t=Ar(),{rpcConfig:e,appId:r,closePrivyModal:n,createAnalyticsEvent:i}=rt(),{navigate:s,setModalData:a,app:o,data:l}=lt(),{wallets:u}=Mu(),[h,f]=$.useState(null),[g,y]=$.useState(null),[b,w]=$.useState([]),[x,E]=$.useState(0),[S,_]=$.useState(!1),[I,A]=$.useState(!1),[O,F]=$.useState(!1),[H,L]=$.useState(!1),[z,V]=$.useState(),[K,B]=$.useState();if(!(l!=null&&l.funding)||l.funding.chainType!=="solana")throw Error("Invalid funding data");let{address:C,chain:k,connectedWalletAddress:N}=l.funding,[D,P]=$.useState(l.funding.amount),R=N?u.find(({address:Ee})=>Ee===N):u[0],j=lh((R==null?void 0:R.walletClientType)||"unknown"),W=(j==null?void 0:j.name)||"wallet",[M,G]=$.useState(null);$.useEffect(()=>{(async()=>{if(!R)return;let Ee=await R.getEthereumProvider();G(pG({account:R.address,transport:mG(Ee)}).extend(r$))})().catch(console.error)},[R]);let[re,q]=$.useState(0n),X=P3(re);$.useEffect(()=>{let Ee=t.solanaRpcs[k];Ee?cI({rpc:Ee.rpc,address:C}).then(ye=>q(BigInt(ye))).catch(console.error):console.warn("Unable to load solana rpc, skipping balance")},[]);let[ne,ee]=$.useState(),{tokenPrice:ce}=zb("solana"),{fundingAmountInBaseUnit:be,fundingAmountInUsd:ve}=function({amount:Ee,fee:ye,tokenPrice:$e,isUsdc:we}){let qe=BigInt(Math.floor(parseFloat(Ee)*10**(we?6:9))),Ge=we?qe:qe+ye;return{fundingAmountInBaseUnit:qe,fundingAmountInUsd:$e?f_(qe,$e):void 0,totalPriceInUsd:$e?f_(Ge,$e):void 0,totalPriceInNativeCurrency:P3(Ge),feePriceInNativeCurrency:P3(ye),feePriceInUsd:$e?f_(ye,$e):void 0}}({amount:D,fee:0n,tokenPrice:ce,isUsdc:l.funding.isUSDC});if($.useEffect(()=>{(async()=>{if(!M||!R)return;let Ee=["solana:testnet","solana:devnet"].includes(k);Ee&&console.warn("Solana testnets are not supported for bridging");let ye=a$(o.chains).filter(({testnet:Ae})=>!!Ae===Ee),$e=(await sre({chains:ye,address:R.address,appId:r,rpcConfig:e})).filter(Ae=>Ae.balance>0n);if($e.length<1)return void f(new ue(`Wallet ${Es(R.address)} does not have enough funds.`,void 0,fe.INSUFFICIENT_BALANCE));$e.sort((Ae,je)=>Number(je.balance-Ae.balance));let we=(await Promise.allSettled($e.map(async Ae=>({...Ae,quote:await Z2({isTestnet:!1,input:ng({amount:be.toString(),user:R.address,recipient:C,destinationChainId:PS,destinationCurrency:OS,originChainId:Ae.chain.id})})})))).filter(Ae=>Ae.status==="fulfilled").map(Ae=>Ae.value);if(we.length<1)return void f(new ue(`Unable to fetch quotes for bridging. Wallet ${Es(R.address)} does not have enough funds.`,void 0,fe.INSUFFICIENT_BALANCE));let qe=we.map(({quote:Ae,balance:je,chain:gt})=>({bridgeTx:q5(Ae),balance:je,chain:gt,isErc20Quote:!1})).filter(({bridgeTx:Ae})=>!!Ae);if(qe.length>1)return void w(qe);let Ge=qe.at(0);Ge?(A(!0),ee({data:Ge.bridgeTx.data,to:Ge.bridgeTx.to,value:Ge.bridgeTx.value,chain:Ge.chain})):f(new ue(`Unable to select bridge option from quotes. Wallet ${Es(R.address)} does not have enough funds.`,void 0,fe.INSUFFICIENT_BALANCE))})().catch(console.error)},[M]),$.useEffect(()=>{(async()=>{let Ee,ye;if(!M||!R||S||O||!ne)return;_(!0);let $e=_u({chain:ne.chain,transport:Cu(Iu(ne.chain,e,r))});try{Ee=await $e.prepareTransactionRequest({account:R.address,to:ne.to,chain:ne.chain,data:ne.data,value:BigInt(ne.value??0)})}catch(we){console.error(we),b.length>1&&y(we.shortMessage??"Something went wrong")}if(Ee){_(!1),F(!0);try{await M.switchChain({id:ne.chain.id})}catch{await M.addChain({chain:ne.chain}),await M.switchChain({id:ne.chain.id})}try{ye=await M.sendTransaction(Ee)}catch(we){console.error(we),we.name==="TransactionExecutionError"&&(b.length<1?f(new ue(we.shortMessage,void 0,fe.TRANSACTION_FAILURE)):y(we.shortMessage??"Something went wrong"))}if(ye)return await M.waitForTransactionReceipt({hash:ye}),I?(B("pending"),void V(ye)):(F(!1),L(!0),void i({eventName:gc,payload:{provider:"external",status:"success",txHash:ye,address:R.address,chainId:ne.chain.id,chainType:"ethereum",value:ne.value?Ys(BigInt(ne.value),18):void 0,token:"ETH",destination:C,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:Ys(be,9),destinationToken:"SOL"}}));F(!1)}else _(!1)})().catch(console.error)},[M,ne]),aI({transactionHash:z,isTestnet:!1,bridgingStatus:K,setBridgingStatus:B,onSuccess({transactionHash:Ee}){A(!1),L(!0),i({eventName:gc,payload:{provider:"external",status:"success",txHash:Ee,address:R==null?void 0:R.address,chainId:ne==null?void 0:ne.chain.id,chainType:"ethereum",value:ne!=null&&ne.value?Ys(BigInt(ne.value),18):void 0,token:"ETH",destination:C,destinationClusterName:"mainnet-beta",destinationChainType:"solana",destinationValue:Ys(be,9),destinationToken:"SOL"}})},onFailure({error:Ee}){A(!1),f(Ee)}}),$.useEffect(()=>{h&&(a({funding:l==null?void 0:l.funding,solanaFundingData:l==null?void 0:l.solanaFundingData,sendTransaction:l==null?void 0:l.sendTransaction,errorModalData:{error:h,previousScreen:Vb}}),s(_n,!1))},[h]),$.useEffect(()=>{if(!H)return;let Ee=setTimeout(n,jT);return()=>clearTimeout(Ee)},[H]),H)return p.jsxs(p.Fragment,{children:[p.jsx(Co,{}),p.jsx(xc,{}),p.jsxs(B4,{children:[p.jsx(W6,{color:"var(--privy-color-success)",width:"64px",height:"64px"}),p.jsx(wl,{title:"Success!",description:`Youve successfully added ${D} SOL to your ${o.name} wallet. It may take a minute before the funds are available to use.`})]}),p.jsx(El,{}),p.jsx(Ur,{})]});let ge=b[x];return b.length>1&&ge?p.jsx(hre,{displayName:W,configuredFundingChain:k,formattedBalance:X,fundingAmount:D,fundingCurrency:"SOL",fundingAmountInUsd:ve,options:b,selectedOption:ge,isPreparing:S,isSubmitting:O,addressToFund:C,fundingWalletAddress:(R==null?void 0:R.address)||"",errorMessage:g,onSubmit:()=>{var Ee;((Ee=l.funding)==null?void 0:Ee.amount)!==D?async function(){if(R&&ge)try{let ye=await Z2({isTestnet:!1,input:ng({amount:be.toString(),user:R.address,recipient:C,destinationChainId:PS,destinationCurrency:OS,originChainId:ge.chain.id})}),$e=q5(ye);if(!$e)throw Error("Invalid transaction request");A(!0),ee({data:$e.data,to:$e.to,value:$e.value,chain:ge.chain})}catch(ye){console.error(ye),f(new ue("Unable to fetch quotes for bridging",ye,fe.INSUFFICIENT_BALANCE))}}().catch(console.error):ee({to:ge.bridgeTx.to,data:ge.bridgeTx.data,value:ge.bridgeTx.value,chain:ge.chain})},onSelect:Ee=>{Ee!==x&&(y(null),E(Ee))},onAmountChange:P}):O&&R?p.jsx(hI,{walletClientType:(R==null?void 0:R.walletClientType)||"unknown",displayName:W,addressToFund:C,isBridging:I,isErc20Flow:!1,chainId:"solana",chainName:nx(k),totalPriceInUsd:void 0,totalPriceInNativeCurrency:void 0,gasPriceInUsd:void 0,gasPriceInNativeCurrency:void 0}):p.jsxs(p.Fragment,{children:[p.jsx(Co,{}),p.jsx(nm,{}),p.jsx("div",{style:{marginTop:"1rem"}}),p.jsx(Ur,{})]})}},PKe=({address:t,accessToken:e,appConfigTheme:r,onClose:n,isLoading:i=!1,exportButtonProps:s})=>p.jsx(wr,{title:"Export wallet",subtitle:p.jsxs(p.Fragment,{children:["Copy either your private key or seed phrase to export your wallet."," ",p.jsx("a",{href:"https://privy-io.notion.site/Transferring-your-account-9dab9e16c6034a7ab1ff7fa479b02828",target:"blank",rel:"noopener noreferrer",children:"Learn more"})]}),onClose:n,watermark:!0,children:p.jsxs(OKe,{children:[p.jsx(wre,{theme:r,children:"Never share your private key or seed phrase with anyone."}),p.jsx(rx,{title:"Your wallet",address:t,showCopyButton:!0}),p.jsx("div",{style:{width:"100%"},children:i?p.jsx(MKe,{}):e&&s&&p.jsx(DKe,{accessToken:e,dimensions:{height:"44px"},...s})})]})});let OKe=te.div.withConfig({displayName:"ContentContainer",componentId:"sc-e0132ced-0"})(["display:flex;flex-direction:column;gap:1.25rem;text-align:left;"]),MKe=()=>p.jsx(RKe,{children:p.jsx(jKe,{children:"Loading..."})}),RKe=te.div.withConfig({displayName:"PlaceholderContainer",componentId:"sc-e0132ced-1"})(["display:flex;gap:12px;height:44px;"]),jKe=te.div.withConfig({displayName:"PlaceholderButton",componentId:"sc-e0132ced-2"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);function DKe(t){let[e,r]=$.useState(t.dimensions.width),[n,i]=$.useState(void 0),s=$.useRef(null);$.useEffect(()=>{if(s.current&&e===void 0){let{width:l}=s.current.getBoundingClientRect();r(l)}let o=getComputedStyle(document.documentElement);i({background:o.getPropertyValue("--privy-color-background"),background2:o.getPropertyValue("--privy-color-background-2"),foreground3:o.getPropertyValue("--privy-color-foreground-3"),foregroundAccent:o.getPropertyValue("--privy-color-foreground-accent"),accent:o.getPropertyValue("--privy-color-accent"),accentDark:o.getPropertyValue("--privy-color-accent-dark"),success:o.getPropertyValue("--privy-color-success"),colorScheme:o.getPropertyValue("color-scheme")})},[]);let a=t.chainType==="ethereum"&&!t.imported&&!t.isUnifiedWallet;return p.jsx("div",{ref:s,children:e&&p.jsxs(UKe,{children:[p.jsx("iframe",{style:{position:"absolute",zIndex:1},width:e,height:t.dimensions.height,allow:"clipboard-write self *",src:bee(t.origin,`/apps/${t.appId}/embedded-wallets/export`,t.isUnifiedWallet?{v:"1-unified",wallet_id:t.walletId,client_id:t.appClientId,width:`${e}px`,caid:t.clientAnalyticsId,phrase_export:a,...n}:{v:"1",entropy_id:t.entropyId,entropy_id_verifier:t.entropyIdVerifier,hd_wallet_index:t.hdWalletIndex,chain_type:t.chainType,client_id:t.appClientId,width:`${e}px`,caid:t.clientAnalyticsId,phrase_export:a,...n},{token:t.accessToken})}),p.jsx(Vz,{children:"Loading..."}),a&&p.jsx(Vz,{children:"Loading..."})]})})}const fI={component:()=>{let[t,e]=$.useState(null),{authenticated:r,user:n}=fr(),{closePrivyModal:i,createAnalyticsEvent:s,clientAnalyticsId:a,client:o}=rt(),l=Ar(),{data:u,onUserCloseViaDialogOrKeybindRef:h}=lt(),{onFailure:f,onSuccess:g,origin:y,appId:b,appClientId:w,entropyId:x,entropyIdVerifier:E,walletId:S,hdWalletIndex:_,chainType:I,address:A,isUnifiedWallet:O,imported:F}=u.keyExport,H=z=>{i({shouldCallAuthOnSuccess:!1}),f(typeof z=="string"?Error(z):z)},L=()=>{i({shouldCallAuthOnSuccess:!1}),g(),s({eventName:"embedded_wallet_key_export_completed",payload:{walletAddress:A}})};return $.useEffect(()=>{if(!r)return H("User must be authenticated before exporting their wallet");o.getAccessToken().then(e).catch(H)},[r,n]),h.current=L,p.jsx(PKe,{address:A,accessToken:t,appConfigTheme:l.appearance.palette.colorScheme,onClose:L,isLoading:!t,exportButtonProps:t?{origin:y,appId:b,appClientId:w,clientAnalyticsId:a,entropyId:x,entropyIdVerifier:E,walletId:S,hdWalletIndex:_,isUnifiedWallet:O,imported:F,chainType:I}:void 0})}};let UKe=te.div.withConfig({displayName:"ButtonContainer",componentId:"sc-e0132ced-3"})(["overflow:visible;position:relative;overflow:none;height:44px;display:flex;gap:12px;"]),Vz=te.div.withConfig({displayName:"LoadingButton",componentId:"sc-e0132ced-4"})(["display:flex;align-items:center;justify-content:center;width:100%;height:100%;font-size:16px;font-weight:500;border-radius:var(--privy-border-radius-md);background-color:var(--privy-color-background-2);color:var(--privy-color-foreground-3);"]);const BKe=({connectionFailed:t,onClose:e})=>p.jsx(wr,t?{title:"Something went wrong",subtitle:"We're on it. Please try again later.",icon:f4,iconVariant:"error",primaryCta:{label:"Close",onClick:e},watermark:!0}:{title:"Connecting to your wallet",subtitle:"Please wait...",iconVariant:"loading",showClose:!0,onClose:e,watermark:!1}),k0={component:()=>{let{authenticated:t,user:e}=fr(),{client:r,closePrivyModal:n,createAnalyticsEvent:i,walletProxy:s}=rt(),{navigate:a,data:o,setModalData:l,onUserCloseViaDialogOrKeybindRef:u}=lt(),h=$.useMemo(()=>Date.now(),[]),[f,g]=$.useState(!1),{onCompleteNavigateTo:y,onFailure:b,shouldForceMFA:w,entropyId:x,entropyIdVerifier:E,recoveryMethod:S,connectingWalletAddress:_,isUnifiedWallet:I=!1}=o==null?void 0:o.connectWallet,A=O=>{f||(g(!0),b(typeof O=="string"?Error(O):O))};return $.useEffect(()=>{let O;return t?s?((async()=>{let F=await r.getAccessToken();if(!F)return A("User must be authenticated and have a Privy wallet before it can be connected");try{I||await s.connect({accessToken:F,entropyId:x,entropyIdVerifier:E}),w&&await s.verifyMfa({accessToken:F});let H=(Date.now()-h)/1e3;y===fI&&H<1?O=setTimeout(()=>{a(y,!1)},1e3*(1-H)):a(y,!1)}catch(H){if(Y2(H)&&S==="privy"){let L=await r.getAccessToken();if(!L)return A("User must be authenticated and have a Privy wallet before it can be recovered");try{i({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:_}});let z=await(s==null?void 0:s.recover({accessToken:L,entropyId:x,entropyIdVerifier:E}));z!=null&&z.entropyId||A(Error("Unable to recover wallet")),y?a(y):n({shouldCallAuthOnSuccess:!1}),i({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:_}}),a(y)}catch{A("An error has occurred, please try again.")}}else Y2(H)&&S!=="privy"&&S!=="privy-v2"?(l({...o,recoverWallet:{entropyId:x,entropyIdVerifier:E,onCompleteNavigateTo:y,onFailure:b},recoveryOAuthStatus:{provider:S,action:"recover",isInAccountCreateFlow:!1,shouldCreateEth:!1,shouldCreateSol:!1}}),a(Jte(S))):A(H)}})(),()=>clearTimeout(O)):void 0:A("User must be authenticated and have a Privy wallet before it can be connected")},[t,e,s]),u.current=()=>{A("User exited before wallet could be connected"),n({shouldCallAuthOnSuccess:!1})},p.jsx(BKe,{connectionFailed:f,onClose:()=>n({shouldCallAuthOnSuccess:!1})})}},LKe=({style:t,color:e,...r})=>p.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:"1.5",stroke:e||"currentColor",style:{height:"1.5rem",width:"1.5rem",...t},...r,children:p.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M4.5 12.75l6 6 9-13.5"})}),pI=t=>{let[e,r]=$.useState(!1);return p.jsxs(FKe,{color:t.color,onClick:()=>{r(!0),navigator.clipboard.writeText(t.text),setTimeout(()=>r(!1),1500)},$justCopied:e,children:[e?p.jsx(LKe,{style:{height:"14px",width:"14px"},strokeWidth:"2"}):p.jsx(Ete,{style:{height:"14px",width:"14px"}}),e?"Copied":"Copy"," ",t.itemName?t.itemName:"to Clipboard"]})};let FKe=te.button.withConfig({displayName:"StyledCopytoClipboardButton",componentId:"sc-46f4187f-0"})(["display:flex;align-items:center;gap:6px;&&{margin:8px 2px;font-size:14px;color:",";font-weight:",";transition:color 350ms ease;:focus,:active{background-color:transparent;border:none;outline:none;box-shadow:none;}:hover{color:",";}:active{color:'var(--privy-color-foreground)';font-weight:medium;}@media (max-width:440px){margin:12px 2px;}}svg{width:14px;height:14px;}"],t=>t.$justCopied?"var(--privy-color-foreground)":t.color||"var(--privy-color-foreground-3)",t=>t.$justCopied?"medium":"normal",t=>t.$justCopied?"var(--privy-color-foreground)":"var(--privy-color-foreground-2)");const zKe=te.img.withConfig({displayName:"StyledLogo",componentId:"sc-68c1b1ea-0"})(["&&{height:",";width:",";border-radius:16px;margin-bottom:12px;}"],t=>t.size==="sm"?"65px":"140px",t=>t.size==="sm"?"65px":"140px");let WKe=t=>{if(!ds(t))return t;try{let e=ooe(t);return e.includes("")?t:e}catch{return t}},qKe=t=>{try{let e=x3.decode(t),r=new TextDecoder().decode(e);return r.includes("")?t:r}catch{return t}},HKe=t=>JSON.stringify(t,null,2),VKe=t=>{let{types:e,primaryType:r,...n}=t.typedData;return p.jsxs(p.Fragment,{children:[p.jsx(ZKe,{data:n}),p.jsx(pI,{text:HKe(t.typedData),itemName:"full payload to clipboard"})," "]})};const GKe=({method:t,messageData:e,copy:r,iconUrl:n,isLoading:i,success:s,walletProxyIsLoading:a,errorMessage:o,isCancellable:l,onSign:u,onCancel:h,onClose:f})=>p.jsx(wr,{title:r.title,subtitle:r.description,showClose:!0,onClose:f,icon:fEe,iconVariant:"subtle",helpText:o?p.jsx(YKe,{children:o}):void 0,primaryCta:{label:r.buttonText,onClick:u,disabled:i||s||a,loading:i},secondaryCta:l?{label:"Not now",onClick:h,disabled:i||s||a}:void 0,watermark:!0,children:p.jsxs(ZT,{children:[n?p.jsx(zKe,{style:{alignSelf:"center"},size:"sm",src:n,alt:"app image"}):null,p.jsxs(KKe,{children:[t==="personal_sign"&&p.jsx(Kz,{children:WKe(e)}),t==="eth_signTypedData_v4"&&p.jsx(VKe,{typedData:e}),t==="solana_signMessage"&&p.jsx(Kz,{children:qKe(e)})]})]})}),Gz={component:()=>{let{authenticated:t}=fr(),{initializeWalletProxy:e,closePrivyModal:r}=rt(),{navigate:n,data:i,onUserCloseViaDialogOrKeybindRef:s}=lt(),[a,o]=$.useState(!0),[l,u]=$.useState(""),[h,f]=$.useState(),[g,y]=$.useState(null),[b,w]=$.useState(!1);$.useEffect(()=>{t||n(ps)},[t]),$.useEffect(()=>{e(3e4).then(H=>{o(!1),H||(u("An error has occurred, please try again."),f(new as(new tg(l,Xo.E32603_DEFAULT_INTERNAL_ERROR.eipCode))))})},[]);let{method:x,data:E,confirmAndSign:S,onSuccess:_,onFailure:I,uiOptions:A}=i.signMessage,O={title:(A==null?void 0:A.title)||"Sign message",description:(A==null?void 0:A.description)||"Signing this message will not cost you any fees.",buttonText:(A==null?void 0:A.buttonText)||"Sign and continue"},F=H=>{H?_(H):I(h||new as(new tg("The user rejected the request.",Xo.E4001_USER_REJECTED_REQUEST.eipCode))),r({shouldCallAuthOnSuccess:!1}),setTimeout(()=>{y(null),u(""),f(void 0)},200)};return s.current=()=>{F(g)},p.jsx(GKe,{method:x,messageData:E,copy:O,iconUrl:A!=null&&A.iconUrl&&typeof A.iconUrl=="string"?A.iconUrl:void 0,isLoading:b,success:g!==null,walletProxyIsLoading:a,errorMessage:l,isCancellable:A==null?void 0:A.isCancellable,onSign:async()=>{w(!0),u("");try{let H=await S();y(H),w(!1),setTimeout(()=>{F(H)},yn)}catch(H){console.error(H),u("An error has occurred, please try again."),f(new as(new tg(l,Xo.E32603_DEFAULT_INTERNAL_ERROR.eipCode))),w(!1)}},onCancel:()=>F(null),onClose:()=>F(g)})}};let KKe=te.div.withConfig({displayName:"MessageContainer",componentId:"sc-e01d451f-0"})(["flex:1;display:flex;flex-direction:column;gap:16px;"]),YKe=te.p.withConfig({displayName:"ErrorText",componentId:"sc-e01d451f-1"})(["&&{margin:0;width:100%;text-align:center;color:var(--privy-color-error-dark);font-size:14px;line-height:22px;}"]),ZKe=te(bre).withConfig({displayName:"StyledDisplayJsonTree",componentId:"sc-e01d451f-2"})(["margin-top:0;"]),Kz=te(yre).withConfig({displayName:"StyledMessage",componentId:"sc-e01d451f-3"})(["margin-top:0;"]);class mc{constructor(e,r){this.scope=e,this.module=r}storeObject(e,r){this.setItem(e,JSON.stringify(r))}loadObject(e){const r=this.getItem(e);return r?JSON.parse(r):void 0}setItem(e,r){localStorage.setItem(this.scopedKey(e),r)}getItem(e){return localStorage.getItem(this.scopedKey(e))}removeItem(e){localStorage.removeItem(this.scopedKey(e))}clear(){const e=this.scopedKey(""),r=[];for(let n=0;n<localStorage.length;n++){const i=localStorage.key(n);typeof i=="string"&&i.startsWith(e)&&r.push(i)}r.forEach(n=>localStorage.removeItem(n))}scopedKey(e){return`-${this.scope}${this.module?`:${this.module}`:""}:${e}`}static clearAll(){new mc("CBWSDK").clear(),new mc("walletlink").clear()}}const Ln={rpc:{invalidInput:-32e3,resourceNotFound:-32001,resourceUnavailable:-32002,transactionRejected:-32003,methodNotSupported:-32004,limitExceeded:-32005,parse:-32700,invalidRequest:-32600,methodNotFound:-32601,invalidParams:-32602,internal:-32603},provider:{userRejectedRequest:4001,unauthorized:4100,unsupportedMethod:4200,disconnected:4900,chainDisconnected:4901,unsupportedChain:4902}},VS={"-32700":{standard:"JSON RPC 2.0",message:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."},"-32600":{standard:"JSON RPC 2.0",message:"The JSON sent is not a valid Request object."},"-32601":{standard:"JSON RPC 2.0",message:"The method does not exist / is not available."},"-32602":{standard:"JSON RPC 2.0",message:"Invalid method parameter(s)."},"-32603":{standard:"JSON RPC 2.0",message:"Internal JSON-RPC error."},"-32000":{standard:"EIP-1474",message:"Invalid input."},"-32001":{standard:"EIP-1474",message:"Resource not found."},"-32002":{standard:"EIP-1474",message:"Resource unavailable."},"-32003":{standard:"EIP-1474",message:"Transaction rejected."},"-32004":{standard:"EIP-1474",message:"Method not supported."},"-32005":{standard:"EIP-1474",message:"Request limit exceeded."},4001:{standard:"EIP-1193",message:"User rejected the request."},4100:{standard:"EIP-1193",message:"The requested account and/or method has not been authorized by the user."},4200:{standard:"EIP-1193",message:"The requested method is not supported by this Ethereum provider."},4900:{standard:"EIP-1193",message:"The provider is disconnected from all chains."},4901:{standard:"EIP-1193",message:"The provider is disconnected from the specified chain."},4902:{standard:"EIP-3085",message:"Unrecognized chain ID."}},_re="Unspecified error message.",QKe="Unspecified server error.";function gI(t,e=_re){if(t&&Number.isInteger(t)){const r=t.toString();if(GS(VS,r))return VS[r].message;if(Cre(t))return QKe}return e}function XKe(t){if(!Number.isInteger(t))return!1;const e=t.toString();return!!(VS[e]||Cre(t))}function JKe(t,{shouldIncludeStack:e=!1}={}){const r={};if(t&&typeof t=="object"&&!Array.isArray(t)&&GS(t,"code")&&XKe(t.code)){const n=t;r.code=n.code,n.message&&typeof n.message=="string"?(r.message=n.message,GS(n,"data")&&(r.data=n.data)):(r.message=gI(r.code),r.data={originalError:Yz(t)})}else r.code=Ln.rpc.internal,r.message=Zz(t,"message")?t.message:_re,r.data={originalError:Yz(t)};return e&&(r.stack=Zz(t,"stack")?t.stack:void 0),r}function Cre(t){return t>=-32099&&t<=-32e3}function Yz(t){return t&&typeof t=="object"&&!Array.isArray(t)?Object.assign({},t):t}function GS(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Zz(t,e){return typeof t=="object"&&t!==null&&e in t&&typeof t[e]=="string"}const $r={rpc:{parse:t=>ro(Ln.rpc.parse,t),invalidRequest:t=>ro(Ln.rpc.invalidRequest,t),invalidParams:t=>ro(Ln.rpc.invalidParams,t),methodNotFound:t=>ro(Ln.rpc.methodNotFound,t),internal:t=>ro(Ln.rpc.internal,t),server:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum RPC Server errors must provide single object argument.");const{code:e}=t;if(!Number.isInteger(e)||e>-32005||e<-32099)throw new Error('"code" must be an integer such that: -32099 <= code <= -32005');return ro(e,t)},invalidInput:t=>ro(Ln.rpc.invalidInput,t),resourceNotFound:t=>ro(Ln.rpc.resourceNotFound,t),resourceUnavailable:t=>ro(Ln.rpc.resourceUnavailable,t),transactionRejected:t=>ro(Ln.rpc.transactionRejected,t),methodNotSupported:t=>ro(Ln.rpc.methodNotSupported,t),limitExceeded:t=>ro(Ln.rpc.limitExceeded,t)},provider:{userRejectedRequest:t=>E0(Ln.provider.userRejectedRequest,t),unauthorized:t=>E0(Ln.provider.unauthorized,t),unsupportedMethod:t=>E0(Ln.provider.unsupportedMethod,t),disconnected:t=>E0(Ln.provider.disconnected,t),chainDisconnected:t=>E0(Ln.provider.chainDisconnected,t),unsupportedChain:t=>E0(Ln.provider.unsupportedChain,t),custom:t=>{if(!t||typeof t!="object"||Array.isArray(t))throw new Error("Ethereum Provider custom errors must provide single object argument.");const{code:e,message:r,data:n}=t;if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string');return new kre(e,r,n)}}};function ro(t,e){const[r,n]=Are(e);return new Sre(t,r||gI(t),n)}function E0(t,e){const[r,n]=Are(e);return new kre(t,r||gI(t),n)}function Are(t){if(t){if(typeof t=="string")return[t];if(typeof t=="object"&&!Array.isArray(t)){const{message:e,data:r}=t;if(e&&typeof e!="string")throw new Error("Must specify string message.");return[e||void 0,r]}}return[]}class Sre extends Error{constructor(e,r,n){if(!Number.isInteger(e))throw new Error('"code" must be an integer.');if(!r||typeof r!="string")throw new Error('"message" must be a nonempty string.');super(r),this.code=e,n!==void 0&&(this.data=n)}}class kre extends Sre{constructor(e,r,n){if(!eYe(e))throw new Error('"code" must be an integer such that: 1000 <= code <= 4999');super(e,r,n)}}function eYe(t){return Number.isInteger(t)&&t>=1e3&&t<=4999}function mI(){return t=>t}const Q2=mI(),tYe=mI(),rYe=mI();function ou(t){return Math.floor(t)}const $re=/^[0-9]*$/,Tre=/^[a-f0-9]*$/;function Jh(t){return yI(crypto.getRandomValues(new Uint8Array(t)))}function yI(t){return[...t].map(e=>e.toString(16).padStart(2,"0")).join("")}function D3(t){return new Uint8Array(t.match(/.{1,2}/g).map(e=>Number.parseInt(e,16)))}function Fy(t,e=!1){const r=t.toString("hex");return Q2(e?`0x${r}`:r)}function v_(t){return Fy(KS(t),!0)}function zl(t){return rYe(t.toString(10))}function Wd(t){return Q2(`0x${BigInt(t).toString(16)}`)}function Ire(t){return t.startsWith("0x")||t.startsWith("0X")}function bI(t){return Ire(t)?t.slice(2):t}function Nre(t){return Ire(t)?`0x${t.slice(2)}`:`0x${t}`}function ix(t){if(typeof t!="string")return!1;const e=bI(t).toLowerCase();return Tre.test(e)}function nYe(t,e=!1){if(typeof t=="string"){const r=bI(t).toLowerCase();if(Tre.test(r))return Q2(e?`0x${r}`:r)}throw $r.rpc.invalidParams(`"${String(t)}" is not a hexadecimal string`)}function wI(t,e=!1){let r=nYe(t,!1);return r.length%2===1&&(r=Q2(`0${r}`)),e?Q2(`0x${r}`):r}function Ad(t){if(typeof t=="string"){const e=bI(t).toLowerCase();if(ix(e)&&e.length===40)return tYe(Nre(e))}throw $r.rpc.invalidParams(`Invalid Ethereum address: ${String(t)}`)}function KS(t){if(Buffer.isBuffer(t))return t;if(typeof t=="string"){if(ix(t)){const e=wI(t,!1);return Buffer.from(e,"hex")}return Buffer.from(t,"utf8")}throw $r.rpc.invalidParams(`Not binary data: ${String(t)}`)}function zy(t){if(typeof t=="number"&&Number.isInteger(t))return ou(t);if(typeof t=="string"){if($re.test(t))return ou(Number(t));if(ix(t))return ou(Number(BigInt(wI(t,!0))))}throw $r.rpc.invalidParams(`Not an integer: ${String(t)}`)}function P1(t){if(t!==null&&(typeof t=="bigint"||sYe(t)))return BigInt(t.toString(10));if(typeof t=="number")return BigInt(zy(t));if(typeof t=="string"){if($re.test(t))return BigInt(t);if(ix(t))return BigInt(wI(t,!0))}throw $r.rpc.invalidParams(`Not an integer: ${String(t)}`)}function iYe(t){if(typeof t=="string")return JSON.parse(t);if(typeof t=="object")return t;throw $r.rpc.invalidParams(`Not a JSON string or an object: ${String(t)}`)}function sYe(t){if(t==null||typeof t.constructor!="function")return!1;const{constructor:e}=t;return typeof e.config=="function"&&typeof e.EUCLID=="number"}async function aYe(){return crypto.subtle.generateKey({name:"ECDH",namedCurve:"P-256"},!0,["deriveKey"])}async function oYe(t,e){return crypto.subtle.deriveKey({name:"ECDH",public:e},t,{name:"AES-GCM",length:256},!1,["encrypt","decrypt"])}async function lYe(t,e){const r=crypto.getRandomValues(new Uint8Array(12)),n=await crypto.subtle.encrypt({name:"AES-GCM",iv:r},t,new TextEncoder().encode(e));return{iv:r,cipherText:n}}async function cYe(t,{iv:e,cipherText:r}){const n=await crypto.subtle.decrypt({name:"AES-GCM",iv:e},t,r);return new TextDecoder().decode(n)}function Pre(t){switch(t){case"public":return"spki";case"private":return"pkcs8"}}async function Ore(t,e){const r=Pre(t),n=await crypto.subtle.exportKey(r,e);return yI(new Uint8Array(n))}async function Mre(t,e){const r=Pre(t),n=D3(e).buffer;return await crypto.subtle.importKey(r,new Uint8Array(n),{name:"ECDH",namedCurve:"P-256"},!0,t==="private"?["deriveKey"]:[])}async function uYe(t,e){const r=JSON.stringify(t,(n,i)=>{if(!(i instanceof Error))return i;const s=i;return Object.assign(Object.assign({},s.code?{code:s.code}:{}),{message:s.message})});return lYe(e,r)}async function dYe(t,e){return JSON.parse(await cYe(e,t))}const x_={storageKey:"ownPrivateKey",keyType:"private"},E_={storageKey:"ownPublicKey",keyType:"public"},__={storageKey:"peerPublicKey",keyType:"public"};class hYe{constructor(){this.storage=new mc("CBWSDK","SCWKeyManager"),this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null}async getOwnPublicKey(){return await this.loadKeysIfNeeded(),this.ownPublicKey}async getSharedSecret(){return await this.loadKeysIfNeeded(),this.sharedSecret}async setPeerPublicKey(e){this.sharedSecret=null,this.peerPublicKey=e,await this.storeKey(__,e),await this.loadKeysIfNeeded()}async clear(){this.ownPrivateKey=null,this.ownPublicKey=null,this.peerPublicKey=null,this.sharedSecret=null,this.storage.removeItem(E_.storageKey),this.storage.removeItem(x_.storageKey),this.storage.removeItem(__.storageKey)}async generateKeyPair(){const e=await aYe();this.ownPrivateKey=e.privateKey,this.ownPublicKey=e.publicKey,await this.storeKey(x_,e.privateKey),await this.storeKey(E_,e.publicKey)}async loadKeysIfNeeded(){if(this.ownPrivateKey===null&&(this.ownPrivateKey=await this.loadKey(x_)),this.ownPublicKey===null&&(this.ownPublicKey=await this.loadKey(E_)),(this.ownPrivateKey===null||this.ownPublicKey===null)&&await this.generateKeyPair(),this.peerPublicKey===null&&(this.peerPublicKey=await this.loadKey(__)),this.sharedSecret===null){if(this.ownPrivateKey===null||this.peerPublicKey===null)return;this.sharedSecret=await oYe(this.ownPrivateKey,this.peerPublicKey)}}async loadKey(e){const r=this.storage.getItem(e.storageKey);return r?Mre(e.keyType,r):null}async storeKey(e,r){const n=await Ore(e.keyType,r);this.storage.setItem(e.storageKey,n)}}const Gb="4.3.2",Rre="@coinbase/wallet-sdk";async function vI(t,e){const r=Object.assign(Object.assign({},t),{jsonrpc:"2.0",id:crypto.randomUUID()}),n=await window.fetch(e,{method:"POST",body:JSON.stringify(r),mode:"cors",headers:{"Content-Type":"application/json","X-Cbw-Sdk-Version":Gb,"X-Cbw-Sdk-Platform":Rre}}),{result:i,error:s}=await n.json();if(s)throw s;return i}function fYe(){return globalThis.coinbaseWalletExtension}function pYe(){var t,e;try{const r=globalThis;return(t=r.ethereum)!==null&&t!==void 0?t:(e=r.top)===null||e===void 0?void 0:e.ethereum}catch{return}}function gYe({metadata:t,preference:e}){var r,n;const{appName:i,appLogoUrl:s,appChainIds:a}=t;if(e.options!=="smartWalletOnly"){const l=fYe();if(l)return(r=l.setAppInfo)===null||r===void 0||r.call(l,i,s,a,e),l}const o=pYe();if(o!=null&&o.isCoinbaseBrowser)return(n=o.setAppInfo)===null||n===void 0||n.call(o,i,s,a,e),o}function mYe(t){if(!t||typeof t!="object"||Array.isArray(t))throw $r.rpc.invalidParams({message:"Expected a single, non-array, object argument.",data:t});const{method:e,params:r}=t;if(typeof e!="string"||e.length===0)throw $r.rpc.invalidParams({message:"'args.method' must be a non-empty string.",data:t});if(r!==void 0&&!Array.isArray(r)&&(typeof r!="object"||r===null))throw $r.rpc.invalidParams({message:"'args.params' must be an object or array if provided.",data:t});switch(e){case"eth_sign":case"eth_signTypedData_v2":case"eth_subscribe":case"eth_unsubscribe":throw $r.provider.unsupportedMethod()}}const Qz="accounts",Xz="activeChain",Jz="availableChains",eW="walletCapabilities";class yYe{constructor(e){var r,n,i;this.metadata=e.metadata,this.communicator=e.communicator,this.callback=e.callback,this.keyManager=new hYe,this.storage=new mc("CBWSDK","SCWStateManager"),this.accounts=(r=this.storage.loadObject(Qz))!==null&&r!==void 0?r:[],this.chain=this.storage.loadObject(Xz)||{id:(i=(n=e.metadata.appChainIds)===null||n===void 0?void 0:n[0])!==null&&i!==void 0?i:1},this.handshake=this.handshake.bind(this),this.request=this.request.bind(this),this.createRequestMessage=this.createRequestMessage.bind(this),this.decryptResponseMessage=this.decryptResponseMessage.bind(this)}async handshake(e){var r,n,i,s;await((n=(r=this.communicator).waitForPopupLoaded)===null||n===void 0?void 0:n.call(r));const a=await this.createRequestMessage({handshake:{method:e.method,params:Object.assign({},this.metadata,(i=e.params)!==null&&i!==void 0?i:{})}}),o=await this.communicator.postRequestAndWaitForResponse(a);if("failure"in o.content)throw o.content.failure;const l=await Mre("public",o.sender);await this.keyManager.setPeerPublicKey(l);const h=(await this.decryptResponseMessage(o)).result;if("error"in h)throw h.error;switch(e.method){case"eth_requestAccounts":{const f=h.value;this.accounts=f,this.storage.storeObject(Qz,f),(s=this.callback)===null||s===void 0||s.call(this,"accountsChanged",f);break}}}async request(e){var r;if(this.accounts.length===0)switch(e.method){case"wallet_sendCalls":return this.sendRequestToPopup(e);default:throw $r.provider.unauthorized()}switch(e.method){case"eth_requestAccounts":return(r=this.callback)===null||r===void 0||r.call(this,"connect",{chainId:Wd(this.chain.id)}),this.accounts;case"eth_accounts":return this.accounts;case"eth_coinbase":return this.accounts[0];case"net_version":return this.chain.id;case"eth_chainId":return Wd(this.chain.id);case"wallet_getCapabilities":return this.storage.loadObject(eW);case"wallet_switchEthereumChain":return this.handleSwitchChainRequest(e);case"eth_ecRecover":case"personal_sign":case"wallet_sign":case"personal_ecRecover":case"eth_signTransaction":case"eth_sendTransaction":case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":case"wallet_addEthereumChain":case"wallet_watchAsset":case"wallet_sendCalls":case"wallet_showCallsStatus":case"wallet_grantPermissions":return this.sendRequestToPopup(e);default:if(!this.chain.rpcUrl)throw $r.rpc.internal("No RPC URL set for chain");return vI(e,this.chain.rpcUrl)}}async sendRequestToPopup(e){var r,n;await((n=(r=this.communicator).waitForPopupLoaded)===null||n===void 0?void 0:n.call(r));const i=await this.sendEncryptedRequest(e),a=(await this.decryptResponseMessage(i)).result;if("error"in a)throw a.error;return a.value}async cleanup(){var e,r;this.storage.clear(),await this.keyManager.clear(),this.accounts=[],this.chain={id:(r=(e=this.metadata.appChainIds)===null||e===void 0?void 0:e[0])!==null&&r!==void 0?r:1}}async handleSwitchChainRequest(e){var r;const n=e.params;if(!n||!(!((r=n[0])===null||r===void 0)&&r.chainId))throw $r.rpc.invalidParams();const i=zy(n[0].chainId);if(this.updateChain(i))return null;const a=await this.sendRequestToPopup(e);return a===null&&this.updateChain(i),a}async sendEncryptedRequest(e){const r=await this.keyManager.getSharedSecret();if(!r)throw $r.provider.unauthorized("No valid session found, try requestAccounts before other methods");const n=await uYe({action:e,chainId:this.chain.id},r),i=await this.createRequestMessage({encrypted:n});return this.communicator.postRequestAndWaitForResponse(i)}async createRequestMessage(e){const r=await Ore("public",await this.keyManager.getOwnPublicKey());return{id:crypto.randomUUID(),sender:r,content:e,timestamp:new Date}}async decryptResponseMessage(e){var r,n;const i=e.content;if("failure"in i)throw i.failure;const s=await this.keyManager.getSharedSecret();if(!s)throw $r.provider.unauthorized("Invalid session");const a=await dYe(i.encrypted,s),o=(r=a.data)===null||r===void 0?void 0:r.chains;if(o){const u=Object.entries(o).map(([h,f])=>({id:Number(h),rpcUrl:f}));this.storage.storeObject(Jz,u),this.updateChain(this.chain.id,u)}const l=(n=a.data)===null||n===void 0?void 0:n.capabilities;return l&&this.storage.storeObject(eW,l),a}updateChain(e,r){var n;const i=r??this.storage.loadObject(Jz),s=i==null?void 0:i.find(a=>a.id===e);return s?(s!==this.chain&&(this.chain=s,this.storage.storeObject(Xz,s),(n=this.callback)===null||n===void 0||n.call(this,"chainChanged",Wd(s.id))),!0):!1}}var an={},Gt={},tW;function bYe(){if(tW)return Gt;tW=1,Object.defineProperty(Gt,"__esModule",{value:!0}),Gt.toBig=Gt.shrSL=Gt.shrSH=Gt.rotrSL=Gt.rotrSH=Gt.rotrBL=Gt.rotrBH=Gt.rotr32L=Gt.rotr32H=Gt.rotlSL=Gt.rotlSH=Gt.rotlBL=Gt.rotlBH=Gt.add5L=Gt.add5H=Gt.add4L=Gt.add4H=Gt.add3L=Gt.add3H=void 0,Gt.add=E,Gt.fromBig=r,Gt.split=n;const t=BigInt(2**32-1),e=BigInt(32);function r(L,z=!1){return z?{h:Number(L&t),l:Number(L>>e&t)}:{h:Number(L>>e&t)|0,l:Number(L&t)|0}}function n(L,z=!1){const V=L.length;let K=new Uint32Array(V),B=new Uint32Array(V);for(let C=0;C<V;C++){const{h:k,l:N}=r(L[C],z);[K[C],B[C]]=[k,N]}return[K,B]}const i=(L,z)=>BigInt(L>>>0)<<e|BigInt(z>>>0);Gt.toBig=i;const s=(L,z,V)=>L>>>V;Gt.shrSH=s;const a=(L,z,V)=>L<<32-V|z>>>V;Gt.shrSL=a;const o=(L,z,V)=>L>>>V|z<<32-V;Gt.rotrSH=o;const l=(L,z,V)=>L<<32-V|z>>>V;Gt.rotrSL=l;const u=(L,z,V)=>L<<64-V|z>>>V-32;Gt.rotrBH=u;const h=(L,z,V)=>L>>>V-32|z<<64-V;Gt.rotrBL=h;const f=(L,z)=>z;Gt.rotr32H=f;const g=(L,z)=>L;Gt.rotr32L=g;const y=(L,z,V)=>L<<V|z>>>32-V;Gt.rotlSH=y;const b=(L,z,V)=>z<<V|L>>>32-V;Gt.rotlSL=b;const w=(L,z,V)=>z<<V-32|L>>>64-V;Gt.rotlBH=w;const x=(L,z,V)=>L<<V-32|z>>>64-V;Gt.rotlBL=x;function E(L,z,V,K){const B=(z>>>0)+(K>>>0);return{h:L+V+(B/2**32|0)|0,l:B|0}}const S=(L,z,V)=>(L>>>0)+(z>>>0)+(V>>>0);Gt.add3L=S;const _=(L,z,V,K)=>z+V+K+(L/2**32|0)|0;Gt.add3H=_;const I=(L,z,V,K)=>(L>>>0)+(z>>>0)+(V>>>0)+(K>>>0);Gt.add4L=I;const A=(L,z,V,K,B)=>z+V+K+B+(L/2**32|0)|0;Gt.add4H=A;const O=(L,z,V,K,B)=>(L>>>0)+(z>>>0)+(V>>>0)+(K>>>0)+(B>>>0);Gt.add5L=O;const F=(L,z,V,K,B,C)=>z+V+K+B+C+(L/2**32|0)|0;Gt.add5H=F;const H={fromBig:r,split:n,toBig:i,shrSH:s,shrSL:a,rotrSH:o,rotrSL:l,rotrBH:u,rotrBL:h,rotr32H:f,rotr32L:g,rotlSH:y,rotlSL:b,rotlBH:w,rotlBL:x,add:E,add3L:S,add3H:_,add4L:I,add4H:A,add5H:F,add5L:O};return Gt.default=H,Gt}var C_={},O1={},rW;function wYe(){return rW||(rW=1,Object.defineProperty(O1,"__esModule",{value:!0}),O1.crypto=void 0,O1.crypto=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0),O1}var nW;function vYe(){return nW||(nW=1,function(t){/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */Object.defineProperty(t,"__esModule",{value:!0}),t.wrapXOFConstructorWithOpts=t.wrapConstructorWithOpts=t.wrapConstructor=t.Hash=t.nextTick=t.swap32IfBE=t.byteSwapIfBE=t.swap8IfBE=t.isLE=void 0,t.isBytes=r,t.anumber=n,t.abytes=i,t.ahash=s,t.aexists=a,t.aoutput=o,t.u8=l,t.u32=u,t.clean=h,t.createView=f,t.rotr=g,t.rotl=y,t.byteSwap=b,t.byteSwap32=w,t.bytesToHex=S,t.hexToBytes=A,t.asyncLoop=F,t.utf8ToBytes=H,t.bytesToUtf8=L,t.toBytes=z,t.kdfInputToBytes=V,t.concatBytes=K,t.checkOpts=B,t.createHasher=k,t.createOptHasher=N,t.createXOFer=D,t.randomBytes=P;const e=wYe();function r(R){return R instanceof Uint8Array||ArrayBuffer.isView(R)&&R.constructor.name==="Uint8Array"}function n(R){if(!Number.isSafeInteger(R)||R<0)throw new Error("positive integer expected, got "+R)}function i(R,...j){if(!r(R))throw new Error("Uint8Array expected");if(j.length>0&&!j.includes(R.length))throw new Error("Uint8Array expected of length "+j+", got length="+R.length)}function s(R){if(typeof R!="function"||typeof R.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");n(R.outputLen),n(R.blockLen)}function a(R,j=!0){if(R.destroyed)throw new Error("Hash instance has been destroyed");if(j&&R.finished)throw new Error("Hash#digest() has already been called")}function o(R,j){i(R);const W=j.outputLen;if(R.length<W)throw new Error("digestInto() expects output buffer of length at least "+W)}function l(R){return new Uint8Array(R.buffer,R.byteOffset,R.byteLength)}function u(R){return new Uint32Array(R.buffer,R.byteOffset,Math.floor(R.byteLength/4))}function h(...R){for(let j=0;j<R.length;j++)R[j].fill(0)}function f(R){return new DataView(R.buffer,R.byteOffset,R.byteLength)}function g(R,j){return R<<32-j|R>>>j}function y(R,j){return R<<j|R>>>32-j>>>0}t.isLE=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function b(R){return R<<24&4278190080|R<<8&16711680|R>>>8&65280|R>>>24&255}t.swap8IfBE=t.isLE?R=>R:R=>b(R),t.byteSwapIfBE=t.swap8IfBE;function w(R){for(let j=0;j<R.length;j++)R[j]=b(R[j]);return R}t.swap32IfBE=t.isLE?R=>R:w;const x=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",E=Array.from({length:256},(R,j)=>j.toString(16).padStart(2,"0"));function S(R){if(i(R),x)return R.toHex();let j="";for(let W=0;W<R.length;W++)j+=E[R[W]];return j}const _={_0:48,_9:57,A:65,F:70,a:97,f:102};function I(R){if(R>=_._0&&R<=_._9)return R-_._0;if(R>=_.A&&R<=_.F)return R-(_.A-10);if(R>=_.a&&R<=_.f)return R-(_.a-10)}function A(R){if(typeof R!="string")throw new Error("hex string expected, got "+typeof R);if(x)return Uint8Array.fromHex(R);const j=R.length,W=j/2;if(j%2)throw new Error("hex string expected, got unpadded hex of length "+j);const M=new Uint8Array(W);for(let G=0,re=0;G<W;G++,re+=2){const q=I(R.charCodeAt(re)),X=I(R.charCodeAt(re+1));if(q===void 0||X===void 0){const ne=R[re]+R[re+1];throw new Error('hex string expected, got non-hex character "'+ne+'" at index '+re)}M[G]=q*16+X}return M}const O=async()=>{};t.nextTick=O;async function F(R,j,W){let M=Date.now();for(let G=0;G<R;G++){W(G);const re=Date.now()-M;re>=0&&re<j||(await(0,t.nextTick)(),M+=re)}}function H(R){if(typeof R!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(R))}function L(R){return new TextDecoder().decode(R)}function z(R){return typeof R=="string"&&(R=H(R)),i(R),R}function V(R){return typeof R=="string"&&(R=H(R)),i(R),R}function K(...R){let j=0;for(let M=0;M<R.length;M++){const G=R[M];i(G),j+=G.length}const W=new Uint8Array(j);for(let M=0,G=0;M<R.length;M++){const re=R[M];W.set(re,G),G+=re.length}return W}function B(R,j){if(j!==void 0&&{}.toString.call(j)!=="[object Object]")throw new Error("options should be object or undefined");return Object.assign(R,j)}class C{}t.Hash=C;function k(R){const j=M=>R().update(z(M)).digest(),W=R();return j.outputLen=W.outputLen,j.blockLen=W.blockLen,j.create=()=>R(),j}function N(R){const j=(M,G)=>R(G).update(z(M)).digest(),W=R({});return j.outputLen=W.outputLen,j.blockLen=W.blockLen,j.create=M=>R(M),j}function D(R){const j=(M,G)=>R(G).update(z(M)).digest(),W=R({});return j.outputLen=W.outputLen,j.blockLen=W.blockLen,j.create=M=>R(M),j}t.wrapConstructor=k,t.wrapConstructorWithOpts=N,t.wrapXOFConstructorWithOpts=D;function P(R=32){if(e.crypto&&typeof e.crypto.getRandomValues=="function")return e.crypto.getRandomValues(new Uint8Array(R));if(e.crypto&&typeof e.crypto.randomBytes=="function")return Uint8Array.from(e.crypto.randomBytes(R));throw new Error("crypto.getRandomValues must be defined")}}(C_)),C_}var iW;function xYe(){if(iW)return an;iW=1,Object.defineProperty(an,"__esModule",{value:!0}),an.shake256=an.shake128=an.keccak_512=an.keccak_384=an.keccak_256=an.keccak_224=an.sha3_512=an.sha3_384=an.sha3_256=an.sha3_224=an.Keccak=void 0,an.keccakP=x;const t=bYe(),e=vYe(),r=BigInt(0),n=BigInt(1),i=BigInt(2),s=BigInt(7),a=BigInt(256),o=BigInt(113),l=[],u=[],h=[];for(let I=0,A=n,O=1,F=0;I<24;I++){[O,F]=[F,(2*O+3*F)%5],l.push(2*(5*F+O)),u.push((I+1)*(I+2)/2%64);let H=r;for(let L=0;L<7;L++)A=(A<<n^(A>>s)*o)%a,A&i&&(H^=n<<(n<<BigInt(L))-n);h.push(H)}const f=(0,t.split)(h,!0),g=f[0],y=f[1],b=(I,A,O)=>O>32?(0,t.rotlBH)(I,A,O):(0,t.rotlSH)(I,A,O),w=(I,A,O)=>O>32?(0,t.rotlBL)(I,A,O):(0,t.rotlSL)(I,A,O);function x(I,A=24){const O=new Uint32Array(10);for(let F=24-A;F<24;F++){for(let z=0;z<10;z++)O[z]=I[z]^I[z+10]^I[z+20]^I[z+30]^I[z+40];for(let z=0;z<10;z+=2){const V=(z+8)%10,K=(z+2)%10,B=O[K],C=O[K+1],k=b(B,C,1)^O[V],N=w(B,C,1)^O[V+1];for(let D=0;D<50;D+=10)I[z+D]^=k,I[z+D+1]^=N}let H=I[2],L=I[3];for(let z=0;z<24;z++){const V=u[z],K=b(H,L,V),B=w(H,L,V),C=l[z];H=I[C],L=I[C+1],I[C]=K,I[C+1]=B}for(let z=0;z<50;z+=10){for(let V=0;V<10;V++)O[V]=I[z+V];for(let V=0;V<10;V++)I[z+V]^=~O[(V+2)%10]&O[(V+4)%10]}I[0]^=g[F],I[1]^=y[F]}(0,e.clean)(O)}class E extends e.Hash{constructor(A,O,F,H=!1,L=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=A,this.suffix=O,this.outputLen=F,this.enableXOF=H,this.rounds=L,(0,e.anumber)(F),!(0<A&&A<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=(0,e.u32)(this.state)}clone(){return this._cloneInto()}keccak(){(0,e.swap32IfBE)(this.state32),x(this.state32,this.rounds),(0,e.swap32IfBE)(this.state32),this.posOut=0,this.pos=0}update(A){(0,e.aexists)(this),A=(0,e.toBytes)(A),(0,e.abytes)(A);const{blockLen:O,state:F}=this,H=A.length;for(let L=0;L<H;){const z=Math.min(O-this.pos,H-L);for(let V=0;V<z;V++)F[this.pos++]^=A[L++];this.pos===O&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:A,suffix:O,pos:F,blockLen:H}=this;A[F]^=O,O&128&&F===H-1&&this.keccak(),A[H-1]^=128,this.keccak()}writeInto(A){(0,e.aexists)(this,!1),(0,e.abytes)(A),this.finish();const O=this.state,{blockLen:F}=this;for(let H=0,L=A.length;H<L;){this.posOut>=F&&this.keccak();const z=Math.min(F-this.posOut,L-H);A.set(O.subarray(this.posOut,this.posOut+z),H),this.posOut+=z,H+=z}return A}xofInto(A){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(A)}xof(A){return(0,e.anumber)(A),this.xofInto(new Uint8Array(A))}digestInto(A){if((0,e.aoutput)(A,this),this.finished)throw new Error("digest() was already called");return this.writeInto(A),this.destroy(),A}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,(0,e.clean)(this.state)}_cloneInto(A){const{blockLen:O,suffix:F,outputLen:H,rounds:L,enableXOF:z}=this;return A||(A=new E(O,F,H,z,L)),A.state32.set(this.state32),A.pos=this.pos,A.posOut=this.posOut,A.finished=this.finished,A.rounds=L,A.suffix=F,A.outputLen=H,A.enableXOF=z,A.destroyed=this.destroyed,A}}an.Keccak=E;const S=(I,A,O)=>(0,e.createHasher)(()=>new E(A,I,O));an.sha3_224=S(6,144,224/8),an.sha3_256=S(6,136,256/8),an.sha3_384=S(6,104,384/8),an.sha3_512=S(6,72,512/8),an.keccak_224=S(1,144,224/8),an.keccak_256=S(1,136,256/8),an.keccak_384=S(1,104,384/8),an.keccak_512=S(1,72,512/8);const _=(I,A,O)=>(0,e.createXOFer)((F={})=>new E(A,I,F.dkLen===void 0?O:F.dkLen,!0));return an.shake128=_(31,168,128/8),an.shake256=_(31,136,256/8),an}var A_,sW;function jre(){if(sW)return A_;sW=1;const{keccak_256:t}=xYe();function e(y){return Buffer.allocUnsafe(y).fill(0)}function r(y){return y.toString(2).length}function n(y,b){let w=y.toString(16);w.length%2!==0&&(w="0"+w);const x=w.match(/.{1,2}/g).map(E=>parseInt(E,16));for(;x.length<b;)x.unshift(0);return Buffer.from(x)}function i(y,b){const w=y<0n;let x;if(w){const E=(1n<<BigInt(b))-1n;x=(~y&E)+1n}else x=y;return x&=(1n<<BigInt(b))-1n,x}function s(y,b,w){const x=e(b);return y=o(y),w?y.length<b?(y.copy(x),x):y.slice(0,b):y.length<b?(y.copy(x,b-y.length),x):y.slice(-b)}function a(y,b){return s(y,b,!0)}function o(y){if(!Buffer.isBuffer(y))if(Array.isArray(y))y=Buffer.from(y);else if(typeof y=="string")f(y)?y=Buffer.from(h(g(y)),"hex"):y=Buffer.from(y);else if(typeof y=="number")y=intToBuffer(y);else if(y==null)y=Buffer.allocUnsafe(0);else if(typeof y=="bigint")y=n(y);else if(y.toArray)y=Buffer.from(y.toArray());else throw new Error("invalid type");return y}function l(y){return y=o(y),"0x"+y.toString("hex")}function u(y,b){if(y=o(y),b||(b=256),b!==256)throw new Error("unsupported");return Buffer.from(t(new Uint8Array(y)))}function h(y){return y.length%2?"0"+y:y}function f(y){return typeof y=="string"&&y.match(/^0x[0-9A-Fa-f]*$/)}function g(y){return typeof y=="string"&&y.startsWith("0x")?y.slice(2):y}return A_={zeros:e,setLength:s,setLengthRight:a,isHexString:f,stripHexPrefix:g,toBuffer:o,bufferToHex:l,keccak:u,bitLengthFromBigInt:r,bufferBEFromBigInt:n,twosFromBigInt:i},A_}var S_,aW;function EYe(){if(aW)return S_;aW=1;const t=jre();function e(g){return g.startsWith("int[")?"int256"+g.slice(3):g==="int"?"int256":g.startsWith("uint[")?"uint256"+g.slice(4):g==="uint"?"uint256":g.startsWith("fixed[")?"fixed128x128"+g.slice(5):g==="fixed"?"fixed128x128":g.startsWith("ufixed[")?"ufixed128x128"+g.slice(6):g==="ufixed"?"ufixed128x128":g}function r(g){return Number.parseInt(/^\D+(\d+)$/.exec(g)[1],10)}function n(g){var y=/^\D+(\d+)x(\d+)$/.exec(g);return[Number.parseInt(y[1],10),Number.parseInt(y[2],10)]}function i(g){var y=g.match(/(.*)\[(.*?)\]$/);return y?y[2]===""?"dynamic":Number.parseInt(y[2],10):null}function s(g){var y=typeof g;if(y==="string"||y==="number")return BigInt(g);if(y==="bigint")return g;throw new Error("Argument is not a number")}function a(g,y){var b,w,x,E;if(g==="address")return a("uint160",s(y));if(g==="bool")return a("uint8",y?1:0);if(g==="string")return a("bytes",new Buffer(y,"utf8"));if(l(g)){if(typeof y.length>"u")throw new Error("Not an array?");if(b=i(g),b!=="dynamic"&&b!==0&&y.length>b)throw new Error("Elements exceed array size: "+b);x=[],g=g.slice(0,g.lastIndexOf("[")),typeof y=="string"&&(y=JSON.parse(y));for(E in y)x.push(a(g,y[E]));if(b==="dynamic"){var S=a("uint256",y.length);x.unshift(S)}return Buffer.concat(x)}else{if(g==="bytes")return y=new Buffer(y),x=Buffer.concat([a("uint256",y.length),y]),y.length%32!==0&&(x=Buffer.concat([x,t.zeros(32-y.length%32)])),x;if(g.startsWith("bytes")){if(b=r(g),b<1||b>32)throw new Error("Invalid bytes<N> width: "+b);return t.setLengthRight(y,32)}else if(g.startsWith("uint")){if(b=r(g),b%8||b<8||b>256)throw new Error("Invalid uint<N> width: "+b);w=s(y);const _=t.bitLengthFromBigInt(w);if(_>b)throw new Error("Supplied uint exceeds width: "+b+" vs "+_);if(w<0)throw new Error("Supplied uint is negative");return t.bufferBEFromBigInt(w,32)}else if(g.startsWith("int")){if(b=r(g),b%8||b<8||b>256)throw new Error("Invalid int<N> width: "+b);w=s(y);const _=t.bitLengthFromBigInt(w);if(_>b)throw new Error("Supplied int exceeds width: "+b+" vs "+_);const I=t.twosFromBigInt(w,256);return t.bufferBEFromBigInt(I,32)}else if(g.startsWith("ufixed")){if(b=n(g),w=s(y),w<0)throw new Error("Supplied ufixed is negative");return a("uint256",w*BigInt(2)**BigInt(b[1]))}else if(g.startsWith("fixed"))return b=n(g),a("int256",s(y)*BigInt(2)**BigInt(b[1]))}throw new Error("Unsupported or invalid type: "+g)}function o(g){return g==="string"||g==="bytes"||i(g)==="dynamic"}function l(g){return g.lastIndexOf("]")===g.length-1}function u(g,y){var b=[],w=[],x=32*g.length;for(var E in g){var S=e(g[E]),_=y[E],I=a(S,_);o(S)?(b.push(a("uint256",x)),w.push(I),x+=I.length):b.push(I)}return Buffer.concat(b.concat(w))}function h(g,y){if(g.length!==y.length)throw new Error("Number of types are not matching the values");for(var b,w,x=[],E=0;E<g.length;E++){var S=e(g[E]),_=y[E];if(S==="bytes")x.push(_);else if(S==="string")x.push(new Buffer(_,"utf8"));else if(S==="bool")x.push(new Buffer(_?"01":"00","hex"));else if(S==="address")x.push(t.setLength(_,20));else if(S.startsWith("bytes")){if(b=r(S),b<1||b>32)throw new Error("Invalid bytes<N> width: "+b);x.push(t.setLengthRight(_,b))}else if(S.startsWith("uint")){if(b=r(S),b%8||b<8||b>256)throw new Error("Invalid uint<N> width: "+b);w=s(_);const I=t.bitLengthFromBigInt(w);if(I>b)throw new Error("Supplied uint exceeds width: "+b+" vs "+I);x.push(t.bufferBEFromBigInt(w,b/8))}else if(S.startsWith("int")){if(b=r(S),b%8||b<8||b>256)throw new Error("Invalid int<N> width: "+b);w=s(_);const I=t.bitLengthFromBigInt(w);if(I>b)throw new Error("Supplied int exceeds width: "+b+" vs "+I);const A=t.twosFromBigInt(w,b);x.push(t.bufferBEFromBigInt(A,b/8))}else throw new Error("Unsupported or invalid type: "+S)}return Buffer.concat(x)}function f(g,y){return t.keccak(h(g,y))}return S_={rawEncode:u,solidityPack:h,soliditySHA3:f},S_}var k_,oW;function _Ye(){if(oW)return k_;oW=1;const t=jre(),e=EYe(),r={type:"object",properties:{types:{type:"object",additionalProperties:{type:"array",items:{type:"object",properties:{name:{type:"string"},type:{type:"string"}},required:["name","type"]}}},primaryType:{type:"string"},domain:{type:"object"},message:{type:"object"}},required:["types","primaryType","domain","message"]},n={encodeData(s,a,o,l=!0){const u=["bytes32"],h=[this.hashType(s,o)];if(l){const f=(g,y,b)=>{if(o[y]!==void 0)return["bytes32",b==null?"0x0000000000000000000000000000000000000000000000000000000000000000":t.keccak(this.encodeData(y,b,o,l))];if(b===void 0)throw new Error(`missing value for field ${g} of type ${y}`);if(y==="bytes")return["bytes32",t.keccak(b)];if(y==="string")return typeof b=="string"&&(b=Buffer.from(b,"utf8")),["bytes32",t.keccak(b)];if(y.lastIndexOf("]")===y.length-1){const w=y.slice(0,y.lastIndexOf("[")),x=b.map(E=>f(g,w,E));return["bytes32",t.keccak(e.rawEncode(x.map(([E])=>E),x.map(([,E])=>E)))]}return[y,b]};for(const g of o[s]){const[y,b]=f(g.name,g.type,a[g.name]);u.push(y),h.push(b)}}else for(const f of o[s]){let g=a[f.name];if(g!==void 0)if(f.type==="bytes")u.push("bytes32"),g=t.keccak(g),h.push(g);else if(f.type==="string")u.push("bytes32"),typeof g=="string"&&(g=Buffer.from(g,"utf8")),g=t.keccak(g),h.push(g);else if(o[f.type]!==void 0)u.push("bytes32"),g=t.keccak(this.encodeData(f.type,g,o,l)),h.push(g);else{if(f.type.lastIndexOf("]")===f.type.length-1)throw new Error("Arrays currently unimplemented in encodeData");u.push(f.type),h.push(g)}}return e.rawEncode(u,h)},encodeType(s,a){let o="",l=this.findTypeDependencies(s,a).filter(u=>u!==s);l=[s].concat(l.sort());for(const u of l){if(!a[u])throw new Error("No type definition specified: "+u);o+=u+"("+a[u].map(({name:f,type:g})=>g+" "+f).join(",")+")"}return o},findTypeDependencies(s,a,o=[]){if(s=s.match(/^\w*/)[0],o.includes(s)||a[s]===void 0)return o;o.push(s);for(const l of a[s])for(const u of this.findTypeDependencies(l.type,a,o))!o.includes(u)&&o.push(u);return o},hashStruct(s,a,o,l=!0){return t.keccak(this.encodeData(s,a,o,l))},hashType(s,a){return t.keccak(this.encodeType(s,a))},sanitizeData(s){const a={};for(const o in r.properties)s[o]&&(a[o]=s[o]);return a.types&&(a.types=Object.assign({EIP712Domain:[]},a.types)),a},hash(s,a=!0){const o=this.sanitizeData(s),l=[Buffer.from("1901","hex")];return l.push(this.hashStruct("EIP712Domain",o.domain,o.types,a)),o.primaryType!=="EIP712Domain"&&l.push(this.hashStruct(o.primaryType,o.message,o.types,a)),t.keccak(Buffer.concat(l))}};k_={TYPED_MESSAGE_SCHEMA:r,TypedDataUtils:n,hashForSignTypedDataLegacy:function(s){return i(s.data)},hashForSignTypedData_v3:function(s){return n.hash(s.data,!1)},hashForSignTypedData_v4:function(s){return n.hash(s.data)}};function i(s){const a=new Error("Expect argument to be non-empty array");if(typeof s!="object"||!s.length)throw a;const o=s.map(function(h){return h.type==="bytes"?t.toBuffer(h.value):h.value}),l=s.map(function(h){return h.type}),u=s.map(function(h){if(!h.name)throw a;return h.type+" "+h.name});return e.soliditySHA3(["bytes32","bytes32"],[e.soliditySHA3(new Array(s.length).fill("string"),u),e.soliditySHA3(l,o)])}return k_}var CYe=_Ye();const Gv=ra(CYe),AYe="walletUsername",YS="Addresses",SYe="AppVersion";function Wi(t){return t.errorMessage!==void 0}class kYe{constructor(e){this.secret=e}async encrypt(e){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");const n=crypto.getRandomValues(new Uint8Array(12)),i=await crypto.subtle.importKey("raw",D3(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),s=new TextEncoder,a=await window.crypto.subtle.encrypt({name:"AES-GCM",iv:n},i,s.encode(e)),o=16,l=a.slice(a.byteLength-o),u=a.slice(0,a.byteLength-o),h=new Uint8Array(l),f=new Uint8Array(u),g=new Uint8Array([...n,...h,...f]);return yI(g)}async decrypt(e){const r=this.secret;if(r.length!==64)throw Error("secret must be 256 bits");return new Promise((n,i)=>{(async function(){const s=await crypto.subtle.importKey("raw",D3(r),{name:"aes-gcm"},!1,["encrypt","decrypt"]),a=D3(e),o=a.slice(0,12),l=a.slice(12,28),u=a.slice(28),h=new Uint8Array([...u,...l]),f={name:"AES-GCM",iv:new Uint8Array(o)};try{const g=await window.crypto.subtle.decrypt(f,s,h),y=new TextDecoder;n(y.decode(g))}catch(g){i(g)}})()})}}class $Ye{constructor(e,r,n){this.linkAPIUrl=e,this.sessionId=r;const i=`${r}:${n}`;this.auth=`Basic ${btoa(i)}`}async markUnseenEventsAsSeen(e){return Promise.all(e.map(r=>fetch(`${this.linkAPIUrl}/events/${r.eventId}/seen`,{method:"POST",headers:{Authorization:this.auth}}))).catch(r=>console.error("Unabled to mark event as failed:",r))}async fetchUnseenEvents(){var e;const r=await fetch(`${this.linkAPIUrl}/events?unseen=true`,{headers:{Authorization:this.auth}});if(r.ok){const{events:n,error:i}=await r.json();if(i)throw new Error(`Check unseen events failed: ${i}`);const s=(e=n==null?void 0:n.filter(a=>a.event==="Web3Response").map(a=>({type:"Event",sessionId:this.sessionId,eventId:a.id,event:a.event,data:a.data})))!==null&&e!==void 0?e:[];return this.markUnseenEventsAsSeen(s),s}throw new Error(`Check unseen events failed: ${r.status}`)}}var du;(function(t){t[t.DISCONNECTED=0]="DISCONNECTED",t[t.CONNECTING=1]="CONNECTING",t[t.CONNECTED=2]="CONNECTED"})(du||(du={}));class TYe{setConnectionStateListener(e){this.connectionStateListener=e}setIncomingDataListener(e){this.incomingDataListener=e}constructor(e,r=WebSocket){this.WebSocketClass=r,this.webSocket=null,this.pendingData=[],this.url=e.replace(/^http/,"ws")}async connect(){if(this.webSocket)throw new Error("webSocket object is not null");return new Promise((e,r)=>{var n;let i;try{this.webSocket=i=new this.WebSocketClass(this.url)}catch(s){r(s);return}(n=this.connectionStateListener)===null||n===void 0||n.call(this,du.CONNECTING),i.onclose=s=>{var a;this.clearWebSocket(),r(new Error(`websocket error ${s.code}: ${s.reason}`)),(a=this.connectionStateListener)===null||a===void 0||a.call(this,du.DISCONNECTED)},i.onopen=s=>{var a;e(),(a=this.connectionStateListener)===null||a===void 0||a.call(this,du.CONNECTED),this.pendingData.length>0&&([...this.pendingData].forEach(l=>this.sendData(l)),this.pendingData=[])},i.onmessage=s=>{var a,o;if(s.data==="h")(a=this.incomingDataListener)===null||a===void 0||a.call(this,{type:"Heartbeat"});else try{const l=JSON.parse(s.data);(o=this.incomingDataListener)===null||o===void 0||o.call(this,l)}catch{}}})}disconnect(){var e;const{webSocket:r}=this;if(r){this.clearWebSocket(),(e=this.connectionStateListener)===null||e===void 0||e.call(this,du.DISCONNECTED),this.connectionStateListener=void 0,this.incomingDataListener=void 0;try{r.close()}catch{}}}sendData(e){const{webSocket:r}=this;if(!r){this.pendingData.push(e),this.connect();return}r.send(e)}clearWebSocket(){const{webSocket:e}=this;e&&(this.webSocket=null,e.onclose=null,e.onerror=null,e.onmessage=null,e.onopen=null)}}const lW=1e4,IYe=6e4;class NYe{constructor({session:e,linkAPIUrl:r,listener:n}){this.destroyed=!1,this.lastHeartbeatResponse=0,this.nextReqId=ou(1),this._connected=!1,this._linked=!1,this.shouldFetchUnseenEventsOnConnect=!1,this.requestResolutions=new Map,this.handleSessionMetadataUpdated=s=>{if(!s)return;new Map([["__destroyed",this.handleDestroyed],["EthereumAddress",this.handleAccountUpdated],["WalletUsername",this.handleWalletUsernameUpdated],["AppVersion",this.handleAppVersionUpdated],["ChainId",o=>s.JsonRpcUrl&&this.handleChainUpdated(o,s.JsonRpcUrl)]]).forEach((o,l)=>{const u=s[l];u!==void 0&&o(u)})},this.handleDestroyed=s=>{var a;s==="1"&&((a=this.listener)===null||a===void 0||a.resetAndReload())},this.handleAccountUpdated=async s=>{var a;const o=await this.cipher.decrypt(s);(a=this.listener)===null||a===void 0||a.accountUpdated(o)},this.handleMetadataUpdated=async(s,a)=>{var o;const l=await this.cipher.decrypt(a);(o=this.listener)===null||o===void 0||o.metadataUpdated(s,l)},this.handleWalletUsernameUpdated=async s=>{this.handleMetadataUpdated(AYe,s)},this.handleAppVersionUpdated=async s=>{this.handleMetadataUpdated(SYe,s)},this.handleChainUpdated=async(s,a)=>{var o;const l=await this.cipher.decrypt(s),u=await this.cipher.decrypt(a);(o=this.listener)===null||o===void 0||o.chainUpdated(l,u)},this.session=e,this.cipher=new kYe(e.secret),this.listener=n;const i=new TYe(`${r}/rpc`,WebSocket);i.setConnectionStateListener(async s=>{let a=!1;switch(s){case du.DISCONNECTED:if(!this.destroyed){const o=async()=>{await new Promise(l=>setTimeout(l,5e3)),this.destroyed||i.connect().catch(()=>{o()})};o()}break;case du.CONNECTED:a=await this.handleConnected(),this.updateLastHeartbeat(),setInterval(()=>{this.heartbeat()},lW),this.shouldFetchUnseenEventsOnConnect&&this.fetchUnseenEventsAPI();break;case du.CONNECTING:break}this.connected!==a&&(this.connected=a)}),i.setIncomingDataListener(s=>{var a;switch(s.type){case"Heartbeat":this.updateLastHeartbeat();return;case"IsLinkedOK":case"Linked":{const o=s.type==="IsLinkedOK"?s.linked:void 0;this.linked=o||s.onlineGuests>0;break}case"GetSessionConfigOK":case"SessionConfigUpdated":{this.handleSessionMetadataUpdated(s.metadata);break}case"Event":{this.handleIncomingEvent(s);break}}s.id!==void 0&&((a=this.requestResolutions.get(s.id))===null||a===void 0||a(s))}),this.ws=i,this.http=new $Ye(r,e.id,e.key)}connect(){if(this.destroyed)throw new Error("instance is destroyed");this.ws.connect()}async destroy(){this.destroyed||(await this.makeRequest({type:"SetSessionConfig",id:ou(this.nextReqId++),sessionId:this.session.id,metadata:{__destroyed:"1"}},{timeout:1e3}),this.destroyed=!0,this.ws.disconnect(),this.listener=void 0)}get connected(){return this._connected}set connected(e){this._connected=e}get linked(){return this._linked}set linked(e){var r,n;this._linked=e,e&&((r=this.onceLinked)===null||r===void 0||r.call(this)),(n=this.listener)===null||n===void 0||n.linkedUpdated(e)}setOnceLinked(e){return new Promise(r=>{this.linked?e().then(r):this.onceLinked=()=>{e().then(r),this.onceLinked=void 0}})}async handleIncomingEvent(e){var r;if(e.type!=="Event"||e.event!=="Web3Response")return;const n=await this.cipher.decrypt(e.data),i=JSON.parse(n);if(i.type!=="WEB3_RESPONSE")return;const{id:s,response:a}=i;(r=this.listener)===null||r===void 0||r.handleWeb3ResponseMessage(s,a)}async checkUnseenEvents(){if(!this.connected){this.shouldFetchUnseenEventsOnConnect=!0;return}await new Promise(e=>setTimeout(e,250));try{await this.fetchUnseenEventsAPI()}catch(e){console.error("Unable to check for unseen events",e)}}async fetchUnseenEventsAPI(){this.shouldFetchUnseenEventsOnConnect=!1,(await this.http.fetchUnseenEvents()).forEach(r=>this.handleIncomingEvent(r))}async publishEvent(e,r,n=!1){const i=await this.cipher.encrypt(JSON.stringify(Object.assign(Object.assign({},r),{origin:location.origin,location:location.href,relaySource:"coinbaseWalletExtension"in window&&window.coinbaseWalletExtension?"injected_sdk":"sdk"}))),s={type:"PublishEvent",id:ou(this.nextReqId++),sessionId:this.session.id,event:e,data:i,callWebhook:n};return this.setOnceLinked(async()=>{const a=await this.makeRequest(s);if(a.type==="Fail")throw new Error(a.error||"failed to publish event");return a.eventId})}sendData(e){this.ws.sendData(JSON.stringify(e))}updateLastHeartbeat(){this.lastHeartbeatResponse=Date.now()}heartbeat(){if(Date.now()-this.lastHeartbeatResponse>lW*2){this.ws.disconnect();return}try{this.ws.sendData("h")}catch{}}async makeRequest(e,r={timeout:IYe}){const n=e.id;this.sendData(e);let i;return Promise.race([new Promise((s,a)=>{i=window.setTimeout(()=>{a(new Error(`request ${n} timed out`))},r.timeout)}),new Promise(s=>{this.requestResolutions.set(n,a=>{clearTimeout(i),s(a),this.requestResolutions.delete(n)})})])}async handleConnected(){return(await this.makeRequest({type:"HostSession",id:ou(this.nextReqId++),sessionId:this.session.id,sessionKey:this.session.key})).type==="Fail"?!1:(this.sendData({type:"IsLinked",id:ou(this.nextReqId++),sessionId:this.session.id}),this.sendData({type:"GetSessionConfig",id:ou(this.nextReqId++),sessionId:this.session.id}),!0)}}class PYe{constructor(){this._nextRequestId=0,this.callbacks=new Map}makeRequestId(){this._nextRequestId=(this._nextRequestId+1)%2147483647;const e=this._nextRequestId,r=Nre(e.toString(16));return this.callbacks.get(r)&&this.callbacks.delete(r),e}}const cW="session:id",uW="session:secret",dW="session:linked";class sg{constructor(e,r,n,i=!1){this.storage=e,this.id=r,this.secret=n,this.key=Noe(gH(`${r}, ${n} WalletLink`)),this._linked=!!i}static create(e){const r=Jh(16),n=Jh(32);return new sg(e,r,n).save()}static load(e){const r=e.getItem(cW),n=e.getItem(dW),i=e.getItem(uW);return r&&i?new sg(e,r,i,n==="1"):null}get linked(){return this._linked}set linked(e){this._linked=e,this.persistLinked()}save(){return this.storage.setItem(cW,this.id),this.storage.setItem(uW,this.secret),this.persistLinked(),this}persistLinked(){this.storage.setItem(dW,this._linked?"1":"0")}}function OYe(){try{return window.frameElement!==null}catch{return!1}}function MYe(){try{return OYe()&&window.top?window.top.location:window.location}catch{return window.location}}function RYe(){var t;return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test((t=window==null?void 0:window.navigator)===null||t===void 0?void 0:t.userAgent)}function Dre(){var t,e;return(e=(t=window==null?void 0:window.matchMedia)===null||t===void 0?void 0:t.call(window,"(prefers-color-scheme: dark)").matches)!==null&&e!==void 0?e:!1}const jYe='@namespace svg "http://www.w3.org/2000/svg";.-cbwsdk-css-reset,.-cbwsdk-css-reset *{animation:none;animation-delay:0;animation-direction:normal;animation-duration:0;animation-fill-mode:none;animation-iteration-count:1;animation-name:none;animation-play-state:running;animation-timing-function:ease;backface-visibility:visible;background:0;background-attachment:scroll;background-clip:border-box;background-color:rgba(0,0,0,0);background-image:none;background-origin:padding-box;background-position:0 0;background-position-x:0;background-position-y:0;background-repeat:repeat;background-size:auto auto;border:0;border-style:none;border-width:medium;border-color:inherit;border-bottom:0;border-bottom-color:inherit;border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-style:none;border-bottom-width:medium;border-collapse:separate;border-image:none;border-left:0;border-left-color:inherit;border-left-style:none;border-left-width:medium;border-radius:0;border-right:0;border-right-color:inherit;border-right-style:none;border-right-width:medium;border-spacing:0;border-top:0;border-top-color:inherit;border-top-left-radius:0;border-top-right-radius:0;border-top-style:none;border-top-width:medium;box-shadow:none;box-sizing:border-box;caption-side:top;clear:none;clip:auto;color:inherit;columns:auto;column-count:auto;column-fill:balance;column-gap:normal;column-rule:medium none currentColor;column-rule-color:currentColor;column-rule-style:none;column-rule-width:none;column-span:1;column-width:auto;counter-increment:none;counter-reset:none;direction:ltr;empty-cells:show;float:none;font:normal;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;font-size:medium;font-style:normal;font-variant:normal;font-weight:normal;height:auto;hyphens:none;letter-spacing:normal;line-height:normal;list-style:none;list-style-image:none;list-style-position:outside;list-style-type:disc;margin:0;margin-bottom:0;margin-left:0;margin-right:0;margin-top:0;opacity:1;orphans:0;outline:0;outline-color:invert;outline-style:none;outline-width:medium;overflow:visible;overflow-x:visible;overflow-y:visible;padding:0;padding-bottom:0;padding-left:0;padding-right:0;padding-top:0;page-break-after:auto;page-break-before:auto;page-break-inside:auto;perspective:none;perspective-origin:50% 50%;pointer-events:auto;position:static;quotes:"\\201C" "\\201D" "\\2018" "\\2019";tab-size:8;table-layout:auto;text-align:inherit;text-align-last:auto;text-decoration:none;text-decoration-color:inherit;text-decoration-line:none;text-decoration-style:solid;text-indent:0;text-shadow:none;text-transform:none;transform:none;transform-style:flat;transition:none;transition-delay:0s;transition-duration:0s;transition-property:none;transition-timing-function:ease;unicode-bidi:normal;vertical-align:baseline;visibility:visible;white-space:normal;widows:0;word-spacing:normal;z-index:auto}.-cbwsdk-css-reset strong{font-weight:bold}.-cbwsdk-css-reset *{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI","Helvetica Neue",Arial,sans-serif;line-height:1}.-cbwsdk-css-reset [class*=container]{margin:0;padding:0}.-cbwsdk-css-reset style{display:none}';function Ure(){const t=document.createElement("style");t.type="text/css",t.appendChild(document.createTextNode(jYe)),document.documentElement.appendChild(t)}function Bre(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t))for(e=0;e<t.length;e++)t[e]&&(r=Bre(t[e]))&&(n&&(n+=" "),n+=r);else for(e in t)t[e]&&(n&&(n+=" "),n+=e);return n}function Wy(){for(var t,e,r=0,n="";r<arguments.length;)(t=arguments[r++])&&(e=Bre(t))&&(n&&(n+=" "),n+=e);return n}var sx,gn,Lre,ef,hW,Fre,zre,Wre,xI,ZS,QS,X2={},qre=[],DYe=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,ax=Array.isArray;function hu(t,e){for(var r in e)t[r]=e[r];return t}function EI(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function Gr(t,e,r){var n,i,s,a={};for(s in e)s=="key"?n=e[s]:s=="ref"?i=e[s]:a[s]=e[s];if(arguments.length>2&&(a.children=arguments.length>3?sx.call(arguments,2):r),typeof t=="function"&&t.defaultProps!=null)for(s in t.defaultProps)a[s]===void 0&&(a[s]=t.defaultProps[s]);return U3(t,a,n,i,null)}function U3(t,e,r,n,i){var s={type:t,props:e,key:r,ref:n,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++Lre,__i:-1,__u:0};return i==null&&gn.vnode!=null&&gn.vnode(s),s}function ox(t){return t.children}function B3(t,e){this.props=t,this.context=e}function Ig(t,e){if(e==null)return t.__?Ig(t.__,t.__i+1):null;for(var r;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null)return r.__e;return typeof t.type=="function"?Ig(t):null}function Hre(t){var e,r;if((t=t.__)!=null&&t.__c!=null){for(t.__e=t.__c.base=null,e=0;e<t.__k.length;e++)if((r=t.__k[e])!=null&&r.__e!=null){t.__e=t.__c.base=r.__e;break}return Hre(t)}}function fW(t){(!t.__d&&(t.__d=!0)&&ef.push(t)&&!Y5.__r++||hW!=gn.debounceRendering)&&((hW=gn.debounceRendering)||Fre)(Y5)}function Y5(){for(var t,e,r,n,i,s,a,o=1;ef.length;)ef.length>o&&ef.sort(zre),t=ef.shift(),o=ef.length,t.__d&&(r=void 0,n=void 0,i=(n=(e=t).__v).__e,s=[],a=[],e.__P&&((r=hu({},n)).__v=n.__v+1,gn.vnode&&gn.vnode(r),_I(e.__P,r,n,e.__n,e.__P.namespaceURI,32&n.__u?[i]:null,s,i??Ig(n),!!(32&n.__u),a),r.__v=n.__v,r.__.__k[r.__i]=r,Kre(s,r,a),n.__e=n.__=null,r.__e!=i&&Hre(r)));Y5.__r=0}function Vre(t,e,r,n,i,s,a,o,l,u,h){var f,g,y,b,w,x,E,S=n&&n.__k||qre,_=e.length;for(l=UYe(r,e,S,l,_),f=0;f<_;f++)(y=r.__k[f])!=null&&(g=y.__i==-1?X2:S[y.__i]||X2,y.__i=f,x=_I(t,y,g,i,s,a,o,l,u,h),b=y.__e,y.ref&&g.ref!=y.ref&&(g.ref&&CI(g.ref,null,y),h.push(y.ref,y.__c||b,y)),w==null&&b!=null&&(w=b),(E=!!(4&y.__u))||g.__k===y.__k?l=Gre(y,l,t,E):typeof y.type=="function"&&x!==void 0?l=x:b&&(l=b.nextSibling),y.__u&=-7);return r.__e=w,l}function UYe(t,e,r,n,i){var s,a,o,l,u,h=r.length,f=h,g=0;for(t.__k=new Array(i),s=0;s<i;s++)(a=e[s])!=null&&typeof a!="boolean"&&typeof a!="function"?(l=s+g,(a=t.__k[s]=typeof a=="string"||typeof a=="number"||typeof a=="bigint"||a.constructor==String?U3(null,a,null,null,null):ax(a)?U3(ox,{children:a},null,null,null):a.constructor==null&&a.__b>0?U3(a.type,a.props,a.key,a.ref?a.ref:null,a.__v):a).__=t,a.__b=t.__b+1,o=null,(u=a.__i=BYe(a,r,l,f))!=-1&&(f--,(o=r[u])&&(o.__u|=2)),o==null||o.__v==null?(u==-1&&(i>h?g--:i<h&&g++),typeof a.type!="function"&&(a.__u|=4)):u!=l&&(u==l-1?g--:u==l+1?g++:(u>l?g--:g++,a.__u|=4))):t.__k[s]=null;if(f)for(s=0;s<h;s++)(o=r[s])!=null&&!(2&o.__u)&&(o.__e==n&&(n=Ig(o)),Zre(o,o));return n}function Gre(t,e,r,n){var i,s;if(typeof t.type=="function"){for(i=t.__k,s=0;i&&s<i.length;s++)i[s]&&(i[s].__=t,e=Gre(i[s],e,r,n));return e}t.__e!=e&&(n&&(e&&t.type&&!e.parentNode&&(e=Ig(t)),r.insertBefore(t.__e,e||null)),e=t.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function BYe(t,e,r,n){var i,s,a,o=t.key,l=t.type,u=e[r],h=u!=null&&(2&u.__u)==0;if(u===null&&t.key==null||h&&o==u.key&&l==u.type)return r;if(n>(h?1:0)){for(i=r-1,s=r+1;i>=0||s<e.length;)if((u=e[a=i>=0?i--:s++])!=null&&!(2&u.__u)&&o==u.key&&l==u.type)return a}return-1}function pW(t,e,r){e[0]=="-"?t.setProperty(e,r??""):t[e]=r==null?"":typeof r!="number"||DYe.test(e)?r:r+"px"}function Kv(t,e,r,n,i){var s,a;e:if(e=="style")if(typeof r=="string")t.style.cssText=r;else{if(typeof n=="string"&&(t.style.cssText=n=""),n)for(e in n)r&&e in r||pW(t.style,e,"");if(r)for(e in r)n&&r[e]==n[e]||pW(t.style,e,r[e])}else if(e[0]=="o"&&e[1]=="n")s=e!=(e=e.replace(Wre,"$1")),a=e.toLowerCase(),e=a in t||e=="onFocusOut"||e=="onFocusIn"?a.slice(2):e.slice(2),t.l||(t.l={}),t.l[e+s]=r,r?n?r.u=n.u:(r.u=xI,t.addEventListener(e,s?QS:ZS,s)):t.removeEventListener(e,s?QS:ZS,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in t)try{t[e]=r??"";break e}catch{}typeof r=="function"||(r==null||r===!1&&e[4]!="-"?t.removeAttribute(e):t.setAttribute(e,e=="popover"&&r==1?"":r))}}function gW(t){return function(e){if(this.l){var r=this.l[e.type+t];if(e.t==null)e.t=xI++;else if(e.t<r.u)return;return r(gn.event?gn.event(e):e)}}}function _I(t,e,r,n,i,s,a,o,l,u){var h,f,g,y,b,w,x,E,S,_,I,A,O,F,H,L,z,V=e.type;if(e.constructor!=null)return null;128&r.__u&&(l=!!(32&r.__u),s=[o=e.__e=r.__e]),(h=gn.__b)&&h(e);e:if(typeof V=="function")try{if(E=e.props,S="prototype"in V&&V.prototype.render,_=(h=V.contextType)&&n[h.__c],I=h?_?_.props.value:h.__:n,r.__c?x=(f=e.__c=r.__c).__=f.__E:(S?e.__c=f=new V(E,I):(e.__c=f=new B3(E,I),f.constructor=V,f.render=FYe),_&&_.sub(f),f.props=E,f.state||(f.state={}),f.context=I,f.__n=n,g=f.__d=!0,f.__h=[],f._sb=[]),S&&f.__s==null&&(f.__s=f.state),S&&V.getDerivedStateFromProps!=null&&(f.__s==f.state&&(f.__s=hu({},f.__s)),hu(f.__s,V.getDerivedStateFromProps(E,f.__s))),y=f.props,b=f.state,f.__v=e,g)S&&V.getDerivedStateFromProps==null&&f.componentWillMount!=null&&f.componentWillMount(),S&&f.componentDidMount!=null&&f.__h.push(f.componentDidMount);else{if(S&&V.getDerivedStateFromProps==null&&E!==y&&f.componentWillReceiveProps!=null&&f.componentWillReceiveProps(E,I),!f.__e&&f.shouldComponentUpdate!=null&&f.shouldComponentUpdate(E,f.__s,I)===!1||e.__v==r.__v){for(e.__v!=r.__v&&(f.props=E,f.state=f.__s,f.__d=!1),e.__e=r.__e,e.__k=r.__k,e.__k.some(function(K){K&&(K.__=e)}),A=0;A<f._sb.length;A++)f.__h.push(f._sb[A]);f._sb=[],f.__h.length&&a.push(f);break e}f.componentWillUpdate!=null&&f.componentWillUpdate(E,f.__s,I),S&&f.componentDidUpdate!=null&&f.__h.push(function(){f.componentDidUpdate(y,b,w)})}if(f.context=I,f.props=E,f.__P=t,f.__e=!1,O=gn.__r,F=0,S){for(f.state=f.__s,f.__d=!1,O&&O(e),h=f.render(f.props,f.state,f.context),H=0;H<f._sb.length;H++)f.__h.push(f._sb[H]);f._sb=[]}else do f.__d=!1,O&&O(e),h=f.render(f.props,f.state,f.context),f.state=f.__s;while(f.__d&&++F<25);f.state=f.__s,f.getChildContext!=null&&(n=hu(hu({},n),f.getChildContext())),S&&!g&&f.getSnapshotBeforeUpdate!=null&&(w=f.getSnapshotBeforeUpdate(y,b)),L=h,h!=null&&h.type===ox&&h.key==null&&(L=Yre(h.props.children)),o=Vre(t,ax(L)?L:[L],e,r,n,i,s,a,o,l,u),f.base=e.__e,e.__u&=-161,f.__h.length&&a.push(f),x&&(f.__E=f.__=null)}catch(K){if(e.__v=null,l||s!=null)if(K.then){for(e.__u|=l?160:128;o&&o.nodeType==8&&o.nextSibling;)o=o.nextSibling;s[s.indexOf(o)]=null,e.__e=o}else{for(z=s.length;z--;)EI(s[z]);XS(e)}else e.__e=r.__e,e.__k=r.__k,K.then||XS(e);gn.__e(K,e,r)}else s==null&&e.__v==r.__v?(e.__k=r.__k,e.__e=r.__e):o=e.__e=LYe(r.__e,e,r,n,i,s,a,l,u);return(h=gn.diffed)&&h(e),128&e.__u?void 0:o}function XS(t){t&&t.__c&&(t.__c.__e=!0),t&&t.__k&&t.__k.forEach(XS)}function Kre(t,e,r){for(var n=0;n<r.length;n++)CI(r[n],r[++n],r[++n]);gn.__c&&gn.__c(e,t),t.some(function(i){try{t=i.__h,i.__h=[],t.some(function(s){s.call(i)})}catch(s){gn.__e(s,i.__v)}})}function Yre(t){return typeof t!="object"||t==null||t.__b&&t.__b>0?t:ax(t)?t.map(Yre):hu({},t)}function LYe(t,e,r,n,i,s,a,o,l){var u,h,f,g,y,b,w,x=r.props,E=e.props,S=e.type;if(S=="svg"?i="http://www.w3.org/2000/svg":S=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(u=0;u<s.length;u++)if((y=s[u])&&"setAttribute"in y==!!S&&(S?y.localName==S:y.nodeType==3)){t=y,s[u]=null;break}}if(t==null){if(S==null)return document.createTextNode(E);t=document.createElementNS(i,S,E.is&&E),o&&(gn.__m&&gn.__m(e,s),o=!1),s=null}if(S==null)x===E||o&&t.data==E||(t.data=E);else{if(s=s&&sx.call(t.childNodes),x=r.props||X2,!o&&s!=null)for(x={},u=0;u<t.attributes.length;u++)x[(y=t.attributes[u]).name]=y.value;for(u in x)if(y=x[u],u!="children"){if(u=="dangerouslySetInnerHTML")f=y;else if(!(u in E)){if(u=="value"&&"defaultValue"in E||u=="checked"&&"defaultChecked"in E)continue;Kv(t,u,null,y,i)}}for(u in E)y=E[u],u=="children"?g=y:u=="dangerouslySetInnerHTML"?h=y:u=="value"?b=y:u=="checked"?w=y:o&&typeof y!="function"||x[u]===y||Kv(t,u,y,x[u],i);if(h)o||f&&(h.__html==f.__html||h.__html==t.innerHTML)||(t.innerHTML=h.__html),e.__k=[];else if(f&&(t.innerHTML=""),Vre(e.type=="template"?t.content:t,ax(g)?g:[g],e,r,n,S=="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,a,s?s[0]:r.__k&&Ig(r,0),o,l),s!=null)for(u=s.length;u--;)EI(s[u]);o||(u="value",S=="progress"&&b==null?t.removeAttribute("value"):b!=null&&(b!==t[u]||S=="progress"&&!b||S=="option"&&b!=x[u])&&Kv(t,u,b,x[u],i),u="checked",w!=null&&w!=t[u]&&Kv(t,u,w,x[u],i))}return t}function CI(t,e,r){try{if(typeof t=="function"){var n=typeof t.__u=="function";n&&t.__u(),n&&e==null||(t.__u=t(e))}else t.current=e}catch(i){gn.__e(i,r)}}function Zre(t,e,r){var n,i;if(gn.unmount&&gn.unmount(t),(n=t.ref)&&(n.current&&n.current!=t.__e||CI(n,null,e)),(n=t.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(s){gn.__e(s,e)}n.base=n.__P=null}if(n=t.__k)for(i=0;i<n.length;i++)n[i]&&Zre(n[i],e,r||typeof t.type!="function");r||EI(t.__e),t.__c=t.__=t.__e=void 0}function FYe(t,e,r){return this.constructor(t,r)}function JS(t,e,r){var n,i,s,a;e==document&&(e=document.documentElement),gn.__&&gn.__(t,e),i=(n=!1)?null:e.__k,s=[],a=[],_I(e,t=e.__k=Gr(ox,null,[t]),i||X2,X2,e.namespaceURI,i?null:e.firstChild?sx.call(e.childNodes):null,s,i?i.__e:e.firstChild,n,a),Kre(s,t,a)}sx=qre.slice,gn={__e:function(t,e,r,n){for(var i,s,a;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(t)),a=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(t,n||{}),a=i.__d),a)return i.__E=i}catch(o){t=o}throw t}},Lre=0,B3.prototype.setState=function(t,e){var r;r=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=hu({},this.state),typeof t=="function"&&(t=t(hu({},r),this.props)),t&&hu(r,t),t!=null&&this.__v&&(e&&this._sb.push(e),fW(this))},B3.prototype.forceUpdate=function(t){this.__v&&(this.__e=!0,t&&this.__h.push(t),fW(this))},B3.prototype.render=ox,ef=[],Fre=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,zre=function(t,e){return t.__v.__b-e.__v.__b},Y5.__r=0,Wre=/(PointerCapture)$|Capture$/i,xI=0,ZS=gW(!1),QS=gW(!0);var Z5,Hn,$_,mW,ek=0,Qre=[],ni=gn,yW=ni.__b,bW=ni.__r,wW=ni.diffed,vW=ni.__c,xW=ni.unmount,EW=ni.__;function Xre(t,e){ni.__h&&ni.__h(Hn,t,ek||e),ek=0;var r=Hn.__H||(Hn.__H={__:[],__h:[]});return t>=r.__.length&&r.__.push({}),r.__[t]}function _W(t){return ek=1,zYe(Jre,t)}function zYe(t,e,r){var n=Xre(Z5++,2);if(n.t=t,!n.__c&&(n.__=[Jre(void 0,e),function(o){var l=n.__N?n.__N[0]:n.__[0],u=n.t(l,o);l!==u&&(n.__N=[u,n.__[1]],n.__c.setState({}))}],n.__c=Hn,!Hn.__f)){var i=function(o,l,u){if(!n.__c.__H)return!0;var h=n.__c.__H.__.filter(function(g){return!!g.__c});if(h.every(function(g){return!g.__N}))return!s||s.call(this,o,l,u);var f=n.__c.props!==o;return h.forEach(function(g){if(g.__N){var y=g.__[0];g.__=g.__N,g.__N=void 0,y!==g.__[0]&&(f=!0)}}),s&&s.call(this,o,l,u)||f};Hn.__f=!0;var s=Hn.shouldComponentUpdate,a=Hn.componentWillUpdate;Hn.componentWillUpdate=function(o,l,u){if(this.__e){var h=s;s=void 0,i(o,l,u),s=h}a&&a.call(this,o,l,u)},Hn.shouldComponentUpdate=i}return n.__N||n.__}function WYe(t,e){var r=Xre(Z5++,3);!ni.__s&&VYe(r.__H,e)&&(r.__=t,r.u=e,Hn.__H.__h.push(r))}function qYe(){for(var t;t=Qre.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(L3),t.__H.__h.forEach(tk),t.__H.__h=[]}catch(e){t.__H.__h=[],ni.__e(e,t.__v)}}ni.__b=function(t){Hn=null,yW&&yW(t)},ni.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),EW&&EW(t,e)},ni.__r=function(t){bW&&bW(t),Z5=0;var e=(Hn=t.__c).__H;e&&($_===Hn?(e.__h=[],Hn.__h=[],e.__.forEach(function(r){r.__N&&(r.__=r.__N),r.u=r.__N=void 0})):(e.__h.forEach(L3),e.__h.forEach(tk),e.__h=[],Z5=0)),$_=Hn},ni.diffed=function(t){wW&&wW(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Qre.push(e)!==1&&mW===ni.requestAnimationFrame||((mW=ni.requestAnimationFrame)||HYe)(qYe)),e.__H.__.forEach(function(r){r.u&&(r.__H=r.u),r.u=void 0})),$_=Hn=null},ni.__c=function(t,e){e.some(function(r){try{r.__h.forEach(L3),r.__h=r.__h.filter(function(n){return!n.__||tk(n)})}catch(n){e.some(function(i){i.__h&&(i.__h=[])}),e=[],ni.__e(n,r.__v)}}),vW&&vW(t,e)},ni.unmount=function(t){xW&&xW(t);var e,r=t.__c;r&&r.__H&&(r.__H.__.forEach(function(n){try{L3(n)}catch(i){e=i}}),r.__H=void 0,e&&ni.__e(e,r.__v))};var CW=typeof requestAnimationFrame=="function";function HYe(t){var e,r=function(){clearTimeout(n),CW&&cancelAnimationFrame(e),setTimeout(t)},n=setTimeout(r,35);CW&&(e=requestAnimationFrame(r))}function L3(t){var e=Hn,r=t.__c;typeof r=="function"&&(t.__c=void 0,r()),Hn=e}function tk(t){var e=Hn;t.__c=t.__(),Hn=e}function VYe(t,e){return!t||t.length!==e.length||e.some(function(r,n){return r!==t[n]})}function Jre(t,e){return typeof e=="function"?e(t):e}const GYe=".-cbwsdk-css-reset .-gear-container{margin-left:16px !important;margin-right:9px !important;display:flex;align-items:center;justify-content:center;width:24px;height:24px;transition:opacity .25s}.-cbwsdk-css-reset .-gear-container *{user-select:none}.-cbwsdk-css-reset .-gear-container svg{opacity:0;position:absolute}.-cbwsdk-css-reset .-gear-icon{height:12px;width:12px;z-index:10000}.-cbwsdk-css-reset .-cbwsdk-snackbar{align-items:flex-end;display:flex;flex-direction:column;position:fixed;right:0;top:0;z-index:2147483647}.-cbwsdk-css-reset .-cbwsdk-snackbar *{user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance{display:flex;flex-direction:column;margin:8px 16px 0 16px;overflow:visible;text-align:left;transform:translateX(0);transition:opacity .25s,transform .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header:hover .-gear-container svg{opacity:1}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header{display:flex;align-items:center;background:#fff;overflow:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-cblogo{margin:8px 8px 8px 8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-header-message{color:#000;font-size:13px;line-height:1.5;user-select:none}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu{background:#fff;transition:opacity .25s ease-in-out,transform .25s linear,visibility 0s;visibility:hidden;border:1px solid #e7ebee;box-sizing:border-box;border-radius:8px;opacity:0;flex-direction:column;padding-left:8px;padding-right:8px}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:last-child{margin-bottom:8px !important}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover{background:#f5f7f8;border-radius:6px;transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover span{color:#050f19;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item:hover svg path{fill:#000;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item{visibility:inherit;height:35px;margin-top:8px;margin-bottom:0;display:flex;flex-direction:row;align-items:center;padding:8px;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item *{visibility:inherit;cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover{background:rgba(223,95,103,.2);transition:background .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover *{cursor:pointer}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover svg path{fill:#df5f67;transition:fill .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-is-red:hover span{color:#df5f67;transition:color .25s}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-menu-item-info{color:#aaa;font-size:13px;margin:0 8px 0 32px;position:absolute}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-hidden{opacity:0;text-align:left;transform:translateX(25%);transition:opacity .5s linear}.-cbwsdk-css-reset .-cbwsdk-snackbar-instance-expanded .-cbwsdk-snackbar-instance-menu{opacity:1;display:flex;transform:translateY(8px);visibility:visible}",KYe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMzIiIGhlaWdodD0iMzIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEuNDkyIDEwLjQxOWE4LjkzIDguOTMgMCAwMTguOTMtOC45M2gxMS4xNjNhOC45MyA4LjkzIDAgMDE4LjkzIDguOTN2MTEuMTYzYTguOTMgOC45MyAwIDAxLTguOTMgOC45M0gxMC40MjJhOC45MyA4LjkzIDAgMDEtOC45My04LjkzVjEwLjQxOXoiIGZpbGw9IiMxNjUyRjAiLz48cGF0aCBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgZD0iTTEwLjQxOSAwSDIxLjU4QzI3LjMzNSAwIDMyIDQuNjY1IDMyIDEwLjQxOVYyMS41OEMzMiAyNy4zMzUgMjcuMzM1IDMyIDIxLjU4MSAzMkgxMC40MkM0LjY2NSAzMiAwIDI3LjMzNSAwIDIxLjU4MVYxMC40MkMwIDQuNjY1IDQuNjY1IDAgMTAuNDE5IDB6bTAgMS40ODhhOC45MyA4LjkzIDAgMDAtOC45MyA4LjkzdjExLjE2M2E4LjkzIDguOTMgMCAwMDguOTMgOC45M0gyMS41OGE4LjkzIDguOTMgMCAwMDguOTMtOC45M1YxMC40MmE4LjkzIDguOTMgMCAwMC04LjkzLTguOTNIMTAuNDJ6IiBmaWxsPSIjZmZmIi8+PHBhdGggZmlsbC1ydWxlPSJldmVub2RkIiBjbGlwLXJ1bGU9ImV2ZW5vZGQiIGQ9Ik0xNS45OTggMjYuMDQ5Yy01LjU0OSAwLTEwLjA0Ny00LjQ5OC0xMC4wNDctMTAuMDQ3IDAtNS41NDggNC40OTgtMTAuMDQ2IDEwLjA0Ny0xMC4wNDYgNS41NDggMCAxMC4wNDYgNC40OTggMTAuMDQ2IDEwLjA0NiAwIDUuNTQ5LTQuNDk4IDEwLjA0Ny0xMC4wNDYgMTAuMDQ3eiIgZmlsbD0iI2ZmZiIvPjxwYXRoIGQ9Ik0xMi43NjIgMTQuMjU0YzAtLjgyMi42NjctMS40ODkgMS40ODktMS40ODloMy40OTdjLjgyMiAwIDEuNDg4LjY2NiAxLjQ4OCAxLjQ4OXYzLjQ5N2MwIC44MjItLjY2NiAxLjQ4OC0xLjQ4OCAxLjQ4OGgtMy40OTdhMS40ODggMS40ODggMCAwMS0xLjQ4OS0xLjQ4OHYtMy40OTh6IiBmaWxsPSIjMTY1MkYwIi8+PC9zdmc+",YYe="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTIiIGhlaWdodD0iMTIiIGZpbGw9Im5vbmUiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTEyIDYuNzV2LTEuNWwtMS43Mi0uNTdjLS4wOC0uMjctLjE5LS41Mi0uMzItLjc3bC44MS0xLjYyLTEuMDYtMS4wNi0xLjYyLjgxYy0uMjQtLjEzLS41LS4yNC0uNzctLjMyTDYuNzUgMGgtMS41bC0uNTcgMS43MmMtLjI3LjA4LS41My4xOS0uNzcuMzJsLTEuNjItLjgxLTEuMDYgMS4wNi44MSAxLjYyYy0uMTMuMjQtLjI0LjUtLjMyLjc3TDAgNS4yNXYxLjVsMS43Mi41N2MuMDguMjcuMTkuNTMuMzIuNzdsLS44MSAxLjYyIDEuMDYgMS4wNiAxLjYyLS44MWMuMjQuMTMuNS4yMy43Ny4zMkw1LjI1IDEyaDEuNWwuNTctMS43MmMuMjctLjA4LjUyLS4xOS43Ny0uMzJsMS42Mi44MSAxLjA2LTEuMDYtLjgxLTEuNjJjLjEzLS4yNC4yMy0uNS4zMi0uNzdMMTIgNi43NXpNNiA4LjVhMi41IDIuNSAwIDAxMC01IDIuNSAyLjUgMCAwMTAgNXoiIGZpbGw9IiMwNTBGMTkiLz48L3N2Zz4=";class ene{constructor(){this.items=new Map,this.nextItemKey=0,this.root=null,this.darkMode=Dre()}attach(e){this.root=document.createElement("div"),this.root.className="-cbwsdk-snackbar-root",e.appendChild(this.root),this.render()}presentItem(e){const r=this.nextItemKey++;return this.items.set(r,e),this.render(),()=>{this.items.delete(r),this.render()}}clear(){this.items.clear(),this.render()}render(){this.root&&JS(Gr("div",null,Gr(tne,{darkMode:this.darkMode},Array.from(this.items.entries()).map(([e,r])=>Gr(ZYe,Object.assign({},r,{key:e}))))),this.root)}}const tne=t=>Gr("div",{class:Wy("-cbwsdk-snackbar-container")},Gr("style",null,GYe),Gr("div",{class:"-cbwsdk-snackbar"},t.children)),ZYe=({autoExpand:t,message:e,menuItems:r})=>{const[n,i]=_W(!0),[s,a]=_W(t??!1);WYe(()=>{const l=[window.setTimeout(()=>{i(!1)},1),window.setTimeout(()=>{a(!0)},1e4)];return()=>{l.forEach(window.clearTimeout)}});const o=()=>{a(!s)};return Gr("div",{class:Wy("-cbwsdk-snackbar-instance",n&&"-cbwsdk-snackbar-instance-hidden",s&&"-cbwsdk-snackbar-instance-expanded")},Gr("div",{class:"-cbwsdk-snackbar-instance-header",onClick:o},Gr("img",{src:KYe,class:"-cbwsdk-snackbar-instance-header-cblogo"})," ",Gr("div",{class:"-cbwsdk-snackbar-instance-header-message"},e),Gr("div",{class:"-gear-container"},!s&&Gr("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Gr("circle",{cx:"12",cy:"12",r:"12",fill:"#F5F7F8"})),Gr("img",{src:YYe,class:"-gear-icon",title:"Expand"}))),r&&r.length>0&&Gr("div",{class:"-cbwsdk-snackbar-instance-menu"},r.map((l,u)=>Gr("div",{class:Wy("-cbwsdk-snackbar-instance-menu-item",l.isRed&&"-cbwsdk-snackbar-instance-menu-item-is-red"),onClick:l.onClick,key:u},Gr("svg",{width:l.svgWidth,height:l.svgHeight,viewBox:"0 0 10 11",fill:"none",xmlns:"http://www.w3.org/2000/svg"},Gr("path",{"fill-rule":l.defaultFillRule,"clip-rule":l.defaultClipRule,d:l.path,fill:"#AAAAAA"})),Gr("span",{class:Wy("-cbwsdk-snackbar-instance-menu-item-info",l.isRed&&"-cbwsdk-snackbar-instance-menu-item-info-is-red")},l.info)))))},rne="M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z";class QYe{constructor(){this.attached=!1,this.snackbar=new ene}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");const e=document.documentElement,r=document.createElement("div");r.className="-cbwsdk-css-reset",e.appendChild(r),this.snackbar.attach(r),this.attached=!0,Ure()}showConnecting(e){let r;return e.isUnlinkedErrorState?r={autoExpand:!0,message:"Connection lost",menuItems:[{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:"M5.00008 0.96875C6.73133 0.96875 8.23758 1.94375 9.00008 3.375L10.0001 2.375V5.5H9.53133H7.96883H6.87508L7.80633 4.56875C7.41258 3.3875 6.31258 2.53125 5.00008 2.53125C3.76258 2.53125 2.70633 3.2875 2.25633 4.36875L0.812576 3.76875C1.50008 2.125 3.11258 0.96875 5.00008 0.96875ZM2.19375 6.43125C2.5875 7.6125 3.6875 8.46875 5 8.46875C6.2375 8.46875 7.29375 7.7125 7.74375 6.63125L9.1875 7.23125C8.5 8.875 6.8875 10.0312 5 10.0312C3.26875 10.0312 1.7625 9.05625 1 7.625L0 8.625V5.5H0.46875H2.03125H3.125L2.19375 6.43125Z",defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]}:r={message:"Confirm on phone",menuItems:[{isRed:!0,info:"Cancel transaction",svgWidth:"11",svgHeight:"11",path:"M10.3711 1.52346L9.21775 0.370117L5.37109 4.21022L1.52444 0.370117L0.371094 1.52346L4.2112 5.37012L0.371094 9.21677L1.52444 10.3701L5.37109 6.53001L9.21775 10.3701L10.3711 9.21677L6.53099 5.37012L10.3711 1.52346Z",defaultFillRule:"inherit",defaultClipRule:"inherit",onClick:e.onCancel},{isRed:!1,info:"Reset connection",svgWidth:"10",svgHeight:"11",path:rne,defaultFillRule:"evenodd",defaultClipRule:"evenodd",onClick:e.onResetConnection}]},this.snackbar.presentItem(r)}}const XYe=".-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop{position:fixed;top:0;left:0;right:0;bottom:0;transition:opacity .25s;background-color:rgba(10,11,13,.5)}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-backdrop-hidden{opacity:0}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box{display:block;position:fixed;top:50%;left:50%;transform:translate(-50%, -50%);padding:20px;border-radius:8px;background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box p{display:block;font-weight:400;font-size:14px;line-height:20px;padding-bottom:12px;color:#5b636e}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box button{appearance:none;border:none;background:none;color:#0052ff;padding:0;text-decoration:none;display:block;font-weight:600;font-size:16px;line-height:24px}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark{background-color:#0a0b0d;color:#fff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.dark button{color:#0052ff}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light{background-color:#fff;color:#0a0b0d}.-cbwsdk-css-reset .-cbwsdk-redirect-dialog-box.light button{color:#0052ff}";class JYe{constructor(){this.root=null,this.darkMode=Dre()}attach(){const e=document.documentElement;this.root=document.createElement("div"),this.root.className="-cbwsdk-css-reset",e.appendChild(this.root),Ure()}present(e){this.render(e)}clear(){this.render(null)}render(e){this.root&&(JS(null,this.root),e&&JS(Gr(eZe,Object.assign({},e,{onDismiss:()=>{this.clear()},darkMode:this.darkMode})),this.root))}}const eZe=({title:t,buttonText:e,darkMode:r,onButtonClick:n,onDismiss:i})=>{const s=r?"dark":"light";return Gr(tne,{darkMode:r},Gr("div",{class:"-cbwsdk-redirect-dialog"},Gr("style",null,XYe),Gr("div",{class:"-cbwsdk-redirect-dialog-backdrop",onClick:i}),Gr("div",{class:Wy("-cbwsdk-redirect-dialog-box",s)},Gr("p",null,t),Gr("button",{onClick:n},e))))},tZe="https://keys.coinbase.com/connect",rZe="https://rpc.wallet.coinbase.com",AW="https://www.walletlink.org",nZe="https://go.cb-w.com/walletlink";class SW{constructor(){this.attached=!1,this.redirectDialog=new JYe}attach(){if(this.attached)throw new Error("Coinbase Wallet SDK UI is already attached");this.redirectDialog.attach(),this.attached=!0}redirectToCoinbaseWallet(e){const r=new URL(nZe);r.searchParams.append("redirect_url",MYe().href),e&&r.searchParams.append("wl_url",e);const n=document.createElement("a");n.target="cbw-opener",n.href=r.href,n.rel="noreferrer noopener",n.click()}openCoinbaseWalletDeeplink(e){this.redirectDialog.present({title:"Redirecting to Coinbase Wallet...",buttonText:"Open",onButtonClick:()=>{this.redirectToCoinbaseWallet(e)}}),setTimeout(()=>{this.redirectToCoinbaseWallet(e)},99)}showConnecting(e){return()=>{this.redirectDialog.clear()}}}class lu{constructor(e){this.chainCallbackParams={chainId:"",jsonRpcUrl:""},this.isMobileWeb=RYe(),this.linkedUpdated=s=>{this.isLinked=s;const a=this.storage.getItem(YS);if(s&&(this._session.linked=s),this.isUnlinkedErrorState=!1,a){const o=a.split(" "),l=this.storage.getItem("IsStandaloneSigning")==="true";o[0]!==""&&!s&&this._session.linked&&!l&&(this.isUnlinkedErrorState=!0)}},this.metadataUpdated=(s,a)=>{this.storage.setItem(s,a)},this.chainUpdated=(s,a)=>{this.chainCallbackParams.chainId===s&&this.chainCallbackParams.jsonRpcUrl===a||(this.chainCallbackParams={chainId:s,jsonRpcUrl:a},this.chainCallback&&this.chainCallback(a,Number.parseInt(s,10)))},this.accountUpdated=s=>{this.accountsCallback&&this.accountsCallback([s]),lu.accountRequestCallbackIds.size>0&&(Array.from(lu.accountRequestCallbackIds.values()).forEach(a=>{this.invokeCallback(a,{method:"requestEthereumAccounts",result:[s]})}),lu.accountRequestCallbackIds.clear())},this.resetAndReload=this.resetAndReload.bind(this),this.linkAPIUrl=e.linkAPIUrl,this.storage=e.storage,this.metadata=e.metadata,this.accountsCallback=e.accountsCallback,this.chainCallback=e.chainCallback;const{session:r,ui:n,connection:i}=this.subscribe();this._session=r,this.connection=i,this.relayEventManager=new PYe,this.ui=n,this.ui.attach()}subscribe(){const e=sg.load(this.storage)||sg.create(this.storage),{linkAPIUrl:r}=this,n=new NYe({session:e,linkAPIUrl:r,listener:this}),i=this.isMobileWeb?new SW:new QYe;return n.connect(),{session:e,ui:i,connection:n}}resetAndReload(){this.connection.destroy().then(()=>{const e=sg.load(this.storage);(e==null?void 0:e.id)===this._session.id&&mc.clearAll(),document.location.reload()}).catch(e=>{})}signEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:zl(e.weiValue),data:Fy(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?zl(e.gasPriceInWei):null,maxFeePerGas:e.gasPriceInWei?zl(e.gasPriceInWei):null,maxPriorityFeePerGas:e.gasPriceInWei?zl(e.gasPriceInWei):null,gasLimit:e.gasLimit?zl(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!1}})}signAndSubmitEthereumTransaction(e){return this.sendRequest({method:"signEthereumTransaction",params:{fromAddress:e.fromAddress,toAddress:e.toAddress,weiValue:zl(e.weiValue),data:Fy(e.data,!0),nonce:e.nonce,gasPriceInWei:e.gasPriceInWei?zl(e.gasPriceInWei):null,maxFeePerGas:e.maxFeePerGas?zl(e.maxFeePerGas):null,maxPriorityFeePerGas:e.maxPriorityFeePerGas?zl(e.maxPriorityFeePerGas):null,gasLimit:e.gasLimit?zl(e.gasLimit):null,chainId:e.chainId,shouldSubmit:!0}})}submitEthereumTransaction(e,r){return this.sendRequest({method:"submitEthereumTransaction",params:{signedTransaction:Fy(e,!0),chainId:r}})}getWalletLinkSession(){return this._session}sendRequest(e){let r=null;const n=Jh(8),i=s=>{this.publishWeb3RequestCanceledEvent(n),this.handleErrorResponse(n,e.method,s),r==null||r()};return new Promise((s,a)=>{r=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:i,onResetConnection:this.resetAndReload}),this.relayEventManager.callbacks.set(n,o=>{if(r==null||r(),Wi(o))return a(new Error(o.errorMessage));s(o)}),this.publishWeb3RequestEvent(n,e)})}publishWeb3RequestEvent(e,r){const n={type:"WEB3_REQUEST",id:e,request:r};this.publishEvent("Web3Request",n,!0).then(i=>{}).catch(i=>{this.handleWeb3ResponseMessage(n.id,{method:r.method,errorMessage:i.message})}),this.isMobileWeb&&this.openCoinbaseWalletDeeplink(r.method)}openCoinbaseWalletDeeplink(e){if(this.ui instanceof SW)switch(e){case"requestEthereumAccounts":case"switchEthereumChain":return;default:window.addEventListener("blur",()=>{window.addEventListener("focus",()=>{this.connection.checkUnseenEvents()},{once:!0})},{once:!0}),this.ui.openCoinbaseWalletDeeplink();break}}publishWeb3RequestCanceledEvent(e){const r={type:"WEB3_REQUEST_CANCELED",id:e};this.publishEvent("Web3RequestCanceled",r,!1).then()}publishEvent(e,r,n){return this.connection.publishEvent(e,r,n)}handleWeb3ResponseMessage(e,r){if(r.method==="requestEthereumAccounts"){lu.accountRequestCallbackIds.forEach(n=>this.invokeCallback(n,r)),lu.accountRequestCallbackIds.clear();return}this.invokeCallback(e,r)}handleErrorResponse(e,r,n){var i;const s=(i=n==null?void 0:n.message)!==null&&i!==void 0?i:"Unspecified error message.";this.handleWeb3ResponseMessage(e,{method:r,errorMessage:s})}invokeCallback(e,r){const n=this.relayEventManager.callbacks.get(e);n&&(n(r),this.relayEventManager.callbacks.delete(e))}requestEthereumAccounts(){const{appName:e,appLogoUrl:r}=this.metadata,n={method:"requestEthereumAccounts",params:{appName:e,appLogoUrl:r}},i=Jh(8);return new Promise((s,a)=>{this.relayEventManager.callbacks.set(i,o=>{if(Wi(o))return a(new Error(o.errorMessage));s(o)}),lu.accountRequestCallbackIds.add(i),this.publishWeb3RequestEvent(i,n)})}watchAsset(e,r,n,i,s,a){const o={method:"watchAsset",params:{type:e,options:{address:r,symbol:n,decimals:i,image:s},chainId:a}};let l=null;const u=Jh(8),h=f=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,o.method,f),l==null||l()};return l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:h,onResetConnection:this.resetAndReload}),new Promise((f,g)=>{this.relayEventManager.callbacks.set(u,y=>{if(l==null||l(),Wi(y))return g(new Error(y.errorMessage));f(y)}),this.publishWeb3RequestEvent(u,o)})}addEthereumChain(e,r,n,i,s,a){const o={method:"addEthereumChain",params:{chainId:e,rpcUrls:r,blockExplorerUrls:i,chainName:s,iconUrls:n,nativeCurrency:a}};let l=null;const u=Jh(8),h=f=>{this.publishWeb3RequestCanceledEvent(u),this.handleErrorResponse(u,o.method,f),l==null||l()};return l=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:h,onResetConnection:this.resetAndReload}),new Promise((f,g)=>{this.relayEventManager.callbacks.set(u,y=>{if(l==null||l(),Wi(y))return g(new Error(y.errorMessage));f(y)}),this.publishWeb3RequestEvent(u,o)})}switchEthereumChain(e,r){const n={method:"switchEthereumChain",params:Object.assign({chainId:e},{address:r})};let i=null;const s=Jh(8),a=o=>{this.publishWeb3RequestCanceledEvent(s),this.handleErrorResponse(s,n.method,o),i==null||i()};return i=this.ui.showConnecting({isUnlinkedErrorState:this.isUnlinkedErrorState,onCancel:a,onResetConnection:this.resetAndReload}),new Promise((o,l)=>{this.relayEventManager.callbacks.set(s,u=>{if(i==null||i(),Wi(u)&&u.errorCode)return l($r.provider.custom({code:u.errorCode,message:"Unrecognized chain ID. Try adding the chain using addEthereumChain first."}));if(Wi(u))return l(new Error(u.errorMessage));o(u)}),this.publishWeb3RequestEvent(s,n)})}}lu.accountRequestCallbackIds=new Set;const kW="DefaultChainId",$W="DefaultJsonRpcUrl";class nne{constructor(e){this._relay=null,this._addresses=[],this.metadata=e.metadata,this._storage=new mc("walletlink",AW),this.callback=e.callback||null;const r=this._storage.getItem(YS);if(r){const n=r.split(" ");n[0]!==""&&(this._addresses=n.map(i=>Ad(i)))}this.initializeRelay()}getSession(){const e=this.initializeRelay(),{id:r,secret:n}=e.getWalletLinkSession();return{id:r,secret:n}}async handshake(){await this._eth_requestAccounts()}get selectedAddress(){return this._addresses[0]||void 0}get jsonRpcUrl(){var e;return(e=this._storage.getItem($W))!==null&&e!==void 0?e:void 0}set jsonRpcUrl(e){this._storage.setItem($W,e)}updateProviderInfo(e,r){var n;this.jsonRpcUrl=e;const i=this.getChainId();this._storage.setItem(kW,r.toString(10)),zy(r)!==i&&((n=this.callback)===null||n===void 0||n.call(this,"chainChanged",Wd(r)))}async watchAsset(e){const r=Array.isArray(e)?e[0]:e;if(!r.type)throw $r.rpc.invalidParams("Type is required");if((r==null?void 0:r.type)!=="ERC20")throw $r.rpc.invalidParams(`Asset of type '${r.type}' is not supported`);if(!(r!=null&&r.options))throw $r.rpc.invalidParams("Options are required");if(!(r!=null&&r.options.address))throw $r.rpc.invalidParams("Address is required");const n=this.getChainId(),{address:i,symbol:s,image:a,decimals:o}=r.options,u=await this.initializeRelay().watchAsset(r.type,i,s,o,a,n==null?void 0:n.toString());return Wi(u)?!1:!!u.result}async addEthereumChain(e){var r,n;const i=e[0];if(((r=i.rpcUrls)===null||r===void 0?void 0:r.length)===0)throw $r.rpc.invalidParams("please pass in at least 1 rpcUrl");if(!i.chainName||i.chainName.trim()==="")throw $r.rpc.invalidParams("chainName is a required field");if(!i.nativeCurrency)throw $r.rpc.invalidParams("nativeCurrency is a required field");const s=Number.parseInt(i.chainId,16);if(s===this.getChainId())return!1;const a=this.initializeRelay(),{rpcUrls:o=[],blockExplorerUrls:l=[],chainName:u,iconUrls:h=[],nativeCurrency:f}=i,g=await a.addEthereumChain(s.toString(),o,h,l,u,f);if(Wi(g))return!1;if(((n=g.result)===null||n===void 0?void 0:n.isApproved)===!0)return this.updateProviderInfo(o[0],s),null;throw $r.rpc.internal("unable to add ethereum chain")}async switchEthereumChain(e){const r=e[0],n=Number.parseInt(r.chainId,16),s=await this.initializeRelay().switchEthereumChain(n.toString(10),this.selectedAddress||void 0);if(Wi(s))throw s;const a=s.result;return a.isApproved&&a.rpcUrl.length>0&&this.updateProviderInfo(a.rpcUrl,n),null}async cleanup(){this.callback=null,this._relay&&this._relay.resetAndReload(),this._storage.clear()}_setAddresses(e,r){var n;if(!Array.isArray(e))throw new Error("addresses is not an array");const i=e.map(s=>Ad(s));JSON.stringify(i)!==JSON.stringify(this._addresses)&&(this._addresses=i,(n=this.callback)===null||n===void 0||n.call(this,"accountsChanged",i),this._storage.setItem(YS,i.join(" ")))}async request(e){const r=e.params||[];switch(e.method){case"eth_accounts":return[...this._addresses];case"eth_coinbase":return this.selectedAddress||null;case"net_version":return this.getChainId().toString(10);case"eth_chainId":return Wd(this.getChainId());case"eth_requestAccounts":return this._eth_requestAccounts();case"eth_ecRecover":case"personal_ecRecover":return this.ecRecover(e);case"personal_sign":return this.personalSign(e);case"eth_signTransaction":return this._eth_signTransaction(r);case"eth_sendRawTransaction":return this._eth_sendRawTransaction(r);case"eth_sendTransaction":return this._eth_sendTransaction(r);case"eth_signTypedData_v1":case"eth_signTypedData_v3":case"eth_signTypedData_v4":case"eth_signTypedData":return this.signTypedData(e);case"wallet_addEthereumChain":return this.addEthereumChain(r);case"wallet_switchEthereumChain":return this.switchEthereumChain(r);case"wallet_watchAsset":return this.watchAsset(r);default:if(!this.jsonRpcUrl)throw $r.rpc.internal("No RPC URL set for chain");return vI(e,this.jsonRpcUrl)}}_ensureKnownAddress(e){const r=Ad(e);if(!this._addresses.map(i=>Ad(i)).includes(r))throw new Error("Unknown Ethereum address")}_prepareTransactionParams(e){const r=e.from?Ad(e.from):this.selectedAddress;if(!r)throw new Error("Ethereum address is unavailable");this._ensureKnownAddress(r);const n=e.to?Ad(e.to):null,i=e.value!=null?P1(e.value):BigInt(0),s=e.data?KS(e.data):Buffer.alloc(0),a=e.nonce!=null?zy(e.nonce):null,o=e.gasPrice!=null?P1(e.gasPrice):null,l=e.maxFeePerGas!=null?P1(e.maxFeePerGas):null,u=e.maxPriorityFeePerGas!=null?P1(e.maxPriorityFeePerGas):null,h=e.gas!=null?P1(e.gas):null,f=e.chainId?zy(e.chainId):this.getChainId();return{fromAddress:r,toAddress:n,weiValue:i,data:s,nonce:a,gasPriceInWei:o,maxFeePerGas:l,maxPriorityFeePerGas:u,gasLimit:h,chainId:f}}async ecRecover(e){const{method:r,params:n}=e;if(!Array.isArray(n))throw $r.rpc.invalidParams();const s=await this.initializeRelay().sendRequest({method:"ethereumAddressFromSignedMessage",params:{message:v_(n[0]),signature:v_(n[1]),addPrefix:r==="personal_ecRecover"}});if(Wi(s))throw s;return s.result}getChainId(){var e;return Number.parseInt((e=this._storage.getItem(kW))!==null&&e!==void 0?e:"1",10)}async _eth_requestAccounts(){var e,r;if(this._addresses.length>0)return(e=this.callback)===null||e===void 0||e.call(this,"connect",{chainId:Wd(this.getChainId())}),this._addresses;const i=await this.initializeRelay().requestEthereumAccounts();if(Wi(i))throw i;if(!i.result)throw new Error("accounts received is empty");return this._setAddresses(i.result),(r=this.callback)===null||r===void 0||r.call(this,"connect",{chainId:Wd(this.getChainId())}),this._addresses}async personalSign({params:e}){if(!Array.isArray(e))throw $r.rpc.invalidParams();const r=e[1],n=e[0];this._ensureKnownAddress(r);const s=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:Ad(r),message:v_(n),addPrefix:!0,typedDataJson:null}});if(Wi(s))throw s;return s.result}async _eth_signTransaction(e){const r=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signEthereumTransaction(r);if(Wi(i))throw i;return i.result}async _eth_sendRawTransaction(e){const r=KS(e[0]),i=await this.initializeRelay().submitEthereumTransaction(r,this.getChainId());if(Wi(i))throw i;return i.result}async _eth_sendTransaction(e){const r=this._prepareTransactionParams(e[0]||{}),i=await this.initializeRelay().signAndSubmitEthereumTransaction(r);if(Wi(i))throw i;return i.result}async signTypedData(e){const{method:r,params:n}=e;if(!Array.isArray(n))throw $r.rpc.invalidParams();const i=u=>{const h={eth_signTypedData_v1:Gv.hashForSignTypedDataLegacy,eth_signTypedData_v3:Gv.hashForSignTypedData_v3,eth_signTypedData_v4:Gv.hashForSignTypedData_v4,eth_signTypedData:Gv.hashForSignTypedData_v4};return Fy(h[r]({data:iYe(u)}),!0)},s=n[r==="eth_signTypedData_v1"?1:0],a=n[r==="eth_signTypedData_v1"?0:1];this._ensureKnownAddress(s);const l=await this.initializeRelay().sendRequest({method:"signEthereumMessage",params:{address:Ad(s),message:i(a),typedDataJson:JSON.stringify(a,null,2),addPrefix:!1}});if(Wi(l))throw l;return l.result}initializeRelay(){return this._relay||(this._relay=new lu({linkAPIUrl:AW,storage:this._storage,metadata:this.metadata,accountsCallback:this._setAddresses.bind(this),chainCallback:this.updateProviderInfo.bind(this)})),this._relay}}const ine="SignerType",sne=new mc("CBWSDK","SignerConfigurator");function iZe(){return sne.getItem(ine)}function sZe(t){sne.setItem(ine,t)}async function aZe(t){const{communicator:e,metadata:r,handshakeRequest:n,callback:i}=t;lZe(e,r,i).catch(()=>{});const s={id:crypto.randomUUID(),event:"selectSignerType",data:Object.assign(Object.assign({},t.preference),{handshakeRequest:n})},{data:a}=await e.postRequestAndWaitForResponse(s);return a}function oZe(t){const{signerType:e,metadata:r,communicator:n,callback:i}=t;switch(e){case"scw":return new yYe({metadata:r,callback:i,communicator:n});case"walletlink":return new nne({metadata:r,callback:i})}}async function lZe(t,e,r){await t.onMessage(({event:i})=>i==="WalletLinkSessionRequest");const n=new nne({metadata:e,callback:r});t.postMessage({event:"WalletLinkUpdate",data:{session:n.getSession()}}),await n.handshake(),t.postMessage({event:"WalletLinkUpdate",data:{connected:!0}})}const cZe=`Coinbase Wallet SDK requires the Cross-Origin-Opener-Policy header to not be set to 'same-origin'. This is to ensure that the SDK can communicate with the Coinbase Smart Wallet app.

Please see https://www.smartwallet.dev/guides/tips/popup-tips#cross-origin-opener-policy for more information.`,uZe=()=>{let t;return{getCrossOriginOpenerPolicy:()=>t===void 0?"undefined":t,checkCrossOriginOpenerPolicy:async()=>{if(typeof window>"u"){t="non-browser-env";return}try{const e=`${window.location.origin}${window.location.pathname}`,r=await fetch(e,{method:"HEAD"});if(!r.ok)throw new Error(`HTTP error! status: ${r.status}`);const n=r.headers.get("Cross-Origin-Opener-Policy");t=n??"null",t==="same-origin"&&console.error(cZe)}catch(e){console.error("Error checking Cross-Origin-Opener-Policy:",e.message),t="error"}}}},{checkCrossOriginOpenerPolicy:dZe,getCrossOriginOpenerPolicy:hZe}=uZe(),TW=420,IW=540,fZe={isRed:!1,info:"Retry",svgWidth:"10",svgHeight:"11",path:rne,defaultFillRule:"evenodd",defaultClipRule:"evenodd"},pZe="Popup was blocked. Try again.";let Yv=null;function gZe(t){const e=(window.innerWidth-TW)/2+window.screenX,r=(window.innerHeight-IW)/2+window.screenY;yZe(t);function n(){const s=`wallet_${crypto.randomUUID()}`,a=window.open(t,s,`width=${TW}, height=${IW}, left=${e}, top=${r}`);return a==null||a.focus(),a||null}let i=n();if(!i){const s=bZe();return new Promise((a,o)=>{s.presentItem({autoExpand:!0,message:pZe,menuItems:[Object.assign(Object.assign({},fZe),{onClick:()=>{i=n(),i?a(i):o($r.rpc.internal("Popup window was blocked")),s.clear()}})]})})}return Promise.resolve(i)}function mZe(t){t&&!t.closed&&t.close()}function yZe(t){const e={sdkName:Rre,sdkVersion:Gb,origin:window.location.origin,coop:hZe()};for(const[r,n]of Object.entries(e))t.searchParams.append(r,n.toString())}function bZe(){if(!Yv){const t=document.createElement("div");t.className="-cbwsdk-css-reset",document.body.appendChild(t),Yv=new ene,Yv.attach(t)}return Yv}class wZe{constructor({url:e=tZe,metadata:r,preference:n}){this.popup=null,this.listeners=new Map,this.postMessage=async i=>{(await this.waitForPopupLoaded()).postMessage(i,this.url.origin)},this.postRequestAndWaitForResponse=async i=>{const s=this.onMessage(({requestId:a})=>a===i.id);return this.postMessage(i),await s},this.onMessage=async i=>new Promise((s,a)=>{const o=l=>{if(l.origin!==this.url.origin)return;const u=l.data;i(u)&&(s(u),window.removeEventListener("message",o),this.listeners.delete(o))};window.addEventListener("message",o),this.listeners.set(o,{reject:a})}),this.disconnect=()=>{mZe(this.popup),this.popup=null,this.listeners.forEach(({reject:i},s)=>{i($r.provider.userRejectedRequest("Request rejected")),window.removeEventListener("message",s)}),this.listeners.clear()},this.waitForPopupLoaded=async()=>this.popup&&!this.popup.closed?(this.popup.focus(),this.popup):(this.popup=await gZe(this.url),this.onMessage(({event:i})=>i==="PopupUnload").then(this.disconnect).catch(()=>{}),this.onMessage(({event:i})=>i==="PopupLoaded").then(i=>{this.postMessage({requestId:i.id,data:{version:Gb,metadata:this.metadata,preference:this.preference,location:window.location.toString()}})}).then(()=>{if(!this.popup)throw $r.rpc.internal();return this.popup})),this.url=new URL(e),this.metadata=r,this.preference=n}}function vZe(t){const e=JKe(xZe(t),{shouldIncludeStack:!0}),r=new URL("https://docs.cloud.coinbase.com/wallet-sdk/docs/errors");return r.searchParams.set("version",Gb),r.searchParams.set("code",e.code.toString()),r.searchParams.set("message",e.message),Object.assign(Object.assign({},e),{docUrl:r.href})}function xZe(t){var e;if(typeof t=="string")return{message:t,code:Ln.rpc.internal};if(Wi(t)){const r=t.errorMessage,n=(e=t.errorCode)!==null&&e!==void 0?e:r.match(/(denied|rejected)/i)?Ln.provider.userRejectedRequest:void 0;return Object.assign(Object.assign({},t),{message:r,code:n,data:{method:t.method}})}return t}class EZe extends ih{}var _Ze=function(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r};class CZe extends EZe{constructor(e){var{metadata:r}=e,n=e.preference,{keysUrl:i}=n,s=_Ze(n,["keysUrl"]);super(),this.signer=null,this.isCoinbaseWallet=!0,this.metadata=r,this.preference=s,this.communicator=new wZe({url:i,metadata:r,preference:s});const a=iZe();a&&(this.signer=this.initSigner(a))}async request(e){try{if(mYe(e),!this.signer)switch(e.method){case"eth_requestAccounts":{const r=await this.requestSignerSelection(e),n=this.initSigner(r);await n.handshake(e),this.signer=n,sZe(r);break}case"wallet_sendCalls":{const r=this.initSigner("scw");await r.handshake({method:"handshake"});const n=await r.request(e);return await r.cleanup(),n}case"wallet_getCallsStatus":return vI(e,rZe);case"net_version":return 1;case"eth_chainId":return Wd(1);default:throw $r.provider.unauthorized("Must call 'eth_requestAccounts' before other methods")}return await this.signer.request(e)}catch(r){const{code:n}=r;return n===Ln.provider.unauthorized&&this.disconnect(),Promise.reject(vZe(r))}}async enable(){return console.warn('.enable() has been deprecated. Please use .request({ method: "eth_requestAccounts" }) instead.'),await this.request({method:"eth_requestAccounts"})}async disconnect(){var e;await((e=this.signer)===null||e===void 0?void 0:e.cleanup()),this.signer=null,mc.clearAll(),this.emit("disconnect",$r.provider.disconnected("User initiated disconnection"))}requestSignerSelection(e){return aZe({communicator:this.communicator,preference:this.preference,metadata:this.metadata,handshakeRequest:e,callback:this.emit.bind(this)})}initSigner(e){return oZe({signerType:e,metadata:this.metadata,communicator:this.communicator,callback:this.emit.bind(this)})}}function AZe(t){if(t){if(!["all","smartWalletOnly","eoaOnly"].includes(t.options))throw new Error(`Invalid options: ${t.options}`);if(t.attribution&&t.attribution.auto!==void 0&&t.attribution.dataSuffix!==void 0)throw new Error("Attribution cannot contain both auto and dataSuffix properties")}}function SZe(t){var e;const r={metadata:t.metadata,preference:t.preference};return(e=gYe(r))!==null&&e!==void 0?e:new CZe(r)}const kZe={options:"all"};function NW(t){var e;new mc("CBWSDK").setItem("VERSION",Gb),dZe();const n={metadata:{appName:t.appName||"Dapp",appLogoUrl:t.appLogoUrl||"",appChainIds:t.appChainIds||[]},preference:Object.assign(kZe,(e=t.preference)!==null&&e!==void 0?e:{})};AZe(n.preference);let i=null;return{getProvider:()=>(i||(i=SZe(n)),i)}}const $Ze=({as:t="div",...e},r)=>p.jsx(t,{...e,ref:r}),TZe=$.forwardRef($Ze),IZe="https://challenges.cloudflare.com/turnstile/v0/api.js",Q5="cf-turnstile-script",NZe="cf-turnstile",ane="onloadTurnstileCallback",X5=t=>!!document.getElementById(t),PZe=({render:t="explicit",onLoadCallbackName:e=ane,scriptOptions:{nonce:r="",defer:n=!0,async:i=!0,id:s="",appendTo:a,onError:o,crossOrigin:l=""}={}})=>{const u=s||Q5;if(X5(u))return;const h=document.createElement("script");if(h.id=u,h.src=`${IZe}?onload=${e}&render=${t}`,document.querySelector(`script[src="${h.src}"]`))return;h.defer=!!n,h.async=!!i,r&&(h.nonce=r),l&&(h.crossOrigin=l),o&&(h.onerror=o),(a==="body"?document.body:document.getElementsByTagName("head")[0]).appendChild(h)},Wl={normal:{width:300,height:65},compact:{width:130,height:120},invisible:{width:0,height:0,overflow:"hidden"},interactionOnly:{width:"fit-content",height:"auto"}};function OZe(t){let e;return t!=="invisible"&&(e=t),e}function MZe(t=Q5){const[e,r]=$.useState(!1);return $.useEffect(()=>{const n=()=>{X5(t)&&r(!0)},i=new MutationObserver(n);return i.observe(document,{childList:!0,subtree:!0}),n(),()=>{i.disconnect()}},[t]),e}const one=$.forwardRef((t,e)=>{const{scriptOptions:r,options:n={},siteKey:i,onWidgetLoad:s,onSuccess:a,onExpire:o,onError:l,onBeforeInteractive:u,onAfterInteractive:h,onUnsupported:f,onLoadScript:g,id:y,style:b,as:w="div",injectScript:x=!0,...E}=t,S=n.size??"normal",[_,I]=$.useState(n.execution==="execute"?Wl.invisible:n.appearance==="interaction-only"?Wl.interactionOnly:Wl[S]),A=$.useRef(null),O=$.useRef(!1),[F,H]=$.useState(),[L,z]=$.useState(!1),V=y??NZe,K=x?(r==null?void 0:r.id)||`${Q5}__${V}`:(r==null?void 0:r.id)||Q5,B=MZe(K),C=r!=null&&r.onLoadCallbackName?`${r.onLoadCallbackName}__${V}`:`${ane}__${V}`,k=$.useMemo(()=>({sitekey:i,action:n.action,cData:n.cData,callback:a,"error-callback":l,"expired-callback":o,"before-interactive-callback":u,"after-interactive-callback":h,"unsupported-callback":f,theme:n.theme??"auto",language:n.language??"auto",tabindex:n.tabIndex,"response-field":n.responseField,"response-field-name":n.responseFieldName,size:OZe(S),retry:n.retry??"auto","retry-interval":n.retryInterval??8e3,"refresh-expired":n.refreshExpired??"auto",execution:n.execution??"render",appearance:n.appearance??"always"}),[i,n,a,l,o,S,u,h,f]),N=$.useMemo(()=>JSON.stringify(k),[k]);return $.useImperativeHandle(e,()=>{if(typeof window>"u"||!B)return;const{turnstile:D}=window;return{getResponse(){if(!(D!=null&&D.getResponse)||!F){console.warn("Turnstile has not been loaded");return}return D.getResponse(F)},reset(){if(!(D!=null&&D.reset)||!F){console.warn("Turnstile has not been loaded");return}n.execution==="execute"&&I(Wl.invisible);try{D.reset(F)}catch(P){console.warn(`Failed to reset Turnstile widget ${F}`,P)}},remove(){if(!(D!=null&&D.remove)||!F){console.warn("Turnstile has not been loaded");return}H(""),I(Wl.invisible),D.remove(F)},render(){if(!(D!=null&&D.render)||!A.current||F){console.warn("Turnstile has not been loaded or widget already rendered");return}const P=D.render(A.current,k);return H(P),n.execution!=="execute"&&I(Wl[S]),P},execute(){if(n.execution==="execute"){if(!(D!=null&&D.execute)||!A.current||!F){console.warn("Turnstile has not been loaded or widget has not been rendered");return}D.execute(A.current,k),I(Wl[S])}},isExpired(){if(!(D!=null&&D.isExpired)||!F){console.warn("Turnstile has not been loaded");return}return D.isExpired(F)}}},[B,F,n.execution,S,k,A]),$.useEffect(()=>(window[C]=()=>z(!0),()=>{delete window[C]}),[C]),$.useEffect(()=>{x&&!L&&PZe({onLoadCallbackName:C,scriptOptions:{...r,id:K}})},[x,L,C,r,K]),$.useEffect(()=>{B&&!L&&window.turnstile&&z(!0)},[L,B]),$.useEffect(()=>{if(!i){console.warn("sitekey was not provided");return}if(!B||!A.current||!L||O.current)return;const D=window.turnstile.render(A.current,k);H(D),O.current=!0},[B,i,k,O,L]),$.useEffect(()=>{if(window.turnstile&&A.current&&F){X5(F)&&window.turnstile.remove(F);const D=window.turnstile.render(A.current,k);H(D),O.current=!0}},[N,i]),$.useEffect(()=>{if(window.turnstile&&F&&X5(F))return s==null||s(F),()=>{window.turnstile.remove(F)}},[F,s]),$.useEffect(()=>{I(n.execution==="execute"?Wl.invisible:k.appearance==="interaction-only"?Wl.interactionOnly:Wl[S])},[n.execution,S,k.appearance]),$.useEffect(()=>{!B||typeof g!="function"||g()},[B,g]),p.jsx(TZe,{ref:A,as:w,id:V,style:{..._,...b},...E})});one.displayName="Turnstile";const RZe=t=>{let[e,r]=$.useState("auto");return $.useEffect(()=>{let n=new ResizeObserver(i=>{var s;r(((s=i[0])==null?void 0:s.contentRect.height)??"auto")});return t.current&&n.observe(t.current),()=>{t.current&&n.unobserve(t.current)}},[t.current]),e};function jZe(t){let{logout:e}=$.useContext(Kg);return j4("logout",t),{logout:e}}const DZe=te.div.withConfig({displayName:"Column",componentId:"sc-cfc52180-0"})(["display:flex;flex-direction:column;"]);function Ng(t){return["ethereum","solana"].includes(t.chainType)}function lne(t){let e=t.replace("eip155:","");if(e)return parseInt(e);throw Error("Chain ID not compatible with CAIP-2 format.")}const cne=t=>t.filter(e=>e.method==="wallets"||(e.method==="exchange"?e.provider==="coinbase":e.method==="card"||e.method==="payment-request"?e.provider==="coinbase"||e.provider==="moonpay":(e.method,!1))),PW={[$o.id]:"0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48",[i$.id]:"0x1c7D4B196Cb0C7B01d743Fbc6116a902379C7238",[yc.id]:"0x0b2c639c533813f4aa9d7837caf62653d097ff85",[O6.id]:"0x5fd84259d66Cd46123540766Be93DFE6D43130D7",[aa.id]:"0x3c499c542cef5e3811e1192ce70d8cc03d5c3359",[fb.id]:"0x41e94eb019c0762f9bfcf9fb1e58725bfb0e7582",[ko.id]:"0x833589fCD6eDb6E08f4c7C32D4f71b54bdA02913",[N6.id]:"0x036CbD53842c5426634e7929541eC2318f3dCF7e",[Fg.id]:"0xB97EF9Ef8734C71904D8002F8b6Bc66Dd9c48a6E",[n$.id]:"0x5425890298aed601595a70ab815c96711a31bc65",[So.id]:"0xaf88d065e77c8cC2239327C5EDb3A432268e5831",[I6.id]:"0x75faf114eafb1BDbe2F0316DF893fd58CE46AA4d"},OW=({address:t,appConfig:e,fundWalletConfig:r,methodScreen:n,chainIdOverride:i,comingFromSendTransactionScreen:s=!1})=>{var w;let a,o;if(!e.fundingConfig)throw Error("Wallet funding is not enabled");let l=cne(e.fundingConfig.options);if(l.length<1)throw Error("Wallet funding is not enabled");a=i||(r!=null&&r.chain?r.chain.id:lne(e.fundingConfig.defaultRecommendedCurrency.chain));let u=e.chains.find(x=>x.id===a);if(!u)throw new ue(`Funding chain ${a} is not in PrivyProvider chains list`);let h=(r==null?void 0:r.amount)??e.fundingConfig.defaultRecommendedAmount,f=!1;function g(){if(!a)return;let x=PW[a];l.find(E=>E.method==="wallets")&&!x&&console.warn("Attempting to fund with USDC on chain where USDC address is not known. Funding via external wallet will be disabled."),o=x,f=!0}var y;r&&"asset"in r?r.asset==="USDC"?g():typeof r.asset!="string"&&"erc20"in r.asset&&(y=o=r.asset.erc20,f=y===PW[u.id]):e.fundingConfig.defaultRecommendedCurrency.asset==="USDC"&&g();let b=r==null?void 0:r.defaultFundingMethod;return{chainType:"ethereum",address:t,amount:h,chain:u,erc20Address:o,erc20ContractInfo:f?{symbol:"USDC",decimals:6}:void 0,isUSDC:f,methodScreen:n,supportedOptions:l,comingFromSendTransactionScreen:s,defaultFundingMethod:b,usingDefaultFundingMethod:!!b,preferredCardProvider:(w=r==null?void 0:r.card)==null?void 0:w.preferredProvider,crossChainBridgingEnabled:e.fundingConfig.crossChainBridgingEnabled??!1,solanaChain:"solana:mainnet",uiConfig:r&&"uiConfig"in r?r.uiConfig:void 0,externalSolanaFundingScreen:null}},UZe=t=>t.reduce((e,r)=>!e||e.walletIndex<r.walletIndex?r:e,null),BZe=async({appConfig:t,getAccessToken:e,initializeWalletProxy:r,user:n,privy:i,emitPrivyEvent:s,recoverEmbeddedWallet:a,setModalData:o,openModal:l,setUser:u,options:h,timeoutDuration:f,refreshSessionAndUser:g,chainType:y})=>{var S,_;let[b,w]=await Promise.all([r(f),e()]);if(!w||!n)throw s("createWallet","onError",fe.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");if(!b&&((S=t.customAuth)!=null&&S.enabled))throw s("createWallet","onError",fe.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");if(h&&"walletIndex"in h&&typeof h.walletIndex=="number"){if(t.embeddedWallets.mode==="user-controlled-server-wallets-only")throw s("createWallet","onError",fe.INVALID_DATA),Error("Invalid input, use `createAdditional` instead of `walletIndex` to create additional wallets.");return MW({accessToken:w,appConfig:t,privy:i,emitPrivyEvent:s,openModal:l,proxy:b,refreshSessionAndUser:g,recoverEmbeddedWallet:a,setModalData:o,user:n,walletIndex:h.walletIndex,chainType:y,setUser:u})}let x=h&&"createAdditional"in h&&h.createAdditional,E=JT(n,{chainType:y});if(E[0]&&!x)throw s("createWallet","onError",fe.EMBEDDED_WALLET_ALREADY_EXISTS),Error("User already has an embedded wallet.");return MW({accessToken:w,appConfig:t,privy:i,emitPrivyEvent:s,openModal:l,proxy:b,recoverEmbeddedWallet:a,setModalData:o,user:n,walletIndex:(((_=UZe(E))==null?void 0:_.walletIndex)??-1)+1,chainType:y,refreshSessionAndUser:g,setUser:u})};let MW=async({accessToken:t,appConfig:e,privy:r,emitPrivyEvent:n,proxy:i,refreshSessionAndUser:s,recoverEmbeddedWallet:a,user:o,walletIndex:l,setModalData:u,openModal:h,chainType:f,setUser:g})=>{if(l<0)throw n("createWallet","onError",fe.EMBEDDED_WALLET_CREATE_ERROR),Error(`A negative walletIndex (${l}) is invalid.`);let y=yl(o);if(l>0&&!y)throw n("createWallet","onError",fe.EMBEDDED_WALLET_NOT_FOUND),Error("Must have an existing embedded wallet to create an additional wallet.");if(e.embeddedWallets.requireUserOwnedRecoveryOnCreate&&e.embeddedWallets.mode==="user-controlled-server-wallets-only")throw n("createWallet","onError",fe.EMBEDDED_WALLET_CREATE_ERROR),Error("User owned recovery not yet supported for this app.");if(!y&&e.embeddedWallets.requireUserOwnedRecoveryOnCreate)return await RW({emitPrivyEvent:n,setModalData:u,openModal:h,chainType:f});let b=JT(o,{chainType:f,walletIndex:l})[0];if(b)return{user:o,account:b};if(l===0&&!i)return RW({emitPrivyEvent:n,setModalData:u,openModal:h,chainType:f});if(!i)throw n("createWallet","onError",fe.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to connect to wallet proxy");return nte({appConfig:e,walletIndex:l,chainType:f,user:o,accessToken:t,proxy:i,refreshSessionAndUser:s,privy:r,recoverEmbeddedWallet:a,setUser:g})},RW=async({emitPrivyEvent:t,setModalData:e,openModal:r,chainType:n})=>new Promise((i,s)=>{e({createWallet:{onSuccess:({user:a,account:o})=>{t("createWallet","onSuccess",{wallet:o}),i({user:a,account:o})},onFailure:a=>{t("createWallet","onError",fe.UNKNOWN_EMBEDDED_WALLET_ERROR),s(a)},callAuthOnSuccessOnClose:!1,shouldCreateEth:n==="ethereum",shouldCreateSol:n==="solana"}}),r(Ru)});const LZe=()=>{let t=Ar(),e=cp(),{setModalData:r}=lt(),{initializeWalletProxy:n,recoverEmbeddedWallet:i,setUser:s,openModal:a,refreshSessionAndUser:o,privy:l,client:u}=rt();return{create:async({chainType:h,options:f,latestUser:g})=>{let y=g;if(y||(y=await o()),!y)throw e("createWallet","onError",fe.MUST_BE_AUTHENTICATED),Error("User must be authenticated before creating a Privy wallet");return await BZe({appConfig:t,privy:l,getAccessToken:()=>u.getAccessToken(),refreshSessionAndUser:o,initializeWalletProxy:n,user:y,emitPrivyEvent:e,recoverEmbeddedWallet:i,setModalData:r,openModal:a,setUser:s,options:f,timeoutDuration:VFe,chainType:h})}}};function FZe(t){let{create:e}=LZe();return j4("createWallet",t),{createWallet:async r=>{r&&"target"in r&&r&&(r=void 0);let{account:n}=await e({chainType:"ethereum",options:r});return n}}}const zZe=async({emitPrivyEvent:t,getAccessToken:e,initializeWalletProxy:r,refreshSessionAndUser:n,user:i,appConfig:s},{privateKey:a,chainType:o})=>{if(!i)throw t("linkAccount","onError",fe.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new ue("User must be authenticated before linking an account.");let[l,u]=await Promise.all([e(),r(15e3)]);if(!u||!l)throw t("linkAccount","onError",fe.MUST_BE_AUTHENTICATED,{linkMethod:"siwe"}),new ue("User must be authenticated before linking an account.");await u.importWallet({privateKey:a,accessToken:l,chainType:o,mode:s.embeddedWallets.mode==="user-controlled-server-wallets-only"?"tee":"on-device"});let h=await n(),f=o==="solana"?qZ(h):EA(h);if(!f)throw t("createWallet","onError",fe.UNKNOWN_EMBEDDED_WALLET_ERROR),Error("Failed to import wallet");return t("createWallet","onSuccess",{wallet:f}),f},WZe=()=>{let{user:t}=fr(),{client:e,refreshSessionAndUser:r,initializeWalletProxy:n}=rt(),i=cp(),s=Ar();return{importWallet:$.useCallback(({privateKey:a})=>zZe({getAccessToken:()=>e.getAccessToken(),user:t,initializeWalletProxy:n,refreshSessionAndUser:r,emitPrivyEvent:i,appConfig:s},{privateKey:a,chainType:"ethereum"}),[t,e,r,n,i])}},AI=()=>{let{importWallet:t}=WZe(),{createWallet:e}=FZe();return{...$.useContext(Kg),importWallet:t,createWallet:e}};function qZe({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{fillRule:"evenodd",d:"M8.603 3.799A4.49 4.49 0 0 1 12 2.25c1.357 0 2.573.6 3.397 1.549a4.49 4.49 0 0 1 3.498 1.307 4.491 4.491 0 0 1 1.307 3.497A4.49 4.49 0 0 1 21.75 12a4.49 4.49 0 0 1-1.549 3.397 4.491 4.491 0 0 1-1.307 3.497 4.491 4.491 0 0 1-3.497 1.307A4.49 4.49 0 0 1 12 21.75a4.49 4.49 0 0 1-3.397-1.549 4.49 4.49 0 0 1-3.498-1.306 4.491 4.491 0 0 1-1.307-3.498A4.49 4.49 0 0 1 2.25 12c0-1.357.6-2.573 1.549-3.397a4.49 4.49 0 0 1 1.307-3.497 4.49 4.49 0 0 1 3.497-1.307Zm7.007 6.387a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const HZe=$.forwardRef(qZe);function VZe({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{fillRule:"evenodd",d:"M4.5 3.75a3 3 0 0 0-3 3v10.5a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V6.75a3 3 0 0 0-3-3h-15Zm4.125 3a2.25 2.25 0 1 0 0 4.5 2.25 2.25 0 0 0 0-4.5Zm-3.873 8.703a4.126 4.126 0 0 1 7.746 0 .75.75 0 0 1-.351.92 7.47 7.47 0 0 1-3.522.877 7.47 7.47 0 0 1-3.522-.877.75.75 0 0 1-.351-.92ZM15 8.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15ZM14.25 12a.75.75 0 0 1 .75-.75h3.75a.75.75 0 0 1 0 1.5H15a.75.75 0 0 1-.75-.75Zm.75 2.25a.75.75 0 0 0 0 1.5h3.75a.75.75 0 0 0 0-1.5H15Z",clipRule:"evenodd"}))}const GZe=$.forwardRef(VZe);function KZe({title:t,titleId:e,...r},n){return $.createElement("svg",Object.assign({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor","aria-hidden":"true","data-slot":"icon",ref:n,"aria-labelledby":e},r),t?$.createElement("title",{id:e},t):null,$.createElement("path",{fillRule:"evenodd",d:"M12.516 2.17a.75.75 0 0 0-1.032 0 11.209 11.209 0 0 1-7.877 3.08.75.75 0 0 0-.722.515A12.74 12.74 0 0 0 2.25 9.75c0 5.942 4.064 10.933 9.563 12.348a.749.749 0 0 0 .374 0c5.499-1.415 9.563-6.406 9.563-12.348 0-1.39-.223-2.73-.635-3.985a.75.75 0 0 0-.722-.516l-.143.001c-2.996 0-5.717-1.17-7.734-3.08Zm3.094 8.016a.75.75 0 1 0-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 0 0-1.06 1.06l2.25 2.25a.75.75 0 0 0 1.14-.094l3.75-5.25Z",clipRule:"evenodd"}))}const YZe=$.forwardRef(KZe);function J2(t){return t?{"privy-ui":"t"}:void 0}class F0{async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new ue("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(g3e,{email:this.meta.email,code:this.meta.emailCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw br(e)}}async link(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode)throw new ue("Email and email code must be set prior to calling authenticate.");try{return await this.api.post(m3e,{email:this.meta.email,code:this.meta.emailCode})}catch(e){throw br(e)}}async sendCodeEmail({email:e,captchaToken:r,withPrivyUi:n}){if(!this.api)throw new ue("Auth flow has no API instance");if(e&&(this.meta.email=e),r&&(this.meta.captchaToken=r),!this.meta.email)throw new ue("Email must be set when initialzing authentication.");let i=J2(n);try{return await this.api.post(p3e,{email:this.meta.email,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw br(s)}}constructor({email:e,captchaToken:r,disableSignup:n}){this.meta={email:e,captchaToken:r,disableSignup:n??!1}}}class ZZe extends F0{async link(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.email||!this.meta.emailCode||!this.meta.oldAddress)throw new ue("Email, email code, and an old email address must be set prior to calling update.");try{return await this.api.post(b3e,{oldAddress:this.meta.oldAddress,newAddress:this.meta.email,code:this.meta.emailCode})}catch(e){throw br(e)}}constructor(e,r,n){super({email:r,captchaToken:n}),this.meta={email:r,captchaToken:n,oldAddress:e,disableSignup:!1}}}class jW{get meta(){return this._meta}async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.channelToken)throw new ue("Auth flow must be initialized first");try{let e=await this.api.post(c3e,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});if(!e)throw new ue("No response from authentication");return e}catch(e){throw br(e)}}async link(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(u3e,{channel_token:this.meta.channelToken,message:this.message,signature:this.signature,fid:this.fid})}catch(e){throw br(e)}}async _startChannelOnce(){if(!this.api)throw new ue("Auth flow has no API instance");let e=await this.api.post(l3e,{token:this.captchaToken});Tr.isMobile&&!Tr.isIOS&&e.connect_uri&&JJ(e.connect_uri,"_blank"),this._meta={...this._meta,connectUri:e.connect_uri,channelToken:e.channel_token}}async initializeFarcasterConnect(){if(!this.api)throw new ue("Auth flow has no API instance");await this.startChannelOnce.execute()}async _pollForReady(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.channelToken)throw new ue("Auth flow must be initialized first");let e=await this.api.get(d3e,{headers:{"farcaster-channel-token":this.meta.channelToken}});return e.state==="completed"&&(this.message=e.message,this.signature=e.signature,this.fid=e.fid,!0)}constructor(e,r=!1){this._meta={disableSignup:!1},this.captchaToken=e,this.startChannelOnce=new As(this._startChannelOnce.bind(this)),this.pollForReady=new As(this._pollForReady.bind(this)),this._meta.disableSignup=r}}function SI(){return typeof window<"u"&&window.location.protocol==="chrome-extension:"&&"chrome"in window}function une(){var e;if(!SI())return;let t=window.chrome;return(e=t==null?void 0:t.runtime)==null?void 0:e.id}function rk(){var e;if(!SI())return!1;let t=window.chrome;return typeof((e=t==null?void 0:t.identity)==null?void 0:e.launchWebAuthFlow)=="function"}async function DW(t){return new Promise((e,r)=>{rk()?window.chrome.identity.launchWebAuthFlow({url:t,interactive:!0},async n=>{try{let i=function(){var h,f;if(!SI())return;let u=window.chrome;return(f=(h=u==null?void 0:u.runtime)==null?void 0:h.lastError)==null?void 0:f.message}();if(i||!n){let u=`WebAuthFlow failed: ${i||"Response URI missing"}`;throw Error(u)}let s=new URL(n),a=une();if(!a)throw Error("Invalid extension context");if(s.protocol==="chrome-extension:"){if(s.hostname!==a)throw Error("Invalid responseUri origin")}else{if(s.protocol!=="https:")throw Error("Invalid responseUri protocol");{let u=s.hostname.split(".");if(u.length!==3||u[1]!=="chromiumapp"||u[2]!=="org"||u[0]!==a)throw Error("Invalid responseUri origin")}}let o=s.searchParams.get("privy_oauth_state"),l=s.searchParams.get("privy_oauth_code");if(!o||!l)throw Error("Invalid responseUri - missing required parameters");e({privyOAuthState:o,privyOAuthCode:l})}catch(i){r(i)}}):r(Error("Chrome identity API not available"))})}class $0{addCaptchaToken(e){this.meta.captchaToken=e}isActive(){return!!(this.meta.authorizationCode&&this.meta.stateCode&&this.meta.provider)}async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new ue("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling authenticate.");if(this.meta.authorizationCode==="undefined")throw new ue("User denied confirmation during OAuth flow");let e=KFe();try{let r=await this.api.post(RK,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"});return Pt.del(my),Pt.del(U5),Pt.del(Uy),r}catch(r){let n=br(r);throw n.privyErrorCode?new ue(n.message||"Invalid code during OAuth flow.",void 0,n.privyErrorCode):n.message==="User denied confirmation during OAuth flow"?new ue("Invalid code during oauth flow.",void 0,fe.OAUTH_USER_DENIED):new ue("Invalid code during OAuth flow.",void 0,fe.UNKNOWN_AUTH_ERROR)}}async link(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.authorizationCode||!this.meta.stateCode)throw new ue("[OAuth AuthFlow] Authorization and state codes code must be set prior to calling link.");if(this.meta.authorizationCode==="undefined")throw new ue("User denied confirmation during OAuth flow");let e=Pt.get(my);if(!e)throw new ue("Authentication error.");try{let r=await this.api.post(jK,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:e});return Pt.del(my),r}catch(r){throw br(r)}}async getAuthorizationUrl(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.provider)throw new ue("Provider must be set when initializing OAuth authentication.");let e=O4();Pt.put(my,e);let r=DT();Pt.put(D5,r);let n=await UT(e);this.meta.withPrivyUi||Pt.put(U5,!0),this.meta.disableSignup?Pt.put(Uy,!0):Pt.del(Uy);let i=J2(this.meta.withPrivyUi),s=window.location.href,a=function(){let o=une();if(o)return`https://${o}.chromiumapp.org`}();a&&(s=a);try{return await this.api.post(MK,{provider:this.meta.provider,redirect_to:this.meta.customOAuthRedirectUrl||s,token:this.meta.captchaToken,code_challenge:n,state_code:r},{headers:{...i}})}catch(o){throw br(o)}}constructor(e){this.meta=e}}const QZe=({style:t})=>p.jsx(dY,{style:{color:"var(--privy-color-error)",...t}});let UW={google:{name:"Google",component:oee},discord:{name:"Discord",component:see},github:{name:"Github",component:aee},linkedin:{name:"LinkedIn",component:uee},twitter:{name:"Twitter",component:fee},spotify:{name:"Spotify",component:dee},instagram:{name:"Instagram",component:lee},tiktok:{name:"Tiktok",component:hee},line:{name:"LINE",component:cee},apple:{name:"Apple",component:iee}};const T_=t=>t in UW?UW[t]:{name:"Unknown",component:QZe};function XZe(){let t=new URLSearchParams(window.location.search),e=t.get("privy_oauth_code"),r=t.get("privy_oauth_state"),n=t.get("privy_oauth_provider");if(!e||!r||!n)return{inProgress:!1};let i=!1;try{i=!!window.opener.location.origin}catch{}return{inProgress:!0,authorizationCode:e,stateCode:r,provider:n,withPrivyUi:!Pt.get(U5),popupFlow:window.opener!==null&&i,disableSignup:!!Pt.get(Uy)}}class _0{async initRegisterFlow(e){if(!this.api)throw new ue("Auth flow has no API instance");this.authenticateForRegistration=!0,this.meta.initRegisterResponse=await this.initRegisterOnce.execute(e)}async initAuthenticationFlow(e){if(!this.api)throw new ue("Auth flow has no API instance");this.authenticateForRegistration=!1,this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute(e)}async initLinkFlow(){if(!this.api)throw new ue("Auth flow has no API instance");this.meta.initLinkResponse=await this.initLinkOnce.execute()}async register(){var r,n;let e=await ic(()=>import("./index-Bjltdz_y.js"),[],import.meta.url);if(!this.api)throw new ue("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new ue("WebAuthn is not supported in this browser");this.meta.initRegisterResponse||(this.meta.initRegisterResponse=await this.initRegisterOnce.execute());try{let i=this.meta.initRegisterResponse.options,s=await e.startRegistration(this._transformInitLinkOptionsToCamelCase(i));return(n=(r=this.meta).setPasskeyAuthState)==null||n.call(r,{status:"submitting-response"}),await this.api.post(j3e,{relying_party:this.meta.initRegisterResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(s)})}catch(i){throw i.name==="NotAllowedError"?new ue("Passkey request timed out or rejected by user.",void 0,fe.PASSKEY_NOT_ALLOWED):br(i)}}async authenticate(){var n,i,s;if(this.authenticateForRegistration)return this.register();let e=await ic(()=>import("./index-Bjltdz_y.js"),[],import.meta.url);if(!this.api)throw new ue("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new ue("WebAuthn is not supported in this browser");this.meta.initAuthenticateResponse||(this.meta.initAuthenticateResponse=await this.initAuthenticateOnce.execute());let r=((n=this.meta.allowedCredentialsIds)==null?void 0:n.map(a=>({type:"public-key",id:a})))??this.meta.initAuthenticateResponse.options.allow_credentials;try{let a=await e.startAuthentication(this._transformInitAuthenticateOptionsToCamelCase({...this.meta.initAuthenticateResponse.options,allow_credentials:r}));return(s=(i=this.meta).setPasskeyAuthState)==null||s.call(i,{status:"submitting-response"}),await this.api.post(R3e,{relying_party:this.meta.initAuthenticateResponse.relying_party,challenge:this.meta.initAuthenticateResponse.options.challenge,authenticator_response:this._transformAuthenticationResponseToSnakeCase(a)})}catch(a){throw a.name==="NotAllowedError"?new ue("Passkey request timed out or rejected by user.",void 0,fe.PASSKEY_NOT_ALLOWED):br(a)}}async link(){var r,n;let e=await ic(()=>import("./index-Bjltdz_y.js"),[],import.meta.url);if(!this.api)throw new ue("Auth flow has no API instance");if(!e.browserSupportsWebAuthn())throw new ue("WebAuthn is not supported in this browser");this.meta.initLinkResponse||(this.meta.initLinkResponse=await this.initLinkOnce.execute());try{let i=this.meta.initLinkResponse.options,s=await e.startRegistration(this._transformInitLinkOptionsToCamelCase(i));return(n=(r=this.meta).setPasskeyAuthState)==null||n.call(r,{status:"submitting-response"}),await this.api.post(M3e,{relying_party:this.meta.initLinkResponse.relying_party,authenticator_response:this._transformRegistrationResponseToSnakeCase(s)})}catch(i){throw i.name==="NotAllowedError"?new ue("Passkey request timed out or rejected by user.",void 0,fe.PASSKEY_NOT_ALLOWED):br(i)}}async _initRegisterOnce(e){if(!this.api)throw new ue("Auth flow has no API instance");let r=J2(e);return await this.api.post(O3e,{token:this.meta.captchaToken},{headers:{...r}})}async _initAuthenticateOnce(e){if(!this.api)throw new ue("Auth flow has no API instance");let r=J2(e);return await this.api.post(P3e,{token:this.meta.captchaToken},{headers:{...r}})}async _initLinkOnce(){if(!this.api)throw new ue("Auth flow has no API instance");return await this.api.post(N3e,{})}_transformInitLinkOptionsToCamelCase(e){var r,n,i,s,a,o,l,u,h;return{rp:e.rp,user:{id:e.user.id,name:e.user.name,displayName:e.user.display_name},challenge:e.challenge,pubKeyCredParams:e.pub_key_cred_params.map(f=>({type:f.type,alg:f.alg})),timeout:e.timeout,excludeCredentials:(r=e.exclude_credentials)==null?void 0:r.map(f=>({id:f.id,type:f.type,transports:f.transports})),authenticatorSelection:{authenticatorAttachment:(n=e.authenticator_selection)==null?void 0:n.authenticator_attachment,requireResidentKey:(i=e.authenticator_selection)==null?void 0:i.require_resident_key,residentKey:(s=e.authenticator_selection)==null?void 0:s.resident_key,userVerification:(a=e.authenticator_selection)==null?void 0:a.user_verification},attestation:e.attestation,extensions:{appid:(o=e.extensions)==null?void 0:o.app_id,credProps:(u=(l=e.extensions)==null?void 0:l.cred_props)==null?void 0:u.rk,hmacCreateSecret:(h=e.extensions)==null?void 0:h.hmac_create_secret}}}_transformRegistrationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,attestation_object:e.response.attestationObject,authenticator_data:e.response.authenticatorData},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}_transformInitAuthenticateOptionsToCamelCase(e){var r,n,i,s;return{rpId:e.rp_id,challenge:e.challenge,allowCredentials:((r=e.allow_credentials)==null?void 0:r.map(a=>({id:a.id,type:a.type,transports:a.transports})))||[],timeout:e.timeout,extensions:{appid:(n=e.extensions)==null?void 0:n.app_id,credProps:(i=e.extensions)==null?void 0:i.cred_props,hmacCreateSecret:(s=e.extensions)==null?void 0:s.hmac_create_secret},userVerification:e.user_verification}}_transformAuthenticationResponseToSnakeCase(e){return{id:e.id,raw_id:e.rawId,response:{client_data_json:e.response.clientDataJSON,authenticator_data:e.response.authenticatorData,signature:e.response.signature,user_handle:e.response.userHandle},authenticator_attachment:e.authenticatorAttachment,client_extension_results:{app_id:e.clientExtensionResults.appid,cred_props:e.clientExtensionResults.credProps,hmac_create_secret:e.clientExtensionResults.hmacCreateSecret},type:e.type}}constructor({captchaToken:e,setPasskeyAuthState:r}){this.authenticateForRegistration=!1,this.initRegisterOnce=new As(this._initRegisterOnce.bind(this)),this.initAuthenticateOnce=new As(this._initAuthenticateOnce.bind(this)),this.initLinkOnce=new As(this._initLinkOnce.bind(this)),this.meta={captchaToken:e,setPasskeyAuthState:r}}}class z0{async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new ue("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(_3e,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode,mode:this.meta.disableSignup?"no-signup":"login-or-sign-up"})}catch(e){throw br(e)}}async link(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode)throw new ue("phone number and sms code must be set prior to calling authenticate.");try{return await this.api.post(x3e,{phoneNumber:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw br(e)}}async sendSmsCode({phoneNumber:e,captchaToken:r,withPrivyUi:n}){if(!this.api)throw new ue("Auth flow has no API instance");if(e&&(this.meta.phoneNumber=e),r&&(this.meta.captchaToken=r),!this.meta.phoneNumber)throw new ue("phone nNumber must be set when initialzing authentication.");let i=J2(n);try{return await this.api.post(v3e,{phoneNumber:this.meta.phoneNumber,token:this.meta.captchaToken},{headers:{...i}})}catch(s){throw br(s)}}constructor({phoneNumber:e,captchaToken:r,disableSignup:n}){this.meta={phoneNumber:e,captchaToken:r,disableSignup:n??!1}}}class JZe extends z0{async link(){if(!this.api)throw new ue("Auth flow has no API instance");if(!this.meta.phoneNumber||!this.meta.smsCode||!this.meta.oldPhoneNumber)throw new ue("Phone number, sms code, and an old phone number must be set prior to calling update.");try{return await this.api.post(C3e,{old_phone_number:this.meta.oldPhoneNumber,new_phone_number:this.meta.phoneNumber,code:this.meta.smsCode})}catch(e){throw br(e)}}constructor(e,r,n){super({phoneNumber:r,captchaToken:n}),this.meta={phoneNumber:r,captchaToken:n,oldPhoneNumber:e,disableSignup:!1}}}class Ld{static parse(e){try{return new Ld(e)}catch{return null}}static throwIfNotWellFormedJwt(e){return LC(e),e}get subject(){return this._decoded.sub}get expiration(){return this._decoded.exp}get issuer(){return this._decoded.iss}get audience(){return this._decoded.aud}isExpired(e=0){return Date.now()>=1e3*(this.expiration-e)}constructor(e){this.value=e,this._decoded=LC(e)}}class kI extends Ld{static parse(e){try{return new kI(e)}catch{return null}}get appId(){return this._decoded.aid?this._decoded.aid:this.audience}}let C0,M1;class eQe extends op{async initialize(){await this.importPromise,await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:Eee,id:"com.coinbase.wallet"}}async promptConnection(){try{await this.importPromise;let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new ln("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw oh(e)}}constructor(e,r,n,i,s){super("base_account",e,r,n),this.connectorType="base_account",this.walletClientType="base_account",this.displayName="Base",this.setBaseAccountSdk=s,this.proxyProvider=new lp(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.baseAccountConfig={...i,appChainIds:[r.id].concat(e.map(a=>a.id))},C0?(this.proxyProvider.setWalletProvider(C0.getProvider()),this.setBaseAccountSdk(C0),console.log("Base Account SDK Initialized")):this.importPromise=ic(()=>import("./index-Dn01vtXv.js"),[],import.meta.url).then(({createBaseAccountSDK:a})=>{C0=a(this.baseAccountConfig),this.proxyProvider.setWalletProvider(C0.getProvider()),this.setBaseAccountSdk(C0),console.log("Base Account SDK Initialized")}).catch(console.error)}}let tQe=[1,11155111,137,10,8453,84532,42161,7777777,43114,56];class rQe extends op{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}disconnect(){this.proxyProvider.walletProvider.disconnect(),this.onDisconnect()}get walletBranding(){return{name:this.displayName,icon:xee,id:"com.coinbase.wallet"}}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new ln("Unable to retrieve accounts");this.connected=!0,await this.syncAccounts([e[0]])}catch(e){throw oh(e)}}updateConnectionPreference(e){this.coinbaseWalletConfig={...this.coinbaseWalletConfig,preference:{...this.coinbaseWalletConfig.preference,options:e}},this.walletClientType=e==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",M1=NW({...this.coinbaseWalletConfig}),this.proxyProvider.setWalletProvider(M1.getProvider())}constructor(e,r,n,i){var s,a;if(super("coinbase_wallet",e,r,n),this.connectorType="coinbase_wallet",this.displayName="Coinbase Wallet",this.proxyProvider=new lp(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.coinbaseWalletConfig={...i,appChainIds:[r.id].concat(e.map(o=>o.id))},this.walletClientType=((s=this.coinbaseWalletConfig.preference)==null?void 0:s.options)==="smartWalletOnly"?"coinbase_smart_wallet":"coinbase_wallet",this.walletClientType==="coinbase_smart_wallet"&&(this.displayName="Coinbase Smart Wallet"),!M1){let o=((a=this.coinbaseWalletConfig.preference)==null?void 0:a.options)!=="eoaOnly"?(this.coinbaseWalletConfig.appChainIds??[]).filter(l=>!tQe.includes(l)):[];o.length>0&&!o.every(l=>_G.has(l))&&console.info(`The configured chains are not supported by Coinbase Smart Wallet: ${o.join(", ")}`),M1=NW(this.coinbaseWalletConfig)}this.proxyProvider.setWalletProvider(M1.getProvider())}}class BW extends op{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return await this.isConnected()?(await this.proxyProvider.request({method:"wallet_switchEthereumChain",params:[AS((e==null?void 0:e.chainId)||"0x1")]}),this.getConnectedWallet()):null}get walletBranding(){return{name:"Privy Wallet",icon:See,id:"io.privy.wallet"}}disconnect(){this.connected=!1}async promptConnection(){}constructor({provider:e,chains:r,defaultChain:n,rpcConfig:i,imported:s,walletIndex:a}){super("privy",r,n,i),this.connectorType="embedded",this.proxyProvider=e,this.walletIndex=a,s&&(this.connectorType="embedded_imported"),this.subscribeListeners()}}const nQe=["eth_sign","eth_populateTransactionRequest","eth_signTransaction","personal_sign","eth_signTypedData_v4","csw_signUserOperation","secp256k1_sign"];class Fo extends Error{constructor(e,r,n){super(e),this.code=r,this.data=n}}class LW extends ih{async handleSendTransaction(e){if(!e.params||!Array.isArray(e.params))throw new Fo(`Invalid params for ${e.method}`,4200);let r=e.params[0];if(!await Xr()||!this.address)throw new Fo("Disconnected",4900);let{hash:n}=await iJe(r,{address:this.address});return n}async handleSignTransaction(e){if(!e.params||!Array.isArray(e.params))throw new Fo(`Invalid params for ${e.method}`,4200);let r=e.params[0];if(!await Xr()||!this.address)throw new Fo("Disconnected",4900);let{signature:n}=await nJe(r,{address:this.address});return n}handleSwitchEthereumChain(e){let r;if(!e.params||!Array.isArray(e.params))throw new Fo(`Invalid params for ${e.method}`,4200);if(typeof e.params[0]=="string")r=e.params[0];else{if(!("chainId"in e.params[0])||typeof e.params[0].chainId!="string")throw new Fo(`Invalid params for ${e.method}`,4200);r=e.params[0].chainId}this.chainId=Number(r),this.publicClient=Sg(this.chainId,this.chains,this.rpcConfig,{appId:this.appId}),this.emit("chainChanged",r)}async handlePersonalSign(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for personal_sign");let r=e.params[0],n=e.params[1],{signature:i}=await tJe({message:r},{address:n});return i}async handleSignedTypedData(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_signTypedData_v4");let r=e.params[0],n=typeof e.params[1]=="string"?JSON.parse(e.params[1]):e.params[1],{signature:i}=await rJe(I3(n),{address:r});return i}async handleEstimateGas(e){if(!e.params||!Array.isArray(e.params))throw Error("Invalid params for eth_estimateGas");delete e.params[0].gasPrice,delete e.params[0].maxFeePerGas,delete e.params[0].maxPriorityFeePerGas;let r={...e.params[0],chainId:AS(this.chainId)};return await this.publicClient.estimateGas({account:r.from??this.address,...KZ(r)})}async request(e){switch(console.debug("Embedded1193Provider.request() called with args",e),e.method){case"eth_accounts":case"eth_requestAccounts":return this.address?[this.address]:[];case"eth_chainId":return AS(this.chainId);case"eth_estimateGas":return this.handleEstimateGas(e);case"eth_sendTransaction":return this.handleSendTransaction(e);case"eth_signTransaction":return this.handleSignTransaction(e);case"wallet_switchEthereumChain":return this.handleSwitchEthereumChain(e);case"personal_sign":return this.handlePersonalSign(e);case"eth_signTypedData_v4":return this.handleSignedTypedData(e)}if(!(r=>nQe.includes(r))(e.method))return this.publicClient.request({method:e.method,params:e.params});{let r=await Xr();if(await sJe({address:this.address}),!r||!this.address)throw new Fo("Disconnected",4900);try{let n={method:e.method,params:e.params},i=this.walletAccount;return i&&Fs(i)?this.handleWalletApiRequest(n,i,r):(await this.walletProxy.rpc({accessToken:r,entropyId:this.entropyId,entropyIdVerifier:this.entropyIdVerifier,chainType:"ethereum",hdWalletIndex:this.walletIndex,request:n})).response.data}catch(n){throw console.error(n),new Fo("Disconnected",4900)}}}async handleWalletApiRequest(e,r,n){let i=this.privyClient;if(!i)throw new Fo("Disconnected",4900);if(e.method==="secp256k1_sign"){let s=await Qo(i,async({message:a})=>this.walletProxy.signWithUserSigner({accessToken:n,message:a}),{chain_type:"ethereum",method:"secp256k1_sign",wallet_id:r.id,params:{hash:e.params[0]}});if(s.method!=="secp256k1_sign")throw new Fo(`Invalid params for ${e.method}`,4200);return s.data.signature}throw new Fo(`Method not supported: ${e.method}`,4200)}constructor({walletProxy:e,address:r,entropyId:n,entropyIdVerifier:i,rpcConfig:s,chains:a,appId:o,chainId:l=1,walletIndex:u,privyClient:h,walletAccount:f}){super(),this.walletProxy=e,this.address=r,this.entropyId=n,this.entropyIdVerifier=i,this.chainId=l,this.rpcConfig=s,this.chains=a,this.publicClient=Sg(l,this.chains,s,{appId:o}),this.rpcTimeoutDuration=BT(s,"privy"),this.appId=o,this.walletIndex=u,this.privyClient=h,this.walletAccount=f}}function I_(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var iQe=0;class dne extends op{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return{name:this.providerDetail.info.name,icon:this.providerDetail.info.icon,id:this.providerDetail.info.rdns}}disconnect(){console.warn(`Programmatic disconnect with ${this.providerDetail.info.name} is not yet supported.`)}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new ln("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw oh(e)}}constructor(e,r,n,i,s){super(s||"unknown",e,r,n),this.connectorType="injected",this.proxyProvider=new lp(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.providerDetail=i;let a=i.provider;this.proxyProvider.setWalletProvider(a)}}var Fh="__private_"+iQe+++"__walletBranding";class N_ extends op{async initialize(){await this.syncAccounts(),this.initialized=!0,this.emit("initialized")}async connect(e){return e.showPrompt&&await this.promptConnection(),await this.isConnected()?this.getConnectedWallet():null}get walletBranding(){return I_(this,Fh)[Fh]??{name:"Browser Extension",icon:FT,id:"extension"}}disconnect(){console.warn("Programmatic disconnect with browser wallets is not yet supported.")}async promptConnection(){try{let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new ln("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw oh(e)}}constructor(e,r,n,i,s){super(s??"unknown",e,r,n),Object.defineProperty(this,Fh,{writable:!0,value:void 0}),this.connectorType="injected",this.proxyProvider=new lp(void 0,this.rpcTimeoutDuration),this.subscribeListeners(),this.proxyProvider.setWalletProvider(i),s==="metamask"?I_(this,Fh)[Fh]={name:"MetaMask",icon:SS,id:"io.metamask"}:s==="phantom"&&(I_(this,Fh)[Fh]={name:"Phantom",icon:kee,id:"phantom"})}}class sQe extends dne{disconnect(){console.warn("MetaMask does not support programmatic disconnect.")}async promptConnection(){try{Tr.isMobile||await this.proxyProvider.request({method:"wallet_requestPermissions",params:[{eth_accounts:{}}]});let e=await this.proxyProvider.request({method:"eth_requestAccounts"});if(!e||e.length===0||!e[0])throw new ln("Unable to retrieve accounts");await this.syncAccounts([e[0]])}catch(e){throw oh(e)}}}class aQe extends ih{get wallets(){let e=new Set;return this.walletConnectors.flatMap(r=>r.wallets).sort((r,n)=>r.connectedAt&&n.connectedAt?n.connectedAt-r.connectedAt:0).filter(r=>{let n=`${r.address}${r.walletClientType}${r.connectorType}${r.meta.id}`;return!e.has(n)&&(e.add(n),!0)})}async initialize(e){var n,i,s;if(this.initialized&&!e||(e&&this.removeAllConnectors(),this.externalWalletConfig.disableAllExternalWallets))return;let r=QFe({store:this.store,walletList:this.walletList,externalWalletConfig:this.externalWalletConfig,walletChainType:this.walletChainType}).then(a=>{a.forEach(({type:o,eip6963InjectedProvider:l,legacyInjectedProvider:u})=>{this.createEthereumWalletConnector({connectorType:"injected",walletClientType:o,providers:{eip6963InjectedProvider:l,legacyInjectedProvider:u}})})});for(let a of(this.walletList.includes("coinbase_wallet")&&this.createEthereumWalletConnector({connectorType:"coinbase_wallet",walletClientType:"coinbase_wallet"}),this.walletList.includes("base_account")&&this.createEthereumWalletConnector({connectorType:"base_account",walletClientType:"base_account"}),Object.values(zT)))!a.isInstalled&&this.walletList.includes(a.client)&&(["ethereum-only","ethereum-and-solana"].includes(this.walletChainType)&&a.chainTypes.includes("ethereum")&&this.createEthereumWalletConnector({connectorType:"null",walletClientType:a.client,walletConfig:a}),["ethereum-and-solana","solana-only"].includes(this.walletChainType)&&a.chainTypes.includes("solana")&&this.addSolanaWalletConnector(new WT({id:a.client,name:a.name})));this.externalWalletConfig.walletConnect.enabled&&this.createEthereumWalletConnector({connectorType:"wallet_connect_v2",walletClientType:"unknown"}),(n=this.externalWalletConfig.solana.connectors)==null||n.get().forEach(this.addSolanaWalletConnector),(s=(i=this.externalWalletConfig.solana.connectors)==null?void 0:i._setOnConnectorsUpdated)==null||s.call(i,a=>{a==null||a.forEach(this.addSolanaWalletConnector)}),await r,this.initialized=!0}findWalletConnector(e,r){return e==="wallet_connect_v2"?this.walletConnectors.filter($1).find(n=>n.connectorType===e)??null:this.walletConnectors.filter($1).find(n=>n.connectorType===e&&n.walletClientType===r)??null}findSolanaWalletConnector(e){return this.walletConnectors.filter(R4).find(r=>r.walletClientType==="unknown"?r.walletBranding.id===e:r.walletClientType===e)??null}findEmbeddedWalletConnectors(){return this.walletConnectors.filter(e=>e.connectorType==="embedded")}onInitialized(e){e.wallets.forEach(r=>{let n=this.storedConnections.find(i=>i.address===r.address&&i.connectorType===r.connectorType&&(r.type==="solana"&&i.walletClientType==="unknown"&&r.walletClientType==="unknown"?r.meta.id===i.id:i.walletClientType===r.walletClientType));n&&(r.connectedAt=n.connectedAt)}),this.emit("walletsUpdated"),this.emit("connectorInitialized")}onWalletsUpdated(e){e.initialized&&this.emit("walletsUpdated")}addEmbeddedWalletConnectors({walletProxy:e,user:r,embeddedWallets:n,defaultChain:i,appId:s,privyClient:a}){let{entropyId:o,entropyIdVerifier:l}=ho(r);for(let u of n){let h=this.findEmbeddedWalletConnectors().find(f=>f.walletIndex===u.walletIndex);if(h&&$1(h))h.proxyProvider.walletProxy=e;else{let f=new BW({provider:new LW({walletProxy:e,address:u.address,entropyId:o,entropyIdVerifier:l,rpcConfig:this.rpcConfig,chains:this.chains,appId:s,chainId:i.id,walletIndex:u.walletIndex,privyClient:a,walletAccount:u}),chains:this.chains,defaultChain:i,rpcConfig:this.rpcConfig,imported:!1,walletIndex:u.walletIndex});this.addWalletConnector(f)}}}addImportedWalletConnector(e,r,n,i){let s=this.findWalletConnector("embedded_imported","privy");if(s&&$1(s))s.proxyProvider.walletProxy=e;else{let a=new BW({provider:new LW({walletProxy:e,address:r,entropyId:r,entropyIdVerifier:"ethereum-address-verifier",walletIndex:0,rpcConfig:this.rpcConfig,chains:this.chains,appId:i,chainId:n.id}),chains:this.chains,walletIndex:0,defaultChain:n,rpcConfig:this.rpcConfig,imported:!0});this.addWalletConnector(a)}}removeEmbeddedWalletConnectors(){this.walletConnectors=this.walletConnectors.filter(e=>e.connectorType!=="embedded"),this.storedConnections=N3(),this.emit("walletsUpdated")}removeImportedWalletConnector(){let e=this.findWalletConnector("embedded_imported","privy");if(e){let r=this.walletConnectors.indexOf(e);this.walletConnectors.splice(r,1),this.storedConnections=N3(),this.emit("walletsUpdated")}}async createEthereumWalletConnector({connectorType:e,walletClientType:r,providers:n,walletConfig:i}){let s=this.findWalletConnector(e,r);if(s&&$1(s))return s instanceof rg&&s.resetConnection(r),s;let a=e!=="injected"?e==="coinbase_wallet"?new rQe(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.coinbaseWallet.config):e==="base_account"?new eQe(this.chains,this.defaultChain,this.rpcConfig,this.externalWalletConfig.baseAccount.config,this.setBaseAccountSdk):e!=="null"?new rg({walletConnectCloudProjectId:this.walletConnectCloudProjectId,rpcConfig:this.rpcConfig,chains:this.chains,defaultChain:this.defaultChain,shouldEnforceDefaultChainOnConnect:this.shouldEnforceDefaultChainOnConnect,privyAppId:this.privyAppId,privyAppName:this.privyAppName,walletClientType:r}):i?new LT({id:i.client,name:i.name,defaultChain:this.defaultChain,walletClientType:i.client}):null:r==="metamask"&&(n!=null&&n.eip6963InjectedProvider)?new sQe(this.chains,this.defaultChain,this.rpcConfig,n==null?void 0:n.eip6963InjectedProvider,"metamask"):r==="metamask"&&(n!=null&&n.legacyInjectedProvider)?new N_(this.chains,this.defaultChain,this.rpcConfig,n==null?void 0:n.legacyInjectedProvider,"metamask"):r==="phantom"&&(n!=null&&n.legacyInjectedProvider)?new N_(this.chains,this.defaultChain,this.rpcConfig,n==null?void 0:n.legacyInjectedProvider,"phantom"):n!=null&&n.legacyInjectedProvider&&r==="unknown_browser_extension"?new N_(this.chains,this.defaultChain,this.rpcConfig,n==null?void 0:n.legacyInjectedProvider):n!=null&&n.eip6963InjectedProvider?new dne(this.chains,this.defaultChain,this.rpcConfig,n==null?void 0:n.eip6963InjectedProvider,r):void 0;return a&&this.addWalletConnector(a),a||null}addWalletConnector(e){this.walletConnectors.push(e),e.on("initialized",()=>this.onInitialized(e)),e.on("walletsUpdated",()=>this.onWalletsUpdated(e)),e.initialize().catch(r=>{console.debug("Failed to initialize connector",r)})}setWalletList(e){this.walletList=e,this.initialized&&this.initialize(!0).catch(console.error)}removeAllConnectors(){for(let e of this.walletConnectors)e.removeAllListeners();this.walletConnectors=[]}constructor(e,r,n,i,s,a,o,l,u,h,f,g){super(),this.addSolanaWalletConnector=async y=>{let b=this.findSolanaWalletConnector(y.walletClientType);if(!b||b.connectorType==="null"){if((b==null?void 0:b.connectorType)==="null"){let w=this.walletConnectors.indexOf(b);this.walletConnectors.splice(w,1)}this.addWalletConnector(y)}},this.privyAppId=e,this.walletConnectCloudProjectId=r,this.rpcConfig=n,this.chains=i,this.defaultChain=s,this.walletConnectors=[],this.initialized=!1,this.store=a,this.walletList=o,this.shouldEnforceDefaultChainOnConnect=l,this.externalWalletConfig=u,this.privyAppName=h,this.walletChainType=g||"ethereum-only",this.setBaseAccountSdk=f,this.storedConnections=N3()}}let oQe=[PK,OK,DK];class lQe{async get(e,r){try{return await this.baseFetch(e,r)}catch(n){throw br(n)}}async post(e,r,n){try{return await this.baseFetch(e,{method:"POST",...r?{body:r}:{},...n})}catch(i){throw br(i)}}async delete(e,r){try{return await this.baseFetch(e,{method:"DELETE",...r})}catch(n){throw br(n)}}constructor({appId:e,appClientId:r,client:n,defaults:i}){this.appId=e,this.appClientId=r,this.clientAnalyticsId=n.clientAnalyticsId,this.sdkVersion=qFe,this.client=n,this.defaults=i,this.fallbackApiUrl=n.fallbackApiUrl,this.baseFetch=NK.create({baseURL:this.defaults.baseURL,timeout:this.defaults.timeout,retry:3,retryDelay:500,retryStatusCodes:[408,409,425,500,502,503,504],credentials:"include",onRequest:async({request:s,options:a})=>{let o=new Headers(a.headers);o.set("privy-app-id",this.appId),this.appClientId&&o.set("privy-client-id",this.appClientId),o.set("privy-ca-id",this.clientAnalyticsId||""),o.set("privy-client",`react-auth:${this.sdkVersion}`);let l=oQe.includes(s.toString());if(!o.has("authorization")){let u=await this.client.getAccessToken({disableAutoRefresh:l});u!==null&&o.set("authorization",`Bearer ${u}`)}a.headers=o,a.retryDelay&&typeof a.retryDelay=="number"&&(a.retryDelay=3*a.retryDelay)},onRequestError:({error:s})=>{if(s instanceof DOMException&&s.name==="AbortError")throw new Yve}})}}let cQe=/paymaster\.biconomy\.io\/api/i,uQe={mode:"SPONSORED",calculateGasLimits:!0,expiryDuration:300,sponsorshipInfo:{webhookData:{},smartAccountInfo:{name:"BICONOMY",version:"2.0.0"}}};const dQe=(t,e)=>t&&cQe.test(t)?uQe:e&&e.policy_id?{policyId:e.policy_id}:void 0,hQe=t=>{var e,r,n,i;return{rpId:t.rp_id,challenge:t.challenge,allowCredentials:((e=t.allow_credentials)==null?void 0:e.map(s=>({id:s.id,type:s.type,transports:s.transports})))||[],timeout:t.timeout,extensions:{appid:(r=t.extensions)==null?void 0:r.app_id,credProps:(n=t.extensions)==null?void 0:n.cred_props,hmacCreateSecret:(i=t.extensions)==null?void 0:i.hmac_create_secret},userVerification:t.user_verification}};class hne{async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(q3e,{token:this.meta.token})}catch(e){throw br(e)}}async link(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(H3e,{token:this.meta.token})}catch(e){throw br(e)}}constructor(e){this.meta={token:e}}}class fQe{getOrCreateGuestCredential(e){let r=tee(e);if(bS()){if(Pt.get(r))return Pt.get(r);{let n=Tf(xS(32));return Pt.put(r,n),n}}return Tf(xS(32))}async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(V3e,{guest_credential:this.meta.guestCredential})}catch(e){throw br(e)}}async link(){throw Error("Linking is not supported for the guest flow")}constructor(e){this.meta={guestCredential:this.getOrCreateGuestCredential(e)}}}function P_(){return!(Tr.isSafari&&window.location.origin.startsWith("http://localhost"))}const FW=Yg(()=>({identityToken:null}));var O_,zW=((O_={}).PRIVY="privy_access_token",O_.CUSTOMER="customer_access_token",O_);class pQe{get token(){return this.privyAccessToken||this.customerAccessToken}getToken(e){return e==="privy_access_token"?this.privyAccessToken:this.customerAccessToken}get customerAccessToken(){return this._getToken(gy)}get privyAccessToken(){return this._getToken(T3)}_getToken(e){try{let r=Pt.get(e);return typeof r=="string"?Ld.throwIfNotWellFormedJwt(r):null}catch(r){return console.error(r),this.destroyLocalState(),null}}get refreshToken(){try{let e=Pt.get(a_);return typeof e=="string"?e:null}catch(e){return console.error(e),this.destroyLocalState(),null}}getProviderAccessToken(e){try{let r=Pt.get(Wv(e));if(typeof r!="string")return null;{let n=new Ld(r);return n.isExpired()?(Pt.del(Wv(e)),null):n.value}}catch(r){return console.error(r),null}}get mightHaveServerCookies(){try{let e=Fn.get(o_);return e!==void 0&&e.length>0}catch(e){console.error(e)}return!1}hasRefreshCredentials(e="privy_access_token"){let r=typeof this.getToken(e)=="string",n=typeof this.refreshToken=="string"&&this.refreshToken!==GFe;return this.mightHaveServerCookies||r&&n}hasActiveAccessToken(e){let r=Ld.parse(this.getToken(e));return r!==null&&!r.isExpired(30)}authenticate(e){return this.authenticateOnce.execute(e)}link(e){return this.linkOnce.execute(e)}refresh(){return this.refreshOnce.execute()}destroy(){return this.destroyOnce.execute()}storeProviderAccessToken(e,r){typeof r=="string"?Pt.put(Wv(e),r):Pt.del(Wv(e))}updateIdentityToken(e){typeof e=="string"?this.storeIdentityToken(e):this.clearIdentityToken()}async _authenticate(e){try{let r=await e.authenticate(),{user:n,is_new_user:i,oauth_tokens:s}=r;this.handleTokenResponse(r);let a=s?{provider:s.provider,accessToken:s.access_token,accessTokenExpiresInSeconds:s.access_token_expires_in_seconds,refreshToken:s.refresh_token,refreshTokenExpiresInSeconds:s.refresh_token_expires_in_seconds,scopes:s.scopes}:void 0;return this._trackAuthenticateEvents(e,i),{user:Fi(n),isNewUser:i,oAuthTokens:a}}catch(r){throw console.warn("Error authenticating session"),hn(r)}}_trackAuthenticateEvents(e,r){let n=function(i){return i instanceof F0?"email":i instanceof z0?"sms":i instanceof eg?"siwe":i instanceof fQe?"guest":i instanceof hne?"custom_auth":i instanceof $0?i.meta.provider:null}(e);n&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate",payload:{method:n,isNewUser:r}}),n==="siwe"&&this.client&&this.client.createAnalyticsEvent({eventName:"sdk_authenticate_siwe",payload:{connectorType:e.meta.connectorType,walletClientType:e.meta.walletClientType}})}async _link(e){try{let r=await e.link(),n=r.oauth_tokens,i=n?{provider:n.provider,accessToken:n.access_token,accessTokenExpiresInSeconds:n.access_token_expires_in_seconds,refreshToken:n.refresh_token,refreshTokenExpiresInSeconds:n.refresh_token_expires_in_seconds,scopes:n.scopes}:void 0;return{user:Fi(r),oAuthTokens:i}}catch(r){throw console.warn("Error linking account"),hn(r)}}async _refresh(){if(!this.api)throw new ue("Session has no API instance");if(!this.client)throw new ue("Session has no PrivyClient instance");await this.client.getAccessToken({disableAutoRefresh:!0});let e=this.token,r=this.refreshToken;if(this.client.useServerCookies&&!this.mightHaveServerCookies&&this.token&&window.location.origin===this.client.apiUrl)return this.destroyLocalState(),null;try{let n;if(!(e&&r||this.mightHaveServerCookies))return null;{let i={};e&&(i.authorization=`Bearer ${e}`),n=await this.api.post(PK,r?{refresh_token:r}:{},{headers:i})}return this.handleTokenResponse(n),Fi(n.user)}catch(n){if(n instanceof Sa&&n.privyErrorCode===fe.MISSING_OR_INVALID_TOKEN)return console.warn("Unable to refresh tokens - token is missing or no longer valid"),this.destroyLocalState(),null;throw hn(n)}}handleTokenResponse(e){e.session_update_action&&e.session_update_action!=="set"?e.session_update_action==="clear"?this.destroyLocalState():e.session_update_action==="ignore"&&(e.token&&(this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token)),e.identity_token&&this.storeIdentityToken(e.identity_token)):this._storeAllTokens(e)}_storeAllTokens(e){this.storeRefreshToken(e.refresh_token),this.storeCustomerAccessToken(e.token),this.storePrivyAccessToken(e.privy_access_token),e.identity_token&&this.storeIdentityToken(e.identity_token)}async _destroy(){var e;try{await((e=this.api)==null?void 0:e.post(OK,{refresh_token:this.refreshToken}))}catch{console.warn("Error destroying session")}this.destroyLocalState()}destroyLocalState(){this.storeRefreshToken(null),this.storeCustomerAccessToken(null),this.storePrivyAccessToken(null),this.clearIdentityToken()}storeCustomerAccessToken(e){var r,n,i,s,a,o;if(typeof e=="string"){let l=Pt.get(gy);if(Pt.put(gy,e),!((r=this.client)!=null&&r.useServerCookies)){let u=(n=Ld.parse(e))==null?void 0:n.expiration;Fn.set(oz,e,{sameSite:"Strict",secure:P_(),expires:u?new Date(1e3*u):void 0})}l!==e&&((s=(i=this.client)==null?void 0:i.onStoreCustomerAccessToken)==null||s.call(i,e))}else Pt.del(gy),Fn.remove(oz),(o=(a=this.client)==null?void 0:a.onDeleteCustomerAccessToken)==null||o.call(a)}storeRefreshToken(e){var r;typeof e=="string"?(Pt.put(a_,e),(r=this.client)!=null&&r.useServerCookies||Fn.set(o_,"t",{sameSite:"Strict",secure:P_(),expires:30})):(Pt.del(a_),Fn.remove(HFe),Fn.remove(o_))}storePrivyAccessToken(e){typeof e=="string"?Pt.put(T3,e):Pt.del(T3)}storeIdentityToken(e){var n,i;if(FW.setState({identityToken:e}),(n=this.client)==null?void 0:n.useServerCookies)return;Pt.put(lz,e);let r=(i=Ld.parse(e))==null?void 0:i.expiration;Fn.set(cz,e,{sameSite:"Strict",secure:P_(),expires:r?new Date(1e3*r):void 0})}clearIdentityToken(){Pt.del(lz),FW.setState({identityToken:null}),Fn.remove(cz)}constructor(){this.authenticateOnce=new As(async e=>this._authenticate(e)),this.linkOnce=new As(async e=>this._link(e)),this.refreshOnce=new As(this._refresh.bind(this)),this.destroyOnce=new As(this._destroy.bind(this))}}let M_;var gQe=0,R_="__private_"+gQe+++"__getOrGenerateClientAnalyticsId";class mQe{getAppId(){return this.appId}initializeConnectorManager({walletConnectCloudProjectId:e,rpcConfig:r,chains:n,defaultChain:i,store:s,walletList:a,shouldEnforceDefaultChainOnConnect:o,externalWalletConfig:l,appName:u,walletChainType:h,setBaseAccountSdk:f}){this.connectors||(this.connectors=new aQe(this.appId,e,r,n,i,s,a,o,l,u,f,h))}generateApi(){let e=new lQe({appId:this.appId,appClientId:this.appClientId,client:this,defaults:{baseURL:this.apiUrl,timeout:this.timeout}});return this.session.api=e,e}updateApiUrl(e){this.apiUrl=e||this.fallbackApiUrl,this.api=this.generateApi(),e&&(this.useServerCookies=!0)}authenticate(){if(!this.authFlow)throw new ue("No auth flow in progress.");return this.session.authenticate(this.authFlow)}async link(){if(!this.authFlow)throw new ue("No auth flow in progress.");let{oAuthTokens:e}=await this.session.link(this.authFlow);return{user:await this.getAuthenticatedUser(),oAuthTokens:e}}storeProviderAccessToken(e,r){this.session.storeProviderAccessToken(e,r)}getProviderAccessToken(e){return this.session.getProviderAccessToken(e)}async logout(){await this.session.destroy(),this.authFlow=void 0}clearProviderAcccessTokens(e){e.linkedAccounts.filter(r=>r.type==="cross_app").forEach(r=>{this.storeProviderAccessToken(r.providerApp.id,null)})}startAuthFlow(e){return e.api=this.api,this.authFlow=e,this.authFlow}async initMfaSmsVerification(){try{await this.api.post(F3e,{action:"verify"})}catch(e){throw br(e)}}async initMfaPasskeyVerification(){try{let e=await this.api.post(z3e,{});return hQe(e.options)}catch(e){throw br(e)}}async getCrossAppProviderDetails(e){try{return this._cachedProviderAppDetails[e]||(this._cachedProviderAppDetails[e]=await this.api.get(`/api/v1/apps/${e}/cross-app/details`)),this._cachedProviderAppDetails[e]}catch(r){console.error("Error fetching cross app provider details",r)}}async acceptTerms(){try{let e=await this.api.post(W3e,{});return Fi(e)}catch(e){throw hn(e)}}async unlinkEmail(e){try{let r=await this.api.post(y3e,{address:e});return await this.getAuthenticatedUser()??Fi(r)}catch(r){throw hn(r)}}async unlinkPhone(e){try{let r=await this.api.post(E3e,{phoneNumber:e});return await this.getAuthenticatedUser()??Fi(r)}catch(r){throw hn(r)}}async unlinkEthereumWallet(e){try{let r=await this.api.post(t3e,{address:e});return await this.getAuthenticatedUser()??Fi(r)}catch(r){throw hn(r)}}async unlinkSolanaWallet(e){try{let r=await this.api.post(a3e,{address:e});return await this.getAuthenticatedUser()??Fi(r)}catch(r){throw hn(r)}}async unlinkOAuth(e,r){try{let n=await this.api.post(S3e,{provider:e,subject:r});return await this.getAuthenticatedUser()??Fi(n)}catch(n){throw hn(n)}}async unlinkFarcaster(e){try{let r=await this.api.post(h3e,{fid:e});return await this.getAuthenticatedUser()??Fi(r)}catch(r){throw hn(r)}}async unlinkTelegram(e){try{let r=await this.api.post(B3e,{telegram_user_id:e});return await this.getAuthenticatedUser()??Fi(r)}catch(r){throw hn(r)}}async revokeDelegatedWallet(){try{await this.api.post(Z3e,{})}catch(e){throw hn(e)}}async createAnalyticsEvent({eventName:e,payload:r,timestamp:n,options:i}){if(typeof window<"u")try{this.clientAnalyticsId||console.warn("No client analytics id set, refusing to send analytics event"),await this.api.post(DK,{event_name:e,client_id:this.clientAnalyticsId,payload:{...r||{},clientTimestamp:n?n.toISOString():new Date().toISOString()}},{retry:-1,keepalive:(i==null?void 0:i.keepAlive)??!1})}catch{console.log("Unable to submit event. This is not an issue.")}}async signMoonpayOnRampUrl(e){try{return this.api.post(G3e,e)}catch(r){throw hn(r)}}async initCoinbaseOnRamp(e){try{return this.api.post(K3e,e)}catch(r){throw hn(r)}}async getCoinbaseOnRampStatus({partnerUserId:e}){try{return this.api.get(`${Y3e}?partnerUserId=${e}`)}catch(r){throw hn(r)}}async getAuthenticatedUser(){return this.session.hasRefreshCredentials()?this.session.refresh():null}async getAccessToken(e){return await this.getPrivyAccessToken(e)||await this.getCustomerAccessToken(e)}async getCustomerAccessToken(e){return await this._getToken(zW.CUSTOMER,e)}async getPrivyAccessToken(e){return await this._getToken(zW.PRIVY,e)}async _getToken(e,r){var n;return this.session.getToken(e)?this.session.hasActiveAccessToken(e)?this.session.hasRefreshCredentials(e)?((n=kI.parse(this.session.getToken(e)))==null?void 0:n.appId)!==this.appId?(await this.logout(),null):this.session.getToken(e):(this.session.destroyLocalState(),null):!(r!=null&&r.disableAutoRefresh)&&this.session.hasRefreshCredentials(e)?(await this.session.refresh(),this.session.getToken(e)):null:null}async getSmartWalletsConfig(){try{let e={},r=this.session.token;r&&(e.authorization=`Bearer ${r}`);let n=await this.api.get(`/api/v1/apps/${this.appId}/smart_wallets`,{baseURL:this.fallbackApiUrl,headers:e});return n.enabled?{enabled:n.enabled,smartWalletVersion:n.smart_wallet_version,smartWalletType:n.smart_wallet_type,configuredNetworks:n.configured_networks.map(i=>({chainId:i.chain_id,bundlerUrl:i.bundler_url,paymasterUrl:i.paymaster_url,paymasterContext:dQe(i.paymaster_url,i.paymaster_context)}))}:{enabled:n.enabled}}catch(e){throw hn(e)}}async getUsdTokenPrice(e){try{return(await this.api.get(`/api/v1/token_price?chainId=${e.id}&tokenSymbol=${e.nativeCurrency.symbol}`)).usd}catch{return void console.error(`Unable to fetch token price for chain with id ${e.id}`)}}async getUsdPriceForSol(){try{return(await this.api.get("/api/v1/token_price?chainId=0&tokenSymbol=SOL")).usd}catch{return void console.error("Unable to fetch token price for SOL")}}async getSplTokenMetadata({mintAddress:e,cluster:r}){try{return await this.api.get(`/api/v1/spl_token_info?mint_address=${e}&cluster=${r}`)}catch{return void console.error(`Unable to fetch token metadata for ${r}:${e}`)}}async requestFarcasterSignerStatus(e){try{return await this.api.post("/api/v1/farcaster/signer/status",{ed25519_public_key:e})}catch(r){throw console.error("Unable to fetch Farcaster signer status"),r}}async generateSiweNonce({address:e,captchaToken:r}){try{return(await this.api.post(Qve,{address:e,token:r})).nonce}catch(n){throw hn(n)}}async authenticateWithSiweInternal({message:e,signature:r,chainId:n,walletClientType:i,connectorType:s,mode:a}){return await this.api.post(Xve,{message:e,signature:r,chainId:n,walletClientType:i,connectorType:s,mode:a})}async linkWithSiweInternal({message:e,signature:r,chainId:n,walletClientType:i,connectorType:s}){return await this.api.post(Jve,{message:e,signature:r,chainId:n,walletClientType:i,connectorType:s})}async linkSmartWallet({message:e,signature:r,smartWalletType:n,smartWalletVersion:i}){try{let s=await this.api.post(e3e,{message:e,signature:r,smart_wallet_type:n,smart_wallet_version:i});return Fi(s)}catch(s){throw hn(s)}}async linkWithSiwe({message:e,signature:r,chainId:n,walletClientType:i,connectorType:s}){try{let a=await this.linkWithSiweInternal({message:e,signature:r,chainId:n,walletClientType:i,connectorType:s});return Fi(a)}catch(a){throw hn(a)}}async generateSiwsNonce({address:e,captchaToken:r}){try{return(await this.api.post(n3e,{address:e,token:r})).nonce}catch(n){throw hn(n)}}async authenticateWithSiwsInternal({message:e,signature:r,walletClientType:n,connectorType:i,mode:s,messageType:a="plain"}){return await this.api.post(i3e,{message:e,signature:r,walletClientType:n,connectorType:i,mode:s,message_type:a})}async authenticateWithSiws({message:e,signature:r,walletClientType:n,connectorType:i,mode:s,messageType:a="plain"}){let o=await this.authenticateWithSiwsInternal({message:e,signature:r,walletClientType:n,connectorType:i,mode:s,messageType:a});this.session.handleTokenResponse(o);let l=Fi(o.user);if(!l)throw Error("Authentication failed - no user returned");return{user:l,isNewUser:o.is_new_user||!1}}async sendAccountTransferRequest({nonce:e,account:r,accountType:n,externalWalletMetadata:i,telegramAuthResult:s,telegramWebAppData:a,farcasterEmbeddedAddress:o,oAuthUserInfo:l}){try{let u,h;switch(n){case"email":u=w3e,h={nonce:e,email:r};break;case"sms":u=A3e,h={nonce:e,phoneNumber:r};break;case"siwe":if(u=r3e,!i)throw Error("Wallet parameters must be defined");h={nonce:e,address:r,...i};break;case"farcaster":u=f3e,h={nonce:e,farcaster_id:r,farcaster_embedded_address:o};break;case"telegram":u=L3e,h={nonce:e,telegram_auth_result:s,telegram_web_app_data:a};break;case"siws":u=o3e,h={nonce:e,address:r,...i};break;case"custom":case"guest":case"passkey":throw Error("Invalid transfer account type");default:u=k3e,h={nonce:e,userInfo:l}}let f=await this.api.post(u,h);return await this.getAuthenticatedUser()??Fi(f)}catch(u){throw hn(u)}}async linkWithSiwsInternal({message:e,signature:r,walletClientType:n,connectorType:i,messageType:s="plain"}){return await this.api.post(s3e,{message:e,signature:r,walletClientType:n,connectorType:i,message_type:s})}async linkWithSiws({message:e,signature:r,walletClientType:n,connectorType:i,messageType:s="plain"}){try{let a=await this.linkWithSiwsInternal({message:e,signature:r,walletClientType:n,connectorType:i,messageType:s});return Fi(a)}catch(a){throw hn(a)}}async updateUserAndIdToken(){try{let e=await this.api.get(Q3e);return this.session.updateIdentityToken(e.identity_token),Fi(e.user)}catch(e){throw hn(e)}}async scanTransaction(e){try{return await this.api.post(X3e,e)}catch(r){throw hn(r)}}constructor({apiUrl:e=wS,appId:r,appClientId:n,timeout:i=WFe}){Object.defineProperty(this,R_,{value:yQe}),this._cachedProviderAppDetails={},this.apiUrl=e,this.fallbackApiUrl=this.apiUrl,this.useServerCookies=e!==wS&&e.startsWith("https://privy."),this.timeout=i,this.appId=r,this.appClientId=n,this.clientAnalyticsId=function(s,a){if(!Object.prototype.hasOwnProperty.call(s,a))throw TypeError("attempted to use private field on non-instance");return s}(this,R_)[R_](),M_||(M_=new pQe),this.session=M_,this.api=this.generateApi(),this.session.client=this}}function yQe(){if(typeof window>"u")return null;try{let e=Pt.get(vS);if(typeof e=="string"&&e.length>0)return e}catch{}let t=ZC();try{return Pt.put(vS,t),t}catch{return t}}const bQe=({delayedExecution:t,...e})=>{let{enabled:r,siteKey:n,appId:i,setError:s,setToken:a,setExecuting:o,ref:l}=ca(),[,u]=$.useMemo(()=>(n==null?void 0:n.split("t:"))||[],[n]);if($.useEffect(()=>{var h;return(h=l.current)==null?void 0:h.remove},[]),!r)return null;if(!u)throw Error("Unsupported captcha site key");return p.jsx("div",{className:"hidden h-0 w-0",children:p.jsx(one,{...e,ref:l,siteKey:u,options:{action:i,size:"invisible",...t?{appearance:"execute",execution:"execute"}:{appearance:"always",execution:"render"}},onUnsupported:()=>{var h;(h=e.onUnsupported)==null||h.call(e),console.warn("Browser does not support Turnstile.")},onError:()=>{var h;(h=e.onError)==null||h.call(e),s("Captcha failed"),o(!1)},onSuccess:h=>{var f;(f=e.onSuccess)==null||f.call(e,h),a(h),o(!1)},onExpire:()=>{var h,f;(h=e.onExpire)==null||h.call(e);try{(f=l.current)==null||f.reset(),s(void 0),a(void 0)}catch{s("expired_and_failed_reset")}}})})};function wQe(t){j4("configureMfa",t)}const $I=te.div.withConfig({displayName:"AppLogoContainer",componentId:"sc-ba98f772-0"})(["display:flex;flex-direction:column;align-items:center;padding:0px 0px 30px;@media (max-width:440px){padding:10px 10px 20px;}"]),Ks=te.div.withConfig({displayName:"Title",componentId:"sc-ba98f772-1"})(["font-size:18px;line-height:30px;text-align:center;font-weight:600;margin-bottom:10px;"]),po=te.div.withConfig({displayName:"SubTitle",componentId:"sc-ba98f772-2"})(["font-size:0.875rem;text-align:center;"]),zf=te.div.withConfig({displayName:"Container",componentId:"sc-ba98f772-3"})(["display:flex;flex-direction:column;align-items:center;gap:10px;flex-grow:1;padding:20px 0;@media (max-width:440px){padding:10px 10px 20px;}"]),lx=te.div.withConfig({displayName:"List",componentId:"sc-ba98f772-4"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.75rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),vf=te.div.withConfig({displayName:"ListItemIcon",componentId:"sc-ba98f772-5"})(["width:25px;display:flex;align-items:center;justify-content:flex-start;> svg{z-index:2;height:25px !important;width:25px !important;color:var(--privy-color-accent);}"]),xf=te.div.withConfig({displayName:"ListItem",componentId:"sc-ba98f772-6"})(["display:flex;align-items:center;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;"]),T0=te.div.withConfig({displayName:"BottomSection",componentId:"sc-ba98f772-7"})(["display:flex;flex-direction:column;gap:10px;padding-top:20px;"]),fne=te.div.withConfig({displayName:"MethodList",componentId:"sc-ba98f772-8"})(["display:flex;flex-direction:column;align-items:stretch;gap:1rem;padding:1rem 0rem 0rem;flex-grow:1;width:100%;"]),j_=te.div.withConfig({displayName:"MethodListItem",componentId:"sc-ba98f772-9"})(["display:flex;gap:5px;width:100%;position:relative;"]),D_=te.button.withConfig({displayName:"RemoveMethodButton",componentId:"sc-ba98f772-10"})(["&&{background-color:transparent;color:var(--privy-color-foreground-3);padding:0 0.75rem;display:flex;align-items:center;height:100%;> svg{z-index:2;height:20px !important;width:20px !important;}}&&:hover{color:var(--privy-color-error);}"]),U_=te.div.withConfig({displayName:"MethodText",componentId:"sc-ba98f772-11"})(["display:flex;align-items:center;gap:0.5rem;> svg{z-index:2;height:20px !important;width:20px !important;}"]),WW=te.div.withConfig({displayName:"ExtraText",componentId:"sc-ba98f772-12"})(["display:flex;align-items:center;gap:6px;font-weight:400 !important;color:",";> svg{z-index:2;height:18px !important;width:18px !important;display:flex !important;align-items:flex-end;}"],t=>t.$isAccent?"var(--privy-color-accent)":"var(--privy-color-foreground-3)"),B_=te.div.withConfig({displayName:"SmsInsecureText",componentId:"sc-ba98f772-13"})(["width:100%;display:flex;justify-content:space-between;"]),pne=te.p.withConfig({displayName:"TermsText",componentId:"sc-ba98f772-14"})(["text-align:left;width:100%;color:var(--privy-color-foreground-3) !important;"]),nk=te.button.withConfig({displayName:"PrimaryTextButton",componentId:"sc-ba98f772-15"})(["display:flex;flex-direction:row;align-items:center;justify-content:center;user-select:none;&{width:100%;cursor:pointer;border-radius:var(--privy-border-radius-md);font-size:0.875rem;line-height:1rem;font-style:normal;font-weight:500;line-height:22px;letter-spacing:-0.016px;}&&{color:",";background-color:transparent;padding:0.5rem 0px;}&:hover{text-decoration:underline;}"],t=>t.theme==="dark"?"var(--privy-color-foreground-2)":"var(--privy-color-accent)"),go=te.div.withConfig({displayName:"IconWrapper",componentId:"sc-ba98f772-16"})(["display:flex;align-items:center;justify-content:center;color:var(--privy-color-accent);width:100%;> svg{z-index:2;width:3rem;height:3rem;}"]),gne=te.div.withConfig({displayName:"ErrorMessage",componentId:"sc-ba98f772-17"})(["color:var(--privy-color-error);"]),mne=({handleClose:t,user:e,onSelect:r})=>p.jsxs(wr,{title:"Verify your identity",subtitle:"Choose a verification method",icon:Mf,iconVariant:"subtle",onClose:t,showClose:!0,watermark:!0,children:[p.jsxs(fne,{children:[e.mfaMethods.includes("totp")&&p.jsxs(En,{onClick:()=>r("totp"),children:[p.jsx(dc,{children:p.jsx(d4,{})}),"Authenticator app"]},"totp"),e.mfaMethods.includes("sms")&&p.jsxs(En,{onClick:()=>r("sms"),children:[p.jsx(dc,{children:p.jsx(eh,{})}),"SMS"]},"sms"),e.mfaMethods.includes("passkey")&&p.jsxs(En,{onClick:()=>r("passkey"),children:[p.jsx(dc,{children:p.jsx(Z$,{})}),"Passkey"]},"passkey")]}),p.jsx(Gn,{})]}),ik=({pendingTransaction:t})=>{let{wallets:e}=Mu(),{walletProxy:r,rpcConfig:n,chains:i,appId:s,nativeTokenSymbolForChainId:a}=rt(),[o,l]=$.useState(null),[u,h]=$.useState(t),{tokenPrice:f}=zb(u.chainId),g=a(t.chainId)||"ETH",y=$.useMemo(()=>e.find(b=>b.walletClientType==="privy"),[e]);return $.useEffect(()=>{(async function(){if(!r||!y)return u;let b=Sg(u.chainId,i,n,{appId:s}),w=await W5(u,b,y.address);return l(qn(BigInt(w.gas??0))),w})().then(h).catch(console.error)},[r]),y?p.jsx(vQe,{children:p.jsx(Yee,{from:y.address,to:u.to,txn:u,gas:o??void 0,tokenPrice:f,tokenSymbol:g})}):null};let vQe=te.div.withConfig({displayName:"TransactionInfoWrapper",componentId:"sc-8d9a2f57-0"})(["width:100%;padding:1rem 0;"]);const TI=({style:t,...e})=>p.jsx("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...t},fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",...e,children:p.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3.71369 17.5625V10.375C3.71369 6.44625 6.85845 3.25 10.7238 3.25H17.7953C18.6783 3.25 19.3941 2.52244 19.3941 1.625C19.3941 0.727562 18.6783 0 17.7953 0H10.7238C5.09529 0 0.516113 4.65419 0.516113 10.375V17.5625C0.516113 18.4599 1.23194 19.1875 2.1149 19.1875C2.99787 19.1875 3.71369 18.4599 3.71369 17.5625ZM17.7953 60.7501C18.6783 60.7501 19.3941 61.4777 19.3941 62.3751C19.3941 63.2726 18.6783 64.0001 17.7953 64.0001H10.7238C5.09529 64.0001 0.516113 59.3459 0.516113 53.6251V46.4376C0.516113 45.5402 1.23194 44.8126 2.1149 44.8126C2.99787 44.8126 3.71369 45.5402 3.71369 46.4376V53.6251C3.71369 57.5538 6.85845 60.7501 10.7238 60.7501H17.7953ZM63.4839 46.4376V53.6251C63.4839 59.3459 58.9048 64.0001 53.2763 64.0001H46.2047C45.3217 64.0001 44.6059 63.2726 44.6059 62.3751C44.6059 61.4777 45.3217 60.7501 46.2047 60.7501H53.2763C57.1416 60.7501 60.2864 57.5538 60.2864 53.6251V46.4376C60.2864 45.5402 61.0022 44.8126 61.8851 44.8126C62.7681 44.8126 63.4839 45.5402 63.4839 46.4376ZM63.4839 10.375V17.5625C63.4839 18.4599 62.7681 19.1875 61.8851 19.1875C61.0022 19.1875 60.2864 18.4599 60.2864 17.5625V10.375C60.2864 6.44625 57.1416 3.25 53.2763 3.25H46.2047C45.3217 3.25 44.6059 2.52244 44.6059 1.625C44.6059 0.727562 45.3217 0 46.2047 0H53.2763C58.9048 0 63.4839 4.65419 63.4839 10.375ZM43.0331 47.3022C43.7067 46.6698 43.7483 45.6022 43.1262 44.9176C42.5039 44.233 41.4536 44.1906 40.78 44.823C38.3832 47.0732 35.265 48.3125 31.9997 48.3125C28.7344 48.3125 25.6162 47.0732 23.2194 44.823C22.5457 44.1906 21.4955 44.233 20.8732 44.9176C20.251 45.6022 20.2927 46.6698 20.9663 47.3022C23.9784 50.1301 27.8968 51.6875 31.9997 51.6875C36.1026 51.6875 40.021 50.1301 43.0331 47.3022ZM35.3207 24.1249V36.1249C35.3207 38.5029 33.4173 40.4374 31.0777 40.4374H29.7249C28.8079 40.4374 28.0646 39.6819 28.0646 38.7499C28.0646 37.8179 28.8079 37.0624 29.7249 37.0624H31.0777C31.5863 37.0624 32.0001 36.6419 32.0001 36.1249V24.1249C32.0001 23.1929 32.7434 22.4374 33.6604 22.4374C34.5774 22.4374 35.3207 23.1929 35.3207 24.1249ZM46.7581 28.8437V24.0312C46.7581 23.151 46.056 22.4374 45.19 22.4374C44.324 22.4374 43.622 23.151 43.622 24.0312V28.8437C43.622 29.7239 44.324 30.4374 45.19 30.4374C46.056 30.4374 46.7581 29.7239 46.7581 28.8437ZM17.6109 28.8437C17.6109 29.7239 18.313 30.4374 19.1789 30.4374C20.0449 30.4374 20.747 29.7239 20.747 28.8437V24.0312C20.747 23.151 20.0449 22.4374 19.1789 22.4374C18.313 22.4374 17.6109 23.151 17.6109 24.0312V28.8437Z"})}),yne=({hasBlockingError:t,error:e,onClose:r,onBack:n,handleSubmit:i,account:s,submitSuccess:a})=>{var l;let{pendingTransaction:o}=rt();return p.jsxs(p.Fragment,{children:[p.jsx(ur,{onClose:r},"header"),p.jsx(Qee,{children:p.jsxs("div",{children:[p.jsx(Uee,{success:a,fail:!!e}),p.jsx(e?Jf:TI,{style:{width:"38px",height:"38px"}})]})}),p.jsx(Ks,{style:{marginTop:"1rem"},children:"Verifying with passkey"}),p.jsxs(lx,{children:[p.jsxs(xf,{children:[p.jsx(vf,{children:p.jsx(Mf,{})}),"Approve this action using your touch, face, PIN, or hardware key."]}),p.jsxs(xf,{children:[p.jsx(vf,{children:p.jsx(w7e,{})}),"You last added a passkey on"," ",(l=s==null?void 0:s.firstVerifiedAt)==null?void 0:l.toLocaleDateString(void 0,{month:"short",day:"numeric",year:"numeric"}),"."]})]}),o&&p.jsx(zf,{children:p.jsx(ik,{pendingTransaction:o})}),e&&p.jsxs(p.Fragment,{children:[p.jsx(gne,{style:{marginTop:"1.25rem"},children:e.message}),p.jsx(Kr,{disabled:t,onClick:i,style:{marginTop:"1.25rem"},children:"Try again"})]}),n&&p.jsx(nk,{style:{marginTop:"1rem"},onClick:n,children:"Choose another method"}),p.jsx(Gn,{})]})};let xQe=Array(6).fill("");var R1,EQe=((R1=EQe||{})[R1.RESET_AFTER_DELAY=0]="RESET_AFTER_DELAY",R1[R1.CLEAR_ON_NEXT_VALID_INPUT=1]="CLEAR_ON_NEXT_VALID_INPUT",R1);function sk(t){return/^[0-9]{1}$/.test(t)}function qW(t){return t.length===6&&t.every(sk)}const J5=({onChange:t,disabled:e,errorReasonOverride:r,success:n})=>{let[i,s]=$.useState(xQe),[a,o]=$.useState(null),[l,u]=$.useState(null),h=async g=>{var F;g.preventDefault();let y=g.currentTarget.value.replace(/\s+/g,"");if(y==="")return;let b=i.reduce((H,L)=>H+Number(sk(L)),0),w=y.split(""),x=!w.every(sk),E=w.length+b>6;if(x)return o("Passcode can only be numbers"),void u(1);if(E)return o("Passcode must be exactly 6 numbers"),void u(1);o(null),u(null);let S=Number((F=g.currentTarget.name)==null?void 0:F.charAt(4)),_=[...y||[""]].slice(0,6-S),I=[...i.slice(0,S),..._,...i.slice(S+_.length)];s(I);let A=Math.min(Math.max(S+_.length,0),5),O=document.querySelector(`input[name=pin-${A}]`);if(O==null||O.focus(),qW(I))try{await t(I.join(""));let H=document.querySelector(`input[name=pin-${A}]`);H==null||H.blur()}catch(H){u(1),o(H.message)}else try{await t(null)}catch(H){u(1),o(H.message)}},f=n?"success":!r&&!a?"":"fail";return p.jsx(p.Fragment,{children:p.jsxs(_Qe,{children:[p.jsx("div",{children:i.map((g,y)=>p.jsx("input",{name:`pin-${y}`,type:"text",value:i[y],onChange:h,onKeyUp:b=>{b.key==="Backspace"&&(w=>{l===1&&(o(null),u(null));let x=[...i.slice(0,w),"",...i.slice(w+1)];if(s(x),w>0){let E=document.querySelector(`input[name=pin-${w-1}]`);E==null||E.focus()}qW(x)?t(x.join("")):t(null)})(y)},inputMode:"numeric",autoFocus:y===0,pattern:"[0-9]",className:f,autoComplete:Tr.isMobile?"one-time-code":"off",disabled:e},y))}),p.jsx("div",{children:p.jsx(CQe,{$fail:!!r||!!a,children:r||a})})]})})};let _Qe=te.div.withConfig({displayName:"PinInputContainer",componentId:"sc-7a171f6-0"})(["display:flex;flex-direction:column;width:100%;gap:8px;@media (max-width:440px){margin-top:8px;margin-bottom:8px;}> div:nth-child(1){display:flex;justify-content:center;gap:0.5rem;width:100%;border-radius:var(--privy-border-radius-md);> input{border:1px solid var(--privy-color-foreground-4);background:var(--privy-color-background);border-radius:var(--privy-border-radius-md);padding:8px 10px;height:58px;width:46px;text-align:center;font-size:18px;}> input:disabled{background:var(--privy-color-background-2);}> input:focus{border:1px solid var(--privy-color-accent);}> input:invalid{border:1px solid var(--privy-color-error);}> input.success{border:1px solid var(--privy-color-success);}> input.fail{border:1px solid var(--privy-color-error);animation:shake 180ms;animation-iteration-count:2;}}@keyframes shake{0%{transform:translate(1px,0px);}33%{transform:translate(-1px,0px);}67%{transform:translate(-1px,0px);}100%{transform:translate(1px,0px);}}"]),CQe=te.div.withConfig({displayName:"InputHelp",componentId:"sc-7a171f6-1"})(["line-height:20px;font-size:13px;display:flex;justify-content:flex-start;width:100%;color:",";"],t=>t.$fail?"var(--privy-color-error)":"var(--privy-color-foreground-3)");const bne=({selectedMethod:t,submitSuccess:e,hasBlockingError:r,onClose:n,onBack:i,handleSubmitCode:s})=>{let{app:a}=lt(),{pendingTransaction:o}=rt();switch(t){case"sms":return p.jsxs(p.Fragment,{children:[p.jsx(ur,{onClose:n},"header"),p.jsx(go,{style:{marginBottom:"1.5rem"},children:p.jsx(eh,{})}),p.jsx(Ks,{children:"Enter verification code"}),p.jsxs(zf,{children:[p.jsx(J5,{success:e,disabled:r,onChange:s}),p.jsxs(po,{children:["To continue, please enter the 6-digit code sent to your ",p.jsx("strong",{children:"mobile device"})]}),o&&p.jsx(ik,{pendingTransaction:o})]}),i&&p.jsx(nk,{theme:a==null?void 0:a.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),p.jsx(bl,{onClick:n,children:"Cancel"}),p.jsx(Gn,{})]});case"totp":return p.jsxs(p.Fragment,{children:[p.jsx(ur,{onClose:n},"header"),p.jsx(go,{style:{marginBottom:"1.5rem"},children:p.jsx(d4,{})}),p.jsx(Ks,{children:"Enter verification code"}),p.jsxs(zf,{children:[p.jsx(J5,{success:e,disabled:r,onChange:s}),p.jsxs(po,{children:["To continue, please enter the 6-digit code generated from your"," ",p.jsx("strong",{children:"authenticator app"})]}),o&&p.jsx(ik,{pendingTransaction:o})]}),i&&p.jsx(nk,{theme:a==null?void 0:a.appearance.palette.colorScheme,onClick:i,children:"Choose another method"}),p.jsx(bl,{onClick:n,children:"Cancel"}),p.jsx(Gn,{})]});default:return null}},e6=t=>LWe(t)?{isBlocking:!0,error:Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds.")}:XT(t)?{isBlocking:!1,error:Error("The code you entered is not valid")}:QT(t)?{isBlocking:!0,error:Error("You have exceeded the time limit for code entry. Please try again in 30 seconds.")}:(console.error(t),{isBlocking:!1,error:Error("Something went wrong.")}),AQe={component:()=>{let{user:t}=fr(),{data:e}=lt(),[r,n]=$.useState(t==null?void 0:t.mfaMethods[0]),[i,s]=$.useState(!1),[a,o]=$.useState(),[l,u]=$.useState();if($.useEffect(()=>{n(t==null?void 0:t.mfaMethods[0])},[t==null?void 0:t.mfaMethods]),!(e!=null&&e.mfaVerify))throw Error("Missing modal data for MFA verification screen.");let{onFailure:h,onSuccess:f,generateOptions:g,verifyTotpCode:y,verifyPasskey:b,verifySmsCode:w,sendSmsCode:x}=e.mfaVerify,E=async A=>{if(A!=="passkey")try{n(A),A==="sms"&&(n(A),await x()),A==="totp"&&n(A)}catch(O){console.error(O)}else try{n(A);let O=await g();if(!O)throw Error("something went wrong");o(O),await b(O),s(!0),u(void 0),f()}catch(O){u(e6(O))}},S=async A=>{u(void 0);try{if(!A||!r)return;if(r==="passkey"){if(!a)throw Error("Missing passkey challenge");await b(a)}else r==="sms"?await w(A):r==="totp"&&await y(A);u(void 0),s(!0),f()}catch(O){throw e6(O).error}},_=()=>{l||!i?h((l==null?void 0:l.error)??Error("Canceled MFA verification.")):f()},I=$.useRef(!1);return $.useEffect(()=>{!I.current&&r&&(I.current=!0,E(r).finally(()=>{I.current=!1}))},[open]),t?r==="passkey"?p.jsx(yne,{account:t.linkedAccounts.filter(A=>A.type==="passkey"&&A.enrolledInMfa).sort((A,O)=>O.firstVerifiedAt.valueOf()-A.firstVerifiedAt.valueOf())[0],submitSuccess:i,hasBlockingError:(l==null?void 0:l.isBlocking)??!1,error:l==null?void 0:l.error,onClose:_,onBack:()=>{n(void 0),u(void 0)},handleSubmit:()=>S(a).catch(u)}):r==="sms"||r==="totp"?p.jsx(bne,{selectedMethod:r,submitSuccess:i,hasBlockingError:(l==null?void 0:l.isBlocking)??!1,handleSubmitCode:S,onClose:_,onBack:t.mfaMethods.length>1?()=>n(void 0):void 0}):p.jsx(mne,{user:t,onSelect:E,handleClose:_}):null}};function wne(){let{promptMfa:t,init:e,submit:r,cancel:n,mfaMethods:i}=$.useContext(Kg);return{promptMfa:t,init:e,submit:r,cancel:n,mfaMethods:i}}const HW=({onClose:t})=>{let{user:e}=fr(),[r,n]=$.useState((e==null?void 0:e.mfaMethods[0])??null),{init:i,cancel:s,submit:a}=wne(),[o,l]=$.useState(!1),[u,h]=$.useState(null),[f,g]=$.useState();$.useEffect(()=>{n((e==null?void 0:e.mfaMethods[0])??null)},[e==null?void 0:e.mfaMethods]);let y=$.useRef(!1);async function b(E){g(void 0);try{if(!E||!r)return;await a(r,E),l(!0),g(void 0),t()}catch(S){throw e6(S).error}}async function w(E){if(E!=="passkey")try{n(E),await i(E)}catch(S){console.error(S)}else try{n(E);let S=await i(E);if(!S)throw Error("something went wrong");h(S),await a(E,S),l(!0),g(void 0),t()}catch(S){g(e6(S))}}$.useEffect(()=>{!y.current&&r&&(y.current=!0,w(r).finally(()=>{y.current=!1}))},[]);let x=()=>{n(null),g(void 0),s(),t()};return e?r==="passkey"?p.jsx(yne,{account:e.linkedAccounts.filter(E=>E.type==="passkey"&&E.enrolledInMfa).sort((E,S)=>S.firstVerifiedAt.valueOf()-E.firstVerifiedAt.valueOf())[0],submitSuccess:o,hasBlockingError:(f==null?void 0:f.isBlocking)??!1,error:f==null?void 0:f.error,onClose:x,onBack:()=>{n(null),g(void 0)},handleSubmit:()=>b(u).catch(g)}):r?p.jsx(bne,{submitSuccess:o,hasBlockingError:(f==null?void 0:f.isBlocking)??!1,handleSubmitCode:b,selectedMethod:r,onClose:x,onBack:e.mfaMethods.length>1?()=>n(null):void 0}):p.jsx(mne,{user:e,onSelect:w,handleClose:x}):null},eb=Yg(()=>({inProgressMfaFlow:void 0})),SQe=t6e([":root{","};"],t=>kQe(t.palette)),kQe=t=>wi(["",""],Object.entries(function(e){return{"--privy-color-background":e.background,"--privy-color-background-2":e.background2,"--privy-color-background-3":e.background3,"--privy-color-foreground":e.foreground,"--privy-color-foreground-2":e.foreground2,"--privy-color-foreground-3":e.foreground3,"--privy-color-foreground-4":e.foreground4,"--privy-color-foreground-accent":e.foregroundAccent,"--privy-color-accent":e.accent,"--privy-color-accent-light":e.accentLight,"--privy-color-accent-hover":e.accentHover,"--privy-color-accent-dark":e.accentDark,"--privy-color-accent-darkest":e.accentDarkest,"--privy-color-success":e.success,"--privy-color-success-dark":e.successDark,"--privy-color-success-light":e.successLight,"--privy-color-success-bg":e.successBg,"--privy-color-error":e.error,"--privy-color-error-light":e.errorLight,"--privy-color-error-bg":e.errorBg,"--privy-color-error-bg-hover":e.errorBgHover,"--privy-color-warn":e.warn,"--privy-color-warn-light":e.warnLight,"--privy-color-warn-bg":e.warnBg,"--privy-color-warning-dark":e.warningDark,"--privy-color-error-dark":e.errorDark,"--privy-color-info-bg":e.infoBg,"--privy-color-info-bg-hover":e.infoBgHover,"--privy-color-border-default":e.borderDefault,"--privy-color-border-hover":e.borderHover,"--privy-color-border-focus":e.borderFocus,"--privy-color-border-error":e.borderError,"--privy-color-border-success":e.borderSuccess,"--privy-color-border-warning":e.borderWarning,"--privy-color-border-info":e.borderInfo,"--privy-color-border-interactive":e.borderInteractive,"--privy-color-border-interactive-hover":e.borderInteractiveHover,"--privy-color-background-hover":e.backgroundHover,"--privy-color-background-clicked":e.backgroundClicked,"--privy-color-background-disabled":e.backgroundDisabled,"--privy-color-background-interactive":e.backgroundInteractive,"--privy-color-background-interactive-hover":e.backgroundInteractiveHover,"--privy-color-background-interactive-clicked":e.backgroundInteractiveClicked,"--privy-color-background-interactive-disabled":e.backgroundInteractiveDisabled,"--privy-color-foreground-hover":e.foregroundHover,"--privy-color-foreground-clicked":e.foregroundClicked,"--privy-color-foreground-disabled":e.foregroundDisabled,"--privy-color-foreground-interactive":e.foregroundInteractive,"--privy-color-foreground-interactive-hover":e.foregroundInteractiveHover,"--privy-link-navigation-color":e.linkNavigationColor,"--privy-link-navigation-decoration":e.linkNavigationDecoration,"--privy-accent-has-good-contrast":e.accentHasGoodContrast,"--privy-color-icon-default":e.iconDefault,"--privy-color-icon-muted":e.iconMuted,"--privy-color-icon-subtle":e.iconSubtle,"--privy-color-icon-inverse":e.iconInverse,"--privy-color-icon-success":e.iconSuccess,"--privy-color-icon-warning":e.iconWarning,"--privy-color-icon-error":e.iconError,"--privy-color-icon-interactive":e.iconInteractive,"--privy-color-icon-default-hover":e.iconDefaultHover,"--privy-color-icon-muted-hover":e.iconMutedHover,"--privy-color-icon-subtle-hover":e.iconSubtleHover,"--privy-color-icon-default-clicked":e.iconDefaultClicked,"--privy-color-icon-muted-clicked":e.iconMutedClicked,"--privy-color-icon-subtle-clicked":e.iconSubtleClicked,"--privy-color-icon-default-disabled":e.iconDefaultDisabled,"--privy-color-icon-muted-disabled":e.iconMutedDisabled,"--privy-color-icon-subtle-disabled":e.iconSubtleDisabled,"--privy-color-icon-error-hover":e.iconErrorHover,"--privy-color-icon-interactive-hover":e.iconInteractiveHover,"--privy-color-icon-error-clicked":e.iconErrorClicked,"--privy-color-icon-interactive-clicked":e.iconInteractiveClicked,"--privy-color-icon-muted-disabled-alt":e.iconMutedDisabledAlt,"--privy-color-icon-subtle-disabled-alt":e.iconSubtleDisabledAlt,"--privy-border-radius-xs":"6px","--privy-border-radius-sm":"8px","--privy-border-radius-md":"12px","--privy-border-radius-mdlg":"16px","--privy-border-radius-lg":"24px","--privy-border-radius-full":"9999px","--privy-height-modal-full":"620px","--privy-height-modal-compact":"480px"}}(t)).map(([e,r])=>`${e}: ${r};`).join(`
`)),VW=te.div.withConfig({displayName:"StylesWrapper",componentId:"sc-188229e4-0"})([""," color:var(--privy-color-foreground-2);h3{font-size:16px;line-height:24px;font-weight:500;color:var(--privy-color-foreground-2);}h4{font-size:14px;line-height:20px;font-weight:500;color:var(--privy-color-foreground);}p{font-size:13px;line-height:20px;color:var(--privy-color-foreground-2);}button:focus,input:focus,optgroup:focus,select:focus,textarea:focus{outline:none;border-color:var(--privy-color-accent-light);box-shadow:0 0 0 3px var(--privy-color-border-focus);}.mobile-only{@media (min-width:441px){display:none;}}@keyframes fadein{0%{opacity:0;}100%{opacity:1;}}"],`
  *,
  ::before,
  ::after {
    box-sizing: border-box;
    border-width: 0;
    border-style: solid;
  }

  line-height: 1.15;
  -webkit-text-size-adjust: 100%;
  -moz-tab-size: 4;
  tab-size: 4;
  font-feature-settings: normal;

  margin: 0;
  font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';

  hr {
    height: 0;
    color: inherit;
    border-top-width: 1px;
  }

  abbr:where([title]) {
    text-decoration: underline dotted;
  }

  h1,
  h2,
  h3,
  h4,
  h5,
  h6 {
    font-size: inherit;
    font-weight: inherit;
    font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, sans-serif,
    'Apple Color Emoji', 'Segoe UI Emoji';
    display: inline;
  }

  a {
    color: inherit;
    text-decoration: inherit;
  }

  b,
  strong {
    font-weight: bolder;
  }

  code,
  kbd,
  samp,
  pre {
    font-family: ui-monospace, SFMono-Regular, Consolas, 'Liberation Mono', Menlo, monospace;
    font-size: 1em;
  }

  small {
    font-size: 80%;
  }

  sub,
  sup {
    font-size: 75%;
    line-height: 0;
    position: relative;
    vertical-align: baseline;
  }

  sub {
    bottom: -0.25em;
  }

  sup {
    top: -0.5em;
  }

  table {
    text-indent: 0;
    border-color: inherit;
    border-collapse: collapse;
  }

  button,
  input,
  optgroup,
  select,
  textarea {
    font-family: inherit;
    font-size: 100%;
    font-weight: inherit;
    line-height: inherit;
    color: inherit;
    margin: 0;
    padding: 0;
  }

  button,
  select {
    text-transform: none;
  }

  button,
  [type='button'],
  [type='reset'],
  [type='submit'] {
    -webkit-appearance: button;
    background-color: transparent;
    background-image: none;
  }

  ::-moz-focus-inner {
    border-style: none;
    padding: 0;
  }

  :-moz-focusring {
    outline: 1px dotted ButtonText;
  }

  :-moz-ui-invalid {
    box-shadow: none;
  }

  legend {
    padding: 0;
  }

  progress {
    vertical-align: baseline;
  }

  ::-webkit-inner-spin-button,
  ::-webkit-outer-spin-button {
    height: auto;
  }

  [type='search'] {
    -webkit-appearance: textfield;
    outline-offset: -2px;
  }

  ::-webkit-search-decoration {
    -webkit-appearance: none;
  }

  ::-webkit-file-upload-button {
    -webkit-appearance: button;
    font: inherit;
  }

  summary {
    display: list-item;
  }

  blockquote,
  dl,
  dd,
  h1,
  h2,
  h3,
  h4,
  h5,
  h6,
  hr,
  figure,
  p,
  pre {
    margin: 0;
  }

  fieldset {
    margin: 0;
    padding: 0;
  }

  legend {
    padding: 0;
  }

  ol,
  ul,
  menu {
    list-style: none;
    margin: 0;
    padding: 0;
  }

  textarea {
    resize: vertical;
  }

  input::placeholder,
  textarea::placeholder {
    opacity: 1;
    color: #9ca3af;
  }

  button,
  [role='button'] {
    cursor: pointer;
  }

  :disabled {
    cursor: default;
  }

  img,
  svg,
  video,
  canvas,
  audio,
  iframe,
  embed,
  object {
    display: block;
  }

  img,
  video {
    max-width: 100%;
    height: auto;
  }

  [hidden] {
    display: none;
  }
`),$Qe=({children:t,open:e,onClick:r,...n})=>p.jsx(MZ,{show:e,as:et.Fragment,children:p.jsxs(I9e,{onClose:r,...n,as:IQe,children:[p.jsx(U2,{as:et.Fragment,enterFrom:"entering",leaveTo:"leaving",children:p.jsx(TQe,{id:"privy-dialog-backdrop","aria-hidden":"true"})}),p.jsx(NQe,{children:p.jsx(U2,{as:et.Fragment,enterFrom:"entering",leaveTo:"leaving",children:p.jsx(RZ,{as:PQe,children:t})})})]})});let TQe=te.div.withConfig({displayName:"Backdrop",componentId:"sc-3cfde0b5-0"})(["position:fixed;inset:0;transition:backdrop-filter 100ms ease;backdrop-filter:blur(3px);-webkit-backdrop-filter:blur(3px);&.entering,&.leaving{backdrop-filter:unset;-webkit-backdrop-filter:unset;}"]),IQe=te.div.withConfig({displayName:"DialogWrapper",componentId:"sc-3cfde0b5-1"})(["position:relative;z-index:999999;"]),NQe=te.div.withConfig({displayName:"DialogContainer",componentId:"sc-3cfde0b5-2"})(["position:fixed;inset:0;display:flex;align-items:center;justify-content:center;width:100vw;min-height:100vh;"]);const PQe=te.div.withConfig({displayName:"Panel",componentId:"sc-3cfde0b5-3"})(["padding:0;background:transparent;border:none;width:100%;pointer-events:auto;outline:none;display:block;@media (max-width:440px){opacity:1;transform:translate3d(0,0,0);transition:transform 200ms ease-in;position:fixed;bottom:0;&.entering,&.leaving{opacity:0;transform:translate3d(0,100%,0);transition:transform 150ms ease-in 0ms,opacity 0ms ease 150ms;}}@media (min-width:441px){opacity:1;transition:opacity 100ms ease-in;&.entering,&.leaving{opacity:0;transition-delay:5ms;}margin:auto;width:360px;box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]),OQe=te.div.withConfig({displayName:"CenterItem",componentId:"sc-3cfde0b5-4"})(["display:flex;flex-direction:column;align-items:center;justify-content:center;height:100%;"]);let vne=()=>{let{ready:t,isModalOpen:e}=fr(),{headless:r}=Ar(),{currentScreen:n}=lt(),{status:i,execute:s,reset:a,enabled:o}=ca(),l=eb(f=>f.inProgressMfaFlow),u=()=>eb.setState({inProgressMfaFlow:void 0}),h=e&&n&&n.isCaptchaRequired&&!r&&i==="ready";return $.useEffect(()=>{h&&s()},[h]),$.useEffect(()=>{!e&&o&&a()},[e,o]),n&&!t&&n.isShownBeforeReady?p.jsxs(p.Fragment,{children:[p.jsx(ur,{}),p.jsx(xc,{}),p.jsx(OQe,{children:p.jsx(_o,{})}),p.jsx(El,{}),p.jsx(Gn,{})]}):n||l!=="txn"?n?p.jsxs(p.Fragment,{children:[p.jsx($g,{$if:!!l,children:p.jsx(n.component,{})}),l==="txn"&&p.jsx(HW,{onClose:u}),l==="auth"&&p.jsx(AQe.component,{})]}):null:p.jsx(HW,{onClose:u})},MQe=()=>{let t=$.useRef(null);return p.jsx(jQe,{style:{height:RZe(t)},id:"privy-modal-content",children:p.jsx("div",{ref:t,children:p.jsx(vne,{})})})};const RQe=({open:t})=>{let e=Ar(),{gracefulClosePrivyModal:r}=(()=>{let{closePrivyModal:i}=rt(),{onUserCloseViaDialogOrKeybindRef:s}=lt();return{gracefulClosePrivyModal:$.useCallback(()=>{if(!(s!=null&&s.current))return i({shouldCallAuthOnSuccess:!1});s.current()},[i])}})(),n=eb(i=>i.inProgressMfaFlow);return wQe({onMfaRequired:()=>{e.mfa.noPromptOnMfaRequired||eb.setState({inProgressMfaFlow:"txn"})}}),e.render.standalone?p.jsx(VW,{children:p.jsx(xne,{id:"privy-modal-content",children:p.jsx(vne,{})})}):p.jsx($Qe,{open:!(!t&&!n),id:"privy-dialog","aria-label":"log in or sign up","aria-labelledby":"privy-dialog-title",onClick:()=>r(),children:p.jsx(VW,{children:p.jsx(MQe,{})})})};let xne=te.div.withConfig({displayName:"ContentWrapper",componentId:"sc-b220e1ee-0"})(["display:flex;flex-direction:column;text-align:center;font-size:14px;line-height:20px;width:100%;background:var(--privy-color-background);padding:0 16px;"]),jQe=te(xne).withConfig({displayName:"BaseModal",componentId:"sc-b220e1ee-1"})(["transition:height 150ms ease-out;overflow-x:hidden;overflow-y:auto;scrollbar-width:none;max-height:calc(100svh - 32px);border-radius:var(--privy-border-radius-lg) var(--privy-border-radius-lg) 0 0;box-shadow:0px 0px 36px rgba(55,65,81,0.15);@media (min-width:441px){box-shadow:0px 8px 36px rgba(55,65,81,0.15);border-radius:var(--privy-border-radius-lg);}"]);function DQe(t){let e=$.useRef(null),r=$.useRef();return $.useEffect(()=>{var n,i;(n=r.current)==null||n.remove(),r.current=function({botUsername:s,scriptHost:a}){let o=document.createElement("script"),{origin:l}=new URL(a);return o.async=!0,o.src=`${l}/js/telegram-login.js`,o.setAttribute("data-telegram-login",s),o.setAttribute("data-request-access","write"),o.setAttribute("data-lang","en"),o}(t),(i=e.current)==null||i.after(r.current)},[t]),p.jsx("div",{ref:e,hidden:!0})}const UQe=()=>{let{ready:t}=Mu(),{client:e}=rt();return $.useEffect(()=>{var n;let r=()=>{if(!e.connectors||!t)return;let i=e.connectors.wallets.map(s=>({address:s.address,connectorType:s.connectorType,walletClientType:s.walletClientType,connectedAt:s.connectedAt,id:s.meta.id}));Pt.put(ree,i)};return(n=e.connectors)==null||n.on("walletsUpdated",r),()=>{var i;(i=e.connectors)==null||i.off("walletsUpdated",r)}},[t,e.connectors]),null};async function no(t,e,r,n,i,s=!1){var u,h,f;let a=s,o=async g=>{var y;if(a&&e&&e.length>0){g===(s?0:1)?i("configureMfa","onMfaRequired",{mfaMethods:e}):(y=n.current)==null||y.reject(new Sn("missing_or_invalid_mfa","MFA verification failed, retry."));let b=await new Promise((w,x)=>{r.current={resolve:w,reject:x},setTimeout(()=>{var S;let E=new Sn("mfa_timeout","Timed out waiting for MFA code");(S=n.current)==null||S.reject(E),x(E)},3e5)});return await t(b)}return await t()},l=null;for(let g=0;g<4;g++)try{l=await o(g),(u=n.current)==null||u.resolve(void 0);break}catch(y){if(y.type!=="missing_or_invalid_mfa")throw(h=n.current)==null||h.resolve(void 0),y;a=!0}if(l===null){let g=new Sn("mfa_verification_max_attempts_reached","Max MFA verification attempts reached");throw(f=n.current)==null||f.reject(g),g}return l}var GW;let BQe=(GW=0,()=>"id-"+GW++);function di(t){return t.error!==void 0}let Jn=new class{enqueue(t,e){this.callbacks[t]=e}dequeue(t,e){let r=this.callbacks[e];if(!r)throw Error(`cannot dequeue ${t} event: no event found for id ${e}`);switch(delete this.callbacks[e],t){case"privy:iframe:ready":case"privy:user-signer:sign":case"privy:wallets:add":case"privy:wallets:import":case"privy:wallets:set-recovery":case"privy:wallets:connect":case"privy:wallets:recover":case"privy:wallets:rpc":case"privy:wallet:create":case"privy:mfa:verify":case"privy:mfa:init-enrollment":case"privy:mfa:submit-enrollment":case"privy:mfa:unenroll":case"privy:mfa:clear":case"privy:auth:unlink-passkey":case"privy:farcaster:init-signer":case"privy:farcaster:sign":case"privy:solana-wallet:create":case"privy:delegated-actions:consent":return r;default:throw Error(`invalid wallet event type ${t}`)}}constructor(){this.callbacks={}}},L_=new Map,LQe=(t,e)=>typeof e=="bigint"?e.toString():e;function hi(t,e,r,n){let i=r.contentWindow;if(!i)throw Error("iframe not initialized");let s=((o,l)=>`${o}${JSON.stringify(l,LQe)}`)(t,e);if(t==="privy:wallet:create"){let o=L_.get(s);if(o)return o}let a=new Promise((o,l)=>{let u=BQe();Jn.enqueue(u,{resolve:o,reject:l}),i.postMessage({id:u,event:t,data:e},n)}).finally(()=>{L_.delete(s)});return L_.set(s,a),a}function FQe(t){let e=Pee(),r=$.useRef(null),n=$.useRef(t.mfaMethods),i=cp(),[s,a]=$.useState(!1);return $.useEffect(()=>{n.current=t.mfaMethods},[t.mfaMethods]),$.useEffect(()=>{if(!s)return;let o=r.current;if(!o)return;function l(f){var g;f&&f.origin===t.origin&&typeof(g=f.data).event=="string"&&/^privy:.+/.test(g.event)&&function(y){switch(y.event){case"privy:iframe:ready":let b=Jn.dequeue(y.event,y.id);return di(y)?b.reject(new Sn(y.error.type,y.error.message)):b.resolve(y.data);case"privy:user-signer:sign":{let _=Jn.dequeue(y.event,y.id);return di(y)?_.reject(new Sn(y.error.type,y.error.message)):_.resolve(y.data)}case"privy:wallets:add":{let _=Jn.dequeue(y.event,y.id);return di(y)?_.reject(new Sn(y.error.type,y.error.message)):_.resolve(y.data)}case"privy:wallets:set-recovery":{let _=Jn.dequeue(y.event,y.id);return di(y)?_.reject(new Sn(y.error.type,y.error.message)):_.resolve(y.data)}case"privy:wallets:connect":{let _=Jn.dequeue(y.event,y.id);return di(y)?_.reject(new Sn(y.error.type,y.error.message)):_.resolve(y.data)}case"privy:wallets:recover":{let _=Jn.dequeue(y.event,y.id);return di(y)?_.reject(new Sn(y.error.type,y.error.message)):_.resolve(y.data)}case"privy:wallets:rpc":{let _=Jn.dequeue(y.event,y.id);return di(y)?_.reject(new Sn(y.error.type,y.error.message)):_.resolve(y.data)}case"privy:wallet:create":let w=Jn.dequeue(y.event,y.id);return di(y)?w.reject(new Sn(y.error.type,y.error.message)):w.resolve(y.data);case"privy:wallets:import":let x=Jn.dequeue(y.event,y.id);return di(y)?x.reject(new Sn(y.error.type,y.error.message)):x.resolve(y.data);case"privy:mfa:verify":let E=Jn.dequeue(y.event,y.id);return di(y)?E.reject(new Sn(y.error.type,y.error.message)):E.resolve(y.data);case"privy:mfa:init-enrollment":{let _=Jn.dequeue(y.event,y.id);return di(y)?_.reject(new Sn(y.error.type,y.error.message)):_.resolve(y.data)}case"privy:mfa:submit-enrollment":{let _=Jn.dequeue(y.event,y.id);return di(y)?_.reject(new Sn(y.error.type,y.error.message)):_.resolve(y.data)}case"privy:mfa:unenroll":{let _=Jn.dequeue(y.event,y.id);return di(y)?_.reject(new Sn(y.error.type,y.error.message)):_.resolve(y.data)}case"privy:mfa:clear":{let _=Jn.dequeue(y.event,y.id);return di(y)?_.reject(new Sn(y.error.type,y.error.message)):_.resolve(y.data)}case"privy:auth:unlink-passkey":{let _=Jn.dequeue(y.event,y.id);return di(y)?_.reject(new Sn(y.error.type,y.error.message)):_.resolve(y.data)}case"privy:solana-wallet:create":let S=Jn.dequeue(y.event,y.id);return di(y)?S.reject(new Sn(y.error.type,y.error.message)):S.resolve(y.data);case"privy:farcaster:init-signer":{let _=Jn.dequeue(y.event,y.id);return di(y)?_.reject(new Sn(y.error.type,y.error.message)):_.resolve(y.data)}case"privy:farcaster:sign":{let _=Jn.dequeue(y.event,y.id);return di(y)?_.reject(new Sn(y.error.type,y.error.message)):_.resolve(y.data)}case"privy:delegated-actions:consent":{let _=Jn.dequeue(y.event,y.id);return di(y)?_.reject(new Sn(y.error.type,y.error.message)):_.resolve(y.data)}default:console.warn("Unsupported wallet proxy method:",y)}}(f.data)}let u={signWithUserSigner:f=>no(g=>hi("privy:user-signer:sign",{...f,...g},o,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i),addWallet:f=>no(g=>hi("privy:wallets:add",{...f,...g},o,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i),setRecovery:f=>no(g=>hi("privy:wallets:set-recovery",{...f,...g},o,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i),connect:f=>no(g=>hi("privy:wallets:connect",{...f,...g},o,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i),recover:f=>no(g=>hi("privy:wallets:recover",{...f,...g},o,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i,!f.recoveryAccessToken&&!f.recoveryPassword&&!f.recoverySecretOverride),rpc:f=>no(g=>hi("privy:wallets:rpc",{...f,...g},o,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i),create:f=>hi("privy:wallet:create",f,o,t.origin),importWallet:f=>hi("privy:wallets:import",f,o,t.origin),createSolana:f=>no(g=>hi("privy:solana-wallet:create",{...f,...g},o,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i),createDelegatedAction:f=>hi("privy:delegated-actions:consent",f,o,t.origin),verifyMfa:f=>no(g=>hi("privy:mfa:verify",{...f,...g},o,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i,!0),initEnrollMfa:f=>no(g=>hi("privy:mfa:init-enrollment",{...f,...g},o,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i),submitEnrollMfa:f=>no(g=>hi("privy:mfa:submit-enrollment",{...f,...g},o,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i),unenrollMfa:f=>no(g=>hi("privy:mfa:unenroll",{...f,...g},o,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i),clearMfa:f=>hi("privy:mfa:clear",f,o,t.origin),unlinkPasskeyAccount:f=>no(g=>hi("privy:auth:unlink-passkey",{...f,...g},o,t.origin),n.current,t.mfaPromise,t.mfaSubmitPromise,i),initFarcasterSigner:f=>hi("privy:farcaster:init-signer",f,o,t.origin),signFarcasterMessage:f=>hi("privy:farcaster:sign",f,o,t.origin)};window.addEventListener("message",l);let h=new AbortController;return CS(()=>hi("privy:iframe:ready",{},o,t.origin),{abortSignal:h.signal}).then(()=>t.onLoad(u),(...f)=>{console.warn("Privy iframe failed to load: ",...f),t.onLoadFailed()}),()=>{window.removeEventListener("message",l),h.abort()}},[s]),e?p.jsx("iframe",{ref:r,width:"0",height:"0",style:{display:"none",height:"0px",width:"0px"},onLoad:()=>a(!0),src:bee(t.origin,`/apps/${t.appId}/embedded-wallets`,{caid:t.clientAnalyticsId,client_id:t.appClientId})}):null}const zQe=({address:t,user:e})=>{let r=e.linkedAccounts.find(n=>n.type==="wallet"&&n.walletClientType==="privy"&&n.address===t);if(!r)throw new ue("Address to delegate is not associated with current user.");if(!Ng(r))throw new ue(`useDelegatedActions is not supported for ${r.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:r.address,chainType:r.chainType,walletIndex:r.walletIndex??0}},WQe=({address:t,user:e})=>{let r=e.linkedAccounts.find(i=>i.type==="wallet"&&i.walletClientType==="privy"&&i.address===t);if(!r)throw new ue("Address to delegate is not associated with current user.");let n=r.imported?r:yl(e);if(!n)throw new ue("Unable to determine root address for delegated address.");if(!Ng(n))throw new ue(`useDelegatedActions is not supported for ${n.chainType} wallets. Use the useSessionSigners hook to provision server side access on behalf of your users.`);return{address:n.address,chainType:n.chainType,imported:n.imported}},KW=t=>t.linkedAccounts.filter(e=>e.type==="wallet"&&e.walletClientType==="privy"&&e.delegated),qQe=()=>{let t=Ar();$.useEffect(()=>{(async e=>{let r=new URL("v3/wallets","https://explorer-api.walletconnect.com");r.searchParams.append("projectId",e);let n=await fetch(r);return n.ok?Object.values((await n.json()).listings).sort(({slug:i},{slug:s})=>i==="rainbow"&&s==="metamask"?1:i==="metamask"||i==="rainbow"?-1:1):(console.debug(`Failed to fetch WalletConnect listings: ${await n.text().catch(()=>"No response.")}`),[])})(t.walletConnectCloudProjectId).then(e=>aze({listings:e})).catch(console.error)},[t.walletConnectCloudProjectId])},YW="popup-privy-oauth",ZW="PRIVY_OAUTH_USE_BROADCAST_CHANNEL";class HQe{async authenticate(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(RK,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw br(e)}}async link(){if(!this.api)throw new ue("Auth flow has no API instance");try{return await this.api.post(jK,{authorization_code:this.meta.authorizationCode,state_code:this.meta.stateCode,code_verifier:this.meta.codeVerifier,provider:this.meta.provider})}catch(e){throw br(e)}}constructor({authorizationCode:e,stateCode:r,codeVerifier:n,provider:i}){this.meta={authorizationCode:e,stateCode:r,codeVerifier:n,provider:i}}}async function Ene({api:t,requesterAppId:e,providerAppId:r}){let n=(await t.get(`/api/v1/apps/${e}/cross-app/connections`)).connections.find(i=>i.provider_app_id===r);if(!n)throw new ue("Invalid connected app");return{name:n.provider_app_name,logoUrl:n.provider_app_icon_url||void 0,apiUrl:n.provider_app_custom_api_url,readOnly:n.read_only,customAuthAuthorizeUrl:n.provider_app_custom_auth_authorize_url,customAuthTransactUrl:n.provider_app_custom_auth_transact_url}}const Zv=async({user:t,address:e,client:r,request:n,requesterAppId:i,reconnect:s})=>{r.createAnalyticsEvent({eventName:"cross_app_request_started",payload:{address:e,method:n.method}});let a=t==null?void 0:t.linkedAccounts.find(f=>f.type==="cross_app"&&(f.embeddedWallets.some(g=>g.address===e)||f.smartWallets.some(g=>g.address===e)));if(!t||!a)throw r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Cannot request a signature with this wallet address",address:e}}),new ue("Cannot request a signature with this wallet address");let o=r.getProviderAccessToken(a.providerApp.id),l=await Ene({api:r.api,requesterAppId:i,providerAppId:a.providerApp.id});if(!o){if(l.readOnly)throw console.error("cannot transact against a read-only provider app"),new ue("Cannot transact against a read-only provider app");await s({appId:a.providerApp.id,action:"link"})&&(o=r.getProviderAccessToken(a.providerApp.id))}if(!o)throw r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Transactions require a valid token",address:e}}),new ue("Transactions require a valid token");let u=z4();if(!u)throw r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Missing token",address:e}}),new ue("Failed to initialize signature request");let h=new URL(l.customAuthTransactUrl||`${l.apiUrl}/oauth/transact`);return h.searchParams.set("token",o||""),h.searchParams.set("request",VQe(n)),u.location=h.href,new Promise((f,g)=>{let y=setTimeout(()=>{x(),g(new ue("Request timeout")),r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"Request timeout",address:e}})},12e4),b=setInterval(()=>{u.closed&&(x(),g(new ue("User rejected request")),r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:"User rejected request",address:e}}))},300),w=E=>{var S,_,I;E.data&&(((S=E.data.token)==null?void 0:S.action)==="set"&&((_=E.data.token)==null?void 0:_.value)!==void 0?r.storeProviderAccessToken(a.providerApp.id,E.data.token.value):((I=E.data.token)==null?void 0:I.action)==="clear"&&r.storeProviderAccessToken(a.providerApp.id,null),E.data.type==="PRIVY_CROSS_APP_ACTION_RESPONSE"&&E.data.result&&(x(),f(E.data.result),r.createAnalyticsEvent({eventName:"cross_app_request_success",payload:{address:e,method:n.method}})),E.data.type==="PRIVY_CROSS_APP_ACTION_ERROR"&&E.data.error&&(x(),g(E.data.error),r.createAnalyticsEvent({eventName:"cross_app_request_error",payload:{error:E.data.error,address:e}})))};window.addEventListener("message",w);let x=()=>{u.close(),clearInterval(b),clearTimeout(y),window.removeEventListener("message",w)}})};let VQe=t=>JSON.stringify({content:{request:{request:ak(t,qn)}},timestamp:Date.now(),callbackUrl:window.origin});const ak=(t,e)=>typeof t=="bigint"?e(t):Array.isArray(t)?t.map(r=>ak(r,e)):t&&typeof t=="object"?Object.fromEntries(Object.entries(t).map(([r,n])=>[r,ak(n,e)])):t,GQe=({passkeys:t,isLoading:e,errorReason:r,success:n,expanded:i,onLinkPasskey:s,onUnlinkPasskey:a,onExpand:o,onBack:l,onClose:u})=>p.jsx(wr,n?{title:"Passkeys updated",icon:Sb,iconVariant:"success",primaryCta:{label:"Done",onClick:u},onClose:u,watermark:!0}:i?{icon:v5,title:"Your passkeys",onBack:l,onClose:u,watermark:!0,children:p.jsx(QW,{passkeys:t,expanded:i,onUnlink:a,onExpand:o})}:{icon:v5,title:"Set up passkey verification",subtitle:"Verify with passkey",primaryCta:{label:"Add new passkey",onClick:s,loading:e},onClose:u,watermark:!0,helpText:r||void 0,children:t.length===0?p.jsx(YQe,{}):p.jsx(KQe,{children:p.jsx(QW,{passkeys:t,expanded:i,onUnlink:a,onExpand:o})})});let KQe=te.div.withConfig({displayName:"ContentContainer",componentId:"sc-d4c46a0c-0"})(["margin-bottom:12px;"]),QW=({passkeys:t,expanded:e,onUnlink:r,onExpand:n})=>{let[i,s]=$.useState([]),a=e?t.length:2,o=l=>l.authenticatorName?l.createdWithBrowser?`${l.authenticatorName} on ${l.createdWithBrowser}`:l.authenticatorName:l.createdWithBrowser?l.createdWithOs?`${l.createdWithBrowser} on ${l.createdWithOs}`:`${l.createdWithBrowser}`:"Unknown device";return p.jsxs("div",{children:[p.jsx(eXe,{children:"Your passkeys"}),p.jsxs(JQe,{children:[t.slice(0,a).map(l=>{var u;return p.jsxs(nXe,{children:[p.jsxs("div",{children:[p.jsx(tXe,{children:o(l)}),p.jsxs(rXe,{children:["Last used:"," ",((u=l.latestVerifiedAt??l.firstVerifiedAt)==null?void 0:u.toLocaleString())??"N/A"]})]}),p.jsx(sXe,{disabled:i.includes(l.credentialId),onClick:()=>(async h=>{s(f=>f.concat([h])),await r(h),s(f=>f.filter(g=>g!==h))})(l.credentialId),children:i.includes(l.credentialId)?p.jsx(ch,{}):p.jsx(pEe,{size:16})})]},l.credentialId)}),t.length>2&&!e&&p.jsx(XQe,{onClick:n,children:"View all"})]})]})},YQe=()=>p.jsxs(Gte,{style:{color:"var(--privy-color-foreground)"},children:[p.jsx(ig,{children:"Verify with Touch ID, Face ID, PIN, or hardware key"}),p.jsx(ig,{children:"Takes seconds to set up and use"}),p.jsx(ig,{children:"Use your passkey to verify transactions and login to your account"})]});const ZQe={component:()=>{let{user:t,unlinkPasskey:e}=fr(),{linkWithPasskey:r,closePrivyModal:n}=rt(),i=t==null?void 0:t.linkedAccounts.filter(y=>y.type==="passkey"),[s,a]=$.useState(!1),[o,l]=$.useState(""),[u,h]=$.useState(!1),[f,g]=$.useState(!1);return $.useEffect(()=>{i.length===0&&g(!1)},[i.length]),p.jsx(GQe,{passkeys:i,isLoading:s,errorReason:o,success:u,expanded:f,onLinkPasskey:()=>{a(!0),r().then(()=>h(!0)).catch(y=>{if(y instanceof fs){if(y.privyErrorCode===fe.CANNOT_LINK_MORE_OF_TYPE)return void l("Cannot link more passkeys to account.");if(y.privyErrorCode===fe.PASSKEY_NOT_ALLOWED)return void l("Passkey request timed out or rejected by user.")}l("Unknown error occurred.")}).finally(()=>{a(!1)})},onUnlinkPasskey:async y=>(a(!0),await e(y).then(()=>h(!0)).catch(b=>{b instanceof fs&&b.privyErrorCode===fe.MISSING_MFA_CREDENTIALS?l("Cannot unlink a passkey enrolled in MFA"):l("Unknown error occurred.")}).finally(()=>{a(!1)})),onExpand:()=>g(!0),onBack:()=>g(!1),onClose:()=>n()})}},_ne=te.div.withConfig({displayName:"DoubleIconWrapper",componentId:"sc-d4c46a0c-1"})(["display:flex;align-items:center;justify-content:center;width:180px;height:90px;border-radius:50%;svg + svg{margin-left:12px;}> svg{z-index:2;color:var(--privy-color-accent) !important;stroke:var(--privy-color-accent) !important;fill:var(--privy-color-accent) !important;}"]);let QQe=wi(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:6px 8px;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent) !important;:focus{outline:none;box-shadow:none;}}"]);const XQe=te.button.withConfig({displayName:"LinkButton",componentId:"sc-d4c46a0c-2"})(["",""],QQe);let JQe=te.div.withConfig({displayName:"List",componentId:"sc-d4c46a0c-3"})(["display:flex;flex-direction:column;align-items:stretch;gap:0.8rem;padding:0.5rem 0rem 0rem;flex-grow:1;width:100%;"]),eXe=te.div.withConfig({displayName:"PasskeyListTitle",componentId:"sc-d4c46a0c-4"})(["line-height:20px;height:20px;font-size:1em;font-weight:450;display:flex;justify-content:flex-beginning;width:100%;"]),tXe=te.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-d4c46a0c-5"})(["font-size:1em;line-height:1.3em;font-weight:500;color:var(--privy-color-foreground-2);padding:0.2em 0;"]),rXe=te.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-d4c46a0c-6"})(["font-size:0.875rem;line-height:1rem;color:#64668b;padding:0.2em 0;"]),nXe=te.div.withConfig({displayName:"PasskeyListItem",componentId:"sc-d4c46a0c-7"})(["display:flex;align-items:center;justify-content:space-between;padding:1em;gap:10px;font-size:0.875rem;line-height:1rem;text-align:left;border-radius:8px;border:1px solid #e2e3f0 !important;width:100%;height:5em;"]),iXe=wi([":focus,:hover,:active{outline:none;}display:flex;width:2em;height:2em;justify-content:center;align-items:center;svg{color:var(--privy-color-error);}svg:hover{color:var(--privy-color-foreground-3);}"]),sXe=te.button.withConfig({displayName:"PasskeyItemUnlinkButton",componentId:"sc-d4c46a0c-8"})(["",""],iXe);const F_=new Map([[al,null],[Vb,"external"],[fre,"external"],[Ere,"external"],[pre,"external"],[K5,"manual"],[gre,"moonpay"]]),aXe=()=>{let t=Ar(),{user:e}=fr(),{client:r,refreshSessionAndUser:n,walletProxy:i}=rt();return{migrate:$.useCallback(async()=>{if(t.embeddedWallets.mode==="legacy-embedded-wallets-only")return{success:!0};if(!e)throw new ue("User must be authenticated before migrating wallets",fe.MUST_BE_AUTHENTICATED);let s=yl(e);if(!s||Fs(s)||!Ng(s))return{success:!0};if(!i)throw new ue("Cannot connect to wallet proxy");let a=await r.getAccessToken();if(!a)throw new ue("User must be authenticated before migrating wallets",fe.MUST_BE_AUTHENTICATED);let o=s.imported?[s]:e.linkedAccounts.filter(h=>h.type==="wallet"&&h.walletClientType==="privy"&&!h.imported).filter(Ng),{entropyId:l,entropyIdVerifier:u}=ho(e,s);try{await i.connect({accessToken:a,entropyId:l,entropyIdVerifier:u})}catch(h){if(!Y2(h)||s.recoveryMethod!=="privy")throw h;await i.recover({accessToken:a,entropyId:l,entropyIdVerifier:u})}return await i.createDelegatedAction({accessToken:a,rootWallet:{address:s.address,chainType:s.chainType,imported:s.imported},delegatedWallets:o}),await n(),{success:!0}},[t.embeddedWallets.mode,e,i,r,n])}},oXe=({disabled:t})=>{let{migrate:e}=aXe(),{user:r}=fr(),{walletProxy:n}=rt();return $.useEffect(()=>{!t&&r&&n&&e().catch(i=>{console.debug("Unable to migrate wallets: ",i)})},[r,n,t,e]),null},lXe=t=>({id:t.id,raw_id:t.rawId,response:{client_data_json:t.response.clientDataJSON,authenticator_data:t.response.authenticatorData,signature:t.response.signature,user_handle:t.response.userHandle},authenticator_attachment:t.authenticatorAttachment,client_extension_results:{app_id:t.clientExtensionResults.appid,cred_props:t.clientExtensionResults.credProps,hmac_create_secret:t.clientExtensionResults.hmacCreateSecret},type:t.type}),cXe=({providerApp:t,success:e,error:r,onClose:n})=>{let{title:i,subtitle:s}=$.useMemo(()=>e?{title:`Successfully connected with ${t.name}`,subtitle:"You're good to go!"}:r?{title:"Authentication failed",subtitle:r.message}:{title:`Connecting to ${t.name}`,subtitle:`Please check the pop-up from ${t.name} to continue`},[e,r,t.name]);return p.jsx(wr,{title:i,subtitle:s,icon:t.logoUrl,iconVariant:"loading",iconLoadingStatus:{success:e,fail:!!r},onBack:n,watermark:!0})},uXe={component:()=>{let t=Ar(),{data:e,navigate:r,setModalData:n,onUserCloseViaDialogOrKeybindRef:i}=lt(),{crossAppAuthFlow:s,updateWallets:a,closePrivyModal:o,createAnalyticsEvent:l}=rt(),{logout:u}=jZe(),[h,f]=$.useState({}),g=e==null?void 0:e.crossAppAuth,y={id:g.appId,name:g.name,logoUrl:g.logoUrl},b=new ue(`There was an issue connecting your ${y.name} account. Please try again.`),w=new As(async E=>{var S,_,I,A,O,F,H,L,z,V,K,B,C,k,N;if(g.popup)try{let D=await s({appId:E,popup:g.popup,action:g.action});f({data:D})}catch(D){if(D instanceof ue)f({error:D});else if(D instanceof Sa){if(D.privyErrorCode===fe.ACCOUNT_TRANSFER_REQUIRED&&((_=(S=D.data)==null?void 0:S.data)!=null&&_.nonce))return n({accountTransfer:{nonce:(A=(I=D.data)==null?void 0:I.data)==null?void 0:A.nonce,account:(F=(O=D.data)==null?void 0:O.data)==null?void 0:F.subject,displayName:(z=(L=(H=D.data)==null?void 0:H.data)==null?void 0:L.account)==null?void 0:z.displayName,linkMethod:`privy:${y.id}`,embeddedWalletAddress:(B=(K=(V=D.data)==null?void 0:V.data)==null?void 0:K.otherUser)==null?void 0:B.embeddedWalletAddress,oAuthUserInfo:(N=(k=(C=D.data)==null?void 0:C.data)==null?void 0:k.otherUser)==null?void 0:N.oAuthUserInfo}}),void r(up);g.popup&&g.popup.close(),f({error:b})}else f({error:b})}else f({error:b})}),x=()=>{h.data&&(a(),g.onSuccess(h.data),o({shouldCallAuthOnSuccess:!0,isSuccess:!0})),g.onError(h.error??new ue("User canceled flow")),o({shouldCallAuthOnSuccess:!1,isSuccess:!1})};return i.current=x,$.useEffect(()=>{y.id.length&&w.execute(y.id)},[y.id]),$.useEffect(()=>{if(!h.data)return;let E=h.data;if(t.legal.requireUsersAcceptTerms&&!E.hasAcceptedTerms){let _=setTimeout(()=>{r(dp)},yn);return()=>clearTimeout(_)}if(dh(E,t.embeddedWallets)){let _=setTimeout(()=>{n({createWallet:{onSuccess:()=>{},onFailure:I=>{console.error(I),l({eventName:"embedded_wallet_creation_failure_logout",payload:{error:I,provider:`privy:${y.id}`,screen:"CrossAppAuthScreen"}}),u()},callAuthOnSuccessOnClose:!0}}),r(Ru)},yn);return()=>clearTimeout(_)}let S=setTimeout(x,yn);return()=>clearTimeout(S)},[h.data]),p.jsx(cXe,{providerApp:y,success:!!h.data,error:h.error,onClose:x})}},dXe=({appName:t,address:e,success:r,error:n,onAccept:i,onDecline:s,onClose:a})=>p.jsx(wr,r||n?{title:n?"Something went wrong":"Success!",subtitle:n?"Please try again.":`You've successfully granted delegated action permissions to ${t}.`,icon:n?ZZ:Sb,iconVariant:n?"error":"success",onBack:a,watermark:!0}:{title:"Enable offline access",subtitle:`By confirming, ${t} will be able to use your wallet for you even when you're not around. You can revoke this later.`,icon:uEe,primaryCta:{label:"Accept",onClick:i},secondaryCta:{label:"Not now",onClick:s},onBack:a,watermark:!0,children:p.jsx(rx,{address:e,title:"Wallet"})}),hXe={component:()=>{let{app:t,data:e}=lt(),{closePrivyModal:r}=rt(),[n,i]=$.useState(!1),[s,a]=$.useState(),{address:o,onDelegate:l,onSuccess:u,onError:h}=e.delegatedActions.consent,f=async()=>{n?u():h(s??new ue("User declined delegating actions.")),r({shouldCallAuthOnSuccess:!1})};return $.useEffect(()=>{if(!n&&!s)return;let g=setTimeout(f,eee);return()=>clearTimeout(g)},[n,s]),p.jsx(dXe,{appName:t.name,address:o,success:n,error:s,onAccept:async()=>{try{await l(),i(!0)}catch(g){a(g)}},onDecline:()=>{f()},onClose:f})}},fXe=({appName:t,success:e,error:r,onRevoke:n,onDeny:i,onClose:s})=>p.jsx(wr,e||r?{title:r?"Something went wrong":"Success!",subtitle:r?"Please try again.":"You've successfully revoked permissions.",icon:r?ZZ:Sb,iconVariant:r?"error":"success",onBack:s,watermark:!0}:{title:"Revoke offline access to wallet",subtitle:`By confirming, ${t} will no longer be able to use this wallet on your behalf when you are not online.`,icon:oEe,primaryCta:{label:"Confirm",onClick:n},secondaryCta:{label:"Deny",onClick:i},onBack:s,watermark:!0}),pXe={component:()=>{let{app:t,data:e}=lt(),{closePrivyModal:r}=rt(),[n,i]=$.useState(!1),[s,a]=$.useState(),{onRevoke:o,onSuccess:l,onError:u}=e.delegatedActions.revoke,h=async()=>{n?l():u(s??new ue("User declined revoking access to their delegated wallet.")),r({shouldCallAuthOnSuccess:!1})};return $.useEffect(()=>{if(!n&&!s)return;let f=setTimeout(h,eee);return()=>clearTimeout(f)},[n,s]),p.jsx(fXe,{appName:t.name,success:n,error:s,onRevoke:async()=>{try{await o(),i(!0)}catch(f){a(f)}},onDeny:()=>{h()},onClose:h})}};let XW="#8a63d2";const gXe=({appName:t,loading:e,success:r,errorMessage:n,connectUri:i,onBack:s,onClose:a,onOpenFarcaster:o})=>p.jsx(wr,Tr.isMobile||e?Tr.isIOS?{title:n?n.message:"Add a signer to Farcaster",subtitle:n?n.detail:`This will allow ${t} to add casts, likes, follows, and more on your behalf.`,icon:wf,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!n},primaryCta:i&&o?{label:"Open Farcaster app",onClick:o}:void 0,onBack:s,onClose:a,watermark:!0}:{title:n?n.message:"Requesting signer from Farcaster",subtitle:n?n.detail:"This should only take a moment",icon:wf,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!n},onBack:s,onClose:a,watermark:!0,children:i&&Tr.isMobile&&p.jsx(mXe,{children:p.jsx(Ote,{text:"Take me to Farcaster",url:i,color:XW})})}:{title:"Add a signer to Farcaster",subtitle:`This will allow ${t} to add casts, likes, follows, and more on your behalf.`,onBack:s,onClose:a,watermark:!0,children:p.jsxs(yXe,{children:[p.jsx(bXe,{children:i?p.jsx(qb,{url:i,size:275,squareLogoElement:wf}):p.jsx(xXe,{children:p.jsx(_o,{})})}),p.jsxs(wXe,{children:[p.jsx(vXe,{children:"Or copy this link and paste it into a phone browser to open the Farcaster app."}),i&&p.jsx(pI,{text:i,itemName:"link",color:XW})]})]})});let mXe=te.div.withConfig({displayName:"MobileLinkContainer",componentId:"sc-da518e1f-0"})(["margin-top:24px;"]),yXe=te.div.withConfig({displayName:"ContentContainer",componentId:"sc-da518e1f-1"})(["display:flex;flex-direction:column;align-items:center;gap:24px;"]),bXe=te.div.withConfig({displayName:"QrContainer",componentId:"sc-da518e1f-2"})(["padding:24px;position:relative;display:flex;align-items:center;justify-content:center;min-height:275px;"]),wXe=te.div.withConfig({displayName:"InstructionsContainer",componentId:"sc-da518e1f-3"})(["display:flex;flex-direction:column;align-items:center;gap:16px;"]),vXe=te.div.withConfig({displayName:"InstructionText",componentId:"sc-da518e1f-4"})(["font-size:0.875rem;text-align:center;color:var(--privy-color-foreground-2);"]),xXe=te.div.withConfig({displayName:"LoaderWrapper",componentId:"sc-da518e1f-5"})(["position:relative;width:82px;height:82px;"]);const EXe={component:()=>{let{lastScreen:t,navigateBack:e,data:r,app:n}=lt(),{requestFarcasterSignerStatus:i,closePrivyModal:s}=rt(),[a,o]=$.useState(void 0),[l,u]=$.useState(!1),[h,f]=$.useState(!1),g=$.useRef([]),y=r==null?void 0:r.farcasterSigner;$.useEffect(()=>{let w=Date.now(),x=setInterval(async()=>{if(!(y!=null&&y.public_key))return clearInterval(x),void o({retryable:!0,message:"Connect failed",detail:"Something went wrong. Please try again."});y.status==="approved"&&(clearInterval(x),u(!1),f(!0),g.current.push(setTimeout(()=>s({shouldCallAuthOnSuccess:!1,isSuccess:!0}),yn)));let E=await i(y==null?void 0:y.public_key),S=Date.now()-w;E.status==="approved"?(clearInterval(x),u(!1),f(!0),g.current.push(setTimeout(()=>s({shouldCallAuthOnSuccess:!1,isSuccess:!0}),yn))):S>3e5?(clearInterval(x),o({retryable:!0,message:"Connect failed",detail:"The request timed out. Try again."})):E.status==="revoked"&&(clearInterval(x),o({retryable:!0,message:"Request rejected",detail:"The request was rejected. Please try again."}))},2e3);return()=>{clearInterval(x),g.current.forEach(E=>clearTimeout(E))}},[]);let b=(y==null?void 0:y.status)==="pending_approval"?y.signer_approval_url:void 0;return p.jsx(gXe,{appName:n.name,loading:l,success:h,errorMessage:a,connectUri:b,onBack:t?e:void 0,onClose:s,onOpenFarcaster:()=>{b&&(window.location.href=b)}})}},_Xe=({onClose:t})=>p.jsx(wr,{title:"Could not log in with provider",subtitle:"It looks like you're using an in-app browser. To log in, please try again using an external browser.",icon:_A,primaryCta:{label:"Close",onClick:t},watermark:!0}),JW={component:()=>{let{closePrivyModal:t}=rt();return p.jsx(_Xe,{onClose:()=>t()})}},CXe=({title:t="Connect your email",subtitle:e="Add your email to your account"})=>p.jsx(wr,{title:t,subtitle:e,icon:h4,watermark:!0,children:p.jsx(qee,{children:p.jsx(qte,{stacked:!0})})}),AXe={component:()=>{let{app:t}=lt();return p.jsx(CXe,{subtitle:`Add your email to your ${t==null?void 0:t.name} account`})}},SXe=({title:t="Connect your phone",subtitle:e="Add your number to your account",onSubmit:r,isSubmitting:n=!1})=>{let[i,s]=$.useState(null),a=async()=>{i!=null&&i.qualifiedPhoneNumber&&await r(i)};return p.jsx(wr,{title:t,subtitle:e,icon:eh,primaryCta:{label:n?"Submitting":"Submit",onClick:a,disabled:!(i!=null&&i.isValid)||n},watermark:!0,children:p.jsx(ex,{onChange:o=>{s(o)},onSubmit:a,noIncludeSubmitButton:!0,hideRecent:!0})})},II={component:()=>{let{app:t,currentScreen:e,data:r,navigate:n,setModalData:i}=lt(),{initLoginWithSms:s}=rt(),[a,o]=$.useState(!1);return p.jsx(SXe,{subtitle:`Add your number to your ${t==null?void 0:t.name} account`,onSubmit:async l=>{var u;o(!0);try{await s({phoneNumber:l.qualifiedPhoneNumber,withPrivyUi:!0}),n(Nu)}catch(h){i({errorModalData:{error:h,previousScreen:((u=r==null?void 0:r.errorModalData)==null?void 0:u.previousScreen)||e||II}}),n(_n)}finally{o(!1)}},isSubmitting:a})}},kXe=({title:t="Could not connect with wallet",subtitle:e="Please check that Phantom multichain is enabled and try again.",primaryCtaText:r="Try again",secondaryCtaText:n="Cancel",onTryAgain:i,onCancel:s})=>p.jsx(wr,{title:t,subtitle:e,icon:f4,iconVariant:"error",primaryCta:{label:r,onClick:i},secondaryCta:{label:n,onClick:s},watermark:!0}),$Xe={component:()=>{let{closePrivyModal:t}=rt(),{navigate:e}=lt();return p.jsx(kXe,{onTryAgain:()=>{e(ps)},onCancel:async()=>{await t()}})}};function Cne(){let{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:r,submitEnrollmentWithSms:n,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenroll:a,enrollInMfa:o}=$.useContext(Kg);return{initEnrollmentWithSms:t,initEnrollmentWithTotp:e,initEnrollmentWithPasskey:r,submitEnrollmentWithSms:n,submitEnrollmentWithTotp:i,submitEnrollmentWithPasskey:s,unenrollWithSms:()=>a("sms"),unenrollWithTotp:()=>a("totp"),unenrollWithPasskey:l=>a("passkey",l),showMfaEnrollmentModal:()=>o(!0),closeMfaEnrollmentModal:()=>o(!1)}}const TXe=t=>p.jsxs(IXe,{xmlns:"http://www.w3.org/2000/svg",fill:"none",width:"88",height:"89",viewBox:"0 0 88 89",...t,children:[p.jsx("rect",{y:"0.666016",width:"88",height:"88",rx:"44"}),p.jsx("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M45.2463 20.9106C44.5473 20.2486 43.4527 20.2486 42.7537 20.9106C37.8798 25.5263 31.3034 28.3546 24.0625 28.3546C23.9473 28.3546 23.8323 28.3539 23.7174 28.3525C22.9263 28.3427 22.2202 28.8471 21.9731 29.5987C20.9761 32.6311 20.4375 35.8693 20.4375 39.2297C20.4375 53.5896 30.259 65.651 43.5482 69.0714C43.8446 69.1477 44.1554 69.1477 44.4518 69.0714C57.741 65.651 67.5625 53.5896 67.5625 39.2297C67.5625 35.8693 67.0239 32.6311 66.0269 29.5987C65.7798 28.8471 65.0737 28.3427 64.2826 28.3525C64.1677 28.3539 64.0527 28.3546 63.9375 28.3546C56.6966 28.3546 50.1202 25.5263 45.2463 20.9106ZM52.7249 40.2829C53.3067 39.4683 53.1181 38.3363 52.3035 37.7545C51.4889 37.1726 50.3569 37.3613 49.7751 38.1759L41.9562 49.1223L38.0316 45.1977C37.3238 44.4899 36.1762 44.4899 35.4684 45.1977C34.7605 45.9056 34.7605 47.0532 35.4684 47.761L40.9059 53.1985C41.2826 53.5752 41.806 53.7671 42.337 53.7232C42.868 53.6792 43.3527 53.4039 43.6624 52.9704L52.7249 40.2829Z"})]});let IXe=te.svg.withConfig({displayName:"StyledSvg",componentId:"sc-59fa943f-0"})(["height:90px;width:90px;> rect{","}> path{fill:white;}"],t=>t.color==="success"?"fill: var(--privy-color-success);":"fill: var(--privy-color-accent);");const NXe=({showIntro:t,userMfaMethods:e,appMfaMethods:r,userHasAuthSms:n,isTotpLoading:i,isPasskeyLoading:s,error:a,onClose:o,onBackToIntro:l,handleSelectMethod:u,setRemovingMfaMethod:h})=>{let f=e.reduce((y,b)=>({...y,[b]:!0}),{}),g=r.reduce((y,b)=>({...y,[b]:!0}),{});return p.jsxs(p.Fragment,{children:[p.jsx(ur,{backFn:t?l:void 0,onClose:o},"header"),p.jsx(go,{style:{marginBottom:"1.5rem"},children:p.jsx(Mf,{})}),p.jsx(Ks,{children:"Choose a verification method"}),e.length>0?p.jsx(po,{children:"To add or delete verification methods, verification is required."}):p.jsx(po,{children:"How would you like to verify your identity?"}),a&&p.jsx(gne,{style:{marginTop:"1.25rem"},children:a.message}),p.jsxs(fne,{children:[(g.passkey||f.passkey)&&p.jsxs(j_,{children:[p.jsx(En,{style:{justifyContent:"center"},onClick:()=>u("passkey"),disabled:f.passkey||s,children:s?p.jsx(_o,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):p.jsxs(B_,{children:[p.jsxs(U_,{children:[p.jsx(Z$,{}),"Passkey"]}),f.passkey?p.jsx(z_,{color:"green",children:"Enabled"}):p.jsx(WW,{$isAccent:!0,children:p.jsx(_7e,{})})]})}),f.passkey&&p.jsx(D_,{style:{position:"absolute",right:0},onClick:()=>h("passkey"),children:p.jsx(F7,{})})]},"passkey"),(g.totp||f.totp)&&p.jsxs(j_,{children:[p.jsx(En,{style:{justifyContent:"center"},disabled:f.totp||i,onClick:()=>u("totp"),children:i?p.jsx(_o,{style:{height:24,width:24,borderWidth:2},color:"var(--privy-color-foreground-3)"}):p.jsxs(B_,{children:[p.jsxs(U_,{children:[p.jsx(d4,{}),"Authenticator app"]}),f.totp&&p.jsx(z_,{color:"green",children:"Enabled"})]})}),f.totp&&p.jsx(D_,{style:{position:"absolute",right:0},onClick:()=>h("totp"),children:p.jsx(F7,{})})]},"totp"),(g.sms||f.sms)&&p.jsxs(j_,{children:[p.jsx(En,{disabled:f.sms||n,onClick:()=>u("sms"),children:p.jsxs(B_,{children:[p.jsxs(U_,{children:[p.jsx(eh,{}),"SMS"]}),f.sms&&p.jsx(z_,{color:"green",children:"Enabled"}),n&&p.jsx(WW,{children:"Disabled"})]})}),f.sms&&p.jsx(D_,{style:{position:"absolute",right:0},onClick:()=>h("sms"),children:p.jsx(F7,{})})]},"sms")]}),p.jsx(PXe,{children:"You can always change your selection later"}),p.jsx(Gn,{})]})};let z_=te(pc).withConfig({displayName:"StyledChip",componentId:"sc-24f8b314-0"})(["margin-right:1.5rem;"]),PXe=te(pne).withConfig({displayName:"StyledTerms",componentId:"sc-24f8b314-1"})(["&&{margin-top:1rem;}text-align:center;"]);const Ane=({style:t,...e})=>p.jsxs("svg",{x:0,y:0,width:"65",height:"64",viewBox:"0 0 65 64",style:{height:"64px",width:"65px",...t},xmlns:"http://www.w3.org/2000/svg",...e,children:[p.jsxs("g",{clipPath:"url(#clip0_113_33841)",children:[p.jsx("path",{d:"M39.1193 0.943398C34.636 -0.174912 29.9185 -0.334713 25.328 0.656273C24.9732 0.732859 24.7477 1.08253 24.8243 1.43729C24.9009 1.79205 25.2506 2.01756 25.6053 1.94097C30.0015 0.991934 34.53 1.14842 38.8375 2.22802C49.1385 4.80983 57.7129 12.5548 60.9786 22.6718C62.2416 26.5843 62.7781 30.7505 62.8855 35.1167C62.8945 35.4795 63.1958 35.7664 63.5586 35.7575C63.9215 35.7485 64.2083 35.4472 64.1994 35.0843C64.0905 30.6582 63.5477 26.3849 62.2536 22.3432C58.8621 11.7515 49.9005 3.63265 39.1193 0.943398Z"}),p.jsx("path",{d:"M21.9931 2.93163C22.343 2.83511 22.5484 2.47325 22.4518 2.12339C22.3553 1.77352 21.9935 1.56815 21.6436 1.66466C16.8429 2.98903 10.0898 7.56519 5.91628 13.6786C5.91465 13.681 5.91304 13.6834 5.91145 13.6858C2.24684 19.2083 -0.0503572 26.1484 0.591012 32.8828C0.591623 32.8892 0.592328 32.8956 0.593127 32.902C0.746837 34.1317 1.00488 35.3591 1.26323 36.5879C1.80735 39.1761 2.35282 41.7706 1.92765 44.4064C1.86986 44.7647 2.11347 45.102 2.47177 45.1598C2.83007 45.2176 3.16738 44.974 3.22518 44.6157C3.66961 41.8605 3.11776 39.173 2.56581 36.4851C2.31054 35.2419 2.05525 33.9987 1.89847 32.7486C1.29525 26.3851 3.46802 19.7466 7.00418 14.416C11.0189 8.5373 17.5201 4.16562 21.9931 2.93163Z"}),p.jsx("path",{d:"M30.6166 4.39985C38.8671 3.89603 47.1159 7.26314 52.6556 13.7139C52.8921 13.9893 52.8605 14.4042 52.5852 14.6406C52.3099 14.8771 51.895 14.8455 51.6585 14.5702C46.3904 8.43576 38.541 5.23144 30.6927 5.71195C30.6899 5.71212 30.6871 5.71227 30.6843 5.71241C20.7592 6.19265 11.4643 12.9257 8.04547 22.3603C7.92183 22.7016 7.54498 22.8779 7.20375 22.7543C6.86253 22.6306 6.68616 22.2538 6.80981 21.9126C10.4114 11.9735 20.1717 4.90702 30.6166 4.39985Z"}),p.jsx("path",{d:"M54.6576 16.5848C54.4553 16.2836 54.047 16.2033 53.7457 16.4057C53.4444 16.608 53.3642 17.0163 53.5665 17.3176C56.6376 21.8904 57.9074 26.8665 58.4094 32.7717C58.4401 33.1333 58.7582 33.4016 59.1199 33.3708C59.4815 33.3401 59.7497 33.022 59.719 32.6604C59.206 26.6261 57.8965 21.4076 54.6576 16.5848Z"}),p.jsx("path",{d:"M59.2796 35.4504C59.6419 35.4277 59.9539 35.703 59.9765 36.0653C60.2242 40.0279 60.2265 44.5112 59.7881 47.8243C59.7405 48.1841 59.4102 48.4372 59.0504 48.3896C58.6906 48.342 58.4376 48.0117 58.4852 47.6519C58.9077 44.4586 58.91 40.0704 58.6648 36.1473C58.6421 35.785 58.9174 35.473 59.2796 35.4504Z"}),p.jsx("path",{d:"M7.05311 25.5432C7.13829 25.1904 6.92135 24.8354 6.56855 24.7502C6.21576 24.665 5.86071 24.882 5.77553 25.2348C5.2932 27.2325 5.0428 29.2847 5.03288 31.3388C5.02266 33.4559 5.41742 35.5225 5.81234 37.5899C6.1354 39.2811 6.45855 40.9728 6.5602 42.6932C6.69373 44.9531 6.21839 47.2163 5.39698 49.3703C5.26766 49.7094 5.43774 50.0891 5.77685 50.2184C6.11596 50.3477 6.4957 50.1777 6.62502 49.8386C7.49325 47.5617 8.01954 45.1092 7.87221 42.6157C7.77126 40.9071 7.44813 39.2252 7.12512 37.5439C6.73099 35.4925 6.33704 33.442 6.34716 31.3451C6.35659 29.3933 6.59455 27.4425 7.05311 25.5432Z"}),p.jsx("path",{d:"M24.2964 10.94C24.4317 11.2768 24.2683 11.6595 23.9315 11.7947C17.1187 14.5307 12.0027 20.7047 10.959 27.9852C10.523 31.0269 10.9941 34.0398 11.465 37.052C11.7303 38.7483 11.9954 40.4443 12.0985 42.1451C12.3221 45.833 11.902 49.8839 9.50192 53.5696C9.30387 53.8737 8.89677 53.9597 8.59264 53.7617C8.28851 53.5636 8.20251 53.1565 8.40056 52.8524C10.5873 49.4944 11.0012 45.7644 10.7867 42.2246C10.6821 40.499 10.4185 38.7833 10.1552 37.0686C9.68265 33.9923 9.21067 30.9195 9.65804 27.7987C10.7724 20.025 16.221 13.4748 23.4417 10.5751C23.7785 10.4399 24.1612 10.6032 24.2964 10.94Z"}),p.jsx("path",{d:"M47.3662 14.6814C41.9915 9.64741 34.2017 7.89046 27.122 9.4433C26.7675 9.52105 26.5432 9.87147 26.6209 10.226C26.6987 10.5805 27.0491 10.8048 27.4036 10.7271C34.1075 9.25665 41.4426 10.934 46.4677 15.6406C50.7033 19.6077 53.1628 25.38 53.8066 31.6779C53.8435 32.0389 54.1661 32.3017 54.5272 32.2648C54.8883 32.2279 55.151 31.9053 55.1141 31.5442C54.4456 25.0047 51.8822 18.9111 47.3662 14.6814Z"}),p.jsx("path",{d:"M54.9766 34.6738C55.3376 34.6368 55.6604 34.8994 55.6975 35.2604C56.3216 41.337 56.0526 47.9003 55.1104 54.2496C55.0571 54.6086 54.7229 54.8565 54.3639 54.8032C54.0049 54.7499 53.7571 54.4157 53.8103 54.0567C54.7394 47.7957 55.001 41.3439 54.39 35.3947C54.353 35.0336 54.6156 34.7109 54.9766 34.6738Z"}),p.jsx("path",{d:"M32.0659 13.3553C21.9959 13.3553 13.814 21.3892 13.814 31.3219C13.814 32.3829 13.9081 33.4225 14.0876 34.4334C14.1511 34.7907 14.4922 35.029 14.8495 34.9655C15.2069 34.9021 15.4451 34.561 15.3817 34.2036C15.2155 33.2677 15.1283 32.305 15.1283 31.3219C15.1283 22.1352 22.7014 14.6696 32.0659 14.6696C36.2978 14.6696 40.1642 16.1949 43.1319 18.7152C43.4086 18.9501 43.8233 18.9163 44.0582 18.6396C44.2931 18.363 44.2593 17.9483 43.9827 17.7134C40.7847 14.9975 36.6188 13.3553 32.0659 13.3553Z"}),p.jsx("path",{d:"M45.455 20.1635C45.717 19.9123 46.133 19.921 46.3842 20.183C49.2843 23.2072 50.2126 27.9605 50.8269 31.9494C51.5188 36.4426 51.6244 40.826 51.6244 42.8585C51.6244 43.2214 51.3302 43.5156 50.9673 43.5156C50.6044 43.5156 50.3101 43.2214 50.3101 42.8585C50.3101 40.8589 50.2055 36.5497 49.5279 32.1494C48.9577 28.4462 48.1356 23.9082 45.4356 21.0927C45.1844 20.8307 45.1931 20.4147 45.455 20.1635Z"}),p.jsx("path",{d:"M51.4576 46.6219C51.4864 46.2601 51.2165 45.9435 50.8547 45.9146C50.493 45.8858 50.1763 46.1557 50.1474 46.5175C49.8247 50.5654 49.403 54.6088 48.5474 58.3439C48.4663 58.6977 48.6874 59.0502 49.0412 59.1312C49.3949 59.2123 49.7474 58.9912 49.8285 58.6374C50.7067 54.8039 51.134 50.6806 51.4576 46.6219Z"}),p.jsx("path",{d:"M15.1454 36.852C15.5015 36.7819 15.847 37.0137 15.9171 37.3698C17.3066 44.4257 16.3467 50.8355 12.6672 56.4502C12.4682 56.7537 12.0609 56.8385 11.7573 56.6396C11.4538 56.4407 11.369 56.0333 11.5679 55.7298C15.0299 50.4469 15.9617 44.3985 14.6276 37.6238C14.5575 37.2677 14.7893 36.9221 15.1454 36.852Z"}),p.jsx("path",{d:"M32.0659 17.631C25.5291 17.631 19.1165 22.691 18.462 29.0504C18.1754 31.8345 18.578 34.5769 18.9807 37.3204C19.3323 39.7159 19.684 42.1124 19.5772 44.5381C19.3328 50.0898 17.7039 54.6726 14.905 58.4471C14.6888 58.7386 14.7499 59.1502 15.0414 59.3663C15.333 59.5825 15.7445 59.5214 15.9607 59.2299C18.9293 55.2266 20.6354 50.386 20.8903 44.5959C20.9966 42.1811 20.6438 39.7923 20.2912 37.4051C19.888 34.6752 19.4851 31.9473 19.7694 29.1849C20.3444 23.5983 26.0946 18.9453 32.0659 18.9453C34.851 18.9453 42.057 20.4534 44.3492 27.9205C45.7856 32.5998 46.1774 38.9326 45.8295 45.0849C45.4816 51.2364 44.3994 57.12 42.9442 60.8928C42.8136 61.2314 42.9822 61.6118 43.3208 61.7424C43.6594 61.873 44.0398 61.7044 44.1704 61.3658C45.6929 57.4186 46.7895 51.386 47.1417 45.1591C47.4938 38.9329 47.1068 32.4249 45.6056 27.5348C43.0612 19.2461 35.0851 17.631 32.0659 17.631Z"}),p.jsx("path",{d:"M21.9529 56.4512C22.2569 56.6494 22.3426 57.0566 22.1444 57.3606C21.7369 57.9854 21.3784 58.6391 21.0199 59.2928C20.6614 59.9465 20.3028 60.6004 19.8953 61.2253C19.697 61.5293 19.2898 61.615 18.9858 61.4167C18.6819 61.2184 18.5962 60.8113 18.7944 60.5073C19.2019 59.8825 19.5604 59.2288 19.9189 58.5751C20.2774 57.9213 20.636 57.2675 21.0435 56.6426C21.2418 56.3386 21.649 56.2529 21.9529 56.4512Z"}),p.jsx("path",{d:"M27.5799 24.4525C27.8816 24.2508 27.9625 23.8426 27.7608 23.541C27.559 23.2393 27.1509 23.1583 26.8492 23.3601C24.247 25.1006 22.6505 27.494 22.6505 31.0002C22.6505 33.088 23.0203 34.7946 23.3997 36.5449C23.9674 39.1641 24.3524 41.7777 24.2832 44.468C24.1992 47.7349 23.56 50.7201 22.3313 53.564C22.1873 53.8971 22.3407 54.2839 22.6739 54.4278C23.0071 54.5718 23.3938 54.4184 23.5378 54.0852C24.8369 51.0784 25.509 47.9266 25.5971 44.5018C25.6689 41.7062 25.2732 38.9892 24.6845 36.267C24.3042 34.509 23.9648 32.9394 23.9648 31.0002C23.9648 27.9961 25.2863 25.9866 27.5799 24.4525Z"}),p.jsx("path",{d:"M30.1447 22.1436C32.8717 21.5877 35.8061 22.2746 37.966 24.0228C41.8241 27.1455 42.3372 32.8403 42.753 37.4549L42.7742 37.69C43.3115 43.6385 42.6964 49.4163 41.4575 55.2186C41.3817 55.5736 41.0326 55.7999 40.6776 55.7241C40.3227 55.6483 40.0964 55.2991 40.1722 54.9442C41.3926 49.2288 41.9873 43.5885 41.4652 37.8082C41.4479 37.6169 41.4307 37.4228 41.4133 37.2264L41.4131 37.2235C41.0438 33.0534 40.5812 27.8304 37.1392 25.0444C35.2926 23.5498 32.7599 22.9518 30.4073 23.4314C30.0517 23.5039 29.7046 23.2744 29.6321 22.9188C29.5596 22.5632 29.7891 22.2161 30.1447 22.1436Z"}),p.jsx("path",{d:"M40.5287 58.4885C40.6183 58.1368 40.4057 57.7791 40.054 57.6896C39.7023 57.6 39.3446 57.8126 39.2551 58.1643C38.8578 59.7247 38.2456 61.1333 37.4695 62.4301C37.2831 62.7415 37.3844 63.145 37.6958 63.3314C38.0072 63.5178 38.4108 63.4165 38.5972 63.1051C39.4336 61.7075 40.0977 60.1816 40.5287 58.4885Z"}),p.jsx("path",{d:"M37.3152 48.9521C37.6756 48.9948 37.9332 49.3215 37.8906 49.682C37.2699 54.9267 35.8688 59.6042 33.6205 63.6613C33.4446 63.9787 33.0446 64.0934 32.7272 63.9175C32.4097 63.7416 32.295 63.3417 32.4709 63.0242C34.6226 59.1416 35.9811 54.6339 36.5854 49.5275C36.6281 49.1671 36.9548 48.9095 37.3152 48.9521Z"}),p.jsx("path",{d:"M37.1798 30.6556C36.7242 28.2212 34.6349 26.3591 32.0985 26.3591C28.6638 26.3591 26.254 29.8212 27.1032 33.0422C28.54 38.7279 28.7759 44.2077 27.8032 49.4855L27.8025 49.4893C26.9584 54.228 25.3374 58.4908 23.1263 62.1031C22.9368 62.4127 23.0342 62.8172 23.3437 63.0067C23.6533 63.1962 24.0578 63.0988 24.2473 62.7893C26.5488 59.0292 28.2249 54.6109 29.0961 49.7218C30.106 44.2403 29.8558 38.5684 28.3765 32.7168L28.3748 32.7099C27.7378 30.3005 29.5133 27.6734 32.0985 27.6734C33.9641 27.6734 35.5393 29.0459 35.8871 30.8929C36.8436 36.4411 37.3418 41.5862 36.9871 46.016C36.9581 46.3778 37.2279 46.6945 37.5897 46.7235C37.9515 46.7525 38.2682 46.4827 38.2972 46.1209C38.6649 41.5294 38.1459 36.2576 37.1815 30.6648C37.1809 30.6617 37.1804 30.6586 37.1798 30.6556Z"}),p.jsx("path",{d:"M30.1376 59.1171C30.4604 59.283 30.5876 59.6792 30.4217 60.002L28.6804 63.3906C28.5145 63.7134 28.1184 63.8406 27.7956 63.6747C27.4728 63.5088 27.3456 63.1127 27.5114 62.7899L29.2527 59.4013C29.4186 59.0785 29.8147 58.9513 30.1376 59.1171Z"}),p.jsx("path",{d:"M32.5872 31.2892C32.5042 30.9359 32.1505 30.7168 31.7972 30.7998C31.4439 30.8828 31.2247 31.2365 31.3077 31.5898C33.5238 41.0232 33.2194 49.3066 30.5201 56.363C30.3905 56.702 30.5602 57.0819 30.8991 57.2115C31.2381 57.3412 31.618 57.1715 31.7477 56.8326C34.5622 49.475 34.8483 40.9141 32.5872 31.2892Z"})]}),p.jsx("defs",{children:p.jsx("clipPath",{id:"clip0_113_33841",children:p.jsx("rect",{width:"64",height:"64",fill:"white",transform:"translate(0.483887)"})})})]}),OXe=({onClose:t,onReset:e,submitEnrollmentWithPasskey:r})=>{let{user:n}=fr(),{initLinkWithPasskey:i,linkWithPasskey:s}=rt(),{app:a}=lt(),[o,l]=$.useState(!1),[u,h]=$.useState(!1),[f,g]=$.useState(null),y=$.useMemo(()=>(n==null?void 0:n.linkedAccounts.filter(x=>x.type==="passkey"))??[],[n]),b=async x=>{l(!0);try{await r(x)}catch(E){g(E)}finally{l(!1)}},w=async()=>{h(!0),g(null);try{await i();let x=await s(),E=(x==null?void 0:x.linkedAccounts.filter(S=>S.type==="passkey").map(S=>S.credentialId))??[];await b(E)}catch(x){g(x)}finally{h(!1)}};return y.length===0||u?p.jsx(MXe,{onReset:e,onClose:t,onClick:w,isCreating:u}):f?p.jsx(Q4,{allowlistConfig:a.allowlistConfig,error:f,onBack:()=>g(null),onRetry:()=>g(null)}):p.jsx(RXe,{passkeys:y,isSubmitting:o,isCreating:u,onReset:e,onClose:t,onSubmitEnrollment:()=>b(y.map(x=>x.credentialId)),onAddPasskey:w})};let MXe=({onReset:t,onClose:e,onClick:r,isCreating:n})=>p.jsxs(p.Fragment,{children:[p.jsx(ur,{backFn:t,onClose:e},"header"),p.jsx($I,{children:p.jsxs(_ne,{children:[p.jsx(TI,{}),p.jsx(Ane,{})]})}),p.jsx(Ks,{children:"Set up passkey verification"}),p.jsxs(lx,{children:[p.jsxs(xf,{children:[p.jsx(vf,{children:p.jsx(Mf,{})}),"Verify with Touch ID, Face ID, PIN, or hardware key"]}),p.jsxs(xf,{children:[p.jsx(vf,{children:p.jsx($7e,{})}),"Takes seconds to set up and use"]}),p.jsxs(xf,{children:[p.jsx(vf,{children:p.jsx(f7e,{})}),"Use your passkey to verify transactions and login to your account"]})]}),p.jsx(Kr,{style:{marginTop:"2.25rem"},onClick:r,loading:n,children:"Add a new passkey"}),p.jsx(Gn,{})]}),RXe=({onReset:t,onClose:e,onAddPasskey:r,onSubmitEnrollment:n,passkeys:i,isSubmitting:s,isCreating:a})=>{let[o,l]=$.useState(!1),u=o?i.length:i.length>3?2:3;return p.jsxs(p.Fragment,{children:[p.jsx(ur,{backFn:o?()=>l(!1):t,onClose:e},"header"),!o&&p.jsx($I,{children:p.jsxs(_ne,{children:[p.jsx(TI,{}),p.jsx(Ane,{})]})}),p.jsx(Ks,{children:"Enable your passkeys for verification"}),p.jsxs(lx,{children:[i.slice(0,u).map(h=>{var f;return p.jsxs(jXe,{children:[p.jsx(DXe,{children:BXe(h)}),p.jsxs(UXe,{children:["Last used: ",(f=h.latestVerifiedAt)==null?void 0:f.toLocaleString()]})]},h.credentialId)}),!o&&i.length>3&&p.jsx(eq,{onClick:()=>l(!0),children:"View All"})]}),p.jsx(Kr,{style:{marginTop:"1.5rem"},onClick:n,loading:s,children:"Enable passkeys"}),i.length<5&&p.jsx(eq,{style:{marginTop:"0.5rem"},onClick:r,disabled:a,children:a?p.jsx(_o,{style:{height:"1rem",width:"1rem",borderWidth:2}}):"Add new passkey"}),p.jsx(Gn,{})]})},jXe=te.div.withConfig({displayName:"PasskeyItem",componentId:"sc-9b5fbdd5-0"})(["&&{padding:0.75rem 1rem;text-align:left;border-radius:0.5rem;border:1px solid var(--privy-color-foreground-4);width:100%;}"]),DXe=te.div.withConfig({displayName:"PasskeyItemTitle",componentId:"sc-9b5fbdd5-1"})(["font-size:0.875rem;line-height:1.375rem;font-weight:500;color:var(--privy-color-foreground-1);"]),UXe=te.div.withConfig({displayName:"PasskeyItemSubtitle",componentId:"sc-9b5fbdd5-2"})(["font-size:0.75rem;font-weight:400;line-height:1.125rem;color:var(--privy-color-foreground-2);"]),BXe=t=>t.authenticatorName?t.createdWithBrowser?`${t.authenticatorName} on ${t.createdWithBrowser}`:t.authenticatorName:t.createdWithBrowser?t.createdWithOs?`${t.createdWithBrowser} on ${t.createdWithOs}`:`${t.createdWithBrowser}`:"Unknown device";const eq=te.button.withConfig({displayName:"StyledLink",componentId:"sc-9b5fbdd5-3"})(["&&{width:100%;font-size:0.875rem;line-height:1rem;@media (min-width:440px){font-size:14px;}display:flex;gap:12px;justify-content:center;padding:0.75rem 1rem;background-color:var(--privy-color-background);transition:background-color 200ms ease;color:var(--privy-color-accent);:focus{outline:none;box-shadow:none;}}"]),LXe=({appName:t,onComplete:e,onReset:r,onClose:n})=>{let[i,s]=$.useState(""),[a,o]=$.useState(!1),[l,u]=$.useState(null),[h,f]=$.useState("enroll"),{initEnrollmentWithSms:g,submitEnrollmentWithSms:y}=Cne(),{app:b,data:w}=lt();function x(){var E;(E=w==null?void 0:w.mfaEnrollmentFlow)==null||E.onSuccess(),e()}return l?p.jsx(Q4,{allowlistConfig:b.allowlistConfig,error:l,onBack:()=>u(null),onRetry:()=>u(null)}):p.jsxs(p.Fragment,h==="enroll"?{children:[p.jsx(ur,{backFn:r,onClose:n},"header"),p.jsx(go,{style:{marginBottom:"1.5rem"},children:p.jsx(eh,{})}),p.jsx(Ks,{children:"Set up SMS verification"}),p.jsxs(po,{children:["We'll text a verification code to this mobile device whenever you use your ",t," ","wallet."]}),p.jsxs(zf,{children:[p.jsx(ex,{onSubmit:async function({qualifiedPhoneNumber:E}){try{await g({phoneNumber:E}),s(E),f("verify")}catch(S){u(S)}},hideRecent:!0}),p.jsxs(pne,{children:["By providing your mobile number, you agree to receive text messages from ",b==null?void 0:b.name,". Some carrier charges may apply"]})]}),p.jsx(Gn,{})]}:a?{children:[p.jsx(ur,{onClose:x},"header"),p.jsx(go,{style:{marginBottom:"1.5rem"},children:p.jsx(W6,{})}),p.jsx(Ks,{children:"SMS verification added"}),p.jsxs(po,{children:["From now on, you'll enter the verification code sent to your mobile device whenever you use your ",t," wallet."]}),p.jsx(T0,{children:p.jsx(Kr,{onClick:x,children:"Done"})}),p.jsx(Gn,{})]}:{children:[p.jsx(ur,{backFn:function(){h==="verify"?f("enroll"):r()},onClose:n},"header"),p.jsx(go,{style:{marginBottom:"1.5rem"},children:p.jsx(eh,{})}),p.jsx(Ks,{children:"Enter enrollment code"}),p.jsxs(zf,{children:[p.jsx(J5,{onChange:async function(E){try{if(!E)return;await y({phoneNumber:i,mfaCode:E}),o(!0)}catch(S){throw Xee(S)?Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."):XT(S)?Error("The code you entered is not valid"):QT(S)?Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."):Jee(S)?Error("Verification canceled"):Error("Unknown error")}}}),p.jsxs(po,{children:["To continue, enter the 6-digit code sent to ",p.jsx("strong",{children:Fwe(i)})]})]}),p.jsx(Gn,{})]})},FXe=({size:t,authUrl:e})=>p.jsx(qb,{url:e,squareLogoElement:YZe,size:t,fgColor:"#1F1F1F"}),zXe=({onClose:t,onReset:e,totpInfo:r,submitEnrollmentWithTotp:n,error:i})=>{let[s,a]=$.useState("enroll");return p.jsxs(p.Fragment,s==="enroll"?{children:[p.jsx(ur,{backFn:e,onClose:t},"header"),p.jsx(rh,{children:"Scan QR code"}),p.jsx(Ff,{children:"Open your authenticator app and scan this code to continue"}),p.jsx(yWe,{children:p.jsx(FXe,{authUrl:r.authUrl,size:240})}),p.jsx(lI,{style:{textAlign:"left"},children:"Setup key"}),p.jsxs(tx,{style:{marginTop:"0.25rem"},children:[p.jsx(DZe,{children:"".repeat(16)}),p.jsx(pI,{itemName:" ",text:r.secret})]}),p.jsx(Kr,{style:{marginTop:"1rem"},onClick:function(){a("verify")},children:"Continue"}),p.jsx(Gn,{})]}:{children:[p.jsx(ur,{backFn:function(){s==="verify"?a("enroll"):e()},onClose:t},"header"),p.jsx(go,{style:{marginBottom:"1.5rem"},children:p.jsx(d4,{})}),p.jsx(rh,{children:"Enter enrollment code"}),p.jsx(Ff,{children:"To continue, enter the 6-digit code generated from your authenticator app"}),p.jsx(zf,{children:p.jsx(J5,{onChange:async function(o){try{if(!o)return;await n({mfaCode:o})}catch(l){throw Xee(l)?Error("You have exceeded the maximum number of attempts. Please close this window and try again in 10 seconds."):XT(l)?Error("The code you entered is not valid"):QT(l)?Error("You have exceeded the time limit for code entry. Please try again in 30 seconds."):Jee(l)?Error("Verification canceled"):Error("Unknown error")}},errorReasonOverride:i==null?void 0:i.message})}),p.jsx(Gn,{})]})},WXe={component:()=>{var W;let{user:t,enrollInMfa:e,ready:r}=fr(),[n,i]=$.useState(null),{unenrollWithSms:s,unenrollWithTotp:a,unenrollWithPasskey:o,submitEnrollmentWithTotp:l,initEnrollmentWithPasskey:u,submitEnrollmentWithPasskey:h,initEnrollmentWithTotp:f}=Cne(),{app:g,data:y,onUserCloseViaDialogOrKeybindRef:b}=lt(),{closePrivyModal:w}=rt(),{promptMfa:x}=wne(),[E,S]=$.useState(!1),[_,I]=$.useState(null),[A,O]=$.useState(null),F=()=>{w({shouldCallAuthOnSuccess:!0}),e(!1),setTimeout(()=>{i(null),I(null)},500)},[H,L]=$.useState(!1),[z,V]=$.useState();b.current=F;let K=t==null?void 0:t.mfaMethods.includes("sms"),B=!!(t!=null&&t.phone),C=t==null?void 0:t.mfaMethods.includes("totp"),k=t==null?void 0:t.mfaMethods.includes("passkey"),N=K||C||k,D=(t==null?void 0:t.linkedAccounts.filter(M=>M.type==="passkey").map(M=>M.credentialId))??[];function P(){i(null),I(null)}async function R(M=D){var G,re;L(!0);try{return await u(),await h({credentialIds:M},{removeForLogin:(G=y==null?void 0:y.mfaEnrollmentFlow)==null?void 0:G.shouldUnlinkOnUnenrollMfa}),(re=y==null?void 0:y.mfaEnrollmentFlow)==null||re.onSuccess(),F()}catch(q){V(q)}finally{L(!1)}}if($.useEffect(()=>{N&&S(!0)},[N]),!r||!t||!g)return p.jsxs(p.Fragment,{children:[p.jsx(ur,{onClose:F},"header"),p.jsx($I,{children:p.jsx(TXe,{})}),p.jsx(zf,{children:p.jsx(_o,{})}),p.jsx(Gn,{})]});if(n==="sms")return p.jsxs(p.Fragment,{children:[p.jsx(ur,{backFn:P,onClose:F},"header"),p.jsx(go,{style:{marginBottom:"1.5rem"},children:p.jsx(J0,{})}),p.jsx(Ks,{children:"Remove SMS verification?"}),p.jsxs(po,{children:["MFA adds an extra layer of security to your ",g==null?void 0:g.name," account. Make sure you have other methods to secure your account."]}),p.jsx(T0,{children:p.jsx(Kr,{$warn:!0,onClick:async function(){i(null);try{await s()}catch{i(null)}},children:"Remove"})}),p.jsx(Gn,{})]});if(n==="totp")return p.jsxs(p.Fragment,{children:[p.jsx(ur,{backFn:P,onClose:F},"header"),p.jsx(go,{style:{marginBottom:"1.5rem"},children:p.jsx(J0,{})}),p.jsx(Ks,{children:"Remove authenticator app verification?"}),p.jsxs(po,{children:["MFA adds an extra layer of security to your ",g==null?void 0:g.name," account. Make sure you have other methods to secure your account."]}),p.jsx(T0,{children:p.jsx(Kr,{$warn:!0,onClick:async function(){i(null);try{await a()}catch{i(null)}},children:"Remove"})}),p.jsx(Gn,{})]});if(n==="passkey"){let M=((W=y==null?void 0:y.mfaEnrollmentFlow)==null?void 0:W.shouldUnlinkOnUnenrollMfa)??!0;return p.jsxs(p.Fragment,{children:[p.jsx(ur,{backFn:P,onClose:F},"header"),p.jsx(go,{style:{marginBottom:"1.5rem"},children:p.jsx(J0,{})}),p.jsx(Ks,{children:"Are you sure you want to remove this passkey?"}),p.jsx(po,{children:M?"Removing your passkey will remove as both a verification method and a login method.":"Removing your passkey will remove as a verification method."}),p.jsx(T0,{children:p.jsx(Kr,{$warn:!0,onClick:async function(){var G;i(null);try{await o({removeForLogin:(G=y==null?void 0:y.mfaEnrollmentFlow)==null?void 0:G.shouldUnlinkOnUnenrollMfa})}catch{i(null)}},children:"Remove"})}),p.jsx(Gn,{})]})}if(y.mfaEnrollmentFlow.mfaMethods.length===0&&!N)return p.jsxs(p.Fragment,{children:[p.jsx(ur,{onClose:F},"header"),p.jsx(go,{style:{marginBottom:"1.5rem"},children:p.jsx(Mf,{})}),p.jsx(Ks,{children:"Add more security"}),p.jsxs(po,{children:[g==null?void 0:g.name," does not have any verification methods enabled."]}),p.jsx(T0,{children:p.jsx(Kr,{onClick:F,children:"Close"})}),p.jsx(Gn,{})]});let j=!N&&!E;return j?p.jsxs(p.Fragment,{children:[p.jsx(ur,{onClose:F},"header"),p.jsx(go,{style:{marginBottom:"1.5rem"},children:p.jsx(Mf,{})}),p.jsx(Ks,{children:"Transaction Protection"}),p.jsx(po,{children:"Set up transaction protection to add an extra layer of security to your account"}),p.jsxs(lx,{children:[p.jsxs(xf,{children:[p.jsx(vf,{children:p.jsx(HZe,{})}),"Enable 2-Step verification for your ",g==null?void 0:g.name," wallet."]}),p.jsxs(xf,{children:[p.jsx(vf,{children:p.jsx(GZe,{})}),"You'll be prompted to authenticate to complete transactions."]})]}),p.jsxs(T0,{children:[p.jsx(Kr,{onClick:()=>S(!0),children:"Continue"}),p.jsx(bl,{onClick:F,children:"Not now"})]}),p.jsx(Gn,{})]}):_==="sms"?p.jsx(LXe,{appName:(g==null?void 0:g.name)||"Privy",onComplete:F,onReset:P,onClose:F}):_==="totp"&&A?p.jsx(zXe,{onClose:F,onReset:P,submitEnrollmentWithTotp:({mfaCode:M})=>async function(G){var re;try{return V(void 0),await l({mfaCode:G}),(re=y==null?void 0:y.mfaEnrollmentFlow)==null||re.onSuccess(),F()}catch(q){V(q)}finally{i(null)}}(M),totpInfo:{...A,appName:(g==null?void 0:g.name)||"Privy"}}):_==="passkey"?p.jsx(OXe,{onReset:P,onClose:F,submitEnrollmentWithPasskey:R}):p.jsx(NXe,{showIntro:j,userMfaMethods:t.mfaMethods,appMfaMethods:g.mfa.methods,userHasAuthSms:B,onBackToIntro:function(){S(!1)},handleSelectMethod:async function(M){try{await x()}catch(G){return void V(G)}return M==="totp"?(I(M),O(null),void f().then(G=>{O(G)}).catch(()=>{O(null),P()})):M==="passkey"&&D.length===1?await R():void I(M)},isTotpLoading:_==="totp"&&!A,isPasskeyLoading:H,error:z,onClose:F,setRemovingMfaMethod:async M=>{try{await x()}catch(G){return void V(G)}i(M)}})}},qXe=({providerName:t,ProviderLogo:e,success:r,errorMessage:n,onRetry:i})=>{let s=r?`Successfully connected with ${t}`:n?n.message:`Verifying connection to ${t}`;return p.jsx(wr,{title:s,subtitle:r?"You're good to go!":n?n.detail:"Just a few moments more",icon:e,iconVariant:"loading",iconLoadingStatus:{success:r,fail:!!n},secondaryCta:n!=null&&n.retryable&&i?{label:"Retry",onClick:i}:void 0,watermark:!0})},tq={component:()=>{var O;let{authenticated:t,logout:e,ready:r,user:n}=fr(),{app:i,setModalData:s,navigate:a,resetNavigation:o}=lt(),{getAuthMeta:l,initLoginWithOAuth:u,loginWithOAuth:h,updateWallets:f,setReadyToTrue:g,closePrivyModal:y,createAnalyticsEvent:b}=rt(),[w,x]=$.useState(!1),[E,S]=$.useState(void 0),_=((O=l())==null?void 0:O.provider)||"google",{name:I,component:A}=T_(_);return $.useEffect(()=>{h(_).then(()=>{x(!0),g(!0)}).catch(F=>{var z,V,K,B,C,k,N,D,P,R,j,W,M,G,re,q;if(g(!1),(F==null?void 0:F.privyErrorCode)===fe.ALLOWLIST_REJECTED)return S(void 0),o(),void a(X4);if((F==null?void 0:F.privyErrorCode)===fe.USER_LIMIT_REACHED)return console.error(new bb(F).toString()),S(void 0),o(),void a(Hb);if((F==null?void 0:F.privyErrorCode)===fe.USER_DOES_NOT_EXIST)return S(void 0),o(),void a(Wb);if((F==null?void 0:F.privyErrorCode)===fe.ACCOUNT_TRANSFER_REQUIRED&&((V=(z=F.data)==null?void 0:z.data)!=null&&V.nonce))return S(void 0),o(),s({accountTransfer:{nonce:(B=(K=F.data)==null?void 0:K.data)==null?void 0:B.nonce,account:(k=(C=F.data)==null?void 0:C.data)==null?void 0:k.subject,displayName:(P=(D=(N=F.data)==null?void 0:N.data)==null?void 0:D.account)==null?void 0:P.displayName,linkMethod:(R=l())==null?void 0:R.provider,embeddedWalletAddress:(M=(W=(j=F.data)==null?void 0:j.data)==null?void 0:W.otherUser)==null?void 0:M.embeddedWalletAddress,oAuthUserInfo:(q=(re=(G=F.data)==null?void 0:G.data)==null?void 0:re.otherUser)==null?void 0:q.oAuthUserInfo}}),void a(up);let{retryable:H,detail:L}=function(X,ne){let ee={detail:"",retryable:!1},ce=nee(ne);if((X==null?void 0:X.privyErrorCode)===fe.LINKED_TO_ANOTHER_USER&&(ee.detail="This account has already been linked to another user."),(X==null?void 0:X.privyErrorCode)===fe.INVALID_CREDENTIALS&&(ee.retryable=!0,ee.detail="Something went wrong. Try again."),X.privyErrorCode===fe.OAUTH_USER_DENIED&&(ee.detail=`Retry and check ${ce} to finish connecting your account.`,ee.retryable=!0),(X==null?void 0:X.privyErrorCode)===fe.TOO_MANY_REQUESTS&&(ee.detail="Too many requests. Please wait before trying again."),(X==null?void 0:X.privyErrorCode)===fe.TOO_MANY_REQUESTS&&X.message.includes("provider rate limit")){let be=T_(ne).name;ee.detail=`Request limit reached for ${be}. Please wait a moment and try again.`}if((X==null?void 0:X.privyErrorCode)===fe.OAUTH_ACCOUNT_SUSPENDED){let be=T_(ne).name;ee.detail=`Your ${be} account is suspended. Please try another login method.`}return(X==null?void 0:X.privyErrorCode)===fe.CANNOT_LINK_MORE_OF_TYPE&&(ee.detail="You cannot authorize more than one account for this user."),(X==null?void 0:X.privyErrorCode)===fe.OAUTH_UNEXPECTED&&ne.startsWith("privy:")&&(ee.detail="Something went wrong. Please try again."),ee}(F,_);S({retryable:H,detail:L,message:"Authentication failed"})}).finally(()=>{ES()})},[I,_]),$.useEffect(()=>{if(r&&t&&w&&n){if(i!=null&&i.legal.requireUsersAcceptTerms&&!n.hasAcceptedTerms){let F=setTimeout(()=>{a(dp)},yn);return()=>clearTimeout(F)}if(dh(n,i.embeddedWallets)){let F=setTimeout(()=>{s({createWallet:{onSuccess:()=>{},onFailure:H=>{console.error(H),b({eventName:"embedded_wallet_creation_failure_logout",payload:{error:H,provider:_,screen:"OAuthStatusScreen"}}),e()},callAuthOnSuccessOnClose:!0}}),a(Ru)},yn);return()=>clearTimeout(F)}{let F=setTimeout(()=>y({shouldCallAuthOnSuccess:!0,isSuccess:!0}),yn);return f(),()=>clearTimeout(F)}}},[r,t,w,n]),p.jsx(qXe,{providerName:I,ProviderLogo:A,success:w,errorMessage:E,onRetry:E!=null&&E.retryable?()=>{ES(),u(_),S(void 0)}:void 0})}},HXe=$.forwardRef((t,e)=>{let[r,n]=$.useState(""),[i,s]=$.useState(""),[a,o]=$.useState(!1),{authenticated:l,user:u}=fr(),{initUpdateEmail:h}=rt(),{navigate:f,setModalData:g,currentScreen:y}=lt(),{enabled:b,token:w}=ca(),x=Ar(),E=yee(r)&&(x.disablePlusEmails&&r.includes("+")?(i||s("Please enter a valid email address without a '+'."),!1):(i&&s(""),!0)),S=a||!E,_=()=>{!b||w||l?(async I=>{if(!(u!=null&&u.email))throw Error("User is required to have an email address to update it.");o(!0);try{await h({oldAddress:u.email.address,newAddress:r,captchaToken:I}),f(Nu)}catch(A){g({errorModalData:{error:A,previousScreen:y||ps}})}o(!1)})(w):(g({captchaModalData:{callback:I=>{if(!(u!=null&&u.email))throw Error("User is required to have an email address to update it.");return h({oldAddress:u.email.address,newAddress:r,captchaToken:I})},userIntentRequired:!1,onSuccessNavigateTo:Nu,onErrorNavigateTo:_n}}),f(vl))};return p.jsxs(p.Fragment,{children:[p.jsxs(VXe,{children:[i&&p.jsx(Lf,{style:{marginTop:"0.25rem",textAlign:"left"},children:i}),p.jsxs(GXe,{$error:!!i,children:[p.jsx(h4,{}),p.jsx("input",{ref:e,id:"email-input",type:"email",placeholder:"your@email.com",onChange:I=>n(I.target.value),onKeyUp:I=>{I.key==="Enter"&&_()},value:r,autoComplete:"email"}),t.stacked?null:p.jsx(U4,{isSubmitting:a,onClick:_,disabled:S,children:"Submit"})]})]}),t.stacked?p.jsx(Kr,{loadingText:null,loading:a,disabled:S,onClick:_,style:{width:"100%"},children:"Submit"}):null]})});let VXe=Ate,GXe=Cte;const KXe=({title:t="Update your email",subtitle:e="Add the email address you'd like to use going forward. We'll send you a confirmation code"})=>p.jsx(wr,{title:t,subtitle:e,icon:h4,watermark:!0,children:p.jsx(qee,{children:p.jsx(HXe,{stacked:!0})})}),YXe={component:()=>p.jsx(KXe,{})},ZXe=({title:t="Update your phone number",subtitle:e="Add the phone number you'd like to use going forward. We'll send you a confirmation code",onSubmit:r,isSubmitting:n=!1})=>{let[i,s]=$.useState(null);return p.jsx(wr,{title:t,subtitle:e,icon:eh,primaryCta:{label:n?"Submitting":"Update",onClick:async()=>{i!=null&&i.qualifiedPhoneNumber&&await r(i)},disabled:!(i!=null&&i.isValid)||n},watermark:!0,children:p.jsx(ex,{onChange:a=>{s(a)},onSubmit:async()=>{},noIncludeSubmitButton:!0,hideRecent:!0})})},QXe={component:()=>{let{currentScreen:t,data:e,navigate:r,setModalData:n}=lt(),{user:i}=fr(),{initUpdatePhone:s}=rt(),[a,o]=$.useState(!1);return p.jsx(ZXe,{onSubmit:async l=>{var u,h,f;o(!0);try{if(!((u=i==null?void 0:i.phone)!=null&&u.number))throw Error("User is required to have an phone number to update it.");await s((h=i==null?void 0:i.phone)==null?void 0:h.number,l.qualifiedPhoneNumber),r(Nu)}catch(g){n({errorModalData:{error:g,previousScreen:((f=e==null?void 0:e.errorModalData)==null?void 0:f.previousScreen)||t||II}}),r(_n)}finally{o(!1)}},isSubmitting:a})}};function XXe({subscribe:t,getExternalJwt:e,enabled:r=!0,onAuthenticated:n,onUnauthenticated:i,onError:s}){let{client:a,onCustomAuthAuthenticated:o}=rt(),{logout:l,authenticated:u,ready:h}=AI();if(!a)throw new ue("`useSyncJwtBasedAuthState` must be used within a `PrivyProvider`");let[f,g]=$.useState({status:"initial"}),y=$.useRef(),b=$.useRef(!1),w=$.useRef(e);$.useEffect(()=>{w.current=e},[e]);let x=$.useRef(n);$.useEffect(()=>{x.current=n},[n]);let E=$.useRef(i);$.useEffect(()=>{E.current=i},[i]);let S=$.useRef(s);return $.useEffect(()=>{S.current=s},[s]),$.useEffect(()=>{if(!r||!h)return;let _=async()=>{var I,A,O,F;if(!b.current){b.current=!0;try{g({status:"loading"});let H=await w.current();if(y.current!==void 0&&y.current===H)return void g({status:"done"});if(!H)return u&&(await l(),(I=E.current)==null||I.call(E)),y.current=H,void g({status:"done"});a.startAuthFlow(new hne(H));let{user:L,isNewUser:z=!1}=await a.authenticate();if(!L)throw new ue("Failed to sync with custom auth provider");(A=x.current)==null||A.call(x,{user:L,isNewUser:z}),o(L,z),y.current=H,g({status:"done"})}catch(H){if(console.warn(H),await l().catch(()=>{}),(O=E.current)==null||O.call(E),H instanceof Sa&&H.privyErrorCode===fe.LINKED_TO_ANOTHER_USER)return g({status:"initial"}),void setTimeout(()=>{_()},0);(F=S.current)==null||F.call(S,H),g({status:"error",error:H})}finally{b.current=!1}}};return _(),t(_)},[t,a,o,u,l,r,h]),r?{state:f}:{state:{status:"not-enabled"}}}let JXe=Yg(()=>({jwtAuthFlowState:{status:"not-enabled"}}));function eJe({customAuth:t}){let{jwtAuthFlowState:e}=function({customAuth:r}){let n=cp(),i=$.useRef(),s=$.useCallback(l=>(i.current=l,()=>{i.current=void 0}),[]),a=(r==null?void 0:r.getCustomAccessToken)??(()=>Promise.resolve(void 0)),{state:o}=XXe({enabled:(r==null?void 0:r.enabled)===!0,subscribe:s,getExternalJwt:a,onAuthenticated:({user:l,isNewUser:u})=>{n("login","onComplete",{user:l,isNewUser:u,wasAlreadyAuthenticated:!1,loginMethod:"custom",loginAccount:null}),n("customAuth","onAuthenticated",{user:l})},onUnauthenticated:()=>{n("customAuth","onUnauthenticated")},onError:l=>{n("login","onError",l.privyErrorCode||fe.UNKNOWN_AUTH_ERROR)}});return $.useEffect(()=>{(async()=>{var l;r&&!r.isLoading&&((l=i.current)==null||l.call(i))})()},[r==null?void 0:r.enabled,r==null?void 0:r.getCustomAccessToken,r==null?void 0:r.isLoading]),{jwtAuthFlowState:o}}({customAuth:t});return $.useEffect(()=>{JXe.setState({jwtAuthFlowState:e})},[e]),null}const Sne=$.createContext(!1);let W0,kne,$ne,Tne,Ine,Nne;async function Xr(){return W0?W0.getAccessToken():Promise.resolve(Pt.get(T3)||Pt.get(gy)||null)}const tJe=(t,e)=>kne(t,e),rJe=(t,e)=>$ne(t,e),nJe=(t,e)=>Tne(t,e),iJe=(t,e)=>Ine(t,e),sJe=t=>Nne(t),aJe=({config:t,...e})=>{var r;if((()=>{if($.useContext(Sne))throw new ue("Multiple PrivyProvider instances found","Found multiple instances of PrivyProvider, ensure there is only one mounted in your application tree.")})(),typeof window<"u"&&0>["localhost","127.0.0.1"].indexOf(window.location.hostname)&&window.location.protocol!=="https:"&&window.location.protocol!=="chrome-extension:")throw new ue("Embedded wallet is only available over HTTPS");if(typeof(r=e.appId)!="string"||r.length!==25)throw new ue("Cannot initialize the Privy provider with an invalid Privy app ID");W0||(W0=new mQe({appId:e.appId,appClientId:e.clientId,apiUrl:e.apiUrl}));let n=Object.assign({},t),i=$.useMemo(()=>new jwe({appId:e.appId,clientId:e.clientId,storage:Pt,baseUrl:e.apiUrl,sdkVersion:"react-auth:3.0.1"}),[]);return p.jsx(uze,{client:i,legacyClient:W0,appClientId:e.clientId,clientConfig:n,children:p.jsx(mHe,{children:p.jsx(oJe,{...e,client:W0,privy:i})})})};let oJe=t=>{var Un;let e=t.client,r=t.privy,n=oI();qQe();let[i,s]=$.useState(!1),a=eb(Y=>Y.inProgressMfaFlow),[o,l]=$.useState(!1),[u,h]=$.useState(!1),[f,g]=$.useState(null),[y,b]=$.useState([]),[w,x]=$.useState(void 0),[E,S]=$.useState(!1),[_,I]=$.useState(null),[A,O]=$.useState(!1),[F,H]=$.useState({status:"disconnected",connectedWallet:null,connectError:null,connector:null,connectRetry:ke}),[L,z]=$.useState({status:"initial"}),[V,K]=$.useState({status:"initial"}),[B,C]=$.useState({status:"initial"}),[k,N]=$.useState({status:"initial"}),[D,P]=$.useState({status:"initial"}),[R,j]=$.useState({status:"initial"}),[W,M]=$.useState(null),G=Ar(),re=Pee(),[q,X]=$.useState({}),[ne,ee]=$.useState(null),ce=$.useRef(null),[be,ve]=$.useState(!1),[ge,Ee]=$.useState(!1),ye=$.useRef(null),$e=$.useRef(null),we=$.useRef(fze),[qe,Ge]=$.useState(!1);e.onStoreCustomerAccessToken=Y=>{Y&&Ye(we,"accessToken","onAccessTokenGranted",{accessToken:Y})},e.onDeleteCustomerAccessToken=()=>{g(null),h(!1),Ye(we,"accessToken","onAccessTokenRemoved")};let Ae=$.useRef(null),je=$.useRef(null),gt=$.useRef(!1),Qt=({showWalletUIs:Y})=>gt.current?gt.current:Y!==void 0?!Y:!G.embeddedWallets.showWalletUIs,Ie=Y=>{I(Y),setTimeout(()=>{s(!0)},15)};$.useEffect(()=>{var ie,le,pe;if(!f)return void((ie=e.connectors)==null?void 0:ie.removeEmbeddedWalletConnectors());let Y=Xl(f),Q=zZ(f),oe=EA(f);Y&&Q.length||((le=e.connectors)==null||le.removeEmbeddedWalletConnectors()),oe||((pe=e.connectors)==null||pe.removeImportedWalletConnector()),e.connectors?W?(Y&&e.connectors.addEmbeddedWalletConnectors({walletProxy:W,user:f,embeddedWallets:Q,defaultChain:G.defaultChain,appId:t.appId,privyClient:r}),oe&&e.connectors.addImportedWalletConnector(W,oe.address,G.defaultChain,t.appId)):console.debug("Failed to add embedded wallet connector: Wallet proxy not initialized"):console.debug("Failed to add embedded wallet connector: Client connectors not initialized")},[W,f]),$.useEffect(()=>{var Y;W&&((Y=ce.current)==null||Y.call(ce,W))},[W]);let pt=$.useCallback((Y,Q)=>{g(Y),S(Q),h(!0),Ee(!0)},[]);$.useEffect(()=>{ge&&W&&f&&(async()=>{var ie;let Y=iI(f,G.embeddedWallets.ethereum.createOnLogin),Q=sI(f,G.embeddedWallets.solana.createOnLogin),oe=await Xr();if(oe){if(Y&&Q){let le=await W.create({accessToken:oe});return await W.createSolana({accessToken:oe,ethereumAddress:le==null?void 0:le.address}),void Ee(!1)}if(Q)return await W.createSolana({accessToken:oe,ethereumAddress:(ie=Xl(f))==null?void 0:ie.address}),await Le.refreshSessionAndUser(),void Ee(!1);if(Y)return await W.create({accessToken:oe}),void Ee(!1)}})().catch(console.error)},[ge&&W&&f]),$.useEffect(()=>{if(G.externalWallets.solana.connectors)return G.externalWallets.solana.connectors.onMount(),()=>{var Y;return(Y=G.externalWallets.solana.connectors)==null?void 0:Y.onUnmount()}},[G.externalWallets.solana.connectors]),$.useEffect(()=>{!o&&re&&async function(){var Te,Ne,Tt;let Y,Q=Ze(),oe=ht(),ie=dae();e.initializeConnectorManager({walletConnectCloudProjectId:G.walletConnectCloudProjectId,rpcConfig:G.rpcConfig,chains:G.chains,defaultChain:G.defaultChain,store:ie,walletList:G.appearance.walletList,shouldEnforceDefaultChainOnConnect:G.shouldEnforceDefaultChainOnConnect,externalWalletConfig:G.externalWallets,appName:G.name??"Privy",walletChainType:G.appearance.walletChainType,setBaseAccountSdk:x}),(Te=e.connectors)==null||Te.on("connectorInitialized",()=>{Y&&clearTimeout(Y);let mt=e.connectors.walletConnectors.length,ut=e.connectors.walletConnectors.reduce((At,Ue)=>At+(Ue.initialized?1:0),0);ut===mt?Ge(!0):Y=setTimeout(()=>{console.debug({message:"Unable to initialize all expected connectors before timeout",initialized:ut,expected:mt}),Ge(!0)},1500)}),(Ne=e.connectors)==null||Ne.initialize().then(()=>{Qe()});let le=await e.getAuthenticatedUser(),pe=!!le;G.legal.requireUsersAcceptTerms&&le&&!le.hasAcceptedTerms?(await e.logout(),Le.setReadyToTrue(!0),Ye(we,"logout","onSuccess")):((Tt=G.customAuth)!=null&&Tt.enabled||(h(!!le),le&&Ye(we,"login","onComplete",{user:le,isNewUser:!1,wasAlreadyAuthenticated:!0,loginMethod:null,loginAccount:null}),g(le)),Q?je.current=pe?"link":"login":oe&&!pe?(je.current="login",X({telegramAuthModalData:{seamlessAuth:!0}}),Ie(j3)):Le.setReadyToTrue(!!le))}()},[e,ne,o,re]),$.useEffect(()=>{if(o){if(!f||!f.linkedAccounts.find(Y=>Y.type==="wallet"&&Y.walletClientType==="privy"))return void ve(!!W);if([...y].some(Y=>Y.walletClientType==="privy"))return void ve(!0);ve(!!W)}},[o,f,y,W]),$.useEffect(()=>{var Y;(Y=e.connectors)==null||Y.setWalletList(G.appearance.walletList)},[G.appearance.walletList.join()]);let Ze=()=>{let Y=XZe();return Y.inProgress&&Y.popupFlow?window.opener.location.origin!==window.location.origin?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Origins between parent and child windows do not match."}):Y.authorizationCode==="error"?void window.opener.postMessage({type:"PRIVY_OAUTH_ERROR",error:"Something went wrong. Try again."}):void window.opener.postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:Y.stateCode,authorizationCode:Y.authorizationCode}):(Y.inProgress&&function(Q){return Q.startsWith("privy:")}(Y.provider)&&!Y.popupFlow&&(new BroadcastChannel(YW).postMessage({type:"PRIVY_OAUTH_RESPONSE",stateCode:Y.stateCode,authorizationCode:Y.authorizationCode}),window.close()),!!Y.inProgress&&!!Y.withPrivyUi&&(e.startAuthFlow(new $0({...Y,customOAuthRedirectUrl:G.customOAuthRedirectUrl})),Ie(tq),!0))},ht=()=>{var oe;let Y=eze();if(!Y||!G.loginMethods.telegram||!((oe=G.loginConfig.telegramAuthConfiguration)!=null&&oe.seamlessAuthEnabled))return;let Q=new k1;return e.startAuthFlow(Q),Y.flowType==="login-url"&&(Q.meta.telegramWebAppData=void 0,Q.meta.telegramAuthResult=Y.authData),Y.flowType==="web-app"&&(Q.meta.telegramAuthResult=void 0,Q.meta.telegramWebAppData=Y.authData),!0},bt=async(Y,Q,oe,ie)=>{var le,pe;if(Y!=="solana_adapter")jt(await((le=e.connectors)==null?void 0:le.createEthereumWalletConnector({connectorType:Y,walletClientType:Q}))||null,Q,oe,ie);else{let Te=(pe=e.connectors)==null?void 0:pe.findSolanaWalletConnector(Q);if(!Te)return;jt(Te,Q,oe,ie)}};async function jt(Y,Q,oe,ie){if(!Y)return H({status:"disconnected",connectedWallet:null,connectError:new ln("Unable to connect to wallet."),connector:null,connectRetry:ke}),ie==null?void 0:ie(null,oe);H({status:"disconnected",connectedWallet:null,connectError:null,connector:Y,connectRetry:ke}),Y instanceof rg&&Q&&await Y.resetConnection(Q),H({connector:Y,status:"connecting",connectedWallet:null,connectError:null,connectRetry:()=>jt(Y,Q,oe,ie)});try{let le=await Y.connect({showPrompt:!0});if((!le||Md(le))&&G.shouldEnforceDefaultChainOnConnect&&!G.chains.find(pe=>pe.id===Number(le==null?void 0:le.chainId.replace("eip155:","")))&&((le==null?void 0:le.connectorType)!=="wallet_connect_v2"||(le==null?void 0:le.walletClientType)!=="metamask")){H(pe=>({...pe,connector:Y,status:"switching_to_supported_chain",connectedWallet:null,connectError:null,connectRetry:ke}));try{await(le==null?void 0:le.switchChain(G.defaultChain.id)),le&&(le.chainId=By(qn(G.defaultChain.id)))}catch{console.warn(`Unable to switch to default chain: ${G.defaultChain.id}`)}}return H(pe=>({...pe,status:"connected",connectedWallet:le,connectError:null,connectRetry:ke})),le&&Ye(we,"connectWallet","onSuccess",{wallet:le}),ie==null?void 0:ie(le,oe)}catch(le){return le instanceof fs?(console.warn(le.cause?le.cause:le.message),Ye(we,"connectWallet","onError",le.privyErrorCode||fe.GENERIC_CONNECT_WALLET_ERROR)):(console.warn(le),Ye(we,"connectWallet","onError",fe.UNKNOWN_CONNECT_WALLET_ERROR)),H(pe=>({...pe,status:"disconnected",connectedWallet:null,connectError:le})),ie==null?void 0:ie(null,oe)}}let yt=async(Y,Q,oe)=>{if(Y===null||!Md(Y))return;let ie=new eg(e,Y,Q,oe);e.startAuthFlow(ie)},Dt=async(Y,Q,oe,ie="plain")=>{let le=n(Nte);if(ie==="transaction"&&!le)throw new ue("useSolanaLedger plugin hook must be mounted");if(Y===null||!sze(Y))return;let pe=new B5(Y,e,Q,oe,ie,le);e.startAuthFlow(pe)},Qe=()=>{let Y=new URLSearchParams(window.location.search),Q=Y.get("privy_connector"),oe=Y.get("privy_wallet_client"),ie=Y.get("privy_connect_only")==="true";if(!Q||!oe)return;let le=$ee({connectorType:Q,walletClientType:oe});if(!le||!le.isInstalled)return Ie($Xe);if(!e.connectors)throw new ue("Connector not initialized");Ie(ie?FS:bu);let pe=new URL(window.location.href);pe.searchParams.delete("privy_connector"),pe.searchParams.delete("privy_wallet_client"),pe.searchParams.delete("privy_connect_only"),window.history.pushState({},"",pe),bt(Q,oe,void 0,ie?void 0:Q==="solana_adapter"?Dt:yt)};$.useEffect(()=>{o&&u&&f===null&&e.getAuthenticatedUser().then(g)},[o,u,f,e]);let Be=Y=>{if(!u)throw Ye(we,"linkAccount","onError",fe.MUST_BE_AUTHENTICATED,{linkMethod:Y}),new ue("User must be authenticated before linking an account.")},Me=Y=>{if(!u||!f)return!1;if(Y.walletClientType==="privy")return!0;for(let Q of f.linkedAccounts)if(Q.type==="wallet"&&Q.address===Y.address&&Q.walletClientType!=="privy")return!0;return!1},Xe=()=>{b(Y=>{var oe;let Q=((oe=e.connectors)==null?void 0:oe.wallets.filter(Md).map(ie=>({...ie,linked:Me(ie),loginOrLink:async()=>{if(!await ie.isConnected())throw new ue("Wallet is not connected");if(ie.connectorType==="embedded"&&ie.walletClientType==="privy")throw new ue("Cannot link or login with embedded wallet");(async le=>{let pe;if(!e.connectors)throw new ue("Connector not initialized");pe=le.type==="ethereum"?e.connectors.findWalletConnector(le.connectorType,le.walletClientType)||null:e.connectors.findSolanaWalletConnector(le.walletClientType)||null,H(Te=>({...Te,connector:pe,status:"connected",connectedWallet:le,connectError:null,connectRetry:ke})),G.captchaEnabled&&!u?(X({captchaModalData:{callback:Te=>Md(le)?yt(le,Te):Dt(le,Te),userIntentRequired:!1,onSuccessNavigateTo:bu,onErrorNavigateTo:_n}}),Ie(vl)):(Md(le)?await yt(le):await Dt(le),Ie(bu))})(ie)},fund:async le=>{await Le.fundWallet(ie.address,le)},unlink:async()=>{if(!u)throw new ue("User is not authenticated.");if(ie.connectorType==="embedded"&&ie.walletClientType==="privy")throw new ue("Cannot unlink an embedded wallet");g(await e.unlinkEthereumWallet(ie.address))}})))||[];return Cee(Y,Q)?Y:Q})};$.useEffect(()=>{Xe()},[f==null?void 0:f.linkedAccounts,u,o]),$.useEffect(()=>{if(o){if(!e.connectors)throw new ue("Connector not initialized");Xe(),e.connectors.on("walletsUpdated",Xe)}},[o]),$.useEffect(()=>{var Y,Q;[...((Y=G.loginMethodsAndOrder)==null?void 0:Y.primary)??[],...((Q=G.loginMethodsAndOrder)==null?void 0:Q.overflow)??[]].filter(oe=>oe.startsWith("privy:")).forEach(oe=>e.getCrossAppProviderDetails(oe.replace("privy:","")))},[!!e]);let vt=({transaction:Y,sponsor:Q,uiOptions:oe,fundWalletConfig:ie,address:le,signOnly:pe})=>new Promise(async(Te,Ne)=>{let{requesterAppId:Tt}=oe||{},mt=pe?"signTransaction":"sendTransaction",ut=le?Jl(f,le):Xl(f);if(!ut&&le){let Et=L7(y,le);if(Et){if(Q)throw new ue("Cannot sponsor transactions for externally connected wallet.");try{let Dr=await Et.getEthereumProvider(),Wt={...Y,from:le,chainId:Y.chainId||Number(Et.chainId.replace("eip155:","")),value:Y.value!==void 0?qn(Y.value):void 0},vr=await Dr.request({method:mt==="sendTransaction"?"eth_sendTransaction":"eth_signTransaction",params:[Wt]});return Ye(we,mt,"onSuccess",{hash:vr}),void Te({hash:vr})}catch(Dr){return Ye(we,mt,"onError",fe.TRANSACTION_FAILURE),void Ne(Dr??new as("Unable to "+mt+Dr))}}}if(!ut)return Ye(we,mt,"onError",fe.EMBEDDED_WALLET_NOT_FOUND),void Ne(new ue("No embedded or connected wallet found for address."));if(!u||!f)return Ye(we,mt,"onError",fe.MUST_BE_AUTHENTICATED),void Ne(Error("User must be authenticated before signing with a Privy wallet"));let At=ut.address,Ue=ut.walletIndex??0,{entropyId:tt,entropyIdVerifier:Je}=ho(f,ut),at=gr.wallets.find(Et=>Et.walletClientType==="privy"&&ei(Et.address)===ei(At));if(!at)return Ye(we,mt,"onError",fe.EMBEDDED_WALLET_NOT_FOUND),void Ne(Error("Must have a Privy wallet before signing"));let ot=await at.getEthereumProvider(),qt=await ot.request({method:"eth_chainId"}),er=Y.chainId?Number(Y.chainId):lne(qt);(Et=>{if(!G.chains.map(Dr=>Dr.id).includes(Et))throw new ln(`Chain ID ${Et} is not supported. It must be added to the config.supportedChains property of the PrivyProvider.`,fe.UNSUPPORTED_CHAIN_ID)})(er);let Rt={...Y,from:Y.from??At,chainId:er},kt=await Xr();if(!kt||!W)return Ye(we,mt,"onError",fe.EMBEDDED_WALLET_NOT_FOUND),void Ne(Error("Must have valid access token and Privy wallet to send transaction"));let zt=Sg(Rt.chainId,G.chains,G.rpcConfig,{appId:t.appId}),jr=Fs(ut),$n=async({transactionRequest:Et})=>{try{let Dr;if(!await Le.recoverEmbeddedWallet({address:At}))throw Ye(we,mt,"onError",fe.UNKNOWN_CONNECT_WALLET_ERROR),Ne(Error("Unable to connect to wallet")),Error("Unable to connect to wallet");if(Q){let Wt=await(async({transactionRequest:vr})=>{if(!jr)throw new ue("Sponsoring is only supported for wallets on the TEE stack");if(pe)throw new ue("Cannot sponsor a sign transaction request");let tn=Ni=>Ni==null?void 0:qn(Ni),wn=await Qo(r,async({message:Ni})=>await W.signWithUserSigner({accessToken:kt,requesterAppId:Tt,message:Ni}),{chain_type:"ethereum",method:"eth_sendTransaction",caip2:By(qn(vr.chainId)),sponsor:!0,params:{transaction:{from:vr.from,to:vr.to,chain_id:tn(vr.chainId),data:ds(vr.data)?vr.data?vr.data:qn(Uint8Array.from(vr.data)):void 0,value:tn(vr.value)}},wallet_id:ut.id});if(wn.data&&"hash"in wn.data)return wn.data.hash;throw new as("Unable to sign transaction")})({transactionRequest:Et});return Ye(we,"sendTransaction","onSuccess",{hash:Wt}),Wt}if(jr){let Wt=tn=>tn==null?void 0:qn(tn),vr=await Qo(r,async({message:tn})=>await W.signWithUserSigner({accessToken:kt,requesterAppId:Tt,message:tn}),{chain_type:"ethereum",method:"eth_signTransaction",params:{transaction:{from:Et.from,to:Et.to,nonce:Wt(Et.nonce),chain_id:Wt(Et.chainId),data:ds(Et.data)?Et.data?Et.data:qn(Uint8Array.from(Et.data)):void 0,value:Wt(Et.value),type:Et.type,gas_limit:Wt(Et.gasLimit??Et.gas),gas_price:Wt(Et.gasPrice??Et.gas),max_fee_per_gas:Wt(Et.maxFeePerGas),max_priority_fee_per_gas:Wt(Et.maxPriorityFeePerGas)}},wallet_id:ut.id});if(!vr.data||!("signed_transaction"in vr.data))throw new as("Unable to sign transaction");Dr=vr.data.signed_transaction}else Dr=await async function({accessToken:Wt,entropyId:vr,entropyIdVerifier:tn,transactingWalletIndex:wn,walletProxy:Ni,transactionRequest:_l,requesterAppId:Cl}){return(await Ni.rpc({entropyId:vr,entropyIdVerifier:tn,hdWalletIndex:wn??0,chainType:"ethereum",accessToken:Wt,requesterAppId:Cl,request:{method:"eth_signTransaction",params:[_l]}})).response.data}({accessToken:kt,entropyId:tt,entropyIdVerifier:Je,transactingWalletIndex:Ue,walletProxy:W,transactionRequest:Et,requesterAppId:Tt});if(pe)return Ye(we,"signTransaction","onSuccess",{signature:Dr}),Dr;{let Wt=await zt.sendRawTransaction({serializedTransaction:Dr});return Ye(we,"sendTransaction","onSuccess",{hash:Wt}),Wt}}catch(Dr){throw Ye(we,mt,"onError",fe.TRANSACTION_FAILURE),Dr}};if(Qt({showWalletUIs:oe==null?void 0:oe.showWalletUIs})){let Et=pe||Q?Rt:await W5(Rt,zt,Rt.from);try{let Dr=await $n({transactionRequest:Et});pe?Ye(we,"signTransaction","onSuccess",{signature:Dr}):Ye(we,"sendTransaction","onSuccess",{hash:Dr}),Te({hash:Dr})}catch(Dr){Ye(we,mt,"onError",fe.TRANSACTION_FAILURE),Ne(Dr)}}else{let Et={connectingWalletAddress:At,recoveryMethod:ut.recoveryMethod,entropyId:tt,entropyIdVerifier:Je,onCompleteNavigateTo:xre,isUnifiedWallet:jr,onFailure:Wt=>{Ye(we,mt,"onError",fe.UNKNOWN_CONNECT_WALLET_ERROR),Ne(Wt)}},Dr=(Wt=>!!Wt.fundingConfig&&cne(Wt.fundingConfig.options).length>=1)(G)?OW({address:At,appConfig:G,fundWalletConfig:ie,methodScreen:al,chainIdOverride:Rt.chainId,comingFromSendTransactionScreen:!0}):void 0;X({connectWallet:Et,sendTransaction:{transactionRequest:Rt,transactingWalletIndex:Ue,transactingWalletAddress:At,entropyId:tt,entropyIdVerifier:Je,signOnly:pe,scanTransaction:async()=>{var vr,tn,wn,Ni;let Wt=await W5(Rt,zt,Rt.from);return await e.scanTransaction({metadata:{domain:G.embeddedWallets.transactionScanning.domain},chain_id:Wt.chainId.toString(),request:{method:"eth_sendTransaction",params:[{from:Wt.from,to:Wt.to,value:(vr=Wt.value)==null?void 0:vr.toString(),gas:(tn=Wt.gas)==null?void 0:tn.toString(),gasPrice:(wn=Wt.gasPrice)==null?void 0:wn.toString(),nonce:(Ni=Wt.nonce)==null?void 0:Ni.toString(),data:Wt.data}]}})},getIsSponsored:async()=>!!Q,onConfirm:({transactionRequest:Wt})=>$n({transactionRequest:Wt}),onSuccess:Wt=>{pe?Ye(we,"signTransaction","onSuccess",{signature:Wt.hash}):Ye(we,"sendTransaction","onSuccess",{hash:Wt.hash}),Te(Wt)},onFailure:Wt=>{Ye(we,mt,"onError",fe.TRANSACTION_FAILURE),Ne(Wt)},uiOptions:oe||{},fundWalletConfig:ie,requesterAppId:Tt},funding:Dr}),Ie(k0)}});function st(){return new Promise(async(Y,Q)=>{let oe=await Xr();if(!oe||!W)throw Error("Must have valid access token to enroll in MFA");try{await W.verifyMfa({accessToken:oe}),Y()}catch(ie){Q(ie)}})}let ct=Y=>Y==null?void 0:Y.linkedAccounts.filter(Q=>Q.latestVerifiedAt!==null&&!(Q.type==="wallet"&&Q.walletClientType==="privy")).sort((Q,oe)=>oe.latestVerifiedAt.getTime()-Q.latestVerifiedAt.getTime())[0],We=Y=>{let Q=(f==null?void 0:f.linkedAccounts.filter(le=>le.type===Y).length)??0,{displayName:oe,loginMethod:ie}=Z4(Y);if(Y==="passkey"&&Q>=5||Y!=="passkey"&&Q>=1)throw Ye(we,"linkAccount","onError",fe.CANNOT_LINK_MORE_OF_TYPE,{linkMethod:ie}),new ue(`User already has an account of type ${oe} linked.`)};async function St({showAutomaticRecovery:Y=!1,legacySetWalletPasswordFlow:Q=!1}){I(null);let oe=Q?"setWalletPassword":"setWalletRecovery";if(!u||!f)throw Ye(we,oe,"onError",fe.MUST_BE_AUTHENTICATED),Error("User must be authenticated before adding recovery method to Privy wallet");let ie=yl(f);if(!ie||!W)throw Ye(we,oe,"onError",fe.EMBEDDED_WALLET_NOT_FOUND),Error("Must have a Privy wallet to add a recovery method");let le=Fs(ie);if(le)throw Ye(we,oe,"onError",fe.UNSUPPORTED_WALLET_TYPE),new ue("User owned wallet recovery is only supported for on-device execution and this app uses TEE execution. Learn more https://docs.privy.io/recipes/tee-wallet-migration-guide");try{await st()}catch(pe){throw Ye(we,oe,"onError",fe.MISSING_MFA_CREDENTIALS),pe}return new Promise((pe,Te)=>{let Ne=ie.recoveryMethod==="user-passcode",Tt=Xte({walletAction:"update",availableRecoveryMethods:G.embeddedWallets.userOwnedRecoveryOptions,legacySetWalletPasswordFlow:Q,isResettingPassword:Ne,showAutomaticRecovery:Y}),{entropyId:mt,entropyIdVerifier:ut}=ho(f),At={recoveryMethod:ie.recoveryMethod,connectingWalletAddress:ie.address,onCompleteNavigateTo:Tt,shouldForceMFA:!1,entropyId:mt,isUnifiedWallet:le,entropyIdVerifier:ut,onFailure:Ue=>{Ye(we,oe,"onError",fe.UNKNOWN_CONNECT_WALLET_ERROR),Te(Ue)}};X({setWalletPassword:{onSuccess:Ue=>{Ye(we,oe,"onSuccess",{method:"user-passcode",wallet:Ue}),pe(Ue)},onFailure:Ue=>{Ye(we,oe,"onError",fe.USER_EXITED_SET_PASSWORD_FLOW),Te(Ue)},callAuthOnSuccessOnClose:!1},recoverWallet:{entropyId:mt,entropyIdVerifier:ut,onFailure:Te},connectWallet:At,recoverySelection:{isInAccountCreateFlow:!1,isResettingPassword:Ne,shouldCreateEth:!1,shouldCreateSol:!1}}),Ie(k0)})}async function Jt({appId:Y,action:Q}){let oe=await Xr();if(Q==="link"&&!oe)throw Ye(we,"linkAccount","onError",fe.MUST_BE_AUTHENTICATED,{linkMethod:`privy:${Y}`}),new ue("User must be authenticated before linking an account.");if(Q==="login"&&oe)throw Ye(we,"login","onError",fe.UNKNOWN_AUTH_ERROR),new ue("Attempted to log in, but user is already logged in. Use a `link` helper instead.");Ae.current=`privy:${Y}`,je.current=Q;let ie=z4();return e.createAnalyticsEvent({eventName:"cross_app_auth_started",payload:{providerAppId:Y}}),new Promise(async(le,pe)=>{let{name:Te,logoUrl:Ne}=await Ene({api:e.api,providerAppId:Y,requesterAppId:G.id});X({crossAppAuth:{appId:Y,name:Te,logoUrl:Ne,action:Q,popup:ie,onSuccess:le,onError:pe}}),Ie(uXe)})}let Nt={ready:o,authenticated:u,user:f,walletConnectors:e.connectors||null,connectWallet:Y=>{Y&&"target"in Y&&Y&&(Y=void 0),X({externalConnectWallet:{walletList:Y!=null&&Y.walletList&&(Y==null?void 0:Y.walletList.length)>0?Y.walletList:void 0,walletChainType:Y==null?void 0:Y.walletChainType,description:Y==null?void 0:Y.description}}),Ie(US)},linkWallet:Y=>{Y&&"target"in Y&&Y&&(Y=void 0),Be("siwe"),Ae.current="siwe",je.current="link",X({...q,externalConnectWallet:{...q.externalConnectWallet,walletList:Y==null?void 0:Y.walletList,walletChainType:Y==null?void 0:Y.walletChainType,description:(Y==null?void 0:Y.description)||`Link a wallet to your ${G==null?void 0:G.name} account`}}),Ie(R3)},startCrossAppAuthFlow:Jt,linkEmail:()=>{Be("email"),We("email"),Ae.current="email",je.current="link",Ie(AXe)},linkPhone:()=>{Be("sms"),We("phone"),Ae.current="sms",je.current="link",Ie(II)},linkGoogle:async()=>{Be("google"),We("google_oauth"),je.current="link",await Le.initLoginWithOAuth("google")},linkTwitter:async()=>{Be("twitter"),We("twitter_oauth"),je.current="link",await Le.initLoginWithOAuth("twitter")},linkDiscord:async()=>{Be("discord"),We("discord_oauth"),je.current="link",await Le.initLoginWithOAuth("discord")},linkGithub:async()=>{Be("github"),We("github_oauth"),je.current="link",await Le.initLoginWithOAuth("github")},linkSpotify:async()=>{Be("spotify"),We("spotify_oauth"),je.current="link",await Le.initLoginWithOAuth("spotify")},linkInstagram:async()=>{Be("instagram"),We("instagram_oauth"),je.current="link",await Le.initLoginWithOAuth("instagram")},linkTiktok:async()=>{Be("tiktok"),We("tiktok_oauth"),je.current="link",await Le.initLoginWithOAuth("tiktok")},linkLine:async()=>{Be("line"),We("line_oauth"),je.current="link",await Le.initLoginWithOAuth("line")},linkLinkedIn:async()=>{Be("linkedin"),We("linkedin_oauth"),je.current="link",await Le.initLoginWithOAuth("linkedin")},linkApple:async()=>{Be("apple"),We("apple_oauth"),je.current="link",await Le.initLoginWithOAuth("apple")},linkPasskey:async()=>{Be("passkey"),We("passkey"),await Le.initLinkWithPasskey(),Ie(ZQe)},linkTelegram:async Y=>{if(Be("telegram"),We("telegram"),je.current="link",Ae.current="telegram",Y==null?void 0:Y.launchParams)if(Y.launchParams.initDataRaw){let Q=new k1;e.startAuthFlow(Q),Q.meta.telegramAuthResult=void 0,Q.meta.telegramWebAppData=vee(Y.launchParams.initDataRaw),X({telegramAuthModalData:{seamlessAuth:!0}}),Ie(j3)}else Ye(we,"linkAccount","onError",fe.INVALID_DATA,{linkMethod:"telegram"});else await Le.initLoginWithTelegram();Ie(j3)},linkFarcaster:async()=>{Be("farcaster"),We("farcaster"),await Le.initLoginWithFarcaster(),je.current="link",Ae.current="farcaster",Ie(BS)},updateEmail:()=>{if(Be("email"),!(f!=null&&f.email))throw new ue("User does not have an email linked to their account.");je.current="update",Ae.current="email",Ie(YXe)},updatePhone:()=>{if(Be("sms"),!(f!=null&&f.phone))throw new ue("User does not have a phone number linked to their account.");je.current="update",Ae.current="sms",Ie(QXe)},login:async Y=>{Y&&"target"in Y&&Y&&(Y=void 0);let Q="Attempted to log in, but user is already logged in. Use a `link` helper instead.";if(!o){let oe=await new Promise(ie=>{ee(le=>ie.bind(le))});if(ee(null),oe)return void console.warn(Q)}!f||f.isGuest?(je.current="login",X({login:Y}),Ie(ps)):console.warn(Q)},connectOrCreateWallet:async()=>{o||(await new Promise(Y=>{ee(()=>Y)}),ee(null)),u?console.warn("User must be unauthenticated to `connectOrCreateWallet`"):(je.current="connect-or-create",Ie(Wte))},logout:async()=>{if(je.current=null,Ae.current=null,f&&e.clearProviderAcccessTokens(f),I(null),await e.logout(),f&&W)try{await W.clearMfa({userId:f.id})}catch{}g(null),h(!1),Ye(we,"logout","onSuccess"),s(!1),Pt.del(vS),Pt.del(tee(G.id))},getAccessToken:$.useCallback(()=>e.getCustomerAccessToken(),[e]),unlinkWallet:async Y=>{let Q;return g(Q=Y.startsWith("0x")?await e.unlinkEthereumWallet(Y):await e.unlinkSolanaWallet(Y)),Q},unlinkEmail:async Y=>{let Q=await e.unlinkEmail(Y);return g(Q),Q},unlinkPhone:async Y=>{let Q=await e.unlinkPhone(Y);return g(Q),Q},unlinkGoogle:async Y=>{let Q=await e.unlinkOAuth("google",Y);return g(Q),Q},unlinkTwitter:async Y=>{let Q=await e.unlinkOAuth("twitter",Y);return g(Q),Q},unlinkDiscord:async Y=>{let Q=await e.unlinkOAuth("discord",Y);return g(Q),Q},unlinkGithub:async Y=>{let Q=await e.unlinkOAuth("github",Y);return g(Q),Q},unlinkSpotify:async Y=>{let Q=await e.unlinkOAuth("spotify",Y);return g(Q),Q},unlinkInstagram:async Y=>{let Q=await e.unlinkOAuth("instagram",Y);return g(Q),Q},unlinkTiktok:async Y=>{let Q=await e.unlinkOAuth("tiktok",Y);return g(Q),Q},unlinkLine:async Y=>{let Q=await e.unlinkOAuth("line",Y);return g(Q),Q},unlinkLinkedIn:async Y=>{let Q=await e.unlinkOAuth("linkedin",Y);return g(Q),Q},unlinkApple:async Y=>{let Q=await e.unlinkOAuth("apple",Y);return g(Q),Q},unlinkFarcaster:async Y=>{let Q=await e.unlinkFarcaster(Y);return g(Q),Q},unlinkTelegram:async Y=>{let Q=await e.unlinkTelegram(Y);return g(Q),Q},unlinkPasskey:async Y=>{let Q=await Xr();if(!Q)throw Error("Must have valid access token to enroll in MFA");if(!W)throw Error("Wallet proxy not initialized.");let oe=G.passkeys.shouldUnenrollMfaOnUnlink;await W.unlinkPasskeyAccount({credentialId:Y,accessToken:Q,removeAsMfa:oe});let ie=await e.getAuthenticatedUser();return g(ie),ie},unlinkCrossAppAccount:async({subject:Y})=>{var ie;let Q=(ie=f==null?void 0:f.linkedAccounts.find(le=>le.type==="cross_app"&&le.subject===Y))==null?void 0:ie.providerApp;if(!Q)throw new ue("Invalid subject");e.storeProviderAccessToken(Q.id,null);let oe=await e.unlinkOAuth(`privy:${Q.id}`,Y);return g(oe),oe},setWalletRecovery:async Y=>St({legacySetWalletPasswordFlow:!1,showAutomaticRecovery:(Y==null?void 0:Y.showAutomaticRecovery)??!1}),setWalletPassword:async()=>St({legacySetWalletPasswordFlow:!0,showAutomaticRecovery:!1}),signMessage:(Y,Q)=>new Promise(async(oe,ie)=>{var tt;let{requesterAppId:le}=(Q==null?void 0:Q.uiOptions)||{},pe=Y.message,Te=Q!=null&&Q.address?Jl(f,Q.address):Xl(f);if(!Te&&(Q==null?void 0:Q.address)!==void 0){let Je=L7(y,Q.address);if(Je)try{let at=await Je.getEthereumProvider(),ot=await at.request({method:"personal_sign",params:[pe,Je.address]});return Ye(we,"signMessage","onSuccess",{signature:ot}),void oe({signature:ot})}catch(at){return Ye(we,"signMessage","onError",fe.UNABLE_TO_SIGN),void ie(at??new as("Unable to sign message"))}}if(!Te)throw new ue("No embedded or connected wallet found for address.");if(!u||!f)return Ye(we,"signMessage","onError",fe.MUST_BE_AUTHENTICATED),void ie(Error("User must be authenticated before signing with a Privy wallet"));let Ne=Te.address,Tt=Te.walletIndex??0,{entropyId:mt,entropyIdVerifier:ut}=ho(f,Te),At=Fs(Te);if(typeof pe!="string"||pe.length<1)return Ye(we,"signMessage","onError",fe.INVALID_MESSAGE),void ie(Error("Message must be a non-empty string"));let Ue=async()=>{let Je;if(!u)throw Error("User must be authenticated before signing with a Privy wallet");let at=await Xr();if(!W||!at||!await Le.recoverEmbeddedWallet({address:Ne}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_started",payload:{walletAddress:Ne,requesterAppId:le}}),At){let ot=ds(Y.message,{strict:!0}),qt=await Qo(r,async({message:er})=>await W.signWithUserSigner({accessToken:at,requesterAppId:le,message:er}),{chain_type:"ethereum",method:"personal_sign",params:ot?{message:pe.slice(2),encoding:"hex"}:{message:pe,encoding:"utf-8"},wallet_id:Te.id});if(!qt.data||!("signature"in qt.data))throw new as("Unable to sign message");Je=qt.data.signature}else{let{response:ot}=await W.rpc({accessToken:at,entropyId:mt,entropyIdVerifier:ut,chainType:"ethereum",hdWalletIndex:Tt,requesterAppId:le,request:{method:"personal_sign",params:[pe,Ne]}});Je=ot.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_message_completed",payload:{walletAddress:Ne,requesterAppId:le}}),Je};if(Qt({showWalletUIs:(tt=Q==null?void 0:Q.uiOptions)==null?void 0:tt.showWalletUIs}))try{let Je=await Ue();Ye(we,"signMessage","onSuccess",{signature:Je}),oe({signature:Je})}catch(Je){Ye(we,"signMessage","onError",fe.UNABLE_TO_SIGN),ie(Je??new as("Unable to sign message"))}else X({signMessage:{method:"personal_sign",data:pe,confirmAndSign:Ue,onSuccess:Je=>{Ye(we,"signMessage","onSuccess",{signature:Je}),oe({signature:Je})},onFailure:Je=>{Ye(we,"signMessage","onError",fe.UNABLE_TO_SIGN),ie(Je)},uiOptions:(Q==null?void 0:Q.uiOptions)||{}},connectWallet:{recoveryMethod:Te.recoveryMethod,connectingWalletAddress:Ne,entropyId:mt,entropyIdVerifier:ut,onCompleteNavigateTo:Gz,isUnifiedWallet:At,onFailure:Je=>{Ye(we,"signMessage","onError",fe.UNKNOWN_CONNECT_WALLET_ERROR),ie(Je)}}}),Ie(k0)}),signTypedData:(Y,Q)=>new Promise(async(oe,ie)=>{var tt;let{requesterAppId:le}=(Q==null?void 0:Q.uiOptions)||{},pe=Q!=null&&Q.address?Jl(f,Q.address):Xl(f);if(!pe&&(Q!=null&&Q.address)){let Je=L7(y,Q.address);if(Je)try{let at=await Je.getEthereumProvider(),ot=I3(Y),qt=await at.request({method:"eth_signTypedData_v4",params:[Je.address,ot]});return Ye(we,"signTypedData","onSuccess",{signature:qt}),void oe({signature:qt})}catch(at){return Ye(we,"signTypedData","onError",fe.UNABLE_TO_SIGN),void ie(at??new as("Unable to sign typed data "+at))}}if(!pe)throw new ue("No embedded or connected wallet found for address.");if(!u||!f)return Ye(we,"signTypedData","onError",fe.MUST_BE_AUTHENTICATED),void ie(Error("User must be authenticated before signing with a Privy wallet"));let Te=pe.address,Ne=pe.walletIndex??0,{entropyId:Tt,entropyIdVerifier:mt}=ho(f,pe),ut=Fs(pe),At=I3(Y),Ue=async()=>{let Je;if(!u)throw Error("User must be authenticated before signing with a Privy wallet");let at=await Xr();if(!W||!at||!await Le.recoverEmbeddedWallet({address:Te}))throw Error("Unable to connect to wallet");if(e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_started",payload:{walletAddress:Te,requesterAppId:le}}),ut){let{domain:ot,types:qt,primaryType:er,message:Rt}=At,kt=await Qo(r,async({message:zt})=>await W.signWithUserSigner({accessToken:at,requesterAppId:le,message:zt}),{chain_type:"ethereum",method:"eth_signTypedData_v4",params:{typed_data:{domain:ot,types:qt,primary_type:er,message:Rt}},wallet_id:pe.id});if(!kt.data||!("signature"in kt.data))throw new as("Unable to sign message");Je=kt.data.signature}else{let{response:ot}=await W.rpc({accessToken:at,entropyId:Tt,entropyIdVerifier:mt,chainType:"ethereum",hdWalletIndex:Ne,requesterAppId:le,request:{method:"eth_signTypedData_v4",params:[Te,At]}});Je=ot.data}return e.createAnalyticsEvent({eventName:"embedded_wallet_sign_typed_data_completed",payload:{walletAddress:Te,requesterAppId:le}}),Je};if(Qt({showWalletUIs:(tt=Q==null?void 0:Q.uiOptions)==null?void 0:tt.showWalletUIs}))try{let Je=await Ue();Ye(we,"signTypedData","onSuccess",{signature:Je}),oe({signature:Je})}catch(Je){Ye(we,"signTypedData","onError",fe.UNABLE_TO_SIGN),ie(Je??new as("Unable to sign message"))}else X({signMessage:{method:"eth_signTypedData_v4",data:At,confirmAndSign:Ue,onSuccess:Je=>{Ye(we,"signTypedData","onSuccess",{signature:Je}),oe({signature:Je})},onFailure:Je=>{Ye(we,"signTypedData","onError",fe.UNABLE_TO_SIGN),ie(Je)},uiOptions:(Q==null?void 0:Q.uiOptions)||{}},connectWallet:{recoveryMethod:pe.recoveryMethod,connectingWalletAddress:pe.address,entropyId:Tt,isUnifiedWallet:ut,entropyIdVerifier:mt,onCompleteNavigateTo:Gz,onFailure:Je=>{Ye(we,"signMessage","onError",fe.UNKNOWN_CONNECT_WALLET_ERROR),ie(Je)}}}),Ie(k0)}),sendTransaction:async(Y,Q)=>await vt({transaction:Y,sponsor:Q==null?void 0:Q.sponsor,uiOptions:Q==null?void 0:Q.uiOptions,fundWalletConfig:Q==null?void 0:Q.fundWalletConfig,address:Q==null?void 0:Q.address,signOnly:!1}),signTransaction:async(Y,Q)=>({signature:(await vt({transaction:Y,uiOptions:Q==null?void 0:Q.uiOptions,address:Q==null?void 0:Q.address,signOnly:!0})).hash}),exportWallet:Y=>new Promise(async(Q,oe)=>{if(!u||!f)return void oe(Error("User must be authenticated before exporting their Privy wallet"));Y&&"target"in Y&&Y&&(Y=void 0);let ie=Y!=null&&Y.address?Jl(f,Y.address):Xl(f);if(!ie)return void oe(new ue("User must have an embedded wallet."));let le=ie.address,{entropyId:pe,entropyIdVerifier:Te}=ho(f,ie),Ne=Fs(ie);if(!le)return void oe(Error("User does not have an HD Ethereum wallet. To export an imported wallet, pass the `address` of the wallet to `exportWallet`."));if(!ta(le))return void oe(Error("Must provide a valid Ethereum address."));let Tt={recoveryMethod:ie.recoveryMethod,connectingWalletAddress:ie.address,isUnifiedWallet:Ne,entropyId:pe,entropyIdVerifier:Te,onCompleteNavigateTo:fI,onFailure:oe,shouldForceMFA:!0};X(q),await Xr()&&W?W?Ng(ie)?(X({keyExport:{appId:t.appId,appClientId:t.clientId,origin:e.apiUrl,address:ie.address,entropyId:pe,entropyIdVerifier:Te,hdWalletIndex:ie.walletIndex,chainType:ie.chainType,walletId:ie.id,isUnifiedWallet:Ne,imported:ie.imported,onSuccess:Q,onFailure:oe},connectWallet:Tt}),Ie(k0)):oe(Error(`Export is not supported for ${ie.chainType} wallets`)):oe(Error("Must have a Privy wallet before exporting")):oe(Error("Must have valid access token to enroll in MFA"))}),promptMfa:st,async init(Y){switch(Y){case"sms":return void await e.initMfaSmsVerification();case"passkey":return await e.initMfaPasskeyVerification();case"totp":return;default:throw Error(`Unsupported MFA method: ${Y}`)}},async submit(Y,Q){var oe,ie,le;switch(Y){case"totp":case"sms":if(typeof Q!="string")throw new ue("Invalid MFA code");(oe=ye.current)==null||oe.resolve({mfaMethod:Y,mfaCode:Q,relyingParty:window.origin}),await new Promise((Ne,Tt)=>{$e.current={resolve:Ne,reject:Tt}});break;case"passkey":if(typeof Q=="string")throw new ue("Invalid authenticator response");let pe=await ic(()=>import("./index-Bjltdz_y.js"),[],import.meta.url),Te=lXe(await pe.startAuthentication(Q));(ie=ye.current)==null||ie.resolve({mfaMethod:Y,mfaCode:Te,relyingParty:window.origin}),await new Promise((Ne,Tt)=>{$e.current={resolve:Ne,reject:Tt}});break;default:throw(le=ye.current)==null||le.reject(new ue("Unsupported MFA method")),new ue(`Unsupported MFA method: ${Y}`)}},cancel(){var Y;(Y=ye.current)==null||Y.reject(new ue("MFA canceled"))},async initEnrollmentWithSms(Y){let Q=await Xr();if(!Q||!W)throw Error("Must have valid access token to enroll in MFA");await W.initEnrollMfa({method:"sms",accessToken:Q,phoneNumber:Y.phoneNumber})},enrollInMfa:Y=>new Promise((Q,oe)=>{if(!Y)return Le.closePrivyModal(),void Q();G.mfa.noPromptOnMfaRequired&&console.warn("[Privy Warning] Triggering the 'showMfaEnrollmentModal' function when 'noPromptOnMfaRequired' is set to true is unexpected. If this is intentional, ensure that you are building custom UIs for MFA verification."),X({mfaEnrollmentFlow:{mfaMethods:G.mfa.methods,shouldUnlinkOnUnenrollMfa:G.passkeys.shouldUnlinkOnUnenrollMfa,onSuccess:Q,onFailure:oe}}),Ie(WXe)}),async initEnrollmentWithTotp(){let Y=await Xr();if(!Y||!W)throw Error("Must have valid access token to enroll in MFA");let Q=await W.initEnrollMfa({method:"totp",accessToken:Y});return{secret:Q.secret,authUrl:Q.authUrl}},async submitEnrollmentWithSms(Y){let Q=await Xr();if(!Q||!W)throw Error("Must have valid access token to enroll in MFA");await W.submitEnrollMfa({method:"sms",accessToken:Q,phoneNumber:Y.phoneNumber,code:Y.mfaCode}),g(await e.getAuthenticatedUser())},async submitEnrollmentWithTotp(Y){let Q=await Xr();if(!Q||!W)throw Error("Must have valid access token to enroll in MFA");await W.submitEnrollMfa({method:"totp",accessToken:Q,code:Y.mfaCode}),g(await e.getAuthenticatedUser())},async initEnrollmentWithPasskey(){},async submitEnrollmentWithPasskey({credentialIds:Y},Q={}){let oe=await Xr();if(!oe||!W)throw Error("Must have valid access token to enroll in MFA");await W.submitEnrollMfa({method:"passkey",accessToken:oe,credentialIds:Y,removeForLogin:Q.removeForLogin}),g(await e.getAuthenticatedUser())},async unenroll(Y,Q={}){let oe=await Xr();if(!oe||!W)throw Error("Must have valid access token to remove MFA");Y==="passkey"?await W.submitEnrollMfa({method:"passkey",accessToken:oe,credentialIds:[],removeForLogin:Q.removeForLogin}):await W.unenrollMfa({method:Y,accessToken:oe}),g(await e.getAuthenticatedUser())},requestFarcasterSignerFromWarpcast:async()=>{var ie;let Y=await Xr(),Q=f==null?void 0:f.linkedAccounts.find(le=>le.type==="wallet"&&le.walletClientType==="privy");if(!Y)throw Error("Must have valid access token to connect with Farcaster");if(!W||!Q)throw Error("Must have an embedded wallet to use Farcaster signers");if(Fs(Q))throw new ue("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!((ie=f==null?void 0:f.farcaster)!=null&&ie.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await Le.recoverEmbeddedWallet({address:Q.address}))throw Error("Unable to connect to wallet");let oe=await W.initFarcasterSigner({address:Q.address,hdWalletIndex:null,accessToken:Y,mfaCode:null,mfaMethod:null,relyingParty:window.origin});oe.status==="approved"&&g(await e.getAuthenticatedUser()||f||null),X({farcasterSigner:oe}),Ie(EXe)},getFarcasterSignerPublicKey:async()=>{var ie,le;let Y,Q=await Xr(),oe=f==null?void 0:f.linkedAccounts.find(pe=>pe.type==="wallet"&&pe.walletClientType==="privy");if(!Q)throw Error("Must have valid access token to connect with Farcaster");if(!W||!oe)throw Error("Must have an embedded wallet to use Farcaster signers");if(Fs(oe))throw new ue("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!((ie=f==null?void 0:f.farcaster)!=null&&ie.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await Le.recoverEmbeddedWallet({address:oe.address}))throw Error("Unable to connect to wallet");if(!((le=f.farcaster)!=null&&le.signerPublicKey))throw Error("Must have a Farcaster signer public key to sign");return Y=f.farcaster.signerPublicKey.slice(2),Uint8Array.from(Y.match(/.{1,2}/g).map(pe=>parseInt(pe,16)))},signFarcasterMessage:async Y=>{var pe,Te;let Q=await Xr(),oe=f==null?void 0:f.linkedAccounts.find(Ne=>Ne.type==="wallet"&&Ne.walletClientType==="privy");if(!Q)throw Error("Must have valid access token to connect with Farcaster");if(!W||!oe)throw Error("Must have an embedded wallet to use Farcaster signers");if(Fs(oe))throw new ue("Farcaster signers are only supported for on-device execution and this app uses TEE execution. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");if(!((pe=f==null?void 0:f.farcaster)!=null&&pe.fid))throw Error("Must have Farcaster account to use Farcaster signers");if(!await Le.recoverEmbeddedWallet({address:oe.address}))throw Error("Unable to connect to wallet");if(!((Te=f.farcaster)!=null&&Te.signerPublicKey))throw Error("Must have a Farcaster signer public key to sign");let ie=await ic(()=>import("./index-Bjltdz_y.js"),[],import.meta.url),le=await W.signFarcasterMessage({address:oe.address,hdWalletIndex:null,accessToken:Q,mfaCode:null,mfaMethod:null,payload:{hash:ie.bufferToBase64URLString(Y)},fid:BigInt(f.farcaster.fid),relyingParty:window.origin});return new Uint8Array(ie.base64URLStringToBuffer(le.signature))},signMessageWithCrossAppWallet(Y,{address:Q,chainId:oe}){let ie=f==null?void 0:f.linkedAccounts.some(le=>le.type==="cross_app"&&le.smartWallets.some(pe=>pe.address===Q));return Zv({user:f,client:e,address:Q,requesterAppId:G.id,request:{method:ie?"privy_signSmartWalletMessage":"personal_sign",params:[Y,Q],chainId:oe},reconnect:Jt})},signTypedDataWithCrossAppWallet(Y,{address:Q,chainId:oe}){let ie=f==null?void 0:f.linkedAccounts.some(pe=>pe.type==="cross_app"&&pe.smartWallets.some(Te=>Te.address===Q)),le=I3(Y);return Zv({user:f,client:e,address:Q,requesterAppId:G.id,request:{method:ie?"privy_signSmartWalletTypedData":"eth_signTypedData_v4",params:[Q,le],chainId:oe},reconnect:Jt})},sendTransactionWithCrossAppWallet(Y,{address:Q}){let oe=f==null?void 0:f.linkedAccounts.some(ie=>ie.type==="cross_app"&&ie.smartWallets.some(le=>le.address===Q));return Zv({user:f,client:e,address:Q,requesterAppId:G.id,request:{method:oe?"privy_sendSmartWalletTx":"eth_sendTransaction",params:[Y],chainId:Y.chainId},reconnect:Jt})},signTransactionWithCrossAppWallet(Y,{address:Q}){let oe=f==null?void 0:f.linkedAccounts.some(ie=>ie.type==="cross_app"&&ie.smartWallets.some(le=>le.address===Q));return Zv({user:f,client:e,address:Q,requesterAppId:G.id,request:{method:oe?"privy_signSmartWalletTx":"eth_signTransaction",params:[Y],chainId:Y.chainId},reconnect:Jt})},isModalOpen:i||!!a,mfaMethods:G.mfa.methods};kne=Nt.signMessage,$ne=Nt.signTypedData,Ine=async(Y,Q)=>await vt({transaction:Y,...Q,signOnly:!1}),Tne=async(Y,Q)=>({signature:(await vt({transaction:Y,...Q,signOnly:!0})).hash});let Le={privy:r,setAuthenticated:h,setUser:g,setIsNewUser:S,isNewUserThisSession:E,pendingTransaction:null,walletConnectionStatus:F,setWalletConnectionStatus:H,connectors:((Un=e.connectors)==null?void 0:Un.walletConnectors)??[],rpcConfig:G.rpcConfig,chains:G.chains,appId:t.appId,showFiatPrices:G.embeddedWallets.priceDisplay.primary!=="native-token",clientAnalyticsId:e.clientAnalyticsId,onCustomAuthAuthenticated:pt,hideWalletUIs:gt,isHeadlessSigning:$.useCallback(Qt,[G.embeddedWallets.showWalletUIs]),emailOtpState:V,setEmailOtpState:K,smsOtpState:B,setSmsOtpState:C,oAuthState:D,setOAuthState:P,telegramAuthState:R,setTelegramAuthState:j,siweState:k,setSiweState:N,isHeadlessOAuthLoading:A,baseAccountSdk:w,setBaseAccountSdk:x,nativeTokenSymbolForChainId:Y=>{var Q;return(Q=G.chains.find(oe=>oe.id===Number(Y)))==null?void 0:Q.nativeCurrency.symbol},initializeWalletProxy:async Y=>{if(W)return W;let Q=new Promise(le=>{ce.current=le}),oe=new Promise(le=>setTimeout(()=>le(null),Y)),ie=await Promise.race([Q,oe]);return ce.current=null,ie},getAuthFlow:()=>e.authFlow,getAuthMeta:()=>{var Y;return(Y=e.authFlow)==null?void 0:Y.meta},client:e,closePrivyModal:async(Y={shouldCallAuthOnSuccess:!0,isSuccess:!1})=>{let Q,oe=o&&u&&f;oe&&Ae.current&&(Q=ct(f)),je.current==="login"?Y.shouldCallAuthOnSuccess&&oe&&Ae.current?Ye(we,"login","onComplete",{user:f,isNewUser:E,wasAlreadyAuthenticated:!1,loginMethod:Ae.current,loginAccount:Q??null}):Ye(we,"login","onError",fe.USER_EXITED_AUTH_FLOW):je.current==="link"&&Q?Y.isSuccess&&oe&&Ae.current?Ye(we,"linkAccount","onSuccess",{user:f,linkMethod:Ae.current,linkedAccount:Q}):Ae.current&&Ye(we,"linkAccount","onError",fe.USER_EXITED_LINK_FLOW,{linkMethod:Ae.current}):je.current==="update"&&Q?Y.isSuccess&&oe&&Ae.current?Ye(we,"update","onSuccess",{user:f,updateMethod:Ae.current,updatedAccount:Q}):Ae.current&&Ye(we,"update","onError",fe.USER_EXITED_UPDATE_FLOW,{linkMethod:Ae.current}):je.current==="connect-or-create"&&(y[0]?Ye(we,"connectOrCreateWallet","onSuccess",{wallet:y[0]}):Ye(we,"connectOrCreateWallet","onError",fe.USER_EXITED_AUTH_FLOW));let ie=_&&F_.has(_),le=_===_n&&q.errorModalData&&F_.has(q.errorModalData.previousScreen);if((ie||le)&&q.funding){let pe,Te=F_.get(_)??null;if(q.funding.chainType==="solana"){let Ne=G.solanaRpcs[q.funding.chain];if(!Ne)return void console.warn("Unable to load solana rpc, skipping balance");if(n(HS))try{pe=await cI({rpc:Ne.rpc,address:q.funding.address})}catch{console.error("Unable to pull wallet balance")}else console.warn("Unable to load solana plugin, skipping balance");Ye(we,"fundSolanaWallet","onUserExited",{address:q.funding.address,fundingMethod:Te,chain:q.funding.chain,balance:pe})}else{let Ne=Sg(q.funding.chain.id,G.chains,G.rpcConfig,{appId:t.appId});try{pe=await Ne.getBalance({address:q.funding.address})}catch{console.error("Unable to pull wallet balance")}Ye(we,"fundWallet","onUserExited",{address:q.funding.address,chain:q.funding.chain,fundingMethod:Te,balance:pe})}}X(pe=>({...pe,externalConnectWallet:{}})),je.current=null,Ae.current=null,S(!1),s(!1),setTimeout(()=>{e.authFlow=void 0},200)},openPrivyModal:Ie,connectWallet:jt,initLoginWithWallet:async(Y,Q,oe,ie)=>{Md(Y)?(Ae.current="siwe",yt(Y,Q,oe)):(Ae.current="siws",Dt(Y,Q,oe,ie))},loginWithWallet:async()=>{let Y,Q,oe;if(!o)throw new Dh;if(e.authFlow instanceof eg?Y="siwe":e.authFlow instanceof B5&&(Y="siws"),!Y)throw new ue("Must initialize SIWE/SIWS flow first.");if(await e.getAccessToken()!==null)try{({user:Q}=await e.link()),Ae.current=Y}catch(ie){throw Ye(we,"linkAccount","onError",ie.privyErrorCode||fe.FAILED_TO_LINK_ACCOUNT,{linkMethod:Y}),ie}else try{({user:Q,isNewUser:oe}=await e.authenticate()),Ae.current=Y}catch(ie){throw Ye(we,"login","onError",ie.privyErrorCode||fe.GENERIC_CONNECT_WALLET_ERROR),ie}g(Q||f||null),S(oe||!1),h(!0)},delegateWallet:async({address:Y,chainType:Q,showDelegationUIs:oe})=>new Promise(async(ie,le)=>{let pe=await Xr();if(!u||!f||!pe)throw new ue("User must be authenticated and have an embedded wallet to delegate actions.");if(Q!=="solana"&&Q!=="ethereum")throw new ue("Only Solana and Ethereum embedded wallets are supported for delegation and revocation.");let Te=Le.walletProxy??await Le.initializeWalletProxy(15e3);if(!Te)throw new ue("Wallet proxy not initialized.");if((({address:At,user:Ue})=>!!KW(Ue).find(tt=>tt.address===At))({address:Y,user:f}))return ie();let Ne=Jl(f,Y);if(!Ne)throw new ue("Address to delegate is not associated with current user.");if(Fs(Ne))throw new ue("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let Tt=zQe({address:Y,user:f}),mt=WQe({address:Y,user:f}),ut=async()=>{await Te.createDelegatedAction({accessToken:pe,rootWallet:mt,delegatedWallets:[Tt]}),await Le.refreshSessionAndUser()};if(await Le.recoverEmbeddedWallet({address:Y}),oe)X({delegatedActions:{consent:{address:Y,onDelegate:ut,onSuccess:async()=>{ie()},onError:async At=>{le(At)}}}}),Ie(hXe);else try{await ut(),ie()}catch(At){le(At)}}),revokeDelegatedWallets:async({showDelegationUIs:Y})=>new Promise(async(Q,oe)=>{if(!u||!f)throw new ue("User must be authenticated and have an embedded wallet to revoke a delegated wallet.");let ie=KW(f);if(ie.length===0)throw new ue("User has no delegated wallets to revoke.");if(ie.some(Fs))throw new ue("useDelegatedActions is only supported for on-device execution and this app uses TEE execution. Use the useSessionSigners hook to provision server side access on behalf of your users. Learn more at https://docs.privy.io/recipes/tee-wallet-migration-guide");let le=async()=>{await e.revokeDelegatedWallet(),await Le.refreshSessionAndUser()};if(Y)X({delegatedActions:{revoke:{onRevoke:le,onSuccess:async()=>{Q()},onError:async pe=>{oe(pe)}}}}),Ie(pXe);else try{await le(),Q()}catch(pe){oe(pe)}}),initLoginWithFarcaster:async(Y,Q)=>{let oe=new jW(Y,Q);e.startAuthFlow(oe);try{Ae.current="farcaster",await oe.initializeFarcasterConnect()}catch(ie){throw je.current==="login"?Ye(we,"login","onError",ie.privyErrorCode||fe.UNKNOWN_AUTH_ERROR):je.current==="link"&&Ye(we,"linkAccount","onError",ie.privyErrorCode||fe.UNKNOWN_AUTH_ERROR,{linkMethod:"farcaster"}),ie}},loginWithFarcaster:async()=>{let Y,Q;if(!o)throw new Dh;if(!(e.authFlow instanceof jW))throw new ue("Must initialize Farcaster flow first.");if(await e.getAccessToken()!==null)try{({user:Y}=await e.link()),Ae.current="farcaster"}catch(oe){throw Ye(we,"linkAccount","onError",oe.privyErrorCode||fe.FAILED_TO_LINK_ACCOUNT,{linkMethod:"farcaster"}),oe}else try{({user:Y,isNewUser:Q}=await e.authenticate()),Ae.current="farcaster"}catch(oe){throw Ye(we,"login","onError",oe.privyErrorCode||fe.UNKNOWN_AUTH_ERROR),oe}g(Y||null),S(Q||!1),h(!0)},async crossAppAuthFlow({appId:Y,popup:Q,action:oe}){let ie=`privy:${Y}`;Ae.current=ie;let{url:le,stateCode:pe,codeVerifier:Te}=await async function({api:Ne,appId:Tt}){let mt=O4(),ut=DT(),At=await UT(mt);try{let{url:Ue}=await Ne.post(MK,{provider:`privy:${Tt}`,redirect_to:window.location.href,code_challenge:At,state_code:ut});return{url:Ue,stateCode:ut,codeVerifier:mt}}catch(Ue){throw br(Ue)}}({api:e.api,appId:Y});if(!le)throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:"Unable to open cross-app auth popup",appId:Y}}),new ue("No authorization URL returned for cross-app auth.");try{let Ne=await async function({url:Ue,popup:tt}){return tt.location=Ue,new Promise((Je,at)=>{let ot,qt=setTimeout(()=>{at(new ue("Authorization request timed out after 2 minutes.")),er()},12e4);function er(){tt==null||tt.close(),window.removeEventListener("message",kt)}let Rt=setInterval(()=>{tt!=null&&tt.closed&&!ot&&(er(),clearInterval(Rt),clearTimeout(qt),at(new ue("User rejected request")))},300);function kt(zt){zt.data&&(zt.data.type==="PRIVY_OAUTH_RESPONSE"&&zt.data.stateCode&&zt.data.authorizationCode&&(clearTimeout(qt),Je(zt.data),er()),zt.data.type==="PRIVY_OAUTH_ERROR"&&(clearTimeout(qt),at(new ue(zt.data.error)),er()),zt.data.type===ZW&&((ot=new BroadcastChannel(YW)).onmessage=kt))}window.addEventListener("message",kt)})}({url:le,popup:Q,provider:ie}),Tt=Ne.stateCode,mt=Ne.authorizationCode;if(Tt!==pe)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:ie,storedStateCode:pe??"",returnedStateCode:Tt??""}}),new ue("Unexpected auth flow. This may be a phishing attempt.",void 0,fe.OAUTH_UNEXPECTED);let ut=await async function({appId:Ue,stateCode:tt,codeVerifier:Je,authorizationCode:at,action:ot,client:qt}){var er;if(!at||!tt)throw new ue("[Cross-App AuthFlow] Authorization and state codes code must be set prior to calling authenicate.");if(at==="undefined")throw new ue("User denied confirmation during cross-app auth flow");try{let Rt=new HQe({authorizationCode:at,stateCode:tt,codeVerifier:Je,provider:`privy:${Ue}`});qt.startAuthFlow(Rt);let kt=ot==="link"?await qt.link():await qt.authenticate(),zt=(er=kt.oAuthTokens)==null?void 0:er.accessToken;return console.debug(),zt}catch(Rt){let kt=br(Rt);throw kt.privyErrorCode===fe.ACCOUNT_TRANSFER_REQUIRED?kt:kt.privyErrorCode?new ue(kt.message||"Invalid code during cross-app auth flow.",void 0,kt.privyErrorCode):kt.message==="User denied confirmation during cross-app auth flow"?new ue("Invalid code during cross-app auth flow.",void 0,fe.OAUTH_USER_DENIED):new ue("Invalid code during cross-app auth flow.",void 0,fe.UNKNOWN_AUTH_ERROR)}}({appId:Y,codeVerifier:Te,stateCode:Tt,authorizationCode:mt,action:oe,client:e});ut&&e.storeProviderAccessToken(Y,ut);let At=await Le.refreshSessionAndUser();if(!At)throw new ue("Unable to update user");return e.createAnalyticsEvent({eventName:"cross_app_auth_completed",payload:{providerAppId:Y}}),At}catch(Ne){throw e.createAnalyticsEvent({eventName:"cross_app_auth_error",payload:{error:Ne.toString(),provider:ie}}),Ne}},async initLoginWithOAuth(Y,Q,oe){if(Ae.current=Y,!bS()||Y==="google"&&LS(window.navigator.userAgent))return void Ie(JW);Y==="twitter"&&window.opener&&window.opener.postMessage({type:ZW},"*"),Pt.del(U5),Pt.del(Uy);let ie=new $0({provider:Y,disableSignup:!!oe,withPrivyUi:!0,customOAuthRedirectUrl:G.customOAuthRedirectUrl});Q&&ie.addCaptchaToken(Q),e.startAuthFlow(ie);let le=await e.authFlow.getAuthorizationUrl();if(le&&le.url)if(Y==="twitter"&&Tr.isAndroid&&(le.url=le.url.replace("x.com","twitter.com")),window.location.protocol==="chrome-extension:"&&rk())try{let{privyOAuthCode:pe,privyOAuthState:Te}=await DW(le.url);Ie(tq),ie.meta.stateCode=Te,ie.meta.authorizationCode=pe}catch(pe){throw console.error("OAuth in chrome extension flow failed:",pe),pe}else window.location.assign(le.url)},async initLoginWithTelegram(Y,Q){if(!o)throw new Dh;Ae.current="telegram";let oe=new k1(Y,Q);e.startAuthFlow(oe),j({status:"loading"}),oe.meta.telegramWebAppData=void 0,oe.meta.telegramAuthResult=await new Promise((ie,le)=>G.loginConfig.telegramAuthConfiguration?window.Telegram?void window.Telegram.Login.auth({bot_id:G.loginConfig.telegramAuthConfiguration.botId,request_access:!0},pe=>pe?ie(pe):le(new ue("Telegram auth failed or was canceled by the client"))):le(new ue("Telegram was not initialized")):le(new ue("Telegram Auth configuration is not loaded")))},async loginWithTelegram(Y){var Te;let Q,oe;if(!(e.authFlow instanceof k1))throw new ue("Must initialize Telegram flow before calling loginWithTelegram");(Te=e.authFlow.meta).captchaToken||(Te.captchaToken=Y==null?void 0:Y.captchaToken);let ie=await Xr(),le=(Y==null?void 0:Y.intent)||je.current;if(le==="login")try{let Ne=await e.authenticate();Q=Ne.user,oe=Ne.isNewUser,Ae.current="telegram"}catch(Ne){throw Ye(we,"login","onError",Ne.privyErrorCode||fe.UNKNOWN_AUTH_ERROR),Ne}else{if(le!=="link")throw new ue("Unknown auth intent");try{Q=(await e.link()).user,Ae.current="telegram"}catch(Ne){throw Ye(we,"linkAccount","onError",Ne.privyErrorCode||fe.FAILED_TO_LINK_ACCOUNT,{linkMethod:"telegram"}),Ne}}g(Q),S(oe||!1),h(!0),j({status:"done"});let pe=(Q==null?void 0:Q.linkedAccounts.find(({type:Ne})=>Ne==="telegram"))||null;return{user:Q,isNewUser:oe||!1,wasAlreadyAuthenticated:!!ie,loginAccount:pe}},async loginWithOAuth(Y){let Q,oe,ie;if(!(e.authFlow instanceof $0))throw new ue("Must initialize OAuth flow before calling loginWithOAuth");let le=Pt.get(D5),pe=e.authFlow.meta.stateCode;if(le!==pe)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:Y,storedStateCode:le??"",returnedStateCode:pe??""}}),new ue("Unexpected auth flow. This may be a phishing attempt.",void 0,fe.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{let Te=await e.link();Q=Te.user,ie=Te.oAuthTokens,Ae.current=Y}catch(Te){throw Ye(we,"linkAccount","onError",Te.privyErrorCode||fe.FAILED_TO_LINK_ACCOUNT,{linkMethod:Y}),Te}else try{let Te=await e.authenticate();Q=Te.user,oe=Te.isNewUser,ie=Te.oAuthTokens,Ae.current=Y}catch(Te){throw je.current==="login"?Ye(we,"login","onError",Te.privyErrorCode||fe.UNKNOWN_AUTH_ERROR):je.current==="link"&&Ye(we,"linkAccount","onError",Te.privyErrorCode||fe.FAILED_TO_LINK_ACCOUNT,{linkMethod:Y}),Te}return g(Q),S(oe||!1),h(!0),ie&&Q&&Ye(we,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:ie,user:Q}),ie},passkeyAuthState:L,setPasskeyAuthState:z,async initSignupWithPasskey({captchaToken:Y,withPrivyUi:Q}){let oe=new _0({captchaToken:Y,setPasskeyAuthState:z});e.startAuthFlow(oe),je.current="login";try{Ae.current="passkey",z({status:"generating-challenge"}),await oe.initRegisterFlow(Q),z({status:"awaiting-passkey"})}catch(ie){throw z({status:"error",error:ie}),Ye(we,"login","onError",ie.privyErrorCode||fe.UNKNOWN_AUTH_ERROR),ie}},async signupWithPasskey(){let Y,Q;if(!o)throw new Dh;if(!(e.authFlow instanceof _0))throw new ue("Must initialize Passkey flow first.");if(Ae.current!=="passkey"){let le=new ue("Must init login with Passkey flow first.");throw z({status:"error",error:le}),le}let oe=await Xr();try{Ae.current="passkey",z({status:"awaiting-passkey"}),{user:Y,isNewUser:Q}=await e.authenticate()}catch(le){throw z({status:"error",error:le}),Ye(we,"login","onError",le.privyErrorCode||fe.UNKNOWN_AUTH_ERROR),le}g(Y),S(Q||!1),h(!0),z({status:"done"});let ie=(Y==null?void 0:Y.linkedAccounts.find(({type:le})=>le==="passkey"))||null;return{user:Y,isNewUser:Q||!1,wasAlreadyAuthenticated:!!oe,loginAccount:ie}},async initLoginWithPasskey({captchaToken:Y,withPrivyUi:Q}){let oe=new _0({captchaToken:Y,setPasskeyAuthState:z});e.startAuthFlow(oe),je.current="login";try{Ae.current="passkey",z({status:"generating-challenge"}),await oe.initAuthenticationFlow(Q),z({status:"awaiting-passkey"})}catch(ie){throw z({status:"error",error:ie}),Ye(we,"login","onError",ie.privyErrorCode||fe.UNKNOWN_AUTH_ERROR),ie}},async loginWithPasskey(Y){let Q,oe;if(!o)throw new Dh;if(!(e.authFlow instanceof _0))throw new ue("Must initialize Passkey flow first.");if(Y!=null&&Y.credentialIds&&(e.authFlow.meta.allowedCredentialsIds=Y.credentialIds),Ae.current!=="passkey"){let pe=new ue("Must init login with Passkey flow first.");throw z({status:"error",error:pe}),pe}let ie=await Xr();try{Ae.current="passkey",z({status:"awaiting-passkey"}),{user:Q,isNewUser:oe}=await e.authenticate()}catch(pe){throw z({status:"error",error:pe}),Ye(we,"login","onError",pe.privyErrorCode||fe.UNKNOWN_AUTH_ERROR),pe}g(Q),S(oe||!1),h(!0),z({status:"done"});let le=(Q==null?void 0:Q.linkedAccounts.find(({type:pe})=>pe==="passkey"))||null;return{user:Q,isNewUser:oe||!1,wasAlreadyAuthenticated:!!ie,loginAccount:le}},async initLinkWithPasskey(Y){let Q=new _0({captchaToken:Y});e.startAuthFlow(Q),je.current="link",Ae.current="passkey",z({status:"generating-challenge"});try{await Q.initLinkFlow(),z({status:"awaiting-passkey"})}catch(oe){throw Ye(we,"linkAccount","onError",oe.privyErrorCode||fe.UNKNOWN_AUTH_ERROR,{linkMethod:"passkey"}),z({status:"error",error:oe}),oe}},async linkWithPasskey(){let Y;if(!o)throw new Dh;if(!(e.authFlow instanceof _0))throw new ue("Must initialize Passkey flow first.");if(Ae.current!=="passkey")throw new ue("Must init login with Passkey flow first.");try{Ae.current="passkey",{user:Y}=await e.link()}catch(Q){throw Ye(we,"linkAccount","onError",Q.privyErrorCode||fe.FAILED_TO_LINK_ACCOUNT,{linkMethod:"passkey"}),Q}return g(Y||f||null),z({status:"done"}),Y},async initLoginWithHeadlessOAuth(Y,Q,oe){if(!bS()||Y==="google"&&LS(window.navigator.userAgent))throw Error("It looks like you're using an in-app browser.  To log in, please try again using an external browser.");let ie=new $0({provider:Y,withPrivyUi:!1,disableSignup:oe??!1,customOAuthRedirectUrl:G.customOAuthRedirectUrl});Q&&ie.addCaptchaToken(Q),P({status:"loading"});let le=await e.startAuthFlow(ie).getAuthorizationUrl();if(le!=null&&le.url)if(window.location.protocol==="chrome-extension:"&&rk())try{let{privyOAuthCode:pe,privyOAuthState:Te}=await DW(le.url);ie.meta.stateCode=Te,ie.meta.authorizationCode=pe,await this.loginWithHeadlessOAuth(ie.meta)}catch(pe){throw P({status:"error",error:pe}),pe}else window.location.assign(le.url)},async loginWithHeadlessOAuth(Y){let Q,oe,ie;O(!0),P({status:"loading"}),e.startAuthFlow(new $0({...Y,customOAuthRedirectUrl:G.customOAuthRedirectUrl}));let le=Pt.get(D5),pe=Y.stateCode;if(le!==pe)throw e.createAnalyticsEvent({eventName:"possible_phishing_attempt",payload:{provider:Y.provider,storedStateCode:le??"",returnedStateCode:pe??""}}),O(!1),new ue("Unexpected auth flow. This may be a phishing attempt.",void 0,fe.OAUTH_UNEXPECTED);if(await e.getAccessToken()!==null)try{({user:Q,oAuthTokens:ie}=await e.link()),Ae.current=Y.provider;let Te=ct(Q);Q&&Te&&Ye(we,"linkAccount","onSuccess",{user:Q,linkMethod:Ae.current,linkedAccount:Te})}catch(Te){throw O(!1),Ye(we,"linkAccount","onError",Te.privyErrorCode||fe.FAILED_TO_LINK_ACCOUNT,{linkMethod:Y.provider}),Te}else try{({user:Q,isNewUser:oe,oAuthTokens:ie}=await e.authenticate()),Ae.current=Y.provider;let Te=ct(Q);Q&&Te&&oe!==void 0&&Ye(we,"login","onComplete",{user:Q,isNewUser:oe,wasAlreadyAuthenticated:!1,loginMethod:Ae.current,loginAccount:Te})}catch(Te){throw O(!1),P({status:"error",error:Te}),Ye(we,"login","onError",Te.privyErrorCode||fe.UNKNOWN_AUTH_ERROR),Te}return g(Q),S(oe||!1),h(!0),O(!1),P({status:"done"}),ie&&Q&&Ye(we,"oAuthAuthorization","onOAuthTokenGrant",{oAuthTokens:ie,user:Q}),Q??void 0},initLoginWithEmail:async({email:Y,captchaToken:Q,disableSignup:oe,withPrivyUi:ie})=>{let le=new F0({email:Y,captchaToken:Q,disableSignup:oe});e.startAuthFlow(le);try{Ae.current="email",K({status:"sending-code"}),await le.sendCodeEmail({withPrivyUi:ie}),K({status:"awaiting-code-input"})}catch(pe){throw K({status:"error",error:pe}),je.current==="login"?Ye(we,"login","onError",pe.privyErrorCode||fe.UNKNOWN_AUTH_ERROR):je.current==="link"&&Ye(we,"linkAccount","onError",pe.privyErrorCode||fe.FAILED_TO_LINK_ACCOUNT,{linkMethod:"email"}),pe}},initUpdateEmail:async({oldAddress:Y,newAddress:Q,captchaToken:oe})=>{let ie=new ZZe(Y,Q,oe);e.startAuthFlow(ie);try{await ie.sendCodeEmail({withPrivyUi:!0})}catch(le){Ye(we,"update","onError",le.privyErrorCode||fe.UNKNOWN_AUTH_ERROR,{linkMethod:Ae.current})}},initUpdatePhone:async(Y,Q,oe)=>{let ie=new JZe(Y,Q,oe);e.startAuthFlow(ie);try{await ie.sendSmsCode({withPrivyUi:!0})}catch(le){Ye(we,"update","onError",le.privyErrorCode||fe.UNKNOWN_AUTH_ERROR,{linkMethod:Ae.current})}},initLoginWithSms:async({phoneNumber:Y,captchaToken:Q,disableSignup:oe,withPrivyUi:ie})=>{C({status:"sending-code"});let le=new z0({phoneNumber:Y,captchaToken:Q,disableSignup:oe});e.startAuthFlow(le);try{Ae.current="sms",await le.sendSmsCode({withPrivyUi:ie}),C({status:"awaiting-code-input"})}catch(pe){throw C({status:"error",error:pe}),je.current==="login"?Ye(we,"login","onError",pe.privyErrorCode||fe.UNKNOWN_AUTH_ERROR):je.current==="link"&&Ye(we,"linkAccount","onError",pe.privyErrorCode||fe.FAILED_TO_LINK_ACCOUNT,{linkMethod:"sms"}),pe}},resendEmailCode:async()=>{var Y;await((Y=e.authFlow)==null?void 0:Y.sendCodeEmail({withPrivyUi:!0}))},resendSmsCode:async()=>{var Y;await((Y=e.authFlow)==null?void 0:Y.sendSmsCode({withPrivyUi:!0}))},loginWithCode:async Y=>{let Q,oe;function ie(Ne){e.authFlow instanceof F0?K(Ne):e.authFlow instanceof z0&&C(Ne)}if(ie({status:"submitting-code"}),!o){let Ne=new Dh;throw ie({status:"error",error:Ne}),Ne}if(e.authFlow instanceof F0)e.authFlow.meta.emailCode=Y.trim();else{if(!(e.authFlow instanceof z0)){let Ne=new ue("Must initialize a passwordless code flow first");throw ie({status:"error",error:Ne}),Ne}e.authFlow.meta.smsCode=Y.trim()}let le=await Xr();if(je.current==="link")try{({user:Q}=await e.link())}catch(Ne){throw ie({status:"error",error:Ne}),Ye(we,"linkAccount","onError",Ne.privyErrorCode||fe.FAILED_TO_LINK_ACCOUNT,{linkMethod:Ae.current}),Ne}else if(je.current==="update")try{({user:Q}=await e.link())}catch(Ne){throw ie({status:"error",error:Ne}),Ye(we,"update","onError",Ne.privyErrorCode||fe.FAILED_TO_UPDATE_ACCOUNT,{linkMethod:Ae.current}),Ne}else try{({user:Q,isNewUser:oe}=await e.authenticate())}catch(Ne){throw ie({status:"error",error:Ne}),Ye(we,"login","onError",Ne.privyErrorCode||fe.UNKNOWN_AUTH_ERROR),Ne}let pe=Q||f;g(pe||null),S(oe||!1),h(!0),ie({status:"done"});let Te=null;return e.authFlow instanceof F0?Te=(pe==null?void 0:pe.linkedAccounts.find(({type:Ne})=>Ne==="email"))||null:e.authFlow instanceof z0&&(Te=(pe==null?void 0:pe.linkedAccounts.find(({type:Ne})=>Ne==="phone"))||null),{user:pe,isNewUser:oe||!1,wasAlreadyAuthenticated:!!le,linkedAccount:Te}},generateSiweMessage:async({address:Y,chainId:Q,captchaToken:oe})=>{je.current=u?"link":"login",Ae.current="siwe",N({status:"generating-message"});let ie=await e.generateSiweNonce({address:Y,captchaToken:oe});return N({status:"awaiting-signature"}),_S({address:Y,chainId:Q.replace("eip155:",""),nonce:ie})},generateSiweMessageForSmartWallet:async({address:Y,chainId:Q})=>{let oe=await e.generateSiweNonce({address:Y});return _S({address:Y,chainId:Q.replace("eip155:",""),nonce:oe})},linkSmartWallet:async({message:Y,signature:Q,smartWalletType:oe,smartWalletVersion:ie})=>{let le;le=await e.linkSmartWallet({message:Y,signature:Q,smartWalletType:oe,smartWalletVersion:ie}),g((le=await Le.refreshSessionAndUser()??le)||f||null)},loginWithSiwe:async({message:Y,signature:Q,captchaToken:oe,disableSignup:ie})=>{let le,pe=null;try{if(f)throw Error("User already authenticated");let Te=new eg(e,void 0,oe,ie,{message:Y,signature:Q});if(e.startAuthFlow(Te),Ae.current="siwe",je.current="login",N({status:"submitting-signature"}),{user:pe,isNewUser:le}=await e.authenticate(),!pe)throw Error("Authentication failed - no user returned")}catch(Te){throw Ye(we,"login","onError",Te.privyErrorCode||fe.UNKNOWN_AUTH_ERROR),N({status:"error",error:Te}),Te}return g(pe),S(le||!1),h(!0),N({status:"done"}),je.current=null,Ae.current=null,pe},linkWithSiwe:async({message:Y,signature:Q,chainId:oe,walletClientType:ie,connectorType:le})=>{let pe;Be("siwe");let Te=null;try{N({status:"submitting-signature"}),pe=await e.linkWithSiwe({message:Y,signature:Q,chainId:oe,walletClientType:ie,connectorType:le}),pe=await Le.refreshSessionAndUser()??pe,N({status:"done"}),(Te=ct(pe)||null)&&Ye(we,"linkAccount","onSuccess",{user:pe,linkMethod:"siwe",linkedAccount:Te})}catch(Tt){throw Ye(we,"linkAccount","onError",Tt.privyErrorCode||fe.FAILED_TO_LINK_ACCOUNT,{linkMethod:"siwe"}),je.current=null,Ae.current=null,N({status:"error",error:Tt}),Tt}let Ne=pe||f;return g(Ne||null),je.current=null,Ae.current=null,{user:Ne,linkedAccount:Te}},refreshSessionAndUser:async()=>{let Y=await e.getAuthenticatedUser();return h(!!Y),g(Y),Y},walletProxy:W,createAnalyticsEvent:({eventName:Y,payload:Q,timestamp:oe})=>e.createAnalyticsEvent({eventName:Y,payload:Q,timestamp:oe}),acceptTerms:async()=>{let Y=await e.acceptTerms();return g(Y),Y},getUsdTokenPrice:Y=>e.getUsdTokenPrice(Y),getUsdPriceForSol:()=>e.getUsdPriceForSol(),getSplTokenMetadata:Y=>e.getSplTokenMetadata(Y),recoverEmbeddedWallet:async Y=>new Promise(async(Q,oe)=>{if(!f)return void Q(!0);let ie=Y!=null&&Y.address?Jl(f,Y.address):yl(f)||EA(f)||qZ(f);if(!ie||Fs(ie))return void Q(!0);let le=await Xr();if(!le||!W||!ie)return void oe(Error("Must have valid access token and Privy wallet to recover wallet"));let{entropyId:pe,entropyIdVerifier:Te}=ho(f,ie);try{await W.connect({accessToken:le,entropyId:pe,entropyIdVerifier:Te}),Q(!0)}catch(Ne){if(Y2(Ne)&&ie.recoveryMethod==="privy"){let Tt;e.createAnalyticsEvent({eventName:"embedded_wallet_pinless_recovery_started",payload:{walletAddress:ie.address}});try{Tt=await W.recover({entropyId:pe,entropyIdVerifier:Te,accessToken:le})}catch(mt){return void oe(mt)}Tt.entropyId||oe(Error("Unable to recover wallet")),e.createAnalyticsEvent({eventName:"embedded_wallet_recovery_completed",payload:{walletAddress:ie.address}}),Q(!0)}else Y2(Ne)&&ie.recoveryMethod!=="privy"&&ie.recoveryMethod!=="privy-v2"?(X({recoverWallet:{entropyId:pe,entropyIdVerifier:Te,onFailure:oe,onSuccess:()=>Q(!0)},recoveryOAuthStatus:{provider:ie.recoveryMethod,action:"recover",shouldCreateEth:!1,shouldCreateSol:!1}}),Ie(Jte(ie.recoveryMethod))):oe(Ne)}}),setReadyToTrue:Y=>{l(!0),ne==null||ne(Y)},updateWallets:()=>Xe(),fundWallet:async(Y,Q)=>{X({funding:OW({address:Y,appConfig:G,fundWalletConfig:Q,methodScreen:al})}),Ie(al)},openModal:Ie,requestFarcasterSignerStatus:async Y=>{var le;let Q=await Xr(),oe=f==null?void 0:f.linkedAccounts.find(pe=>pe.type==="wallet"&&pe.walletClientType==="privy");if(!Q)throw Error("Must have valid access token to connect with Farcaster");if(!W||!oe)throw Error("Must have an embedded wallet to use Farcaster signers");if(!((le=f==null?void 0:f.farcaster)!=null&&le.fid))throw Error("Must have Farcaster account to use Farcaster signers");let ie=await e.requestFarcasterSignerStatus(Y);return ie.status==="approved"&&g(await e.getAuthenticatedUser()||f||null),ie},connectCoinbaseSmartWallet:async()=>{var Q,oe;G.externalWallets.coinbaseWallet.config.preference={...G.externalWallets.coinbaseWallet.config.preference,options:"smartWalletOnly"};let Y=((Q=e.connectors)==null?void 0:Q.findWalletConnector("coinbase_wallet","coinbase_smart_wallet"))||((oe=e.connectors)==null?void 0:oe.findWalletConnector("coinbase_wallet","coinbase_wallet"));if(Y)return Y.updateConnectionPreference("smartWalletOnly"),jt(Y);await bt("coinbase_wallet","coinbase_smart_wallet")},connectBaseAccount:async()=>{var Q;let Y=(Q=e.connectors)==null?void 0:Q.findWalletConnector("base_account","base_account");if(Y)return jt(Y);await bt("base_account","base_account")},initiateAccountTransfer:async({nonce:Y,account:Q,accountType:oe,externalWalletMetadata:ie,telegramAuthResult:le,telegramWebAppData:pe,farcasterEmbeddedAddress:Te,oAuthUserInfo:Ne})=>{let Tt=await e.sendAccountTransferRequest({nonce:Y,account:Q,accountType:oe,externalWalletMetadata:ie,telegramAuthResult:le,telegramWebAppData:pe,farcasterEmbeddedAddress:Te,oAuthUserInfo:Ne});return g(Tt),Tt},inProgressAuthFlowRef:je,inProgressLoginOrLinkMethodRef:Ae};Nne=Le.recoverEmbeddedWallet,Le.recoverEmbeddedWallet;let gr=$.useMemo(()=>({wallets:y,ready:be&&qe}),[y,be,qe]),Kt=e.authFlow instanceof k1,Vt=!G.headless&&G.captchaEnabled&&!u&&(o||Kt);return p.jsx(Sne.Provider,{value:!0,children:p.jsx(Kg.Provider,{value:Nt,children:p.jsx(Ree.Provider,{value:we,children:p.jsx(Zee.Provider,{value:gr,children:p.jsx(JFe,{...G,children:p.jsxs(uY.Provider,{value:Le,children:[p.jsx(vqe,{children:p.jsxs(dze,{data:q,setModalData:X,setInitialScreen:I,initialScreen:_,authenticated:u,open:i,children:[t.children,p.jsx(eJe,{customAuth:G.customAuth}),Vt&&p.jsx(bQe,{delayedExecution:!1}),p.jsx(UQe,{}),p.jsx(oXe,{disabled:G.embeddedWallets.disableAutomaticMigration}),p.jsx(SQe,{palette:G.appearance.palette||{}}),!G.render.standalone&&p.jsx(RQe,{open:i})]})}),p.jsx(FQe,{appId:t.appId,appClientId:t.clientId,clientAnalyticsId:e.clientAnalyticsId,origin:e.apiUrl,mfaMethods:f==null?void 0:f.mfaMethods,mfaPromise:ye,mfaSubmitPromise:$e,onLoad:M,onLoadFailed:()=>null}),G.loginConfig.telegramAuthConfiguration&&p.jsx($g,{$if:!0,children:p.jsx(DQe,{scriptHost:t.apiUrl||wS,botUsername:G.loginConfig.telegramAuthConfiguration.botName})})]})})})})})})};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lJe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Pne=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var cJe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uJe=$.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...o},l)=>$.createElement("svg",{ref:l,...cJe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Pne("lucide",i),...o},[...a.map(([u,h])=>$.createElement(u,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bn=(t,e)=>{const r=$.forwardRef(({className:n,...i},s)=>$.createElement(uJe,{ref:s,iconNode:e,className:Pne(`lucide-${lJe(t)}`,n),...i}));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dJe=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],hJe=bn("Calendar",dJe);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fJe=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],pJe=bn("ChartColumn",fJe);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gJe=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],rq=bn("ChevronLeft",gJe);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mJe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],nq=bn("CircleAlert",mJe);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yJe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],iq=bn("CircleCheck",yJe);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bJe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Qv=bn("Circle",bJe);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wJe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]],sq=bn("Clock",wJe);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vJe=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],Xv=bn("Copy",vJe);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xJe=[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]],aq=bn("ExternalLink",xJe);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EJe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],oq=bn("Globe",EJe);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Je=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],CJe=bn("Lock",_Je);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AJe=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],SJe=bn("LogIn",AJe);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kJe=[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]],$Je=bn("LogOut",kJe);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TJe=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],Jv=bn("Monitor",TJe);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IJe=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],e3=bn("Moon",IJe);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NJe=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],ok=bn("RefreshCw",NJe);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PJe=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],OJe=bn("Settings",PJe);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MJe=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],t3=bn("Shield",MJe);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RJe=[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]],jJe=bn("Sparkles",RJe);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DJe=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],j1=bn("Star",DJe);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UJe=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],r3=bn("Sun",UJe);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BJe=[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]],W_=bn("TrendingUp",BJe);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LJe=[["path",{d:"M13.73 4a2 2 0 0 0-3.46 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"14u9p9"}]],lq=bn("Triangle",LJe);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FJe=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],cq=bn("Wallet",FJe);/**
 * @license lucide-react v0.483.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zJe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],uq=bn("Zap",zJe),NI="-",WJe=t=>{const e=HJe(t),{conflictingClassGroups:r,conflictingClassGroupModifiers:n}=t;return{getClassGroupId:a=>{const o=a.split(NI);return o[0]===""&&o.length!==1&&o.shift(),One(o,e)||qJe(a)},getConflictingClassGroupIds:(a,o)=>{const l=r[a]||[];return o&&n[a]?[...l,...n[a]]:l}}},One=(t,e)=>{var a;if(t.length===0)return e.classGroupId;const r=t[0],n=e.nextPart.get(r),i=n?One(t.slice(1),n):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(NI);return(a=e.validators.find(({validator:o})=>o(s)))==null?void 0:a.classGroupId},dq=/^\[(.+)\]$/,qJe=t=>{if(dq.test(t)){const e=dq.exec(t)[1],r=e==null?void 0:e.substring(0,e.indexOf(":"));if(r)return"arbitrary.."+r}},HJe=t=>{const{theme:e,prefix:r}=t,n={nextPart:new Map,validators:[]};return GJe(Object.entries(t.classGroups),r).forEach(([s,a])=>{lk(a,n,s,e)}),n},lk=(t,e,r,n)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:hq(e,i);s.classGroupId=r;return}if(typeof i=="function"){if(VJe(i)){lk(i(n),e,r,n);return}e.validators.push({validator:i,classGroupId:r});return}Object.entries(i).forEach(([s,a])=>{lk(a,hq(e,s),r,n)})})},hq=(t,e)=>{let r=t;return e.split(NI).forEach(n=>{r.nextPart.has(n)||r.nextPart.set(n,{nextPart:new Map,validators:[]}),r=r.nextPart.get(n)}),r},VJe=t=>t.isThemeGetter,GJe=(t,e)=>e?t.map(([r,n])=>{const i=n.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([a,o])=>[e+a,o])):s);return[r,i]}):t,KJe=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,r=new Map,n=new Map;const i=(s,a)=>{r.set(s,a),e++,e>t&&(e=0,n=r,r=new Map)};return{get(s){let a=r.get(s);if(a!==void 0)return a;if((a=n.get(s))!==void 0)return i(s,a),a},set(s,a){r.has(s)?r.set(s,a):i(s,a)}}},Mne="!",YJe=t=>{const{separator:e,experimentalParseClassName:r}=t,n=e.length===1,i=e[0],s=e.length,a=o=>{const l=[];let u=0,h=0,f;for(let x=0;x<o.length;x++){let E=o[x];if(u===0){if(E===i&&(n||o.slice(x,x+s)===e)){l.push(o.slice(h,x)),h=x+s;continue}if(E==="/"){f=x;continue}}E==="["?u++:E==="]"&&u--}const g=l.length===0?o:o.substring(h),y=g.startsWith(Mne),b=y?g.substring(1):g,w=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:y,baseClassName:b,maybePostfixModifierPosition:w}};return r?o=>r({className:o,parseClassName:a}):a},ZJe=t=>{if(t.length<=1)return t;const e=[];let r=[];return t.forEach(n=>{n[0]==="["?(e.push(...r.sort(),n),r=[]):r.push(n)}),e.push(...r.sort()),e},QJe=t=>({cache:KJe(t.cacheSize),parseClassName:YJe(t),...WJe(t)}),XJe=/\s+/,JJe=(t,e)=>{const{parseClassName:r,getClassGroupId:n,getConflictingClassGroupIds:i}=e,s=[],a=t.trim().split(XJe);let o="";for(let l=a.length-1;l>=0;l-=1){const u=a[l],{modifiers:h,hasImportantModifier:f,baseClassName:g,maybePostfixModifierPosition:y}=r(u);let b=!!y,w=n(b?g.substring(0,y):g);if(!w){if(!b){o=u+(o.length>0?" "+o:o);continue}if(w=n(g),!w){o=u+(o.length>0?" "+o:o);continue}b=!1}const x=ZJe(h).join(":"),E=f?x+Mne:x,S=E+w;if(s.includes(S))continue;s.push(S);const _=i(w,b);for(let I=0;I<_.length;++I){const A=_[I];s.push(E+A)}o=u+(o.length>0?" "+o:o)}return o};function eet(){let t=0,e,r,n="";for(;t<arguments.length;)(e=arguments[t++])&&(r=Rne(e))&&(n&&(n+=" "),n+=r);return n}const Rne=t=>{if(typeof t=="string")return t;let e,r="";for(let n=0;n<t.length;n++)t[n]&&(e=Rne(t[n]))&&(r&&(r+=" "),r+=e);return r};function tet(t,...e){let r,n,i,s=a;function a(l){const u=e.reduce((h,f)=>f(h),t());return r=QJe(u),n=r.cache.get,i=r.cache.set,s=o,o(l)}function o(l){const u=n(l);if(u)return u;const h=JJe(l,r);return i(l,h),h}return function(){return s(eet.apply(null,arguments))}}const un=t=>{const e=r=>r[t]||[];return e.isThemeGetter=!0,e},jne=/^\[(?:([a-z-]+):)?(.+)\]$/i,ret=/^\d+\/\d+$/,net=new Set(["px","full","screen"]),iet=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,set=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,aet=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,oet=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,cet=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Xc=t=>ag(t)||net.has(t)||ret.test(t),Sd=t=>sm(t,"length",yet),ag=t=>!!t&&!Number.isNaN(Number(t)),q_=t=>sm(t,"number",ag),D1=t=>!!t&&Number.isInteger(Number(t)),uet=t=>t.endsWith("%")&&ag(t.slice(0,-1)),rr=t=>jne.test(t),kd=t=>iet.test(t),det=new Set(["length","size","percentage"]),het=t=>sm(t,det,Dne),fet=t=>sm(t,"position",Dne),pet=new Set(["image","url"]),get=t=>sm(t,pet,wet),met=t=>sm(t,"",bet),U1=()=>!0,sm=(t,e,r)=>{const n=jne.exec(t);return n?n[1]?typeof e=="string"?n[1]===e:e.has(n[1]):r(n[2]):!1},yet=t=>set.test(t)&&!aet.test(t),Dne=()=>!1,bet=t=>oet.test(t),wet=t=>cet.test(t),vet=()=>{const t=un("colors"),e=un("spacing"),r=un("blur"),n=un("brightness"),i=un("borderColor"),s=un("borderRadius"),a=un("borderSpacing"),o=un("borderWidth"),l=un("contrast"),u=un("grayscale"),h=un("hueRotate"),f=un("invert"),g=un("gap"),y=un("gradientColorStops"),b=un("gradientColorStopPositions"),w=un("inset"),x=un("margin"),E=un("opacity"),S=un("padding"),_=un("saturate"),I=un("scale"),A=un("sepia"),O=un("skew"),F=un("space"),H=un("translate"),L=()=>["auto","contain","none"],z=()=>["auto","hidden","clip","visible","scroll"],V=()=>["auto",rr,e],K=()=>[rr,e],B=()=>["",Xc,Sd],C=()=>["auto",ag,rr],k=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],N=()=>["solid","dashed","dotted","double","none"],D=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],P=()=>["start","end","center","between","around","evenly","stretch"],R=()=>["","0",rr],j=()=>["auto","avoid","all","avoid-page","page","left","right","column"],W=()=>[ag,rr];return{cacheSize:500,separator:":",theme:{colors:[U1],spacing:[Xc,Sd],blur:["none","",kd,rr],brightness:W(),borderColor:[t],borderRadius:["none","","full",kd,rr],borderSpacing:K(),borderWidth:B(),contrast:W(),grayscale:R(),hueRotate:W(),invert:R(),gap:K(),gradientColorStops:[t],gradientColorStopPositions:[uet,Sd],inset:V(),margin:V(),opacity:W(),padding:K(),saturate:W(),scale:W(),sepia:R(),skew:W(),space:K(),translate:K()},classGroups:{aspect:[{aspect:["auto","square","video",rr]}],container:["container"],columns:[{columns:[kd]}],"break-after":[{"break-after":j()}],"break-before":[{"break-before":j()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...k(),rr]}],overflow:[{overflow:z()}],"overflow-x":[{"overflow-x":z()}],"overflow-y":[{"overflow-y":z()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",D1,rr]}],basis:[{basis:V()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",rr]}],grow:[{grow:R()}],shrink:[{shrink:R()}],order:[{order:["first","last","none",D1,rr]}],"grid-cols":[{"grid-cols":[U1]}],"col-start-end":[{col:["auto",{span:["full",D1,rr]},rr]}],"col-start":[{"col-start":C()}],"col-end":[{"col-end":C()}],"grid-rows":[{"grid-rows":[U1]}],"row-start-end":[{row:["auto",{span:[D1,rr]},rr]}],"row-start":[{"row-start":C()}],"row-end":[{"row-end":C()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",rr]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",rr]}],gap:[{gap:[g]}],"gap-x":[{"gap-x":[g]}],"gap-y":[{"gap-y":[g]}],"justify-content":[{justify:["normal",...P()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...P(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...P(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[S]}],px:[{px:[S]}],py:[{py:[S]}],ps:[{ps:[S]}],pe:[{pe:[S]}],pt:[{pt:[S]}],pr:[{pr:[S]}],pb:[{pb:[S]}],pl:[{pl:[S]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[F]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[F]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",rr,e]}],"min-w":[{"min-w":[rr,e,"min","max","fit"]}],"max-w":[{"max-w":[rr,e,"none","full","min","max","fit","prose",{screen:[kd]},kd]}],h:[{h:[rr,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[rr,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[rr,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[rr,e,"auto","min","max","fit"]}],"font-size":[{text:["base",kd,Sd]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",q_]}],"font-family":[{font:[U1]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",rr]}],"line-clamp":[{"line-clamp":["none",ag,q_]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Xc,rr]}],"list-image":[{"list-image":["none",rr]}],"list-style-type":[{list:["none","disc","decimal",rr]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[E]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[E]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...N(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Xc,Sd]}],"underline-offset":[{"underline-offset":["auto",Xc,rr]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:K()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",rr]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",rr]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[E]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...k(),fet]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",het]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},get]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[b]}],"gradient-via-pos":[{via:[b]}],"gradient-to-pos":[{to:[b]}],"gradient-from":[{from:[y]}],"gradient-via":[{via:[y]}],"gradient-to":[{to:[y]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[o]}],"border-w-x":[{"border-x":[o]}],"border-w-y":[{"border-y":[o]}],"border-w-s":[{"border-s":[o]}],"border-w-e":[{"border-e":[o]}],"border-w-t":[{"border-t":[o]}],"border-w-r":[{"border-r":[o]}],"border-w-b":[{"border-b":[o]}],"border-w-l":[{"border-l":[o]}],"border-opacity":[{"border-opacity":[E]}],"border-style":[{border:[...N(),"hidden"]}],"divide-x":[{"divide-x":[o]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[o]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[E]}],"divide-style":[{divide:N()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...N()]}],"outline-offset":[{"outline-offset":[Xc,rr]}],"outline-w":[{outline:[Xc,Sd]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[E]}],"ring-offset-w":[{"ring-offset":[Xc,Sd]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",kd,met]}],"shadow-color":[{shadow:[U1]}],opacity:[{opacity:[E]}],"mix-blend":[{"mix-blend":[...D(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":D()}],filter:[{filter:["","none"]}],blur:[{blur:[r]}],brightness:[{brightness:[n]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",kd,rr]}],grayscale:[{grayscale:[u]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[_]}],sepia:[{sepia:[A]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[r]}],"backdrop-brightness":[{"backdrop-brightness":[n]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[u]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[E]}],"backdrop-saturate":[{"backdrop-saturate":[_]}],"backdrop-sepia":[{"backdrop-sepia":[A]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[a]}],"border-spacing-x":[{"border-spacing-x":[a]}],"border-spacing-y":[{"border-spacing-y":[a]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",rr]}],duration:[{duration:W()}],ease:[{ease:["linear","in","out","in-out",rr]}],delay:[{delay:W()}],animate:[{animate:["none","spin","ping","pulse","bounce",rr]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[I]}],"scale-x":[{"scale-x":[I]}],"scale-y":[{"scale-y":[I]}],rotate:[{rotate:[D1,rr]}],"translate-x":[{"translate-x":[H]}],"translate-y":[{"translate-y":[H]}],"skew-x":[{"skew-x":[O]}],"skew-y":[{"skew-y":[O]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",rr]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",rr]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":K()}],"scroll-mx":[{"scroll-mx":K()}],"scroll-my":[{"scroll-my":K()}],"scroll-ms":[{"scroll-ms":K()}],"scroll-me":[{"scroll-me":K()}],"scroll-mt":[{"scroll-mt":K()}],"scroll-mr":[{"scroll-mr":K()}],"scroll-mb":[{"scroll-mb":K()}],"scroll-ml":[{"scroll-ml":K()}],"scroll-p":[{"scroll-p":K()}],"scroll-px":[{"scroll-px":K()}],"scroll-py":[{"scroll-py":K()}],"scroll-ps":[{"scroll-ps":K()}],"scroll-pe":[{"scroll-pe":K()}],"scroll-pt":[{"scroll-pt":K()}],"scroll-pr":[{"scroll-pr":K()}],"scroll-pb":[{"scroll-pb":K()}],"scroll-pl":[{"scroll-pl":K()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",rr]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Xc,Sd,q_]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},xet=tet(vet),Une=(...t)=>xet(g6e(t)),vn=$.forwardRef(({className:t,variant:e="default",size:r="default",...n},i)=>p.jsx("button",{className:Une("inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",{"bg-primary text-primary-foreground hover:bg-primary/90":e==="default","border-2 border-input bg-background hover:bg-accent hover:text-accent-foreground":e==="outline","hover:bg-accent hover:text-accent-foreground":e==="ghost"},{"h-10 px-4 py-2":r==="default","h-9 rounded-md px-3":r==="sm","h-11 rounded-md px-8":r==="lg","h-10 w-10":r==="icon"},t),ref:i,...n}));vn.displayName="Button";const by=$.forwardRef(({className:t,checked:e=!1,onCheckedChange:r,...n},i)=>p.jsx("button",{type:"button",role:"switch","aria-checked":e,"data-state":e?"checked":"unchecked",style:{minWidth:"56px",width:"56px",height:"32px",backgroundColor:e?"#3b82f6":"#d1d5db",borderRadius:"9999px",border:"none",padding:"3px",display:"flex",alignItems:"center",cursor:"pointer",position:"relative",transition:"background-color 0.2s ease",flexShrink:0},onClick:()=>r==null?void 0:r(!e),ref:i,...n,children:p.jsx("span",{style:{backgroundColor:"#ffffff",width:"26px",height:"26px",borderRadius:"9999px",display:"block",boxShadow:"0 2px 4px rgba(0,0,0,0.2)",transform:e?"translateX(24px)":"translateX(0px)",transition:"transform 0.2s ease"}})}));by.displayName="Switch";const wy=$.forwardRef(({className:t,delay:e=0,inView:r=!0,children:n,...i},s)=>{const[a,o]=$.useState(!1);return $.useEffect(()=>{const l=setTimeout(()=>{o(!0)},e*1e3);return()=>clearTimeout(l)},[e]),p.jsx("div",{ref:s,className:Une("transition-all duration-700",a&&r?"opacity-100 blur-0 translate-y-0":"opacity-0 blur-sm translate-y-4",t),...i,children:n})});wy.displayName="BlurFade";var H_,fq;function Eet(){if(fq)return H_;fq=1;var t=function(S){return e(S)&&!r(S)};function e(E){return!!E&&typeof E=="object"}function r(E){var S=Object.prototype.toString.call(E);return S==="[object RegExp]"||S==="[object Date]"||s(E)}var n=typeof Symbol=="function"&&Symbol.for,i=n?Symbol.for("react.element"):60103;function s(E){return E.$$typeof===i}function a(E){return Array.isArray(E)?[]:{}}function o(E,S){return S.clone!==!1&&S.isMergeableObject(E)?w(a(E),E,S):E}function l(E,S,_){return E.concat(S).map(function(I){return o(I,_)})}function u(E,S){if(!S.customMerge)return w;var _=S.customMerge(E);return typeof _=="function"?_:w}function h(E){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(E).filter(function(S){return Object.propertyIsEnumerable.call(E,S)}):[]}function f(E){return Object.keys(E).concat(h(E))}function g(E,S){try{return S in E}catch{return!1}}function y(E,S){return g(E,S)&&!(Object.hasOwnProperty.call(E,S)&&Object.propertyIsEnumerable.call(E,S))}function b(E,S,_){var I={};return _.isMergeableObject(E)&&f(E).forEach(function(A){I[A]=o(E[A],_)}),f(S).forEach(function(A){y(E,A)||(g(E,A)&&_.isMergeableObject(S[A])?I[A]=u(A,_)(E[A],S[A],_):I[A]=o(S[A],_))}),I}function w(E,S,_){_=_||{},_.arrayMerge=_.arrayMerge||l,_.isMergeableObject=_.isMergeableObject||t,_.cloneUnlessOtherwiseSpecified=o;var I=Array.isArray(S),A=Array.isArray(E),O=I===A;return O?I?_.arrayMerge(E,S,_):b(E,S,_):o(S,_)}w.all=function(S,_){if(!Array.isArray(S))throw new Error("first argument should be an array");return S.reduce(function(I,A){return w(I,A,_)},{})};var x=w;return H_=x,H_}Eet();const Bne=["solana:mainnet","solana:devnet","solana:testnet"];function B1(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var _et=0,zo="__private_"+_et+++"__implementation";function io(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var Cet=0;function am(t){return"__private_"+Cet+++"_"+t}var L1=am("_address"),F1=am("_publicKey"),z1=am("_chains"),W1=am("_features"),q1=am("_label"),H1=am("_icon");class PI{get address(){return io(this,L1)[L1]}get publicKey(){return io(this,F1)[F1].slice()}get chains(){return io(this,z1)[z1].slice()}get features(){return io(this,W1)[W1].slice()}get label(){return io(this,q1)[q1]}get icon(){return io(this,H1)[H1]}constructor({address:e,publicKey:r,label:n,icon:i}){Object.defineProperty(this,L1,{writable:!0,value:void 0}),Object.defineProperty(this,F1,{writable:!0,value:void 0}),Object.defineProperty(this,z1,{writable:!0,value:void 0}),Object.defineProperty(this,W1,{writable:!0,value:void 0}),Object.defineProperty(this,q1,{writable:!0,value:void 0}),Object.defineProperty(this,H1,{writable:!0,value:void 0}),io(this,L1)[L1]=e,io(this,F1)[F1]=r,io(this,z1)[z1]=Bne,io(this,q1)[q1]=n,io(this,H1)[H1]=i,io(this,W1)[W1]=["solana:signAndSendTransaction","solana:signTransaction","solana:signMessage"],new.target===PI&&Object.freeze(this)}}function Xt(t,e){if(!Object.prototype.hasOwnProperty.call(t,e))throw TypeError("attempted to use private field on non-instance");return t}var Aet=0;function gs(t){return"__private_"+Aet+++"_"+t}var $a=gs("_listeners"),V1=gs("_version"),G1=gs("_name"),K1=gs("_icon"),bs=gs("_injection"),Y1=gs("_isPrivyWallet"),zh=gs("_accounts"),Z1=gs("_on"),Wh=gs("_emit"),V_=gs("_off"),qh=gs("_connected"),Q1=gs("_connect"),X1=gs("_disconnect"),J1=gs("_signMessage"),ey=gs("_signAndSendTransaction"),ty=gs("_signTransaction");function ket(t,...e){var r;(r=Xt(this,$a)[$a][t])==null||r.forEach(n=>n.apply(null,e))}function $et(t,e){var r;Xt(this,$a)[$a][t]=(r=Xt(this,$a)[$a][t])==null?void 0:r.filter(n=>e!==n)}let Tet=new class extends ih{setImplementation(t){B1(this,zo)[zo]=t}async signMessage(t){return B1(this,zo)[zo].signMessage(t)}async signAndSendTransaction(t){return B1(this,zo)[zo].signAndSendTransaction(t)}async signTransaction(t){return B1(this,zo)[zo].signTransaction(t)}constructor(t){super(),Object.defineProperty(this,zo,{writable:!0,value:void 0}),B1(this,zo)[zo]=t}}({signTransaction:k7("signTransaction was not injected"),signAndSendTransaction:k7("signAndSendTransaction was not injected"),signMessage:k7("signMessage was not injected")});new class{get version(){return Xt(this,V1)[V1]}get name(){return Xt(this,G1)[G1]}get icon(){return Xt(this,K1)[K1]}get chains(){return Bne.slice()}get features(){return{"standard:connect":{version:"1.0.0",connect:Xt(this,Q1)[Q1]},"standard:disconnect":{version:"1.0.0",disconnect:Xt(this,X1)[X1]},"standard:events":{version:"1.0.0",on:Xt(this,Z1)[Z1]},"solana:signAndSendTransaction":{version:"1.0.0",supportedTransactionVersions:["legacy",0],signAndSendTransaction:Xt(this,ey)[ey]},"solana:signTransaction":{version:"1.0.0",supportedTransactionVersions:["legacy",0],signTransaction:Xt(this,ty)[ty]},"solana:signMessage":{version:"1.0.0",signMessage:Xt(this,J1)[J1]},"privy:":{privy:{signMessage:Xt(this,bs)[bs].signMessage,signTransaction:Xt(this,bs)[bs].signTransaction,signAndSendTransaction:Xt(this,bs)[bs].signAndSendTransaction}}}}get accounts(){return Xt(this,zh)[zh].slice()}get isPrivyWallet(){return Xt(this,Y1)[Y1]}constructor({name:t,icon:e,version:r,injection:n,wallets:i}){Object.defineProperty(this,Wh,{value:ket}),Object.defineProperty(this,V_,{value:$et}),Object.defineProperty(this,$a,{writable:!0,value:void 0}),Object.defineProperty(this,V1,{writable:!0,value:void 0}),Object.defineProperty(this,G1,{writable:!0,value:void 0}),Object.defineProperty(this,K1,{writable:!0,value:void 0}),Object.defineProperty(this,bs,{writable:!0,value:void 0}),Object.defineProperty(this,Y1,{writable:!0,value:void 0}),Object.defineProperty(this,zh,{writable:!0,value:void 0}),Object.defineProperty(this,Z1,{writable:!0,value:void 0}),Object.defineProperty(this,qh,{writable:!0,value:void 0}),Object.defineProperty(this,Q1,{writable:!0,value:void 0}),Object.defineProperty(this,X1,{writable:!0,value:void 0}),Object.defineProperty(this,J1,{writable:!0,value:void 0}),Object.defineProperty(this,ey,{writable:!0,value:void 0}),Object.defineProperty(this,ty,{writable:!0,value:void 0}),Xt(this,$a)[$a]={},Xt(this,Z1)[Z1]=(s,a)=>{var o;return(o=Xt(this,$a)[$a][s])!=null&&o.push(a)||(Xt(this,$a)[$a][s]=[a]),()=>Xt(this,V_)[V_](s,a)},Xt(this,qh)[qh]=s=>{s!=null&&(Xt(this,zh)[zh]=s.map(({address:a})=>new PI({address:a,publicKey:_Ee.decode(a)}))),Xt(this,Wh)[Wh]("change",{accounts:this.accounts})},Xt(this,Q1)[Q1]=async()=>(Xt(this,Wh)[Wh]("change",{accounts:this.accounts}),{accounts:this.accounts}),Xt(this,X1)[X1]=async()=>{Xt(this,Wh)[Wh]("change",{accounts:this.accounts})},Xt(this,J1)[J1]=async(...s)=>{let a=[];for(let{account:o,...l}of s){let{signature:u}=await Xt(this,bs)[bs].signMessage({...l,address:o.address});a.push({signedMessage:l.message,signature:u})}return a},Xt(this,ey)[ey]=async(...s)=>{let a=[];for(let{transaction:o,account:l,options:u,chain:h}of s){let{signature:f}=await Xt(this,bs)[bs].signAndSendTransaction({transaction:o,address:l.address,chain:h||"solana:mainnet",options:u});a.push({signature:f})}return a},Xt(this,ty)[ty]=async(...s)=>{let a=[];for(let{transaction:o,account:l,options:u,chain:h}of s){let{signedTransaction:f}=await Xt(this,bs)[bs].signTransaction({transaction:o,address:l.address,chain:h||"solana:mainnet",options:u});a.push({signedTransaction:f})}return a},Xt(this,G1)[G1]=t,Xt(this,K1)[K1]=e,Xt(this,V1)[V1]=r,Xt(this,bs)[bs]=n,Xt(this,zh)[zh]=[],Xt(this,Y1)[Y1]=!0,n.on("accountChanged",Xt(this,qh)[qh],this),Xt(this,qh)[qh](i)}}({name:"Privy",version:"1.0.0",icon:"data:image/png;base64,AAABAAEAFBQAAAAAIABlAQAAFgAAAIlQTkcNChoKAAAADUlIRFIAAAAUAAAAFAgGAAAAjYkdDQAAAAlwSFlzAAAOwwAADsMBx2+oZAAAAQVJREFUeJxiYMANZIC4E4ivAPFPIP4FxDeAuB+IlfDowwBMQFwJxF+B+D8O/AOI66Bq8QJGIF6ExyB0vAqImfEZmEeCYTDcgMswPiB+T4aB34FYApuBsWQYBsP52AycToGBK7EZuJECAw9jM3AVBQbuwWZgIwUGTsZmoDkFBnpiMxAEjpJh2FV8iVsbiD+TYBgoDVrgMgwGnID4HRGGgTKBGyHDYEAaiBdCSxh0g/5AU4Q8sYYhAzEgjoGmABBOgFo2eACowFABYn0oVgViAVINkQTiZUD8DIj/ATF6GILEXgLxCiCWIsZAbiAuBeKtQHwHiEHJ6C8UfwHie0C8E4jLoWpRAAAAAP//rcbhsQAAAAZJREFUAwBYFs3VKJ0cuQAAAABJRU5ErkJggg==",wallets:[],injection:Tet});function Iet(){let{user:t,getAccessToken:e}=fr(),{walletProxy:r,openModal:n,client:i}=rt(),{setModalData:s}=lt(),a=Ar();return $.useMemo(()=>({exportWallet:o=>new Promise(async(l,u)=>{if(!t)return void u(new ue("User must be authenticated before exporting their Privy wallet"));let h=o!=null&&o.address?Jl(t,o.address):Ab(t);if(!h)return void u(new ue("User must have an embedded wallet."));if(!Ng(h))return void u(Error(`Export is not supported for ${h.chainType} wallets`));let f=Fs(h),{entropyId:g,entropyIdVerifier:y}=ho(t,h);await e()?r?(s({connectWallet:{recoveryMethod:h.recoveryMethod,connectingWalletAddress:h.address,isUnifiedWallet:f,entropyId:g,entropyIdVerifier:y,onCompleteNavigateTo:fI,onFailure:u,shouldForceMFA:!0},keyExport:{appId:a.id,appClientId:a.appClientId,origin:i.apiUrl,address:h.address,entropyId:g,entropyIdVerifier:y,hdWalletIndex:h.walletIndex,chainType:h.chainType,walletId:h.id,isUnifiedWallet:f,imported:h.imported,onSuccess:l,onFailure:u}}),n(k0)):u(new ue("Wallet not ready for export")):u(new ue("Must have valid access token."))})}),[t,e,r,n,i,s,a])}function Net({onClose:t}){const{exportWallet:e,user:r}=AI(),{exportWallet:n}=Iet(),{wallets:i,ready:s}=Mu(),[a,o]=$.useState(null),[l,u]=$.useState(null),h=et.useMemo(()=>{const _=[...i];return r!=null&&r.wallet&&!_.find(I=>I.address===r.wallet.address)&&_.push(r.wallet),_},[i,r==null?void 0:r.wallet]);$.useEffect(()=>{s&&(console.log("[WalletManager] Wallets from useWallets:",i),console.log("[WalletManager] User wallet:",r==null?void 0:r.wallet),console.log("[WalletManager] Combined wallets:",h),console.log("[WalletManager] Wallet count:",h.length),h.forEach((_,I)=>{console.log(`[WalletManager] Wallet ${I}:`,{address:_.address,chainType:_.chainType,type:_.type,walletClientType:_.walletClientType,connectorType:_.connectorType})}))},[h,s,r==null?void 0:r.wallet]);const f=async _=>{o(_);try{const I=h.find(A=>A.address===_);if(I&&I.walletClientType==="privy"){const A=b(I);console.log("[WalletManager] Exporting Privy wallet:",_),console.log("[WalletManager] Wallet chain type:",A);const O=i.some(F=>F.address===_);if(console.log("[WalletManager] Wallet in useWallets():",O),A==="ethereum")console.log("[WalletManager] Exporting Ethereum wallet with address:",_),await e({address:_});else if(A==="solana")console.log("[WalletManager] Exporting Solana wallet with address:",_),console.log("[WalletManager] Using Solana-specific useExportWallet hook"),await n({address:_});else throw new Error(`Unsupported chain type: ${A}`);console.log("[WalletManager] Export modal opened")}else console.warn("[WalletManager] Wallet not found or not a Privy wallet:",I),alert("This wallet cannot be exported. Only Privy embedded wallets can be exported.")}catch(I){console.error("[WalletManager] Error exporting wallet:",I),I instanceof Error&&!I.message.includes("User rejected")&&!I.message.includes("cancelled")&&!I.message.includes("User canceled")&&alert(`Failed to export wallet: ${I.message}`)}finally{o(null)}},g=async _=>{try{await navigator.clipboard.writeText(_),u(_),setTimeout(()=>u(null),2e3)}catch(I){console.error("[WalletManager] Failed to copy address:",I)}},y=_=>`${_.slice(0,6)}...${_.slice(-4)}`,b=_=>{if(_.chainType)return _.chainType;if(_.type)return _.type;if(_.address){if(_.address.startsWith("0x")&&_.address.length===42)return"ethereum";if(!_.address.startsWith("0x")&&_.address.length>=32&&_.address.length<=44)return"solana"}return"unknown"},w=_=>{switch(b(_)){case"ethereum":return p.jsx("svg",{width:"20",height:"20",viewBox:"0 0 784.37 1277.39",className:"text-current",children:p.jsxs("g",{fill:"currentColor",children:[p.jsx("polygon",{points:"392.07,0 383.5,29.11 383.5,873.74 392.07,882.29 784.13,650.54"}),p.jsx("polygon",{points:"392.07,0 0,650.54 392.07,882.29 392.07,472.33"}),p.jsx("polygon",{points:"392.07,956.52 387.24,962.41 387.24,1263.28 392.07,1277.38 784.37,724.89"}),p.jsx("polygon",{points:"392.07,1277.38 392.07,956.52 0,724.89"}),p.jsx("polygon",{points:"392.07,882.29 784.13,650.54 392.07,472.33"}),p.jsx("polygon",{points:"0,650.54 392.07,882.29 392.07,472.33"})]})});case"solana":return p.jsx("svg",{width:"20",height:"20",viewBox:"0 0 397.7 311.7",className:"text-current",children:p.jsxs("g",{fill:"currentColor",children:[p.jsx("path",{d:"M64.6,237.9c2.4-2.4,5.7-3.8,9.2-3.8h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5c-5.8,0-8.7-7-4.6-11.1L64.6,237.9z"}),p.jsx("path",{d:"M64.6,3.8C67.1,1.4,70.4,0,73.8,0h317.4c5.8,0,8.7,7,4.6,11.1L333.1,73.8c-2.4,2.4-5.7,3.8-9.2,3.8H6.5c-5.8,0-8.7-7-4.6-11.1L64.6,3.8z"}),p.jsx("path",{d:"M333.1,120.1c-2.4-2.4-5.7-3.8-9.2-3.8H6.5c-5.8,0-8.7,7-4.6,11.1l62.7,62.7c2.4,2.4,5.7,3.8,9.2,3.8h317.4c5.8,0,8.7-7,4.6-11.1L333.1,120.1z"})]})});default:return""}},x=_=>{const I=b(_);return I.charAt(0).toUpperCase()+I.slice(1)},E=h.filter(_=>b(_)==="ethereum"),S=h.filter(_=>b(_)==="solana");return p.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-75 flex items-center justify-center p-4 z-50",children:p.jsxs("div",{className:"bg-card rounded-2xl p-6 max-w-lg w-full border-2 border-border max-h-[90vh] overflow-y-auto",children:[p.jsxs("div",{className:"flex justify-between items-center mb-6",children:[p.jsxs("div",{className:"flex items-center gap-3",children:[p.jsx("div",{className:"p-2 bg-gradient-to-br from-primary/10 to-secondary/10 rounded-xl",children:p.jsx(cq,{className:"h-5 w-5 text-primary"})}),p.jsxs("div",{children:[p.jsx("h2",{className:"text-lg font-bold text-foreground",children:"Your Wallets"}),p.jsx("p",{className:"text-xs text-muted-foreground",children:"Manage your embedded wallets"})]})]}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(vn,{variant:"ghost",size:"icon",onClick:()=>window.location.reload(),className:"h-8 w-8",title:"Refresh wallets",children:p.jsx(ok,{className:"h-4 w-4"})}),p.jsx(vn,{variant:"ghost",size:"icon",onClick:t,className:"h-8 w-8",title:"Close wallet manager",children:""})]})]}),E.length>0&&p.jsxs("div",{className:"mb-6",children:[p.jsxs("h3",{className:"text-sm font-black tracking-tighter text-foreground mb-3 flex items-center gap-2",children:[p.jsx("svg",{width:"16",height:"16",viewBox:"0 0 784.37 1277.39",className:"text-blue-500",children:p.jsxs("g",{fill:"currentColor",children:[p.jsx("polygon",{points:"392.07,0 383.5,29.11 383.5,873.74 392.07,882.29 784.13,650.54"}),p.jsx("polygon",{points:"392.07,0 0,650.54 392.07,882.29 392.07,472.33"}),p.jsx("polygon",{points:"392.07,956.52 387.24,962.41 387.24,1263.28 392.07,1277.38 784.37,724.89"}),p.jsx("polygon",{points:"392.07,1277.38 392.07,956.52 0,724.89"}),p.jsx("polygon",{points:"392.07,882.29 784.13,650.54 392.07,472.33"}),p.jsx("polygon",{points:"0,650.54 392.07,882.29 392.07,472.33"})]})}),"Ethereum Wallets (",E.length,")"]}),p.jsx("div",{className:"space-y-3",children:E.map(_=>p.jsxs("div",{className:"bg-card rounded-xl p-4 border border-border/50 hover:border-border transition-colors",children:[p.jsx("div",{className:"flex items-center justify-between mb-4",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"p-2 bg-blue-500/10 rounded-lg text-blue-500",children:w(_)}),p.jsxs("div",{children:[p.jsxs("span",{className:"text-foreground font-semibold text-sm",children:[x(_)," Wallet"]}),_.walletClientType==="privy"&&p.jsx("div",{className:"flex items-center gap-1 mt-1",children:p.jsx("span",{className:"bg-primary/10 text-primary text-xs px-2 py-0.5 rounded-md font-medium",children:"Embedded"})})]})]})}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"bg-muted/50 rounded-lg p-3",children:[p.jsx("p",{className:"text-xs text-muted-foreground mb-2 font-medium",children:"Wallet Address"}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"font-mono text-sm text-foreground",children:y(_.address)}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(vn,{variant:"ghost",size:"icon",onClick:()=>g(_.address),className:"h-7 w-7 hover:bg-background",children:p.jsx(Xv,{className:"h-3 w-3"})}),l===_.address&&p.jsx("span",{className:"text-xs text-green-500 font-medium",children:"Copied!"})]})]})]}),_.walletClientType==="privy"&&p.jsxs("div",{className:"flex space-x-2",children:[p.jsxs(vn,{variant:"outline",onClick:()=>g(_.address),className:"flex-1 h-9 text-xs font-medium",children:[p.jsx(Xv,{className:"w-3 h-3 mr-2"}),"Copy Address"]}),p.jsxs(vn,{variant:"outline",onClick:()=>f(_.address),disabled:a===_.address,className:"flex-1 h-9 text-xs font-medium border-orange-200 text-orange-600 hover:bg-orange-50",children:[p.jsx(aq,{className:"w-3 h-3 mr-2"}),a===_.address?"Exporting...":"Export Key"]})]})]})]},_.address))})]}),S.length>0&&p.jsxs("div",{className:"mb-6",children:[p.jsxs("h3",{className:"text-sm font-black tracking-tighter text-foreground mb-3 flex items-center gap-2",children:[p.jsx("svg",{width:"16",height:"16",viewBox:"0 0 397.7 311.7",className:"text-purple-500",children:p.jsxs("g",{fill:"currentColor",children:[p.jsx("path",{d:"M64.6,237.9c2.4-2.4,5.7-3.8,9.2-3.8h317.4c5.8,0,8.7,7,4.6,11.1l-62.7,62.7c-2.4,2.4-5.7,3.8-9.2,3.8H6.5c-5.8,0-8.7-7-4.6-11.1L64.6,237.9z"}),p.jsx("path",{d:"M64.6,3.8C67.1,1.4,70.4,0,73.8,0h317.4c5.8,0,8.7,7,4.6,11.1L333.1,73.8c-2.4,2.4-5.7,3.8-9.2,3.8H6.5c-5.8,0-8.7-7-4.6-11.1L64.6,3.8z"}),p.jsx("path",{d:"M333.1,120.1c-2.4-2.4-5.7-3.8-9.2-3.8H6.5c-5.8,0-8.7,7-4.6,11.1l62.7,62.7c2.4,2.4,5.7,3.8,9.2,3.8h317.4c5.8,0,8.7-7,4.6-11.1L333.1,120.1z"})]})}),"Solana Wallets (",S.length,")"]}),p.jsx("div",{className:"space-y-3",children:S.map(_=>p.jsxs("div",{className:"bg-card rounded-xl p-4 border border-border/50 hover:border-border transition-colors",children:[p.jsx("div",{className:"flex items-center justify-between mb-4",children:p.jsxs("div",{className:"flex items-center space-x-3",children:[p.jsx("div",{className:"p-2 bg-purple-500/10 rounded-lg text-purple-500",children:w(_)}),p.jsxs("div",{children:[p.jsxs("span",{className:"text-foreground font-semibold text-sm",children:[x(_)," Wallet"]}),_.walletClientType==="privy"&&p.jsx("div",{className:"flex items-center gap-1 mt-1",children:p.jsx("span",{className:"bg-secondary/10 text-secondary text-xs px-2 py-0.5 rounded-md font-medium",children:"Embedded"})})]})]})}),p.jsxs("div",{className:"space-y-3",children:[p.jsxs("div",{className:"bg-muted/50 rounded-lg p-3",children:[p.jsx("p",{className:"text-xs text-muted-foreground mb-2 font-medium",children:"Wallet Address"}),p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsx("span",{className:"font-mono text-sm text-foreground",children:y(_.address)}),p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(vn,{variant:"ghost",size:"icon",onClick:()=>g(_.address),className:"h-7 w-7 hover:bg-background",children:p.jsx(Xv,{className:"h-3 w-3"})}),l===_.address&&p.jsx("span",{className:"text-xs text-green-500 font-medium",children:"Copied!"})]})]})]}),_.walletClientType==="privy"&&p.jsxs("div",{className:"flex space-x-2",children:[p.jsxs(vn,{variant:"outline",onClick:()=>g(_.address),className:"flex-1 h-9 text-xs font-medium",children:[p.jsx(Xv,{className:"w-3 h-3 mr-2"}),"Copy Address"]}),p.jsxs(vn,{variant:"outline",onClick:()=>f(_.address),disabled:a===_.address,className:"flex-1 h-9 text-xs font-medium border-orange-200 text-orange-600 hover:bg-orange-50",children:[p.jsx(aq,{className:"w-3 h-3 mr-2"}),a===_.address?"Exporting...":"Export Key"]})]})]})]},_.address))})]}),h.length===0&&p.jsxs("div",{className:"text-center py-8",children:[p.jsx(cq,{className:"w-12 h-12 mx-auto mb-4 text-muted-foreground"}),p.jsx("p",{className:"text-muted-foreground mb-4 font-bold",children:"No wallets found"}),p.jsx("p",{className:"text-sm text-muted-foreground mb-4",children:"Wallets are automatically created when you sign up with Privy"})]}),p.jsxs("div",{className:"bg-gradient-to-br from-green-500/10 to-emerald-500/10 rounded-xl p-4 border border-green-500/20",children:[p.jsx("h3",{className:"text-sm font-black tracking-tighter text-foreground mb-2 flex items-center",children:" $NoGoon Token Ready"}),p.jsx("p",{className:"text-xs text-muted-foreground mb-2",children:S.length>0?`Your ${S.length} Solana wallet${S.length>1?"s are":" is"} ready for $NoGoon token trading and rewards!`:"Create a Solana wallet to receive $NoGoon tokens and trading rewards."}),p.jsxs("div",{className:"text-xs text-muted-foreground space-y-1",children:[p.jsx("div",{children:" Extension: 100% Free Forever"}),p.jsx("div",{children:" Powered by $NoGoon trading fees"}),p.jsx("div",{children:" Early users get token airdrops"}),p.jsx("div",{children:" Multi-chain support: ETH + SOL"})]})]})]})})}const Pet=()=>{f9(aae);const t=f9(aM),e=f9(Hp),{login:r,logout:n,authenticated:i,user:s,ready:a,getAccessToken:o}=AI(),{wallets:l,ready:u}=Mu(),[h,f]=$.useState("auth"),[g,y]=$.useState(!1),[b,w]=$.useState(!0),[x,E]=$.useState(!0),[S,_]=$.useState(!0),[I,A]=$.useState(null),[O,F]=$.useState(!1),[H,L]=$.useState(null),[z,V]=$.useState(!1),[K,B]=$.useState(null),[C,k]=$.useState("dark"),[N,D]=$.useState(!1),[P,R]=$.useState(!1),[j,W]=$.useState(!1);$.useEffect(()=>{a&&!i&&(console.log("[Popup] User not authenticated, forcing auth screen"),f("auth"))},[a,i]),$.useEffect(()=>{(async()=>{const Ee=await sae();_(Ee),Ee||(console.warn("[Popup] Backend is not available - running in offline mode"),A("Backend server unavailable. Running in offline mode."))})()},[]);const M=async()=>{if(!i||!o){console.warn("[Popup] Cannot fetch stats - user not authenticated");return}V(!0),B(null);try{const ge=await o();console.log("[Popup] Fetching user statistics...");const Ee=await nae(ge);console.log("[Popup] User stats received:",Ee),L(Ee.stats)}catch(ge){console.error("[Popup] Error fetching user stats:",ge),B(ge instanceof Error?ge.message:"Failed to load statistics")}finally{V(!1)}};$.useEffect(()=>{h==="stats"&&i&&!z&&M()},[h,i]),$.useEffect(()=>{if(i&&a&&!P){const ge=setTimeout(()=>{G()},1e3);return()=>clearTimeout(ge)}},[i,a,P]),$.useEffect(()=>{if(i&&a&&P&&t.blockedSites&&t.blockedSites.length>0){const ge=setTimeout(()=>{G()},2e3);return()=>clearTimeout(ge)}},[t.blockedSites,i,a,P]);const G=async()=>{if(!i||!o||!S){console.warn("[Popup] Cannot sync block events - not authenticated or backend unavailable");return}try{const ge=await o();console.log("[Popup] Blocking state:",t),console.log("[Popup] Blocked sites:",t.blockedSites);const Ee=[];if(t.blockedSites&&t.blockedSites.length>0){for(const ye of t.blockedSites)Ee.push({domain:ye,count:1});console.log("[Popup] Syncing real blocked sites:",Ee)}else{console.log("[Popup] No blocked sites found, skipping sync");return}if(Ee.length>0){console.log("[Popup] Syncing block events to backend:",Ee);const ye=await tM(ge,Ee);console.log("[Popup] Block events synced:",ye),h==="stats"&&M()}else console.log("[Popup] No events to sync")}catch(ge){console.error("[Popup] Error syncing block events:",ge)}};$.useEffect(()=>{D(!1)},[h]);const re=ge=>{const Ee=document.documentElement;Ee.classList.remove("light","dark","pitch-black"),Ee.classList.add(ge),k(ge)},q=ge=>{re(ge),D(!1)};$.useEffect(()=>{re(C)},[]),$.useEffect(()=>{const ge=Ee=>{N&&(Ee.target.closest("[data-theme-menu]")||D(!1))};return document.addEventListener("mousedown",ge),()=>document.removeEventListener("mousedown",ge)},[N]),$.useEffect(()=>{if(a&&i&&s&&u){const ge=setTimeout(()=>{console.log("[Popup] Checking wallets after delay..."),console.log("[Popup] Wallets available from useWallets():",l),console.log("[Popup] User.wallet (may not be in useWallets):",s.wallet)},2e3);return()=>clearTimeout(ge)}},[a,i,s,u,l]),$.useEffect(()=>{a&&i&&s&&!P&&!j?(W(!0),console.log("[Popup] User authenticated, syncing to storage and backend"),(async()=>{var Ee;try{if(!u){console.log("[Popup] Waiting for wallets to be ready..."),W(!1);return}console.log("[Popup] Wallets from useWallets:",l),console.log("[Popup] User object full:",s),console.log("[Popup] User wallet property:",s.wallet);const ye=[...l];s.wallet&&!ye.find(Ae=>Ae.address===s.wallet.address)&&ye.push(s.wallet),console.log("[Popup] All combined wallets:",ye);const $e=ye.some(Ae=>Ae.type==="ethereum"||Ae.chainType==="ethereum"),we=ye.some(Ae=>Ae.type==="solana"||Ae.chainType==="solana");console.log("[Popup] Has Ethereum wallet:",$e),console.log("[Popup] Has Solana wallet:",we);const qe=((Ee=ye==null?void 0:ye[0])==null?void 0:Ee.address)||null,Ge=ye.map(Ae=>({address:Ae.address,chainType:Ae.type||Ae.chainType}));if(await Hp.login(s.id,qe,Ge),console.log("[Popup] Auth synced to local storage with",Ge.length,"wallets"),console.log("[Popup] Wallet details:",Ge),S)try{const Ae=await o();if(Ae){console.log("[Popup] Syncing auth to backend..."),console.log("[Popup] Access token length:",Ae.length),console.log("[Popup] Access token preview:",Ae.substring(0,50)+"...");const je=await rae(Ae);console.log("[Popup] Backend sync successful:",je),await Hp.set(gt=>({...gt,isPremium:je.is_premium,freeBlocksRemaining:je.free_blocks_remaining})),A(null)}else console.warn("[Popup] No access token available for backend sync"),A("No access token available. Using local state only.")}catch(Ae){console.error("[Popup] Backend sync failed:",Ae),console.error("[Popup] Error details:",{message:Ae instanceof Error?Ae.message:"Unknown error",stack:Ae instanceof Error?Ae.stack:void 0}),Ae instanceof Error&&Ae.message==="Authentication failed"&&(console.warn("[Popup] Backend Privy verification is broken - this is a known backend issue"),console.warn("[Popup] Extension will work in local mode with basic functionality"),console.warn("[Popup] Backend needs to be updated to use correct Privy JWKS endpoint")),console.warn("[Popup] Continuing with local state due to backend sync failure"),A(null)}else console.log("[Popup] Backend not available, skipping sync"),A("Backend server unavailable. Running in offline mode.");R(!0),f("home")}catch(ye){console.error("[Popup] Auth sync error:",ye),A("Authentication sync failed")}finally{W(!1)}})()):a&&!i&&e.isAuthenticated?(console.log("[Popup] User logged out, clearing storage"),Hp.logout(),R(!1),f("auth")):a&&!i&&(console.log("[Popup] Not authenticated, ensuring storage is clear"),e.isAuthenticated&&(Hp.logout(),R(!1)))},[a,i,s,u,S,P,j]);const X=async ge=>{await aM.set(Ee=>({...Ee,protectionActive:ge}))},ne=async()=>{console.log("[Popup] Logging out user"),f("auth"),await Hp.logout(),await n(),console.log("[Popup] Logout complete")},ee=()=>p.jsx(wy,{delay:.1,inView:!0,children:p.jsxs("div",{className:"relative w-full h-full overflow-hidden",children:[p.jsx(j1,{className:"absolute top-4 right-6 w-10 h-10 text-primary/25 fill-primary/15 rotate-12"}),p.jsx(Qv,{className:"absolute bottom-16 left-4 w-8 h-8 text-primary/20 fill-primary/10"}),p.jsxs("div",{className:"relative z-10 flex flex-col h-full p-4 items-center justify-center",children:[p.jsx("div",{className:"bg-gradient-to-br from-primary to-secondary rounded-full p-4 mb-4",children:p.jsx(t3,{className:"w-12 h-12 text-primary-foreground"})}),p.jsx("h2",{className:"text-2xl font-black tracking-tighter mb-2",children:"Welcome to NoGoon"}),p.jsx("p",{className:"text-sm text-muted-foreground text-center mb-6 max-w-xs font-bold tracking-tighter",children:"100% Free Forever. Powered by $NoGoon trading volume."}),p.jsxs(vn,{size:"lg",className:"w-full max-w-xs h-12 rounded-full text-sm font-black tracking-tighter shadow-lg !bg-black  !text-white border-0 flex flex-row",onClick:r,children:["Sign In with Privy",p.jsx(SJe,{className:"w-4 h-4 mr-2"})]}),p.jsx("p",{className:"text-xs text-muted-foreground mt-4 text-center max-w-xs",children:"The side panel will stay open while you check your email for the verification code"})]})]})}),ce=()=>p.jsx(wy,{delay:.1,inView:!0,children:p.jsxs("div",{className:"relative w-full h-full overflow-hidden",children:[p.jsx(Qv,{className:"absolute -top-4 -left-4 w-12 h-12 text-primary/20 fill-primary/10"}),p.jsx(j1,{className:"absolute top-6 right-4 w-6 h-6 text-primary/30 fill-primary/20 rotate-12"}),p.jsx(lq,{className:"absolute bottom-16 -left-3 w-10 h-10 text-primary/20 fill-primary/10 -rotate-12"}),p.jsx(uq,{className:"absolute bottom-6 right-6 w-8 h-8 text-primary/20 fill-primary/10 rotate-45"}),p.jsxs("div",{className:"relative z-10 flex flex-col h-full p-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx("h1",{className:"text-3xl font-black tracking-tighter",children:"$NoGoon"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsxs("div",{className:"relative","data-theme-menu":!0,children:[p.jsxs(vn,{variant:"ghost",size:"icon",className:"rounded-full w-8 h-8",title:`Switch theme (Current: ${C})`,onClick:()=>D(!N),children:[C==="light"&&p.jsx(r3,{className:"w-4 h-4"}),C==="dark"&&p.jsx(e3,{className:"w-4 h-4"}),C==="pitch-black"&&p.jsx(Jv,{className:"w-4 h-4"})]}),N&&p.jsxs("div",{className:"absolute right-0 top-10 z-50 bg-card border border-border rounded-lg shadow-lg p-2 min-w-[120px]",children:[p.jsxs("button",{className:`w-full flex items-center gap-2 px-3 py-2 rounded-md text-sm font-bold tracking-tighter transition-colors ${C==="light"?"bg-primary text-primary-foreground":"hover:bg-accent hover:text-accent-foreground"}`,onClick:()=>q("light"),children:[p.jsx(r3,{className:"w-4 h-4"}),"Light"]}),p.jsxs("button",{className:`w-full flex items-center gap-2 px-3 py-2 rounded-md text-sm font-bold tracking-tighter transition-colors ${C==="dark"?"bg-primary text-primary-foreground":"hover:bg-accent hover:text-accent-foreground"}`,onClick:()=>q("dark"),children:[p.jsx(e3,{className:"w-4 h-4"}),"Dark"]}),p.jsxs("button",{className:`w-full flex items-center gap-2 px-3 py-2 rounded-md text-sm font-bold tracking-tighter transition-colors ${C==="pitch-black"?"bg-primary text-primary-foreground":"hover:bg-accent hover:text-accent-foreground"}`,onClick:()=>q("pitch-black"),children:[p.jsx(Jv,{className:"w-4 h-4"}),"Pitch Black"]})]})]}),p.jsx(vn,{variant:"ghost",size:"icon",className:"rounded-full w-8 h-8",onClick:ne,children:p.jsx($Je,{className:"w-4 h-4"})}),p.jsx(vn,{variant:"ghost",size:"icon",className:"rounded-full w-8 h-8",onClick:()=>f("settings"),children:p.jsx(OJe,{className:"w-4 h-4"})})]})]}),p.jsx("div",{className:"bg-card rounded-2xl p-3 shadow-lg mb-3 border-2 border-border",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(t3,{className:"w-6 h-6 text-primary"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs text-muted-foreground font-bold tracking-tighter",children:"Protection"}),p.jsx("p",{className:"text-lg font-black tracking-tighter",children:t.protectionActive?"Active":"Inactive"})]})]}),p.jsx(by,{checked:t.protectionActive,onCheckedChange:X})]})}),p.jsxs("div",{className:"bg-gradient-to-br from-green-500 to-emerald-500 rounded-2xl p-4 shadow-lg mb-3 text-white",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx(jJe,{className:"w-5 h-5"}),p.jsx("p",{className:"text-sm font-black tracking-tighter",children:"Powered by $NoGoon"})]}),p.jsx("p",{className:"text-2xl font-black tracking-tighter mb-0.5",children:"100% Free Forever "}),p.jsx("p",{className:"text-xs font-bold tracking-tighter opacity-90",children:"Every trade sponsors your focus"})]}),p.jsxs("div",{className:"bg-gradient-to-br from-primary to-secondary rounded-2xl p-4 shadow-lg mb-3 text-primary-foreground",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[p.jsx(pJe,{className:"w-5 h-5"}),p.jsx("p",{className:"text-sm font-black tracking-tighter",children:"Today's Blocks"})]}),p.jsx("p",{className:"text-4xl font-black tracking-tighter mb-0.5",children:t.todayBlockedCount}),p.jsx("p",{className:"text-xs font-bold tracking-tighter opacity-90",children:t.todayBlockedCount===0?"No blocks yet today":t.todayBlockedCount<10?"You're doing great!":t.todayBlockedCount<50?"Excellent protection!":"Outstanding work!"})]}),p.jsxs("div",{className:"space-y-2 mt-auto",children:[p.jsx(vn,{variant:"default",size:"lg",className:"w-full h-10 rounded-full text-sm font-black tracking-tighter shadow-lg bg-primary text-primary-foreground hover:bg-primary/90",onClick:()=>f("stats"),children:"View Statistics"}),p.jsx(vn,{size:"lg",variant:"outline",className:"w-full h-10 rounded-full text-sm font-black tracking-tighter border-2 bg-transparent",onClick:()=>f("settings"),children:"Manage Blocklist"})]}),p.jsx("p",{className:"text-center text-xs text-muted-foreground mt-3 font-bold tracking-tighter",children:"Powered by $NoGoon trading volume."})]})]})}),be=()=>p.jsx(wy,{delay:.1,inView:!0,children:p.jsxs("div",{className:"relative w-full h-full overflow-hidden",children:[p.jsx(j1,{className:"absolute top-4 -right-2 w-8 h-8 text-primary/25 fill-primary/15 -rotate-12"}),p.jsx(Qv,{className:"absolute top-16 left-2 w-6 h-6 text-primary/20 fill-primary/10"}),p.jsx(lq,{className:"absolute bottom-6 right-4 w-10 h-10 text-primary/20 fill-primary/10 rotate-45"}),p.jsxs("div",{className:"relative z-10 flex flex-col h-full p-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx(vn,{variant:"ghost",size:"icon",className:"rounded-full w-8 h-8",onClick:()=>f("home"),children:p.jsx(rq,{className:"w-4 h-4"})}),p.jsx("h2",{className:"text-2xl font-black tracking-tighter",children:"Stats"}),p.jsxs("div",{className:"flex gap-2",children:[p.jsx(vn,{variant:"ghost",size:"icon",className:"rounded-full w-8 h-8",onClick:()=>{L(null),M()},disabled:z,children:p.jsx(ok,{className:`w-4 h-4 ${z?"animate-spin":""}`})}),p.jsxs("div",{className:"relative","data-theme-menu":!0,children:[p.jsxs(vn,{variant:"ghost",size:"icon",className:"rounded-full w-8 h-8",title:`Switch theme (Current: ${C})`,onClick:()=>D(!N),children:[C==="light"&&p.jsx(r3,{className:"w-4 h-4"}),C==="dark"&&p.jsx(e3,{className:"w-4 h-4"}),C==="pitch-black"&&p.jsx(Jv,{className:"w-4 h-4"})]}),N&&p.jsxs("div",{className:"absolute right-0 top-10 z-50 bg-card border border-border rounded-lg shadow-lg p-2 min-w-[120px]",children:[p.jsxs("button",{className:`w-full flex items-center gap-2 px-3 py-2 rounded-md text-sm font-bold tracking-tighter transition-colors ${C==="light"?"bg-primary text-primary-foreground":"hover:bg-accent hover:text-accent-foreground"}`,onClick:()=>q("light"),children:[p.jsx(r3,{className:"w-4 h-4"}),"Light"]}),p.jsxs("button",{className:`w-full flex items-center gap-2 px-3 py-2 rounded-md text-sm font-bold tracking-tighter transition-colors ${C==="dark"?"bg-primary text-primary-foreground":"hover:bg-accent hover:text-accent-foreground"}`,onClick:()=>q("dark"),children:[p.jsx(e3,{className:"w-4 h-4"}),"Dark"]}),p.jsxs("button",{className:`w-full flex items-center gap-2 px-3 py-2 rounded-md text-sm font-bold tracking-tighter transition-colors ${C==="pitch-black"?"bg-primary text-primary-foreground":"hover:bg-accent hover:text-accent-foreground"}`,onClick:()=>q("pitch-black"),children:[p.jsx(Jv,{className:"w-4 h-4"}),"Pitch Black"]})]})]})]})]}),z&&p.jsx("div",{className:"flex items-center justify-center py-8",children:p.jsxs("div",{className:"text-center",children:[p.jsx(ok,{className:"w-8 h-8 animate-spin text-primary mx-auto mb-2"}),p.jsx("p",{className:"text-sm font-bold tracking-tighter text-muted-foreground",children:"Loading statistics..."})]})}),K&&p.jsxs("div",{className:"bg-destructive/10 border border-destructive/20 rounded-xl p-4 mb-3",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(nq,{className:"w-5 h-5 text-destructive"}),p.jsx("p",{className:"text-sm font-bold tracking-tighter text-destructive",children:"Error Loading Stats"})]}),p.jsx("p",{className:"text-xs text-destructive/80",children:K}),p.jsx(vn,{size:"sm",variant:"outline",className:"mt-2 text-xs",onClick:M,children:"Retry"})]}),!z&&!K&&H&&p.jsxs(p.Fragment,{children:[p.jsxs("div",{className:"bg-gradient-to-br from-secondary to-primary rounded-2xl p-4 shadow-lg mb-3 text-primary-foreground",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(W_,{className:"w-5 h-5"}),p.jsx("p",{className:"text-sm font-black tracking-tighter",children:"Total Blocks"})]}),p.jsx("p",{className:"text-4xl font-black tracking-tighter mb-0.5",children:H.total_blocks_used}),p.jsx("p",{className:"text-xs font-bold tracking-tighter opacity-90",children:"All-time protection"})]}),p.jsxs("div",{className:"space-y-2 mb-3",children:[p.jsx("div",{className:"bg-card rounded-xl p-3 border-2 border-border",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(sq,{className:"w-5 h-5 text-primary"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs font-bold tracking-tighter text-muted-foreground",children:"Today"}),p.jsx("p",{className:"text-xl font-black tracking-tighter",children:H.blocks_used_today})]})]}),p.jsx(iq,{className:"w-6 h-6 text-primary"})]})}),p.jsx("div",{className:"bg-card rounded-xl p-3 border-2 border-border",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(hJe,{className:"w-5 h-5 text-secondary"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs font-bold tracking-tighter text-muted-foreground",children:"This Week"}),p.jsx("p",{className:"text-xl font-black tracking-tighter",children:H.blocks_used_this_week})]})]}),p.jsx(W_,{className:"w-6 h-6 text-secondary"})]})}),p.jsx("div",{className:"bg-card rounded-xl p-3 border-2 border-border",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(t3,{className:"w-5 h-5 text-primary"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs font-bold tracking-tighter text-muted-foreground",children:"This Month"}),p.jsx("p",{className:"text-xl font-black tracking-tighter",children:H.blocks_used_this_month})]})]}),p.jsx(j1,{className:"w-6 h-6 text-primary fill-primary"})]})})]}),H.most_blocked_domains&&H.most_blocked_domains.length>0&&p.jsxs("div",{className:"bg-card rounded-xl p-3 border-2 border-border mb-3",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(oq,{className:"w-5 h-5 text-primary"}),p.jsx("p",{className:"text-sm font-bold tracking-tighter",children:"Top Blocked Sites"})]}),p.jsx("div",{className:"space-y-1",children:H.most_blocked_domains.slice(0,3).map((ge,Ee)=>p.jsxs("div",{className:"flex items-center justify-between text-xs",children:[p.jsxs("span",{className:"font-bold tracking-tighter text-muted-foreground truncate",children:[Ee+1,". ",ge.domain]}),p.jsx("span",{className:"font-black tracking-tighter text-primary",children:ge.blocks})]},ge.domain))})]})]}),z&&p.jsxs("div",{className:"flex flex-col items-center justify-center py-8",children:[p.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary mb-4"}),p.jsx("p",{className:"text-sm font-bold tracking-tighter text-muted-foreground",children:"Loading your statistics..."})]}),!z&&!K&&!H&&p.jsxs("div",{className:"text-center py-8",children:[p.jsxs("div",{className:"bg-gradient-to-br from-secondary to-primary rounded-2xl p-4 shadow-lg mb-3 text-primary-foreground",children:[p.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[p.jsx(W_,{className:"w-5 h-5"}),p.jsx("p",{className:"text-sm font-black tracking-tighter",children:"Local Blocks"})]}),p.jsx("p",{className:"text-4xl font-black tracking-tighter mb-0.5",children:t.blockedCount}),p.jsx("p",{className:"text-xs font-bold tracking-tighter opacity-90",children:"Local tracking only"})]}),p.jsx("div",{className:"bg-card rounded-xl p-3 border-2 border-border mb-3",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(sq,{className:"w-5 h-5 text-primary"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-xs font-bold tracking-tighter text-muted-foreground",children:"Today (Local)"}),p.jsx("p",{className:"text-xl font-black tracking-tighter",children:t.todayBlockedCount})]})]}),p.jsx(iq,{className:"w-6 h-6 text-primary"})]})}),p.jsx("p",{className:"text-xs text-muted-foreground mb-4",children:"Sync your data to see full analytics"})]}),p.jsx("div",{className:"mt-auto space-y-2",children:p.jsx(vn,{size:"lg",className:"w-full h-10 rounded-full text-sm font-black tracking-tighter shadow-lg",onClick:async()=>{try{if(i&&o&&S){const ge=await o();if(t.blockedSites&&t.blockedSites.length>0){const Ee=t.blockedSites.map($e=>({domain:$e,count:1}));console.log("[Popup] Syncing real blocked sites:",Ee);const ye=await tM(ge,Ee);console.log("[Popup] Real events synced:",ye),L(null),await M(),alert(`Synced ${Ee.length} real blocked sites! Your analytics have been updated.`)}else alert("No blocked sites found to sync. Try visiting some websites while the extension is active to generate real data.")}else alert("Please authenticate first to sync data.")}catch(ge){console.error("[Popup] Error syncing data:",ge),alert("Error syncing data. Please try again.")}},children:t.blockedSites&&t.blockedSites.length>0?`Sync ${t.blockedSites.length} Sites & Refresh`:"Sync Real Data & Refresh"})}),p.jsx("p",{className:"text-center text-xs text-muted-foreground mt-3 font-bold tracking-tighter",children:"Degens fund your focus. Thank the traders."})]})]})}),ve=()=>p.jsx(wy,{delay:.1,inView:!0,children:p.jsxs("div",{className:"relative w-full h-full overflow-hidden",children:[p.jsx(uq,{className:"absolute -top-3 right-6 w-10 h-10 text-primary/20 fill-primary/10 rotate-12"}),p.jsx(Qv,{className:"absolute top-20 -right-3 w-8 h-8 text-primary/25 fill-primary/15"}),p.jsx(j1,{className:"absolute bottom-16 left-3 w-7 h-7 text-primary/25 fill-primary/15 -rotate-45"}),p.jsxs("div",{className:"relative z-10 flex flex-col h-full p-4",children:[p.jsxs("div",{className:"flex items-center justify-between mb-4",children:[p.jsx(vn,{variant:"ghost",size:"icon",className:"rounded-full w-8 h-8",onClick:()=>f("home"),children:p.jsx(rq,{className:"w-4 h-4"})}),p.jsx("h2",{className:"text-2xl font-black tracking-tighter",children:"Settings"}),p.jsx("div",{className:"w-8"})]}),p.jsxs("div",{className:"space-y-2 mb-3",children:[p.jsx("div",{className:"bg-card rounded-xl p-3 border-2 border-border",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(oq,{className:"w-5 h-5 text-primary"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-black tracking-tighter",children:"Block All Sites"}),p.jsx("p",{className:"text-xs font-bold tracking-tighter text-muted-foreground",children:"Maximum protection"})]})]}),p.jsx(by,{checked:g,onCheckedChange:y,className:"scale-90"})]})}),p.jsx("div",{className:"bg-card rounded-xl p-3 border-2 border-border",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(nq,{className:"w-5 h-5 text-secondary"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-black tracking-tighter",children:"Show Warnings"}),p.jsx("p",{className:"text-xs font-bold tracking-tighter text-muted-foreground",children:"Alert before blocking"})]})]}),p.jsx(by,{checked:b,onCheckedChange:w,className:"scale-90"})]})}),p.jsx("div",{className:"bg-card rounded-xl p-3 border-2 border-border",children:p.jsxs("div",{className:"flex items-center justify-between",children:[p.jsxs("div",{className:"flex items-center gap-2",children:[p.jsx(CJe,{className:"w-5 h-5 text-accent"}),p.jsxs("div",{children:[p.jsx("p",{className:"text-sm font-black tracking-tighter",children:"Safe Search"}),p.jsx("p",{className:"text-xs font-bold tracking-tighter text-muted-foreground",children:"Filter search results"})]})]}),p.jsx(by,{checked:x,onCheckedChange:E,className:"scale-90"})]})})]}),p.jsxs("div",{className:"space-y-2 mt-auto",children:[p.jsx(vn,{size:"lg",onClick:()=>alert(`Custom Blocklist feature coming soon! 

This will allow you to:
 Add custom domains to block
 Whitelist trusted sites
 Import/export blocklists

Powered by $NoGoon trading fees.`),className:"w-full h-10 rounded-full text-sm font-black tracking-tighter shadow-lg bg-gradient-to-r from-primary to-secondary",children:"Custom Blocklist"}),p.jsx(vn,{size:"lg",onClick:()=>F(!0),className:"w-full h-10 rounded-full text-sm font-black tracking-tighter shadow-lg bg-gradient-to-r from-purple-600 to-blue-600",children:" Wallet Manager"}),p.jsx(vn,{size:"lg",variant:"outline",onClick:()=>{confirm(`Reset all settings to default?

This will:
 Reset protection settings
 Clear custom blocklists
 Reset UI preferences`)&&alert(`Settings reset! 

All settings restored to defaults.`)},className:"w-full h-9 rounded-full text-xs font-black tracking-tighter border-2 bg-transparent",children:"Reset to Default"})]}),p.jsx("p",{className:"text-center text-xs text-muted-foreground mt-2 font-bold tracking-tighter",children:"100% Free. Powered by $NoGoon."})]})]})});return console.log("[Popup Render] ready:",a,"authenticated:",i,"currentScreen:",h),a?i?(console.log("[Popup Render] Authenticated, showing screen:",h),p.jsxs("div",{className:"w-full h-full flex flex-col bg-background",children:[h==="home"&&ce(),h==="stats"&&be(),h==="settings"&&ve(),h==="auth"&&ee(),O&&p.jsx(Net,{onClose:()=>F(!1)})]})):(console.log("[Popup Render] Not authenticated, forcing auth screen"),p.jsx("div",{className:"w-full h-full flex flex-col bg-background",children:ee()})):(console.log("[Popup Render] Privy not ready, showing loading screen"),p.jsx("div",{className:"w-full h-full flex flex-col bg-background items-center justify-center",children:p.jsxs("div",{className:"text-center",children:[p.jsx(t3,{className:"w-12 h-12 mx-auto mb-3 text-primary animate-pulse"}),p.jsx("p",{className:"text-sm font-bold tracking-tighter text-muted-foreground",children:"Initializing..."})]})}))},Oet=eae(Xse(Pet,p.jsx("div",{children:" Loading ... "})),p.jsx("div",{children:" Error Occur "})),G_={};function Met(){const t=document.querySelector("#app-container");if(!t)throw new Error("Can not find #app-container");Zse.createRoot(t).render(p.jsx(aJe,{appId:(G_==null?void 0:G_.VITE_PRIVY_APP_ID)||"cmg74h4sm0035le0c1k99b1gz",config:{appearance:{theme:"dark",accentColor:"#676FFF"},embeddedWallets:{ethereum:{createOnLogin:"users-without-wallets"},solana:{createOnLogin:"users-without-wallets"},requireUserPasswordOnCreate:!1,noPromptOnSignature:!1},loginMethods:["email","sms"],_render:{inParentWindow:!0}},children:p.jsx(Oet,{})}))}Met();export{Eu as $,Zoe as A,tle as B,jC as C,hl as D,ih as E,$q as F,ze as G,ob as H,Kd as I,Js as J,Ole as K,i6 as L,aue as M,yC as N,LH as O,Oa as P,Kf as Q,Kn as R,ia as S,Ige as T,Vet as U,fG as V,Bg as W,Ik as X,vu as Y,xue as Z,mi as _,Qq as a,Yl as a$,Lg as a0,eG as a1,_u as a2,Cu as a3,ds as a4,gH as a5,pH as a6,Xet as a7,Qet as a8,ZH as a9,yTe as aA,q_e as aB,UA as aC,Tb as aD,Ba as aE,k4 as aF,IMe as aG,Ns as aH,UOe as aI,fMe as aJ,la as aK,ec as aL,np as aM,Db as aN,No as aO,wRe as aP,IT as aQ,T4 as aR,K2 as aS,iT as aT,RB as aU,tX as aV,v$e as aW,$u as aX,jf as aY,zd as aZ,$4 as a_,ug as aa,qn as ab,Wge as ac,ff as ad,fu as ae,eH as af,Mn as ag,ooe as ah,jg as ai,itt as aj,ol as ak,ab as al,bk as am,Ys as an,Jde as ao,gG as ap,e2 as aq,H0 as ar,I0 as as,fC as at,rp as au,ic as av,jB as aw,SCe as ax,it as ay,ku as az,Mq as b,co as b0,Kl as b1,xl as b2,Ek as b3,m6 as b4,gue as b5,g6 as b6,vy as b7,C_e as b8,ra as b9,Rg as c,dle as d,Zet as e,Wf as f,_V as g,ll as h,ta as i,Noe as j,Coe as k,zet as l,Yd as m,It as n,Ooe as o,Og as p,Hy as q,Aoe as r,og as s,Moe as t,uV as u,Wy as v,bo as w,Pue as x,Hi as y,Ot as z};
